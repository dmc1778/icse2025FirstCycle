F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""14056"" PostTypeId=""1"" CreationDate=""2019-08-19T20:57:58.363"" Score=""2"" ViewCount=""376"" Body=""&lt;p&gt;How do I create a chatbot using TensorFlow or PyTorch using like the one defined in DialogFlow? What are the best datasets that I can use so to create my own personal assistant like google assistant?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want to create a chatbot (an open-source project) as an assistant for custom tasks (like google assistant).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have tried many neural network models like seq2seq but I couldn't get satisfiable results maybe because of the small dataset (I took from Simpsons movie script) or model (seq2seq). I am curious what model they use at google and what type of dataset they pick to give such good results or any normal person can create fully functional chatbots without relying on paid services ( like google's DialogFlow, api.ai, etc.) with good results.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I recently heard of OpenAi's implementation of a specific model named as gpt-2 which as they concluded in the paper showed remarkable performance but they didn't provide the dataset because of some reasons.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What I want to say there are a lot of resources and codes on the internet to make a working chatbot (or maybe that what they show) but when I try to replicate them I always fail to get even remotely close good results.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I need proper guidance on how to make and train such chatbots with my own laptop (with 16GB RAM, 2GB GPU . I can even get better configuration) and no other money spent on google services or any such paid API's.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please suggest something if someone got good results.&lt;/p&gt;&#xA;"" OwnerUserId=""28071"" LastEditorUserId=""16565"" LastEditDate=""2019-08-21T07:15:52.867"" LastActivityDate=""2019-08-21T07:15:52.867"" Title=""How do I create a chatbot using tensorflow or pytorch using like the one defined in dialogflow?"" Tags=""&lt;neural-networks&gt;&lt;tensorflow&gt;&lt;chat-bots&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""15645"" PostTypeId=""1"" AcceptedAnswerId=""15655"" CreationDate=""2019-09-26T23:49:34.430"" Score=""3"" ViewCount=""2650"" Body=""&lt;p&gt;I am trying to train a CNN-LSTM model. The size of my images is 640x640. I have a GTX 1080 ti 11GB. I am using Keras with the TensorFlow backend.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the model.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;img_input_1 = Input(shape=(1, n_width, n_height, n_channels))&#xA;conv_1 = TimeDistributed(Conv2D(96, (11,11), activation='relu', padding='same'))(img_input_1)&#xA;pool_1 = TimeDistributed(MaxPooling2D((3,3)))(conv_1)&#xA;conv_2 = TimeDistributed(Conv2D(128, (11,11), activation='relu', padding='same'))(pool_1)&#xA;flat_1 = TimeDistributed(Flatten())(conv_2)&#xA;dense_1 = TimeDistributed(Dense(4096, activation='relu'))(flat_1)&#xA;drop_1 = TimeDistributed(Dropout(0.5))(dense_1)&#xA;lstm_1 = LSTM(17, activation='linear')(drop_1)&#xA;dense_2 = Dense(4096, activation='relu')(lstm_1)&#xA;dense_output_2 = Dense(1, activation='sigmoid')(dense_2)&#xA;model = Model(inputs=img_input_1, outputs=dense_output_2)&#xA;&#xA;op = optimizers.Adam(lr=0.00001, beta_1=0.9, beta_2=0.999, epsilon=1e-08, decay=0.001)&#xA;&#xA;model.compile(loss='mean_absolute_error', optimizer=op, metrics=['accuracy'])&#xA;&#xA;model.fit(X, Y, epochs=3, batch_size=1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Right now, using this model, I can only use the training data when the images are resized to 60x60, any larger and I run out of GPU memory.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want to use the largest possible size as I want to retain as much discriminatory information as possible. (The labels will be mouse screen coordinates between 0 - 640).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Among many others, I found this question: &lt;a href=&quot;https://ai.stackexchange.com/q/3938/2444&quot;&gt;How to handle images of large sizes in CNN?&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Though I am not sure how I can &quot;restrict your CNN&quot; or &quot;stream your data in each epoch&quot; or if these would help.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can I reduce the amount of memory used so I can increase the image sizes?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is it possible to sacrifice training time/computation speed in favor of higher resolution data whilst retaining model effectiveness?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Note: the above model is not final, just a basic outlay.&lt;/p&gt;&#xA;"" OwnerUserId=""30005"" LastEditorUserId=""2444"" LastEditDate=""2020-05-22T23:49:41.177"" LastActivityDate=""2020-05-23T05:39:07.453"" Title=""How can I reduce the GPU memory usage with large images?"" Tags=""&lt;convolutional-neural-networks&gt;&lt;tensorflow&gt;&lt;training&gt;&lt;keras&gt;&lt;gpu&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""20605"" PostTypeId=""1"" CreationDate=""2020-04-24T23:09:42.197"" Score=""0"" ViewCount=""298"" Body=""&lt;p&gt;I have a fully connected neural network with the following number of neurons in each layer &lt;code&gt;[4, 20, 20, 20, ..., 1]&lt;/code&gt;. I am using TensorFlow and the 4 real-valued inputs correspond to a particular point in space and time, i.e. (x, y, z, t), and the 1 real-valued output corresponds to the temperature at that point. The loss function is just the mean square error between my predicted temperature and the actual temperature at that point in (x, y, z, t). I have a set of training data points with the following structure for their inputs:&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;h2&gt;(x,y,z,t):&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;(0.11,0.12,1.00,0.41)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0.34,0.43,1.00,0.92)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0.01,0.25,1.00,0.65)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0.71,0.32,1.00,0.49)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0.31,0.22,1.00,0.01)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0.21,0.13,1.00,0.71)&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;Namely, what you will notice is that the training data all have the same redundant value in &lt;code&gt;z&lt;/code&gt;, but &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and &lt;code&gt;t&lt;/code&gt; are generally not redundant. Yet what I find is my neural network cannot train on this data due to the redundancy. In particular, every time I start training the neural network, it appears to fail and the loss function becomes &lt;code&gt;nan&lt;/code&gt;. But, if I change the structure of the neural network such that the number of neurons in each layer is &lt;code&gt;[3, 20, 20, 20, ..., 1]&lt;/code&gt;, i.e. now data points only correspond to an input of (x, y, t), everything works perfectly and training is all right. But is there any way to overcome this problem? (Note: it occurs whether any of the variables are identical, e.g. either &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, or &lt;code&gt;t&lt;/code&gt; could be redundant and cause this error.) &lt;/p&gt;&#xA;&#xA;&lt;p&gt;My question: is there any way to still train the neural network while keeping the redundant &lt;code&gt;z&lt;/code&gt; as an input? It just so happens the particular training data set I am considering at the moment has all &lt;code&gt;z&lt;/code&gt; redundant, but in general, I will have data coming from different &lt;code&gt;z&lt;/code&gt; in the future. Therefore, a way to ensure the neural network can robustly handle inputs at the present moment is sought. &lt;/p&gt;&#xA;"" OwnerUserId=""21895"" LastActivityDate=""2020-04-25T01:58:31.940"" Title=""Can neural networks handle redundant inputs?"" Tags=""&lt;neural-networks&gt;&lt;tensorflow&gt;&lt;training&gt;&lt;objective-functions&gt;&lt;optimization&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""23335"" PostTypeId=""1"" CreationDate=""2020-08-29T23:09:31.493"" Score=""3"" ViewCount=""7602"" Body=""&lt;p&gt;In general, how do I calculate the GPU memory need to run a deep learning network?&lt;/p&gt;&#xA;&lt;p&gt;I'm asking this question because my training for some network configuration is getting out of memory.&lt;/p&gt;&#xA;&lt;p&gt;If the TensorFlow only store the memory necessary to the tunable parameters, and if I have around 8 million, I supposed the RAM required will be:&lt;/p&gt;&#xA;&lt;p&gt;RAM = 8.000.000 * (8 (float64)) / 1.000.000 (scaling to MB)&lt;/p&gt;&#xA;&lt;p&gt;RAM = 64 MB, right?&lt;/p&gt;&#xA;&lt;p&gt;The TensorFlow requires more memory to store the image at each layer?&lt;/p&gt;&#xA;&lt;p&gt;By the way, these are my GPU Specifications:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Nvidia GeForce 1050 4GB&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Networking topology&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Unet&lt;/li&gt;&#xA;&lt;li&gt;Input Shape (256,256,4)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre&gt;&lt;code&gt;Model: &amp;quot;functional_1&amp;quot;&#xA;__________________________________________________________________________________________________&#xA;Layer (type)                    Output Shape         Param #     Connected to                     &#xA;==================================================================================================&#xA;input_1 (InputLayer)            [(None, 256, 256, 4) 0                                            &#xA;__________________________________________________________________________________________________&#xA;conv2d (Conv2D)                 (None, 256, 256, 64) 2368        input_1[0][0]                    &#xA;__________________________________________________________________________________________________&#xA;dropout (Dropout)               (None, 256, 256, 64) 0           conv2d[0][0]                     &#xA;__________________________________________________________________________________________________&#xA;conv2d_1 (Conv2D)               (None, 256, 256, 64) 36928       dropout[0][0]                    &#xA;__________________________________________________________________________________________________&#xA;max_pooling2d (MaxPooling2D)    (None, 128, 128, 64) 0           conv2d_1[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_2 (Conv2D)               (None, 128, 128, 128 73856       max_pooling2d[0][0]              &#xA;__________________________________________________________________________________________________&#xA;dropout_1 (Dropout)             (None, 128, 128, 128 0           conv2d_2[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_3 (Conv2D)               (None, 128, 128, 128 147584      dropout_1[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;max_pooling2d_1 (MaxPooling2D)  (None, 64, 64, 128)  0           conv2d_3[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_4 (Conv2D)               (None, 64, 64, 256)  295168      max_pooling2d_1[0][0]            &#xA;__________________________________________________________________________________________________&#xA;dropout_2 (Dropout)             (None, 64, 64, 256)  0           conv2d_4[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_5 (Conv2D)               (None, 64, 64, 256)  590080      dropout_2[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;max_pooling2d_2 (MaxPooling2D)  (None, 32, 32, 256)  0           conv2d_5[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_6 (Conv2D)               (None, 32, 32, 512)  1180160     max_pooling2d_2[0][0]            &#xA;__________________________________________________________________________________________________&#xA;dropout_3 (Dropout)             (None, 32, 32, 512)  0           conv2d_6[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_7 (Conv2D)               (None, 32, 32, 512)  2359808     dropout_3[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_transpose (Conv2DTranspo (None, 64, 64, 256)  524544      conv2d_7[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;concatenate (Concatenate)       (None, 64, 64, 512)  0           conv2d_transpose[0][0]           &#xA;                                                                 conv2d_5[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_8 (Conv2D)               (None, 64, 64, 256)  1179904     concatenate[0][0]                &#xA;__________________________________________________________________________________________________&#xA;dropout_4 (Dropout)             (None, 64, 64, 256)  0           conv2d_8[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_9 (Conv2D)               (None, 64, 64, 256)  590080      dropout_4[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_transpose_1 (Conv2DTrans (None, 128, 128, 128 131200      conv2d_9[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;concatenate_1 (Concatenate)     (None, 128, 128, 256 0           conv2d_transpose_1[0][0]         &#xA;                                                                 conv2d_3[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_10 (Conv2D)              (None, 128, 128, 128 295040      concatenate_1[0][0]              &#xA;__________________________________________________________________________________________________&#xA;dropout_5 (Dropout)             (None, 128, 128, 128 0           conv2d_10[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_11 (Conv2D)              (None, 128, 128, 128 147584      dropout_5[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_transpose_2 (Conv2DTrans (None, 256, 256, 64) 32832       conv2d_11[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;concatenate_2 (Concatenate)     (None, 256, 256, 128 0           conv2d_transpose_2[0][0]         &#xA;                                                                 conv2d_1[0][0]                   &#xA;__________________________________________________________________________________________________&#xA;conv2d_12 (Conv2D)              (None, 256, 256, 64) 73792       concatenate_2[0][0]              &#xA;__________________________________________________________________________________________________&#xA;dropout_6 (Dropout)             (None, 256, 256, 64) 0           conv2d_12[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_13 (Conv2D)              (None, 256, 256, 64) 36928       dropout_6[0][0]                  &#xA;__________________________________________________________________________________________________&#xA;conv2d_14 (Conv2D)              (None, 256, 256, 1)  65          conv2d_13[0][0]                  &#xA;==================================================================================================&#xA;Total params: 7,697,921&#xA;Trainable params: 7,697,921&#xA;Non-trainable params: 0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;This is the error given.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;---------------------------------------------------------------------------&#xA;ResourceExhaustedError                    Traceback (most recent call last)&#xA;&amp;lt;ipython-input-17-d4852b86b8c1&amp;gt; in &amp;lt;module&amp;gt;&#xA;     23 # Train the model, doing validation at the end of each epoch.&#xA;     24 epochs = 30&#xA;---&amp;gt; 25 result_model = model.fit(train_gen, epochs=epochs, validation_data=val_gen, callbacks=callbacks)&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\keras\engine\training.py in _method_wrapper(self, *args, **kwargs)&#xA;    106   def _method_wrapper(self, *args, **kwargs):&#xA;    107     if not self._in_multi_worker_mode():  # pylint: disable=protected-access&#xA;--&amp;gt; 108       return method(self, *args, **kwargs)&#xA;    109 &#xA;    110     # Running inside `run_distribute_coordinator` already.&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\keras\engine\training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_batch_size, validation_freq, max_queue_size, workers, use_multiprocessing)&#xA;   1096                 batch_size=batch_size):&#xA;   1097               callbacks.on_train_batch_begin(step)&#xA;-&amp;gt; 1098               tmp_logs = train_function(iterator)&#xA;   1099               if data_handler.should_sync:&#xA;   1100                 context.async_wait()&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\def_function.py in __call__(self, *args, **kwds)&#xA;    778       else:&#xA;    779         compiler = &amp;quot;nonXla&amp;quot;&#xA;--&amp;gt; 780         result = self._call(*args, **kwds)&#xA;    781 &#xA;    782       new_tracing_count = self._get_tracing_count()&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\def_function.py in _call(self, *args, **kwds)&#xA;    838         # Lifting succeeded, so variables are initialized and we can run the&#xA;    839         # stateless function.&#xA;--&amp;gt; 840         return self._stateless_fn(*args, **kwds)&#xA;    841     else:&#xA;    842       canon_args, canon_kwds = \&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\function.py in __call__(self, *args, **kwargs)&#xA;   2827     with self._lock:&#xA;   2828       graph_function, args, kwargs = self._maybe_define_function(args, kwargs)&#xA;-&amp;gt; 2829     return graph_function._filtered_call(args, kwargs)  # pylint: disable=protected-access&#xA;   2830 &#xA;   2831   @property&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\function.py in _filtered_call(self, args, kwargs, cancellation_manager)&#xA;   1846                            resource_variable_ops.BaseResourceVariable))],&#xA;   1847         captured_inputs=self.captured_inputs,&#xA;-&amp;gt; 1848         cancellation_manager=cancellation_manager)&#xA;   1849 &#xA;   1850   def _call_flat(self, args, captured_inputs, cancellation_manager=None):&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\function.py in _call_flat(self, args, captured_inputs, cancellation_manager)&#xA;   1922       # No tape is watching; skip to running the function.&#xA;   1923       return self._build_call_outputs(self._inference_function.call(&#xA;-&amp;gt; 1924           ctx, args, cancellation_manager=cancellation_manager))&#xA;   1925     forward_backward = self._select_forward_and_backward_functions(&#xA;   1926         args,&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\function.py in call(self, ctx, args, cancellation_manager)&#xA;    548               inputs=args,&#xA;    549               attrs=attrs,&#xA;--&amp;gt; 550               ctx=ctx)&#xA;    551         else:&#xA;    552           outputs = execute.execute_with_cancellation(&#xA;&#xA;~\Anaconda3\envs\tf23\lib\site-packages\tensorflow\python\eager\execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)&#xA;     58     ctx.ensure_initialized()&#xA;     59     tensors = pywrap_tfe.TFE_Py_Execute(ctx._handle, device_name, op_name,&#xA;---&amp;gt; 60                                         inputs, attrs, num_outputs)&#xA;     61   except core._NotOkStatusException as e:&#xA;     62     if name is not None:&#xA;&#xA;ResourceExhaustedError:  OOM when allocating tensor with shape[8,64,256,256] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc&#xA;     [[node gradient_tape/functional_1/conv2d_14/Conv2D/Conv2DBackpropInput (defined at &amp;lt;ipython-input-17-d4852b86b8c1&amp;gt;:25) ]]&#xA;Hint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.&#xA; [Op:__inference_train_function_17207]&#xA;&#xA;Function call stack:&#xA;train_function&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Is there any type of mistake in the network definition? How could I improve the network to solve this problem?&lt;/p&gt;&#xA;"" OwnerUserId=""40662"" LastEditorUserId=""2444"" LastEditDate=""2020-09-07T12:37:00.783"" LastActivityDate=""2021-03-11T06:02:46.980"" Title=""How to calculate the GPU memory need to run a deep learning network?"" Tags=""&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;training&gt;&lt;memory&gt;"" AnswerCount=""3"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""25849"" PostTypeId=""1"" AcceptedAnswerId=""25885"" CreationDate=""2021-01-19T16:16:06.553"" Score=""0"" ViewCount=""262"" Body=""&lt;p&gt;I've solved many problems with neural networks, but rarely work with images.  I have about 18 hours into creating a bounding box regression network and it continues to utterly fail.  With some loss functions it will claim 80% accuracy during training and validation (with a truly massive loss on both) but testing the predictions reveals a bounding box that only moves one or two pixels in any given direction and seems to totally ignore the data.  I've now implemented a form of IoU loss, but find that IoU is pinned at zero... which is obviously true based on the outputs after training. :). I'd like someone to look this over and give me some advice on how to proceed next.&lt;/p&gt;&#xA;&lt;h2&gt;What I Have&lt;/h2&gt;&#xA;&lt;p&gt;I am generating 40000 examples of 200x100x3 images with a single letter randomly placed in each.  Simultaneously I am generating the ground truth bounding boxes for each training sample.  I have thoroughly validated that this all works and the data is correct.&lt;/p&gt;&#xA;&lt;h2&gt;What I Do To It&lt;/h2&gt;&#xA;&lt;p&gt;I am then transforming the 200x100x3 images down to greyscale to produce a 200x100x1 image.  The images are then normalized and the bounding boxes are scaled to fall between 0 and 1.  In simplified form, this happens:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;x_train_normalized = (x_data - 127.5) / 127.5&#xA;y_train_scaled = boxes[:TRAIN]/[WIDTH,HEIGHT,WIDTH,HEIGHT]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I've been through this data carefully, even reconstituting images and bounding boxes from it.  This is definitely working.&lt;/p&gt;&#xA;&lt;h2&gt;Training&lt;/h2&gt;&#xA;&lt;p&gt;To train, after trying &lt;code&gt;mse&lt;/code&gt; and many others, all of which fail equally badly, I have implemented a simple custom IOU loss function.  It actually returns &lt;code&gt;-ln(IoU)&lt;/code&gt;.  I made this change based on a paper since the loss was (oddly?) pinned at zero over multiple epochs.&lt;/p&gt;&#xA;&lt;p&gt;(Loss function:)&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow.keras.backend as kb&#xA;def iou_loss(y_actual,y_pred):&#xA;    b1 = y_actual&#xA;    b2 = y_pred&#xA;#    tf.print(b1)&#xA;#    tf.print(b2)&#xA;    zero = tf.convert_to_tensor(0.0, b1.dtype)&#xA;    b1_ymin, b1_xmin, b1_ymax, b1_xmax = tf.unstack(b1, 4, axis=-1)&#xA;    b2_ymin, b2_xmin, b2_ymax, b2_xmax = tf.unstack(b2, 4, axis=-1)&#xA;    b1_width = tf.maximum(zero, b1_xmax - b1_xmin)&#xA;    b1_height = tf.maximum(zero, b1_ymax - b1_ymin)&#xA;    b2_width = tf.maximum(zero, b2_xmax - b2_xmin)&#xA;    b2_height = tf.maximum(zero, b2_ymax - b2_ymin)&#xA;    b1_area = b1_width * b1_height&#xA;    b2_area = b2_width * b2_height&#xA;&#xA;    intersect_ymin = tf.maximum(b1_ymin, b2_ymin)&#xA;    intersect_xmin = tf.maximum(b1_xmin, b2_xmin)&#xA;    intersect_ymax = tf.minimum(b1_ymax, b2_ymax)&#xA;    intersect_xmax = tf.minimum(b1_xmax, b2_xmax)&#xA;    intersect_width = tf.maximum(zero, intersect_xmax - intersect_xmin)&#xA;    intersect_height = tf.maximum(zero, intersect_ymax - intersect_ymin)&#xA;    intersect_area = intersect_width * intersect_height&#xA;&#xA;    union_area = b1_area + b2_area - intersect_area&#xA;    iou = -1 * tf.math.log(tf.math.divide_no_nan(intersect_area, union_area))&#xA;    return iou&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3&gt;The Network&lt;/h3&gt;&#xA;&lt;p&gt;This has been through many, many iterations.  As I said, I've solved many other problems with NNs... This is the first one to get me completely stuck.  At this point, the network is dramatically stripped down but continues to fail to train at all:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow as tf&#xA;from tensorflow import keras&#xA;from tensorflow.keras import layers, optimizers&#xA;&#xA;tf.keras.backend.set_floatx('float32') # Use Float32s for everything&#xA;&#xA;input_shape = x_train_normalized.shape[-3:]&#xA;model = keras.Sequential()&#xA;model.add(layers.Conv2D(4, 16, activation = tf.keras.layers.LeakyReLU(alpha=0.2), input_shape=input_shape))&#xA;model.add(layers.MaxPooling2D(pool_size=(3, 3), strides=(2, 2)))&#xA;model.add(layers.Dropout(0.2))&#xA;model.add(layers.Flatten())&#xA;model.add(layers.Dense(200, activation = tf.keras.layers.LeakyReLU(alpha=0.2)))&#xA;model.add(layers.Dense(64, activation=tf.keras.layers.LeakyReLU(alpha=0.2)))&#xA;model.add(layers.Dense(4, activation=&amp;quot;sigmoid&amp;quot;))&#xA;&#xA;model.compile(loss = iou_loss, optimizer = &amp;quot;adadelta&amp;quot;, metrics=['accuracy'])&#xA;history = model.fit(x_train_normalized, y_train_scaled, epochs=8, batch_size=100, validation_split=0.4)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;All pointers are welcome!  In the meantime I'm implementing a center point loss function to see if that helps at all.&lt;/p&gt;&#xA;"" OwnerUserId=""30426"" LastEditorUserId=""2444"" LastEditDate=""2021-01-21T01:57:25.257"" LastActivityDate=""2021-01-21T01:57:25.257"" Title=""Bounding Box Regression - An Adventure in Failure"" Tags=""&lt;tensorflow&gt;&lt;object-detection&gt;&lt;weights-initialization&gt;&lt;bounding-box&gt;"" AnswerCount=""1"" CommentCount=""0"" ClosedDate=""2022-08-23T11:12:40.040"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""38785"" PostTypeId=""1"" CreationDate=""2023-01-17T17:39:56.927"" Score=""0"" ViewCount=""71"" Body=""&lt;p&gt;I am trying to build a model which summarizes some brief input text (X) and generates a headline (Y).&lt;/p&gt;&#xA;&lt;p&gt;The problem is that the model always outputs 0 as the vocabulary index, which I think that might be due to sentence padding, I have tried to use mask_zero parameter in the embedding layer but results are the same.&lt;/p&gt;&#xA;&lt;p&gt;I also have considered that the problem might be that I have very little data to train the network but I supposed it would fail in some manner but outputing random words, not always 0.&lt;/p&gt;&#xA;&lt;p&gt;The network architecture I am trying to use is a seq2seq Bi-LSTM with attention mechanism and I am using Glove 50D embeddings as input layer.&lt;/p&gt;&#xA;&lt;p&gt;Basically the model is based in three code functions that comprehend the previously explained model.&lt;/p&gt;&#xA;&lt;p&gt;A good visual representation of the model is the following from Andrew Ng just substituting one hot vector inputs with embeddings in the input layer:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/j0TKl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/j0TKl.png&quot; alt=&quot;Full model structure&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Model layers definition at global scope to share weights&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre&gt;&lt;code&gt;# Attention layers globally defined&#xA;repeator = tf.keras.layers.RepeatVector(Tx)&#xA;concatenator = tf.keras.layers.Concatenate(axis=-1)&#xA;dense_1 = tf.keras.layers.Dense(10, activation='tanh')&#xA;dense_2 = tf.keras.layers.Dense(1, activation='relu')&#xA;activator = tf.keras.layers.Activation('softmax', name=&amp;quot;attention_weights&amp;quot;)&#xA;dotor = tf.keras.layers.Dot(axes=1)&#xA;&#xA;# Post-attention LSTM globally defined to share weights&#xA;post_attention_LSTM = tf.keras.layers.LSTM(units=n_s, return_state=True)&#xA;output_layer = tf.keras.layers.Dense(vocab_size, activation='softmax')&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ol start=&quot;2&quot;&gt;&#xA;&lt;li&gt;Full model structure:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre&gt;&lt;code&gt;def seq2seq_clickbait(Tx, Ty, n_a, n_s, vocab_size, emb_size):&#xA;&#xA;    # Define Model Inputs&#xA;    sentence_indices = tf.keras.layers.Input(shape=(Tx,), dtype='int32')&#xA;&#xA;    emb_matrix = build_embeddings_matrix(word_to_vec, vocab_size, word_to_idx, emb_size)&#xA;&#xA;    pretrained_embedding = pretrained_embedding_layer(emb_matrix, vocab_size, emb_size)&#xA;&#xA;    embeddings = pretrained_embedding(sentence_indices)&#xA;&#xA;    s0 = tf.keras.layers.Input(shape=(n_s,), name='s0')&#xA;    c0 = tf.keras.layers.Input(shape=(n_s,), name='c0')&#xA;&#xA;    s = s0&#xA;    c = c0&#xA;&#xA;    outputs = []&#xA;&#xA;    a = tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(units=n_a, return_sequences=True))(embeddings)&#xA;&#xA;    for t in range(Ty):&#xA;&#xA;        # Once we have a, we can get the context to pass it to the post attention lstm time step&#xA;        context = one_step_attention(a, s)&#xA;&#xA;        # Get current states from post-attention lstm&#xA;        s, _, c = post_attention_LSTM(inputs=context, initial_state=[s, c])&#xA;&#xA;        # Apply dense (softmax vocab_size)&#xA;        out = output_layer(inputs=s)&#xA;        outputs.append(out)&#xA;&#xA;    model = tf.keras.models.Model(inputs=[sentence_indices, s0, c0], outputs=outputs)&#xA;&#xA;    return model&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;A good visual representation of what does one_step_attention(a, s)&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/KisBY.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/KisBY.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ol start=&quot;3&quot;&gt;&#xA;&lt;li&gt;context&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre&gt;&lt;code&gt;def one_step_attention(a, s_prev):&#xA;&#xA;    # Repeat the s_prev vector Tx times to expand the vector&#xA;    s_prev = repeator(s_prev)&#xA;&#xA;    # Concatenate a and s_prev&#xA;    concat = concatenator([a, s_prev])&#xA;&#xA;    # Forward prop to a dense layer&#xA;    e = dense_1(concat)&#xA;&#xA;    energies = dense_2(e)&#xA;&#xA;    # Apply softmax to energies to get the alphas&#xA;    alphas = activator(energies)&#xA;&#xA;    # Get context from the alphas&#xA;    context = dotor([alphas, a])&#xA;&#xA;    return context&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I present the outputs to the model as a one hot vector so if the ouput sentence is length (Ty) 20 the output tensor is (20, m, vocab_size). My guess is that many of the labeled sentences are not length 20 and therefore they are padded, so the network is learning to output 0's since it is a pretty good way of improving accuracy / decrease loss in short senteces widely padded.&lt;/p&gt;&#xA;&lt;p&gt;If half of the output steps of the network are filled with a [1, 0, 0,..., 0] one hot vector which represents the 0 index (pad) it dense layer will learn to output probabilities distributions like [0.8, 0.002, 0.00003, ....] selecting the 0 index.&lt;/p&gt;&#xA;&lt;p&gt;Any ideas on how to solve this? Thank you in advance&lt;/p&gt;&#xA;&lt;h1&gt;EDIT&lt;/h1&gt;&#xA;&lt;p&gt;Some additional info about the model.&lt;/p&gt;&#xA;&lt;p&gt;loss function is categorical_crossentropy, I have not added extra tokens to the vocabulary given by GloVe embeddings, I removed 'PAD' as a vocabulary token since TF embeddings docs says so when mask_zero=True. m is the number of examples, Tx and Ty is the sentence max length of X and Y, n_s is the number of post-attention LSTM units and n_a is Bi-LSTM units. I think indeed is a masking problem but mask_zero=True is not solving it. It only works with return_sequences=True and post att LSTM has return_squences=False because it loops through steps.&lt;/p&gt;&#xA;"" OwnerUserId=""67051"" LastEditorUserId=""67051"" LastEditDate=""2023-01-18T07:48:08.840"" LastActivityDate=""2023-01-18T07:48:08.840"" Title=""Seq2seq with attention model only predicts index 0 in a text generation task"" Tags=""&lt;natural-language-processing&gt;&lt;tensorflow&gt;&lt;seq2seq&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ai.stackexchange.com\Posts.xml,"  <row Id=""41984"" PostTypeId=""1"" CreationDate=""2023-09-04T13:16:31.803"" Score=""2"" ViewCount=""79"" Body=""&lt;p&gt;I have a reinforcement learning environment with sparse rewards. Current methods such as PPO and DQN both fail to learn a policy that is suffuciently good. I may have a way to find trajectories that are satisfactory and are found while using no neural network. Is it possible that I then use those trajectories in the replay buffer of a DQN or PPO and then update the neural network a couple of times? This would initialise the neural network in kinda the right direction and would be a bit like imitation learning. Does someone know if this is a viable idea or if there is another way of doing this?&lt;/p&gt;&#xA;"" OwnerUserId=""75855"" LastActivityDate=""2023-09-26T19:09:27.743"" Title=""Filling replay buffer with expert trajectories for PPO/DQN"" Tags=""&lt;reinforcement-learning&gt;&lt;dqn&gt;&lt;pytorch&gt;&lt;proximal-policy-optimization&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""9283"" PostTypeId=""1"" AcceptedAnswerId=""9286"" CreationDate=""2015-04-17T20:55:11.493"" Score=""1"" ViewCount=""237"" Body=""&lt;p&gt;I have been staring &lt;a href=&quot;https://craftcms.stackexchange.com/questions/6580/how-can-i-use-csrf-protection-with-ajax-routes&quot;&gt;at this SE post on deleting using ajax&lt;/a&gt; and it's just not clicking.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;For example, I have a plugin with a list of users. Each user has a delete icon next to it.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;template&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;....&#xA;&amp;lt;td class=&quot;thin&quot;&amp;gt;&amp;lt;a class=&quot;delete delete-usericon&quot; title=&quot;Delete&quot; role=&quot;button&quot; data-id=&quot;{{user.id}}&quot; data-name={{user.name}}&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;....&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;To get my javascript, I am using the &lt;code&gt;init&lt;/code&gt; method in my main plugin class.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;MyPlugin.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (craft-&amp;gt;request-&amp;gt;isCpRequeset() &amp;amp;&amp;amp; craft()-&amp;gt;userSession-&amp;gt;isLoggedIn())&#xA;{&#xA;    craft-&amp;gt;template-&amp;gt;includeJsResource('path/to/script.js');&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So far, so good.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;script.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;....&#xA;$('.delete-user').click(function(event){&#xA;    var data = {&#xA;        'id': event.currentTarget.dataset.id,&#xA;        'csrfToken': // this is where i'm stuck&#xA;    };&#xA;&#xA;    $.ajax({&#xA;        'type': 'post',&#xA;        'contentType': 'application/x-www-form-urlencoded; charset=utf-8',&#xA;        'cache': false,&#xA;        'url': 'path/to/deleteUser',&#xA;        'data': data,&#xA;        'dataType': 'json',&#xA;         'timeout': 5000&#xA;    }).done(function(status){&#xA;        console.log(status);&#xA;    }).fail(function(error){&#xA;        console.log(error);&#xA;    })&#xA;});&#xA;....&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;UserController.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;....&#xA;actionDeleteUser() {&#xA;    $this-&amp;gt;requireAjaxRequest();&#xA;    error_log(__FUNCTION__); // to just test im getting this far.&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;As you can imagine, I'm getting a &lt;code&gt;400 Bad Request The CSRF token could not be verified.&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I can put a hidden text field on my users &quot;home page&quot; using &lt;code&gt;{{getCsrfInput}}&lt;/code&gt; and then grab that value no problem. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;If I log out my &lt;code&gt;data&lt;/code&gt; object, I can see it's got the correct &lt;code&gt;id&lt;/code&gt; and &lt;code&gt;csrfToken&lt;/code&gt; but I will still get the 400. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not sure how to pass the token along with the data to the controller just yet it seems.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you for your time!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Well, I believe I see my error, but I'm confident there is a better way (at least I think there could be)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I wasn't passing the correct name/key.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;script.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var data = {&#xA;     'id': event.currentTarget.dataset.id,&#xA;     'CRAFT_CSRF_TOKEN': $('[name=&quot;CRAFT_CSRF_TOKEN&quot;]).val()&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm getting a 404 back now - great. I can figure that out. What i'm curious about is: Is there a better way?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've put the &lt;code&gt;{{getCsrfInput}}&lt;/code&gt; on my &quot;home&quot; page of my plugin that lists the users. I feel like i've just done a nice hack-job on my plugin.&lt;/p&gt;&#xA;"" OwnerUserId=""2275"" LastEditorUserId=""-1"" LastEditDate=""2017-04-13T12:51:00.253"" LastActivityDate=""2015-04-17T22:04:16.940"" Title=""Delete plugin record via ajax"" Tags=""&lt;plugin-development&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""12474"" PostTypeId=""1"" AcceptedAnswerId=""12475"" CreationDate=""2015-11-20T18:33:23.083"" Score=""3"" ViewCount=""4517"" Body=""&lt;p&gt;I have built a plugin that simply makes requests to a 3rd party API. I am calling my plugin action via ajax.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I don't have a form on this page currently. Here is what I am using, but I am getting the error &lt;code&gt;The CSRF token could not be verified.&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I thought I could just put a hidden input field somewhere on my template:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;twig&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&quot;hidden&quot; name=&quot;{{ craft.config.csrfTokenName }}&quot; value=&quot;{{ craft.request.csrfToken }}&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is what my ajax call looks like...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;jquery&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var data = {&#xA;    'thing': value,&#xA;    'thing': value&#xA;};&#xA;&#xA;data[window.csrfTokenName] = window.csrfTokenValue;&#xA;&#xA;$.ajax({&#xA;    'type': 'post',&#xA;    'contentType': 'application/x-www-form-urlencoded; charset=UTF-8',&#xA;    'cache': false,&#xA;    'data': data,&#xA;    'url': 'myplugin/doAction',&#xA;    'dataType': 'json',&#xA;    'timeout': 50000&#xA;}).done(function (response) {&#xA;    callback(response);&#xA;}).fail(function (error) {&#xA;    // Total fail.&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Later on in my site I will have a form that accepts user input, so I would like to keep CSRF enabled for the entire site. Perhaps I need to &lt;a href=&quot;https://craftcms.stackexchange.com/questions/4553/whats-the-best-way-to-skip-csrf-for-plugin-controllers&quot;&gt;&quot;skip&quot; the CSRF token for these requests?&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""2275"" LastEditorUserId=""-1"" LastEditDate=""2017-04-13T12:51:00.253"" LastActivityDate=""2018-06-28T19:12:31.753"" Title=""What is the best way to append CSRF token without using a form?"" Tags=""&lt;form&gt;&lt;ajax&gt;&lt;csrf&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""12736"" PostTypeId=""1"" AcceptedAnswerId=""12737"" CreationDate=""2015-12-06T00:51:14.230"" Score=""2"" ViewCount=""3438"" Body=""&lt;p&gt;I would like to call an action method from within my plugin via ajax but I am always getting a 404 response. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a controller method that matches the ajax url:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;jquery&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    'type': 'post',&#xA;    'contentType': 'application/x-www-form-urlencoded; charset=UTF-8',&#xA;    'cache': false,&#xA;    'data': data,&#xA;    'url': 'pluginHandle/checkStatus',&#xA;    'dataType': 'json',&#xA;    'timeout': 50000&#xA;}).done(function (response) {&#xA;    // Success&#xA;}).fail(function (error) {&#xA;   // Total fail.&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;MyPluginController.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;...&#xA;&#xA;/**&#xA; * Checks what the current status is RIGHT. NOW.&#xA; *&#xA; * @throws HttpException&#xA; *&#xA; */&#xA;public function actionCheckStatus()&#xA;{&#xA;    $this-&amp;gt;requireAjaxRequest();&#xA;&#xA;    $response = [&#xA;        'status' =&amp;gt; 'open'&#xA;    ];&#xA;&#xA;    $this-&amp;gt;returnJson($response);&#xA;}&#xA;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What am I doing wrong?&lt;/p&gt;&#xA;"" OwnerUserId=""2275"" LastEditorUserId=""2275"" LastEditDate=""2015-12-06T00:56:45.017"" LastActivityDate=""2018-06-01T20:02:01.957"" Title=""How can I call a controller method from the front-end using ajax"" Tags=""&lt;plugin-development&gt;&lt;routes&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""15268"" PostTypeId=""1"" AcceptedAnswerId=""15276"" CreationDate=""2016-05-30T11:03:39.313"" Score=""2"" ViewCount=""1627"" Body=""&lt;p&gt;I'd like to use the &lt;a href=&quot;https://github.com/pixelandtonic/ElementAPI&quot; rel=&quot;nofollow noreferrer&quot;&gt;Element API&lt;/a&gt; plugin.&#xA;I've follow the instructions mentioned here: &lt;a href=&quot;https://craftcms.stackexchange.com/questions/15015/elementapi-can-i-use-javascript-ajax-to-load-json&quot;&gt;ElementAPI - Can I use javascript/ajax to load json&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is my config/elementapi.php file :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;namespace Craft;&#xA;&#xA;return [&#xA;    'endpoints' =&amp;gt; [&#xA;        'news.json' =&amp;gt; [&#xA;            'elementType' =&amp;gt; 'Entry',&#xA;            'criteria' =&amp;gt; ['section' =&amp;gt; 'news'],&#xA;            'transformer' =&amp;gt; function (EntryModel $entry) {&#xA;                return [&#xA;                    'title' =&amp;gt; $entry-&amp;gt;title,&#xA;                    'url' =&amp;gt; $entry-&amp;gt;url,&#xA;                    'jsonUrl' =&amp;gt; UrlHelper::getUrl(&quot;news/{$entry-&amp;gt;id}.json&quot;),&#xA;                ];&#xA;            },&#xA;        ]&#xA;    ]&#xA;];&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and here my ajax request:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $(function () {&#xA;        var data = {&#xA;            'CSRF': $('input[name=&quot;CRAFT_CSRF_TOKEN&quot;]').val(),&#xA;        };&#xA;&#xA;        $.ajax({&#xA;            'type': 'post',&#xA;            'contentType': 'application/x-www-form-urlencoded; charset=UTF-8',&#xA;            'cache': false,&#xA;            'data': data,&#xA;            'url': 'news.json',&#xA;            'dataType': 'json',&#xA;            'timeout': 50000&#xA;        }).done(function (response) {&#xA;           console.log(response);&#xA;        }).fail(function (error) {&#xA;                console.log('totalfail')&#xA;            });&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But it always returns a 400 error (as the JSON file looks like it doesn't exist).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What have I missed? Could someone provide a working example?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks!&lt;/p&gt;&#xA;"" OwnerUserId=""5210"" LastEditorUserId=""-1"" LastEditDate=""2017-04-13T12:51:00.200"" LastActivityDate=""2016-05-30T20:33:15.673"" Title=""How do I get started with Element API plugin?"" Tags=""&lt;ajax&gt;&lt;plugin-elementapi&gt;"" AnswerCount=""1"" CommentCount=""9"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""19100"" PostTypeId=""1"" AcceptedAnswerId=""19133"" CreationDate=""2017-02-21T00:08:26.323"" Score=""1"" ViewCount=""219"" Body=""&lt;p&gt;I am using the guestentries plugin to create two different section entries. I have two similar html forms on the same front end page. They both use the jquery validate plugin before submiting via ajax. The first form for sectionId(3) does some stripe token generation before submitting to the plugin to submit the payment and create the entry. This is working fine.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The second form doesn't do any stripe calls and is using very much the same jquery ajax call to submit to a sectionId(4). This ajax submission is always returning a 404 and doesn't get to the guestEntries plugin so it seems craft isn't handling this submission like it should?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Succesful request/response&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Code]&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    var formData = $(&quot;form[name='playerForm']&quot;).serialize();&#xA;    $.post('/', formData , function(response) {&#xA;      if (response.success) {&#xA;      //On Submit Success&#xA;      $(&quot;form[name='playerForm'] input[type='text'],select&quot;).val(&quot;&quot;);&#xA;&#xA;      $('#playerForm').slideUp();&#xA;&#xA;      $('#registered_user_name').text(response.title);&#xA;      $('#myModal').modal('show');&#xA;      $('#submitLoader').replaceWith('&amp;lt;input type=&quot;submit&quot; class=&quot;submit&quot; id=&quot;playerSubmit&quot; value=&quot;Continue&quot; /&amp;gt;');&#xA;&#xA;    }else{&#xA;      console.log(response);&#xA;    }&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;[Form Data]&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;CRAFT_CSRF_TOKEN:kv8AfC8Odbhq7OFX6eUhJEi~lm2LqTgmubFer48b|4af89cb67bc43b2efb63a00273e638708f85f5ab&#xA;action:guestEntries/saveEntry&#xA;sectionId:3&#xA;fields[firstName]:Test&#xA;fields[lastName]:Guy&#xA;fields[homeTown]:Town&#xA;fields[phoneNumber]:234 342 2343&#xA;fields[companyEducationalInstitution]:Test Company&#xA;fields[averageScore]:81-90&#xA;fields[yearsInTheTournament]:1&#xA;token:tok_19pQkWKdnBUCmelLfVYMRhaF&#xA;fields[email]:test@test.com&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Failed request/response&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Code]&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var data = $(&quot;form[name='sponsorForm']&quot;).serialize();&#xA;&#xA;$.post('/', data, function (response) {&#xA;  if (response &amp;amp;&amp;amp; response.success) {&#xA;    console.log(response);&#xA;  } else {&#xA;    console.log(response);&#xA;  }&#xA;  $('#submitLoader').replaceWith('&amp;lt;input type=&quot;submit&quot; class=&quot;submit&quot; id=&quot;sponsorSubmit&quot; value=&quot;Submit&quot; /&amp;gt;');&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;[Form Data]&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;CRAFT_CSRF_TOKEN:kv8AfC8Odbhq7OFX6eUhJEi~lm2LqTgmubFer48b|4af89cb67bc43b2efb63a00273e638708f85f5ab&#xA;action:guestEntries/saveEntry&#xA;sectionId:4&#xA;fields[sponsorFirstName]:Test&#xA;fields[sponsorLastName]:Guy&#xA;fields[sponsorPhoneNumber]:252 356 5626&#xA;fields[company]:Test Company&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I've compared the request headers and they are identical so I don't think it's an ajax header problem. Not sure why first form would work and second would fail. Any help is greatly appreciated.&lt;/p&gt;&#xA;"" OwnerUserId=""6319"" LastActivityDate=""2017-02-22T22:20:18.657"" Title=""Guest Entries - Two ajax forms for different section entries. Receiving 404 only on second form?"" Tags=""&lt;ajax&gt;&lt;guest-entries&gt;&lt;plugin-guestentries&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""20763"" PostTypeId=""1"" CreationDate=""2017-06-08T22:49:21.637"" Score=""1"" ViewCount=""99"" Body=""&lt;p&gt;This is a continuation of &lt;a href=&quot;https://craftcms.stackexchange.com/questions/20269/how-could-i-submit-the-charge-plugin-using-ajax&quot;&gt;How could I submit the Charge plugin using Ajax?&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm using the Charge plugin to handle my Stripe payments. I'm having to use ajax to submit the charge form before submitting a second form that is on the page. The problem is when the ajax call fails, I can't seem to get the error messages that are causing the failed attempt. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm pretty sure part of the reason is because I get a 404 every time it fails, because &lt;code&gt;'url: charge/charge'&lt;/code&gt; path doesn't actually exist on my server. So, &lt;code&gt;console.log(data)&lt;/code&gt; is basically useless to try and find how to access the error(s).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the code that I currently have: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;this.ajaxReq = $.ajax({&#xA;  method: &quot;post&quot;,&#xA;  url: 'charge/charge',&#xA;  data: $('#charge-form').serialize()&#xA;}) .done(function(data) {&#xA;    console.log('success');&#xA;}) .fail(function(data){&#xA;    console.log('failed');&#xA;    // Need to get error messages from Stripe/Charge?&#xA;}); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""6832"" LastEditorUserId=""6832"" LastEditDate=""2017-06-09T13:15:25.560"" LastActivityDate=""2017-06-09T13:15:25.560"" Title=""SquareBit Charge Plugin: How to retrieve error messages from failed ajax call?"" Tags=""&lt;plugins&gt;&lt;error-message&gt;&lt;ajax&gt;&lt;plugin-charge&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""23331"" PostTypeId=""1"" AcceptedAnswerId=""23346"" CreationDate=""2017-12-31T13:09:53.563"" Score=""2"" ViewCount=""362"" Body=""&lt;p&gt;I'm not sure if this is a bug, a security feature, or something to do with Twig 2; but since Craft 3 (RC3) I'm no longer able to access hidden twig files via ajax. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This works fine:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $.ajax({&#xA;    method:'GET',&#xA;    url:'/blog/test',&#xA;    success:function(data){&#xA;      $('body').append(data);&#xA;      console.log(&quot;SUCCESS&quot;, data);&#xA;    },&#xA;    error:function(data){&#xA;      console.log(&quot;ERROR&quot;, data);&#xA;    }&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, when I point the url to a hidden file with this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;url:'/blog/_test',&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I get a &lt;strong&gt;404 (Not Found)&lt;/strong&gt; error. For my example, I have both '_test.twig' and 'test.twig' files in the 'blog' directory.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Am I missing a breaking &lt;a href=&quot;https://github.com/craftcms/docs/blob/master/en/changes-in-craft-3.md&quot; rel=&quot;nofollow noreferrer&quot;&gt;change&lt;/a&gt;? &lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I didn't really know what it was for, but &lt;code&gt;'enableCsrfProtection' =&amp;gt; true&lt;/code&gt; has always been set in my config/general.php file. (In both Craft 2 and 3). I've tried setting this to &lt;code&gt;false&lt;/code&gt; too, and I'm getting the same results. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Following Robins comment, I've attempted to follow these instructions: &lt;a href=&quot;https://craftcms.com/support/csrf-protection&quot; rel=&quot;nofollow noreferrer&quot;&gt;Enabling CSRF Protection&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've set the global variables &lt;code&gt;window.csrfTokenName&lt;/code&gt; and &lt;code&gt;window.csrfTokenValue&lt;/code&gt;. And now I'm stuck. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm pretty new to ajax, and I'm not sure how to extrapolate &lt;a href=&quot;https://craftcms.com/support/csrf-protection#updating-your-javascript&quot; rel=&quot;nofollow noreferrer&quot;&gt;the example&lt;/a&gt; in a way where I can add the CSRF Token correctly in my 'GET' method.    &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the response I'm getting: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ERROR &#xA;{readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}&#xA;abort : (statusText)&#xA;always : ()&#xA;catch : (fn)&#xA;done : ()&#xA;fail : ()&#xA;getAllResponseHeaders : ()&#xA;getResponseHeader : (key)&#xA;overrideMimeType : (type)&#xA;pipe : ()&#xA;progress : ()&#xA;promise : (obj)&#xA;readyState : 4&#xA;responseText : &quot;&amp;lt;pre&amp;gt;Not Found: Page not found.&amp;lt;/pre&amp;gt;&quot;&#xA;setRequestHeader : (name,value)&#xA;state : ()&#xA;status : 404&#xA;statusCode : (map)&#xA;statusText : &quot;Not Found&quot;&#xA;then : (onFulfilled,onRejected,onProgress)&#xA;__proto__ : Object&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""584"" LastEditorUserId=""584"" LastEditDate=""2017-12-31T16:48:50.337"" LastActivityDate=""2018-01-02T17:12:50.257"" Title=""Hidden files are no longer accessible with AJAX in Craft 3"" Tags=""&lt;ajax&gt;&lt;craft3&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""29593"" PostTypeId=""1"" CreationDate=""2019-02-20T19:29:38.440"" Score=""1"" ViewCount=""285"" Body=""&lt;p&gt;When using XMLHttpRequest to update cart like the following, I get a 500 error for &lt;code&gt;'lineItems': {[lineitem]: {'qty': value}}&lt;/code&gt; (and also &lt;code&gt;{[lineitem]: {'remove': true}}&lt;/code&gt;, any other submission works);&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var url = document.querySelector('form#cart-form input[name=&quot;action&quot;]').value;&#xA;var data = {&#xA;    'action': 'commerce/cart/update-cart',&#xA;    'lineItems': {[lineitem]: {'qty': value}}&#xA;}&#xA;data[csrfname] = csrfvalue;&#xA;&#xA;atomic(url, {&#xA;    method: 'POST',&#xA;    data: data,&#xA;    headers: {&#xA;        &quot;Content-Type&quot;: 'application/x-www-form-urlencoded',&#xA;        'X-Requested-With': 'XMLHttpRequest',&#xA;        'Accept': 'application/json'&#xA;    }&#xA;}).then(function(response) {&#xA;    console.log(response.data);&#xA;    console.log(response.xhr);&#xA;}).catch(function(error) {&#xA;    console.log(error.status);&#xA;    console.log(error.statusText);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;em&gt;(The code above uses &lt;a href=&quot;https://github.com/cferdinandi/atomic/&quot; rel=&quot;nofollow noreferrer&quot;&gt;atomic&lt;/a&gt;, which is just a small library to wrap XMLHttpRequest into a promise structure similar to using fetch).&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The submitted data is (and looks) exactly the same as what I pass through JQuery Ajax, which works;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var url = document.querySelector('form#cart-form input[name=&quot;action&quot;]').value;&#xA;var data = {&#xA;    'action': 'commerce/cart/update-cart',&#xA;    'lineItems': {[lineitem]: {'qty': value}}&#xA;}&#xA;data[csrfname] = csrfvalue;&#xA;&#xA;$.ajax({&#xA;    type: &quot;POST&quot;,&#xA;    dataType: 'json',&#xA;    url: '',&#xA;    data: data,&#xA;    success: function(response){&#xA;        console.log(response);&#xA;        }&#xA;    }&#xA;}).fail(function(error) {&#xA;    console.log('Error: ' + error);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I can't seem to figure out what the issue is, as the POST data being submitted looks EXACTLY the same. Changing the &lt;code&gt;Content-Type&lt;/code&gt; to &lt;code&gt;application/json&lt;/code&gt; doesn't work either. Anyone run into this issue?&lt;/p&gt;&#xA;"" OwnerUserId=""4918"" LastEditorUserId=""4918"" LastEditDate=""2019-02-20T22:07:36.807"" LastActivityDate=""2019-02-20T22:07:36.807"" Title=""XMLHttpRequest Craft Commerce Cart Update Issues"" Tags=""&lt;craft3&gt;&lt;ajax&gt;&lt;plugin-craftcommerce2&gt;&lt;xmlhttprequest&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""35300"" PostTypeId=""1"" CreationDate=""2020-05-06T20:31:50.133"" Score=""0"" ViewCount=""67"" Body=""&lt;p&gt;I try to load a entry after a button is clicked, currently my code looks like this:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is generating a 404 error. Dunno why?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;/**&#xA; * PopUp plugin for Craft CMS 3.x&#xA; *&#xA; * test&#xA; *&#xA; * @link      https://digitalwunder.io&#xA; * @copyright Copyright (c) 2020 digitalwunder.io&#xA; */&#xA;&#xA;namespace digitalwunder\popup;&#xA;&#xA;&#xA;use Craft;&#xA;use craft\base\Plugin;&#xA;use craft\services\Plugins;&#xA;use craft\events\PluginEvent;&#xA;use craft\web\UrlManager;&#xA;use craft\events\RegisterUrlRulesEvent;&#xA;&#xA;use yii\base\Event;&#xA;&#xA;/**&#xA; * Class PopUp&#xA; *&#xA; * @author    digitalwunder.io&#xA; * @package   PopUp&#xA; * @since     0.0.1&#xA; *&#xA; */&#xA;class PopUp extends Plugin&#xA;{&#xA;    // Static Properties&#xA;    // =========================================================================&#xA;&#xA;    /**&#xA;     * @var PopUp&#xA;     */&#xA;    public static $plugin;&#xA;&#xA;    // Public Properties&#xA;    // =========================================================================&#xA;&#xA;    /**&#xA;     * @var string&#xA;     */&#xA;    public $schemaVersion = '0.0.1';&#xA;&#xA;    /**&#xA;     * @var bool&#xA;     */&#xA;    public $hasCpSettings = false;&#xA;&#xA;    /**&#xA;     * @var bool&#xA;     */&#xA;    public $hasCpSection = false;&#xA;&#xA;    // Public Methods&#xA;    // =========================================================================&#xA;&#xA;    /**&#xA;     * @inheritdoc&#xA;     */&#xA;    public function init()&#xA;    {&#xA;        parent::init();&#xA;        self::$plugin = $this;&#xA;&#xA;        Event::on(&#xA;            UrlManager::class,&#xA;            UrlManager::EVENT_REGISTER_SITE_URL_RULES,&#xA;            function (RegisterUrlRulesEvent $event) {&#xA;                $event-&amp;gt;rules['siteActionTrigger1'] = 'pop-up/default';&#xA;            }&#xA;        );&#xA;&#xA;        Event::on(&#xA;            UrlManager::class,&#xA;            UrlManager::EVENT_REGISTER_CP_URL_RULES,&#xA;            function (RegisterUrlRulesEvent $event) {&#xA;                $event-&amp;gt;rules['cpActionTrigger1'] = 'pop-up/default/do-something';&#xA;            }&#xA;        );&#xA;&#xA;        Event::on(&#xA;            Plugins::class,&#xA;            Plugins::EVENT_AFTER_INSTALL_PLUGIN,&#xA;            function (PluginEvent $event) {&#xA;                if ($event-&amp;gt;plugin === $this) {&#xA;                }&#xA;            }&#xA;        );&#xA;&#xA;        Craft::info(&#xA;            Craft::t(&#xA;                'pop-up',&#xA;                '{name} plugin loaded',&#xA;                ['name' =&amp;gt; $this-&amp;gt;name]&#xA;            ),&#xA;            __METHOD__&#xA;        );&#xA;    }&#xA;&#xA;    // Protected Methods&#xA;    // =========================================================================&#xA;&#xA;    public function actionCheckStatus()&#xA;    {&#xA;        $this-&amp;gt;requireAcceptsJson();&#xA;&#xA;        $response = [&#xA;            'status' =&amp;gt; 'open'&#xA;        ];&#xA;&#xA;        return $this-&amp;gt;asJson($response);&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And the script like this&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;      $('#test').click(function(e){&#xA;        e.preventDefault()&#xA;        var x = {{ entry.id }};&#xA;        $.ajax({&#xA;            'type': 'post',&#xA;            'contentType': 'application/x-www-form-urlencoded; charset=UTF-8',&#xA;            'cache': false,&#xA;            // 'data': data,&#xA;            'url': '/actions/pop-up/checkStatus',&#xA;            'dataType': 'json',&#xA;            'timeout': 50000&#xA;        }).done(function (response) {&#xA;          console.log(response);&#xA;            // Success&#xA;        }).fail(function (error) {&#xA;           // Total fail.&#xA;        });&#xA;      });&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Can anyone see why I get a 404 error?&lt;/p&gt;&#xA;"" OwnerUserId=""10776"" LastActivityDate=""2020-05-06T20:31:50.133"" Title=""Load Entries after click (AJAX)"" Tags=""&lt;plugin-development&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\craftcms.stackexchange.com\Posts.xml,"  <row Id=""39585"" PostTypeId=""1"" AcceptedAnswerId=""39586"" CreationDate=""2022-06-24T14:32:55.393"" Score=""1"" ViewCount=""69"" Body=""&lt;p&gt;I have a project that was initially built in Craft 3 and I'm upgrading it to Craft 4. I leverage ajax on one of the pages to save data to a user in the CMS. The following code worked in Craft 3 but no longer works in Craft 4. The ajax request submits correctly and the data is saved to the CMS but &lt;code&gt;data.success&lt;/code&gt; no longer returns true. What's the ideal way to handle an ajax pass/fail in Craft 4?&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    contentType: false,&#xA;    processData: false,&#xA;    method: &amp;quot;POST&amp;quot;,&#xA;    url: '',&#xA;    dataType: &amp;quot;json&amp;quot;,&#xA;    data: formData&#xA;}).done(function(data) {&#xA;    if (data.success == true) {&#xA;        console.log(data, 'success')&#xA;    } else {&#xA;        console.log(data, 'fail')&#xA;    }&#xA;}).fail(function(data) {&#xA;    console.log(data, 'fail')&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""12902"" LastActivityDate=""2022-06-24T15:41:30.780"" Title=""Ajax response no longer returns true after updating to craft 4"" Tags=""&lt;form&gt;&lt;ajax&gt;&lt;craft4&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""12723"" PostTypeId=""1"" CreationDate=""2016-07-11T17:36:41.240"" Score=""4"" ViewCount=""997"" Body=""&lt;p&gt;I'm building convoluted neural networks with TensorFlow. I've got the latest Mac Pro, use all of my cores, and yet it still takes me several hours to train a single network. I need to do grid search on many different tuning parameters, so this is not ideal. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is for a personal project, so I want to save money by using the cloud. I have used AWS extensively, and I like the idea of using their spot market, however I've heard that 1) Amazon's GPU instances aren't compatible out of the box with TensorFlow (AWS's GPUs have CUDA 3.0 and TensorFlow requires 3.5) and 2) Amazon's GPUs are a bit slow. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Does Microsoft's Azure or Google's Google Compute Engine have easy-to-use GPUs when using TensorFlow? How do their GPUs compare to those of Amazon in terms of the relevant neural-net-training tech specs, prices, and ease of use? Are there smaller cloud providers that you would recommend instead?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Also, roughly how much faster can I expect training to take on one of these virtual GPUs compared to a top of the line Mac Pro?&lt;/p&gt;&#xA;"" OwnerUserId=""12515"" LastActivityDate=""2016-08-23T21:41:21.223"" Title=""Public cloud GPU support for TensorFlow"" Tags=""&lt;machine-learning&gt;&lt;tensorflow&gt;&lt;gpu&gt;"" AnswerCount=""2"" CommentCount=""5"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""18695"" PostTypeId=""1"" CreationDate=""2017-05-01T02:28:06.313"" Score=""3"" ViewCount=""556"" Body=""&lt;p&gt;I am trying to understand the training phase of the tutorial &lt;a href=&quot;https://yanpanlau.github.io/2016/10/11/Torcs-Keras.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Using Keras and Deep Deterministic Policy Gradient to play TORCS&lt;/a&gt; (&lt;a href=&quot;https://web.archive.org/web/20161213122738/https://yanpanlau.github.io/2016/10/11/Torcs-Keras.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;mirror&lt;/a&gt;, &lt;a href=&quot;https://github.com/yanpanlau/DDPG-Keras-Torcs&quot; rel=&quot;nofollow noreferrer&quot;&gt;code&lt;/a&gt;) by Ben Lau published on October 11, 2016.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The tutorial says:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Then the actor policy is updated using the sampled policy gradient:&#xA;  $$\nabla_\theta J = \frac{\partial Q^{\theta}(s,a)}{\partial a}\frac{\partial \mu(s|\theta)}{\partial \theta}$$&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;which in the code corresponds to: &lt;code&gt;actor.train(states, grads)&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In the &lt;a href=&quot;https://github.com/yanpanlau/DDPG-Keras-Torcs/blob/572b92cff2e3b7be3b84e92f83a65c06c6fbad1a/ActorNetwork.py#L33&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;actor.train()&lt;/code&gt;&lt;/a&gt; method, I fail to see where $\frac{\partial Q^{\theta}(s,a)}{\partial a}$ gets multiplied by $\frac{\partial \mu(s|\theta)}{\partial \theta}$.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I did &lt;a href=&quot;https://github.com/yanpanlau/DDPG-Keras-Torcs/blob/572b92cff2e3b7be3b84e92f83a65c06c6fbad1a/ActorNetwork.py#L28&quot; rel=&quot;nofollow noreferrer&quot;&gt;read&lt;/a&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;self.params_grad = tf.gradients(self.model.output, self.weights, -self.action_gradient)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;where &lt;code&gt;self.action_gradient&lt;/code&gt; corresponds to $\frac{\partial Q^{\theta}(s,a)}{\partial a}$, and &lt;code&gt;tf.gradients(self.model.output, self.weights)&lt;/code&gt; corresponds to $\frac{\partial \mu(s|\theta)}{\partial \theta}$, but I see no  multiplication.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Where does $\frac{\partial Q^{\theta}(s,a)}{\partial a}$ get multiplied by $\frac{\partial \mu(s|\theta)}{\partial \theta}$?&lt;/p&gt;&#xA;"" OwnerUserId=""843"" LastEditorUserId=""843"" LastEditDate=""2017-05-01T02:34:11.110"" LastActivityDate=""2017-05-01T18:39:48.757"" Title=""Understanding the training phase of the tutorial &quot;Using Keras and Deep Deterministic Policy Gradient to play TORCS&quot; tutorial"" Tags=""&lt;neural-network&gt;&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;reinforcement-learning&gt;&lt;training&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""18820"" PostTypeId=""1"" AcceptedAnswerId=""19959"" CreationDate=""2017-05-08T06:20:23.597"" Score=""0"" ViewCount=""2223"" Body=""&lt;p&gt;I'm using Tensorflow 1.1.0 with GPU support and I have this function:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;def get_init_cell(batch_size, rnn_size, keep_prob=0.75, layers=2):&#xA;    &quot;&quot;&quot;&#xA;    Create an RNN Cell and initialize it.&#xA;    :param batch_size: Size of batches&#xA;    :param rnn_size: Size of RNNs&#xA;    :return: Tuple (cell, initialize state)&#xA;    &quot;&quot;&quot;&#xA;    # Basic LSTM cell&#xA;    # lstm = tf.contrib.rnn.BasicLSTMCell(rnn_size)&#xA;    lstm = tf.contrib.rnn.BasicLSTMCell(rnn_size, forget_bias=0.0, state_is_tuple=True, reuse=tf.get_variable_scope().reuse)&#xA;&#xA;    # Add drop to the cell&#xA;    drop = tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)&#xA;&#xA;    # Stack multiple LSTM layers&#xA;    rnn_cell = tf.contrib.rnn.MultiRNNCell([drop for _ in range(layers)], state_is_tuple=True)&#xA;&#xA;    # Getting an initial state of zeros&#xA;    initial_state = rnn_cell.zero_state(batch_size, tf.float32)&#xA;&#xA;    # Set the name&#xA;    initial_state = tf.identity(initial_state, 'initial_state')&#xA;&#xA;    return rnn_cell, initial_state&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The previous code works perfectly with Tensorflow 1.0.0 if I use &lt;code&gt;lstm = tf.contrib.rnn.BasicLSTMCell(rnn_size)&lt;/code&gt; but now I have changed the way I get the lstm cell. And I get this error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;ValueError: Attempt to reuse RNNCell&#xA;   with a different variable scope than its&#xA;  first use.  First use of cell was with scope&#xA;  'rnn/multi_rnn_cell/cell_0/basic_lstm_cell', this attempt is with&#xA;  scope 'rnn/multi_rnn_cell/cell_1/basic_lstm_cell'.  Please create a&#xA;  new instance of the cell if you would like it to use a different set&#xA;  of weights.  If before you were using:&#xA;  MultiRNNCell([BasicLSTMCell(...)] * num_layers), change to:&#xA;  MultiRNNCell([BasicLSTMCell(...) for _ in range(num_layers)]).  If&#xA;  before you were using the same cell instance as both the forward and&#xA;  reverse cell of a bidirectional RNN, simply create two instances (one&#xA;  for forward, one for reverse).  In May 2017, we will start&#xA;  transitioning this cell's behavior to use existing stored weights, if&#xA;  any, when it is called with scope=None (which can lead to silent model&#xA;  degradation, so this error will remain until then.)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;I have changed &lt;code&gt;get_init_cell&lt;/code&gt; with this one:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;def lstm_cell(rnn_size, keep_prob=0.75):&#xA;    # Basic LSTM cell&#xA;    lstm = tf.contrib.rnn.BasicLSTMCell(rnn_size, reuse=tf.get_variable_scope().reuse)&#xA;&#xA;    # Add drop to the cell&#xA;    return tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)&#xA;&#xA;def get_init_cell(batch_size, rnn_size, keep_prob=0.75, layers=2):&#xA;    &quot;&quot;&quot;&#xA;    Create an RNN Cell and initialize it.&#xA;    :param batch_size: Size of batches&#xA;    :param rnn_size: Size of RNNs&#xA;    :return: Tuple (cell, initialize state)&#xA;    &quot;&quot;&quot;    &#xA;    # Stack multiple LSTM layers&#xA;    rnn_cell = tf.contrib.rnn.MultiRNNCell([lstm_cell(rnn_size, keep_prob) for _ in range(layers)])&#xA;&#xA;    # Getting an initial state of zeros&#xA;    initial_state = rnn_cell.zero_state(batch_size, tf.float32)&#xA;&#xA;    # Set the name&#xA;    initial_state = tf.identity(initial_state, 'initial_state')&#xA;&#xA;    return rnn_cell, initial_state&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And I still getting the same error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have also try it with the same error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;def get_init_cell(batch_size, rnn_size, keep_prob=0.75, layers=2):&#xA;    &quot;&quot;&quot;&#xA;    Create an RNN Cell and initialize it.&#xA;    :param batch_size: Size of batches&#xA;    :param rnn_size: Size of RNNs&#xA;    :return: Tuple (cell, initialize state)&#xA;    &quot;&quot;&quot;    &#xA;&#xA;    def lstm_cell():&#xA;        # Basic LSTM cell&#xA;        return tf.contrib.rnn.BasicLSTMCell(rnn_size, reuse=tf.get_variable_scope().reuse)        &#xA;&#xA;    def attn_cell():&#xA;        return tf.contrib.rnn.DropoutWrapper(lstm_cell(), output_keep_prob=keep_prob)&#xA;&#xA;    # Stack multiple LSTM layers&#xA;    rnn_cell = tf.contrib.rnn.MultiRNNCell([attn_cell() for _ in range(layers)], state_is_tuple=True)&#xA;&#xA;    # Getting an initial state of zeros&#xA;    initial_state = rnn_cell.zero_state(batch_size, tf.float32)&#xA;&#xA;    # Set the name&#xA;    initial_state = tf.identity(initial_state, 'initial_state')&#xA;&#xA;    return rnn_cell, initial_state&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Any idea?&lt;/p&gt;&#xA;"" OwnerUserId=""31726"" LastActivityDate=""2017-06-26T01:42:18.093"" Title=""Attempt to reuse RNNCell with a different variable scope"" Tags=""&lt;tensorflow&gt;&lt;rnn&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""23848"" PostTypeId=""1"" CreationDate=""2017-10-16T17:23:21.237"" Score=""1"" ViewCount=""1140"" Body=""&lt;p&gt;I have not GPU support so it often happens that my model takes hours to train. Can I train my model in batches , for example if I want to have 100 epochs for my model,but due to power cut my training stops(at 50th epoch) but when I retrain my model I want to train it from where it was left (from 50th epoch).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It would be much appreciated if anyone can explain it by some example.&lt;/p&gt;&#xA;"" OwnerUserId=""37502"" LastEditorUserId=""14675"" LastEditDate=""2017-10-16T20:58:26.283"" LastActivityDate=""2019-04-07T17:23:22.627"" Title=""How to resume training of a model?"" Tags=""&lt;machine-learning&gt;&lt;python&gt;&lt;neural-network&gt;&lt;deep-learning&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""24275"" PostTypeId=""1"" CreationDate=""2017-11-01T21:29:26.340"" Score=""2"" ViewCount=""7824"" Body=""&lt;p&gt;I am trying to understand the differences between Scikit MLPClassifier and Tensorflow DNNClassifier for classification task and hoping that some experts can share a light. as far as I understand, both supports backpropagation, activation functions (inc. relu), optmizer (sgd/adam). MLPClassifier can also have deep neural networks by specifying the # of hidden layers and nodes.  The only difference between two that I can see is DNNClassifier supports GPU training while MLPClassifer does not. Outside of GPU support, are there other differences between them? Why do one want to use Tensorflow's DNNClassifier for basic deep neural network training (I am talking basic feed-forard NN here not the CNN, RNN, LSTM, etc.) than Scikit's MLPClassifier?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks!&lt;/p&gt;&#xA;"" OwnerUserId=""24153"" LastActivityDate=""2017-11-07T04:45:30.153"" Title=""Scikit MLPClassifier vs. Tensorflow DNNClassifier"" Tags=""&lt;neural-network&gt;&lt;scikit-learn&gt;&lt;tensorflow&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""30367"" PostTypeId=""1"" CreationDate=""2018-04-16T08:36:33.490"" Score=""3"" ViewCount=""272"" Body=""&lt;p&gt;After reinstalling Keras and Tensorflow on a Virtual Machine, I have noticed that models fail to train correctly (at the very least those I have checked). &#xA;For example, taking this &lt;a href=&quot;https://gist.github.com/fchollet/0830affa1f7f19fd47b06d4cf89ed44d&quot; rel=&quot;nofollow noreferrer&quot;&gt;code&lt;/a&gt; from the &lt;a href=&quot;https://blog.keras.io/building-powerful-image-classification-models-using-very-little-data.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Keras blog&lt;/a&gt; as a test case, instead of decreasing loss and final validation accuracy of ~0.8, loss quickly increased to ~7.5 and accuracy stayed at ~0.5.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It should be noted that when I tried it with older versions of Keras and Tensorflow (on the same computer), I did not observe this aberrant behavior.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have repeated this experiment at three other setups in which the same behavior was observed - a two other computers using a VM, and a third computer, this time a laptop with no suitable GPU. &#xA;On the other hand, trying this on two computers with GPUs, the training progressed as expected, with loss decreasing and accuracy increasing to the level advertised in the Keras blog and observed with the previous versions of Keras and Tensorflow while using a CPU.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;From the evidence I can speculate that either Keras's or Tensorflow's interaction with the CPU was changed in a manner disrupting the training processes. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Has anyone here faced a similar problem? &#xA;What can be done to solve this?     &lt;/p&gt;&#xA;"" OwnerUserId=""43472"" LastActivityDate=""2018-04-24T00:38:06.987"" Title=""Strange behavior in current Keras setting (tensorflow-1.7.0 Keras-2.1.5) when using CPU"" Tags=""&lt;keras&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""31317"" PostTypeId=""1"" CreationDate=""2018-05-07T06:00:12.483"" Score=""3"" ViewCount=""819"" Body=""&lt;p&gt;It was my understanding that when trying to create a tensorflow session, if the amount of available GPU memory is not enough for what the program asks for, the program should raise an error and exit. But it seems to be not this case, and this behavior is very annoying and hard to detect especially when using Jupyter Notebook.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Code&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I was trying to run the following program (supposedly debug.py)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow as tf&#xA;a1 = tf.constant([0.0,0.0])&#xA;b1 = tf.constant([2.0,2.0])&#xA;&#xA;mse1, update1 = tf.metrics.mean_squared_error(a1,b1)&#xA;mse2 = tf.losses.mean_squared_error(a1,b1)&#xA;with tf.Session() as sess:&#xA;    sess.run(tf.local_variables_initializer())&#xA;    update1.eval() &#xA;    print(mse1.eval())  &#xA;    print(mse2.eval())  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This program simply calculate the mean_squared_error (MSE) between the two vectors a1 and b1, and the correct output (from the two print() lines) should be 4.0 and 4.0. If no other python programs are using my GPU, this is indeed the output. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Unexpected behavior&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If another program is using the GPU (say, another jupyter notebook running something with tensorflow without limiting its GPU usage by &lt;code&gt;gpu_options.per_process_gpu_memory_fraction&lt;/code&gt;), then the above code would output something different. The first print line (&lt;code&gt;mse1&lt;/code&gt;) would output some random number, e.g. &quot;0.0&quot; (most common), &quot;3e-45&quot;, &quot;nan&quot;, etc, which is obviously wrong. The second print line (&lt;code&gt;mse2&lt;/code&gt;) always print the correct answer: 4.0. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Running this code by &lt;code&gt;python debug.py&lt;/code&gt; SOMETIMES generate an error message&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;E tensorflow/stream_executor/cuda/cuda_driver.cc:924] failed to allocate 176.44M (185008128 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;But the program does NOT exit, and still prints the results, although incorrect.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In other cases, running this code by &lt;code&gt;python debug.py&lt;/code&gt;  generate another error message&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;E tensorflow/core/common_runtime/direct_session.cc:170] Internal: failed initializing StreamExecutor for CUDA device ordinal 0: Internal: failed call to cuDevicePrimaryCtxRetain: CUDA_ERROR_OUT_OF_MEMORY; total memory reported: 8502771712&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;and the program quits without printing any output.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The most annoying thing is, running the same code in Jupyte Notebook ALWAYS generates no error or warning messages, though the output is incorrect. That's why I always thought I misunderstood about how to call &lt;code&gt;tf.metrics.mean_squared_error&lt;/code&gt; without realizing there could be a memory error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Tb1Cn.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Tb1Cn.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;System&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I verified the problem with my two computers running Tensorflow 1.3 and 1.4 respectively, both with CUDA 8, Ubuntu 16.04 and Nvidia GPUs (1080 and 770M). &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;My Questions&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(0) Is there anything wrong with my code?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(1) If you also use Tensorflow with Jupyter Notebook, do you ever get the wrong output (printing anything other than 4.0, 4.0) when running the above code? If so, does Jupyter alerts you about any error?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(2) What is the nature of this problem of returning the wrong &lt;code&gt;mse1&lt;/code&gt;? Is it a GPU memory leak?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(3) Why could there be such inconsistent behavior when the problem occurs? To be specific, why the &lt;code&gt;debug.py&lt;/code&gt; sometimes quits, sometimes not? Why Jupyter Notebook never quits or raises an error?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(4) Why the &lt;code&gt;mse2&lt;/code&gt; never goes wrong when &lt;code&gt;mse1&lt;/code&gt; goes wrong? My understanding is that &lt;code&gt;tf.metrics.mean_squared_error&lt;/code&gt; is a streaming operation and therefore need to store some variable in a different place.&lt;/p&gt;&#xA;"" OwnerUserId=""14006"" LastActivityDate=""2018-05-07T06:00:12.483"" Title=""Why Tensorflow does NOT quit when CUDA_ERROR_OUT_OF_MEMORY"" Tags=""&lt;tensorflow&gt;&lt;gpu&gt;&lt;jupyter&gt;"" AnswerCount=""0"" CommentCount=""0"" ClosedDate=""2020-12-27T20:24:25.540"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""32006"" PostTypeId=""1"" AcceptedAnswerId=""32021"" CreationDate=""2018-05-23T02:12:16.930"" Score=""1"" ViewCount=""155"" Body=""&lt;p&gt;I've been working through the Q-Network learning example in this &lt;a href=&quot;https://medium.com/emergent-future/simple-reinforcement-learning-with-tensorflow-part-0-q-learning-with-tables-and-neural-networks-d195264329d0&quot; rel=&quot;nofollow noreferrer&quot;&gt;Arthur Juliani's blog&lt;/a&gt;. It's based on the pretty trivia &lt;a href=&quot;https://gym.openai.com/envs/FrozenLake-v0/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Open Gym Frozen Lake&lt;/a&gt; example. It's base implementation get's about 47% success rate over 3000 iterations. I decided to add a bias to the implementation, and found that it severely harmed the results to no better than random.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;That is, I added the bias term below:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;inputs1 = tf.placeholder(shape=[1,16],dtype=tf.float32)&#xA;bias = tf.Variable(tf.zeros(shape=[1,4]))&#xA;W = tf.Variable(tf.random_uniform([16,4],0,0.01))&#xA;Qout = tf.matmul(inputs1,W) + bias&#xA;predict = tf.argmax(Qout,1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The rest of the code is identical to the original solution. Any ideas why this would so negatively affect performance?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;&#xA;It looks like &lt;a href=&quot;https://medium.com/@awjuliani/yep-the-bias-is-the-main-issue-ee19bf24190c&quot; rel=&quot;nofollow noreferrer&quot;&gt;someone else ran into this issue&lt;/a&gt;, and the answer given was that &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Having a bias term with the one-hot encoding prevents each state’s Q&#xA;  values from being independent&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Any ideas why this is the case? The bias is added after the multiplication, so it's in the dimension of the actions, not the inputs. I don't see why this would make learning fail.&lt;/p&gt;&#xA;"" OwnerUserId=""52553"" LastEditorUserId=""52553"" LastEditDate=""2018-05-24T02:14:27.923"" LastActivityDate=""2018-05-24T06:52:13.893"" Title=""Adding a bias makes Q-learning algorithm ineffective"" Tags=""&lt;tensorflow&gt;&lt;reinforcement-learning&gt;&lt;q-learning&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""33962"" PostTypeId=""1"" CreationDate=""2018-07-04T01:23:28.373"" Score=""1"" ViewCount=""3693"" Body=""&lt;p&gt;I am currently training a few custom models that require about 12Gb GPU memory at the most. My setup has about 96Gb of GPU memory and python/Jupyter still manages to hog up all the gpu memory to the point that I get the Resource exhausted error thrown at me. I am stuck at this peculiar issue for a while and hence any help will be appreciated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Now, when loading a vgg based model similar to this: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;from keras.applications.vgg16 import VGG16&#xA;from keras.models import Model&#xA;&#xA;import keras&#xA;&#xA;from keras.models import Model, Sequential&#xA;from keras.models import Input&#xA;input_shape = (512, 512, 3)&#xA;base_model = VGG16(input_shape=input_shape, weights=None, include_top=False)&#xA;&#xA;pixel_branch = base_model.output&#xA;pixel_branch = Flatten()(pixel_branch)&#xA;&#xA;new_model = Model(inputs=base_model.input, outputs=pixel_branch)&#xA;&#xA;text_branch = Sequential()&#xA;text_branch.add(Dense(32, input_shape=(1,), activation='relu'))&#xA;&#xA;# merged = Merge([new_model, text_branch], mode='concat')&#xA;merged = keras.layers.concatenate([new_model.output, text_branch.output])&#xA;&#xA;age = Dense(1000, activation='relu')(merged)&#xA;age = Dense(1000, activation='relu')(age)&#xA;age = Dense(1)(age)&#xA;&#xA;# show model&#xA;# model.summary()&#xA;model = Model(inputs=[base_model.input, text_branch.input], outputs=age)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I just run a jupyter cell with this code and monitor the GPU usage using nvidia-smi, it is 0% .&#xA;However, I replace the code in the above Jupyter cell with the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;from keras.applications.inception_v3 import InceptionV3&#xA;from keras.models import Model&#xA;import keras&#xA;from keras.models import Model&#xA;from keras.models import Sequential&#xA;&#xA;from keras.models import Input&#xA;input_shape = (512, 512, 3)&#xA;base_model = InceptionV3(input_shape=input_shape, weights=None, include_top=False)&#xA;&#xA;pixel_branch = base_model.output&#xA;pixel_branch = Flatten()(pixel_branch)&#xA;&#xA;new_model = Model(inputs=base_model.input, outputs=pixel_branch)&#xA;&#xA;text_branch = Sequential()&#xA;text_branch.add(Dense(32, input_shape=(1,), activation='relu'))&#xA;&#xA;# merged = Merge([new_model, text_branch], mode='concat')&#xA;merged = keras.layers.concatenate([new_model.output, text_branch.output])&#xA;&#xA;age = Dense(1000, activation='relu')(merged)&#xA;age = Dense(1000, activation='relu')(age)&#xA;age = Dense(1)(age)&#xA;&#xA;# show model&#xA;# model.summary()&#xA;model = Model(inputs=[base_model.input, text_branch.input], outputs=age)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The GPU usage goes crazy and suddenly almost all the memory is over in all the GPUs even before I do model.compile() or model.fit() in Keras!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have tried both allow_growth and per_process_gpu_memory_fraction in Tensorflow as well. I still get the resource exhausted error the moment I run model.fit when using the Inception based model.&#xA;Please note that I do not think this is a GPU memory error as I have about 96GB of GPU memory using an instance with 8 Tesla K80s .&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Also kindly note that my batch size is 2.&lt;/p&gt;&#xA;"" OwnerUserId=""49441"" LastActivityDate=""2023-10-12T03:03:10.353"" Title=""Training Inception V3 based model using Keras with Tensorflow Backend"" Tags=""&lt;python&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;computer-vision&gt;&lt;inception&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""36781"" PostTypeId=""1"" CreationDate=""2018-08-11T11:51:28.997"" Score=""1"" ViewCount=""619"" Body=""&lt;p&gt;I am using Keras with a Tensorflow backend to train an Image Classification model on a GPU. I have read somewhere that training uses roughly twice (both forward and back props) the GPU memory of validating, so therefore the training batch size should be the half of the validation batch size.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, on many blogs and tutorials, I see that people use the same batch size for training and validating.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is it true that training uses twice the GPU memory, because of the forward and backward pass, or is this false?&lt;/p&gt;&#xA;"" OwnerUserId=""57524"" LastActivityDate=""2020-02-15T08:01:40.130"" Title=""Setting batch size: training requires twice as much memory as validating"" Tags=""&lt;python&gt;&lt;deep-learning&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;mini-batch-gradient-descent&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""51700"" PostTypeId=""1"" CreationDate=""2019-05-09T20:07:23.323"" Score=""3"" ViewCount=""309"" Body=""&lt;p&gt;I am training a stateful RNN on variable length sequences (&lt;em&gt;optional&lt;/em&gt;: see my &lt;a href=&quot;https://stackoverflow.com/questions/55978050/using-tf-dataset-api-to-process-sequences-for-stateful-rnn&quot;&gt;previous question&lt;/a&gt; for more details).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I padded the sequences to a fixed length with the value -1. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The when batches are loaded, some samples will be entirely -1. (e.g. the batches are shape [batchsize, ...] and samples 1,6,8 may be entirely composed of -1's). I would like to:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;not include these samples in the loss function calculation &lt;/li&gt;&#xA;&lt;li&gt;not perform operations on them so as to speedup training.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;h3&gt;Attempt 1:&lt;/h3&gt;&#xA;&#xA;&lt;p&gt;I tried using &lt;a href=&quot;https://www.tensorflow.org/api_docs/python/tf/keras/layers/Masking&quot; rel=&quot;nofollow noreferrer&quot;&gt;tf.Keras.layers.Masking&lt;/a&gt; as in:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;input = tf.Keras.layers.Masking(mask_val=-1)(input)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But, this doesnt seem to do anything. The subsequent operations are still performed, and as far as I can tell the samples are still included in the loss function. Why is this?&lt;/p&gt;&#xA;&#xA;&lt;h3&gt;Attempt 2:&lt;/h3&gt;&#xA;&#xA;&lt;p&gt;I tried making my own custom layer which would actually remove samples which are masked (see code below). For example the input shape goes from &lt;code&gt;[batchsize, ...]&lt;/code&gt; to &lt;code&gt;[adj_batchsize, ...]&lt;/code&gt; where &lt;code&gt;adj_batchsize = batchsize - num_removed_samples&lt;/code&gt;. This works, but is extremely slow, since every time the input shape changes, the GPU memory needs to be reallocated which slows training down by a lot.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class MaskLayer(K.Model):&#xA;&#xA;    def __init__(self, mask_val):&#xA;        '''&#xA;        This layer takes input tensor of [batchsize, ...] and returns tensor of shape [bs_out, ...]&#xA;        Where all samples composed entirely of mask_val are removed and bs_out is the number of remaining&#xA;        samples&#xA;        '''&#xA;        super(MaskLayer, self).__init__()&#xA;        self.mask_val = mask_val&#xA;        self.mask  = tf.keras.layers.Masking(mask_value=mask_val)&#xA;&#xA;    def call(self, data, lbls):&#xA;&#xA;        good_batches = tf.where(tf.math.reduce_all(self.mask.compute_mask(data), axis=range(1,data.ndim-1)))[:,0]&#xA;        data = tf.gather(data, good_batches)&#xA;        lbls = tf.gather(lbls, good_batches)&#xA;        return data, lbls&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So what would be the best way to do this?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;NOTE: This question was previously asked on stackoverflow.coom, but deleted due to lack of response. I think this will be a better home for it.&lt;/p&gt;&#xA;"" OwnerUserId=""47279"" LastActivityDate=""2019-05-09T20:07:23.323"" Title=""How do I implement masking in TensorFlow eager execution?"" Tags=""&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;dataset&gt;&lt;lstm&gt;&lt;rnn&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""56038"" PostTypeId=""1"" CreationDate=""2019-07-19T22:58:54.113"" Score=""0"" ViewCount=""556"" Body=""&lt;p&gt;If I train a model using 2 GPUs, using &lt;code&gt;multi_gpu_model&lt;/code&gt; and the &lt;code&gt;ModelCheckpoint&lt;/code&gt; callback to save the best, it gives this error when calling &lt;code&gt;load_model&lt;/code&gt; on the checkpoint saved model.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I would like to train the model using multiple gpus, but run it again on a single GPU. This seems to fail.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;keras version: 2.2.4-tf&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;My code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;from tensorflow.keras.utils import multi_gpu_model&#xA;def get_model():&#xA;    base_model = ResNet50(weights='imagenet', input_shape=(image_size,image_size,3), include_top=False)&#xA;    #base_model.trainable = False&#xA;&#xA;    model = models.Sequential()&#xA;    model.add(base_model)&#xA;    model.add(layers.GlobalAveragePooling2D())&#xA;    model.add(layers.Dense(1024, activation='relu'))&#xA;    model.add(layers.Dropout(0.5))&#xA;    model.add(layers.Dense(196, activation='softmax'))&#xA;    model.summary()&#xA;&#xA;    model = multi_gpu_model(model,gpus=2)&#xA;&#xA;    #optimizer = optimizers.SGD(lr=1e-4, decay=1e-6, momentum=0.9, nesterov=True)&#xA;    optimizer = optimizers.RMSprop(lr=0.0001)&#xA;    model.compile(loss='categorical_crossentropy', optimizer=optimizer, metrics=['acc'])&#xA;&#xA;    return model&#xA;&#xA;&#xA;prediction = [] for i, name in enumerate(model_names):&#xA;    model = get_model()&#xA;    model.load_weights(name)&#xA;&#xA;    test_generator.reset()&#xA;    pred = model.predict_generator(&#xA;        generator=test_generator,&#xA;        steps = len(df_test)/BATCH_SIZE,&#xA;        verbose=1&#xA;    )&#xA;    prediction.append(pred)&#xA;&#xA;y_pred = &#xA;&#xA;np.mean(prediction, axis=0)&#xA;&amp;gt; &#xA;&amp;gt; --------------------------------------------------------------------------- ValueError                                Traceback (most recent call&#xA;&amp;gt; last) &amp;lt;ipython-input-42-6636e5e21c1b&amp;gt; in &amp;lt;module&amp;gt;&#xA;&amp;gt;       2 for i, name in enumerate(model_names):&#xA;&amp;gt;       3     model = get_model()&#xA;&amp;gt; ----&amp;gt; 4     model.load_weights(name)&#xA;&amp;gt;       5 &#xA;&amp;gt;       6     test_generator.reset()&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/engine/training.py&#xA;&amp;gt; in load_weights(self, filepath, by_name)&#xA;&amp;gt;     160         raise ValueError('Load weights is not yet supported with TPUStrategy '&#xA;&amp;gt;     161                          'with steps_per_run greater than 1.')&#xA;&amp;gt; --&amp;gt; 162     return super(Model, self).load_weights(filepath, by_name)&#xA;&amp;gt;     163 &#xA;&amp;gt;     164   @trackable.no_automatic_dependency_tracking&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/engine/network.py&#xA;&amp;gt; in load_weights(self, filepath, by_name)    1413        &#xA;&amp;gt; saving.load_weights_from_hdf5_group_by_name(f, self.layers)    1414   &#xA;&amp;gt; else:&#xA;&amp;gt; -&amp;gt; 1415         saving.load_weights_from_hdf5_group(f, self.layers)    1416     1417   def _updated_config(self):&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in load_weights_from_hdf5_group(f, layers)&#xA;&amp;gt;     681     symbolic_weights = _legacy_weights(layer)&#xA;&amp;gt;     682     weight_values = preprocess_weights_for_loading(&#xA;&amp;gt; --&amp;gt; 683         layer, weight_values, original_keras_version, original_backend)&#xA;&amp;gt;     684     if len(weight_values) != len(symbolic_weights):&#xA;&amp;gt;     685       raise ValueError('Layer #' + str(k) + ' (named &quot;' + layer.name +&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in preprocess_weights_for_loading(layer, weights,&#xA;&amp;gt; original_keras_version, original_backend)&#xA;&amp;gt;     306     weights = convert_nested_time_distributed(weights)&#xA;&amp;gt;     307   elif layer.__class__.__name__ in ['Model', 'Sequential']:&#xA;&amp;gt; --&amp;gt; 308     weights = convert_nested_model(weights)&#xA;&amp;gt;     309 &#xA;&amp;gt;     310   if original_keras_version == '1':&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in convert_nested_model(weights)&#xA;&amp;gt;     294             weights=weights[:num_weights],&#xA;&amp;gt;     295             original_keras_version=original_keras_version,&#xA;&amp;gt; --&amp;gt; 296             original_backend=original_backend))&#xA;&amp;gt;     297         weights = weights[num_weights:]&#xA;&amp;gt;     298     return new_weights&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in preprocess_weights_for_loading(layer, weights,&#xA;&amp;gt; original_keras_version, original_backend)&#xA;&amp;gt;     306     weights = convert_nested_time_distributed(weights)&#xA;&amp;gt;     307   elif layer.__class__.__name__ in ['Model', 'Sequential']:&#xA;&amp;gt; --&amp;gt; 308     weights = convert_nested_model(weights)&#xA;&amp;gt;     309 &#xA;&amp;gt;     310   if original_keras_version == '1':&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in convert_nested_model(weights)&#xA;&amp;gt;     282             weights=weights[:num_weights],&#xA;&amp;gt;     283             original_keras_version=original_keras_version,&#xA;&amp;gt; --&amp;gt; 284             original_backend=original_backend))&#xA;&amp;gt;     285         weights = weights[num_weights:]&#xA;&amp;gt;     286 &#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/tensorflow/python/keras/saving/hdf5_format.py&#xA;&amp;gt; in preprocess_weights_for_loading(layer, weights,&#xA;&amp;gt; original_keras_version, original_backend)&#xA;&amp;gt;     388         weights[1] = conv_utils.convert_kernel(weights[1])&#xA;&amp;gt;     389     if K.int_shape(layer.weights[0]) != weights[0].shape:&#xA;&amp;gt; --&amp;gt; 390       weights[0] = np.transpose(weights[0], (3, 2, 0, 1))&#xA;&amp;gt;     391       if layer.__class__.__name__ == 'ConvLSTM2D':&#xA;&amp;gt;     392         weights[1] = np.transpose(weights[1], (3, 2, 0, 1))&#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/numpy/core/fromnumeric.py in&#xA;&amp;gt; transpose(a, axes)&#xA;&amp;gt;     637 &#xA;&amp;gt;     638     &quot;&quot;&quot;&#xA;&amp;gt; --&amp;gt; 639     return _wrapfunc(a, 'transpose', axes)&#xA;&amp;gt;     640 &#xA;&amp;gt;     641 &#xA;&amp;gt; &#xA;&amp;gt; ~/venv/lib/python3.6/site-packages/numpy/core/fromnumeric.py in&#xA;&amp;gt; _wrapfunc(obj, method, *args, **kwds)&#xA;&amp;gt;      54 def _wrapfunc(obj, method, *args, **kwds):&#xA;&amp;gt;      55     try:&#xA;&amp;gt; ---&amp;gt; 56         return getattr(obj, method)(*args, **kwds)&#xA;&amp;gt;      57 &#xA;&amp;gt;      58     # An AttributeError occurs if the object does not have&#xA;&amp;gt; &#xA;&amp;gt; ValueError: axes don't match array&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""67437"" LastEditorUserId=""29169"" LastEditDate=""2019-07-21T09:04:39.407"" LastActivityDate=""2019-11-28T21:04:45.143"" Title=""multi gpu with axes dont match array?"" Tags=""&lt;neural-network&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;cnn&gt;&lt;gpu&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""61557"" PostTypeId=""1"" AcceptedAnswerId=""61582"" CreationDate=""2019-10-10T12:49:12.243"" Score=""1"" ViewCount=""8117"" Body=""&lt;p&gt;I've been following Sentdex's tutorials on YouTube about Deep Learning and I've encountered and error while trying to load an image and run it through the model. The error says that the inputs do not match the input signature but I've been struggling to find out how to change that.&#xA;Any help would be really appreciated! &#xA;The code for loading the model and test image is below:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import cv2&#xA;import tensorflow as tf&#xA;&#xA;CATEGORIES = [&quot;Dog&quot;, &quot;Cat&quot;]&#xA;&#xA;def prepare(filepath):&#xA;    IMG_SIZE = 50&#xA;    img_array = cv2.imread(filepath, cv2.IMREAD_GRAYSCALE)&#xA;    new_array = cv2.resize(img_array, (IMG_SIZE, IMG_SIZE))&#xA;    return new_array.reshape(-1, IMG_SIZE, IMG_SIZE, 1)&#xA;&#xA;model = tf.keras.models.load_model(&quot;PyCharmProject\\64x3-CNN.model&quot;)&#xA;&#xA;prediction = model.predict([prepare('PyCharmProject\dog.jpg')])&#xA;print(prediction)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and the error I am receiving:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ValueError                                Traceback (most recent call last)&#xA;&amp;lt;ipython-input-1-241c64aef27c&amp;gt; in &amp;lt;module&amp;gt;&#xA;     12 model = tf.keras.models.load_model(&quot;PyCharmProject\\64x3-CNN.model&quot;)&#xA;     13 &#xA;---&amp;gt; 14 prediction = model.predict([prepare('PyCharmProject\dog.jpg')])&#xA;     15 print(prediction)&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training.py in predict(self, x, batch_size, verbose, steps, callbacks, max_queue_size, workers, use_multiprocessing)&#xA;    912         max_queue_size=max_queue_size,&#xA;    913         workers=workers,&#xA;--&amp;gt; 914         use_multiprocessing=use_multiprocessing)&#xA;    915 &#xA;    916   def reset_metrics(self):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2.py in predict(self, model, x, batch_size, verbose, steps, callbacks, **kwargs)&#xA;    444     return self._model_iteration(&#xA;    445         model, ModeKeys.PREDICT, x=x, batch_size=batch_size, verbose=verbose,&#xA;--&amp;gt; 446         steps=steps, callbacks=callbacks, **kwargs)&#xA;    447 &#xA;    448 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2.py in _model_iteration(self, model, mode, x, y, batch_size, verbose, sample_weight, steps, callbacks, **kwargs)&#xA;    426               mode=mode,&#xA;    427               training_context=training_context,&#xA;--&amp;gt; 428               total_epochs=1)&#xA;    429           cbks.make_logs(model, epoch_logs, result, mode)&#xA;    430 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2.py in run_one_epoch(model, iterator, execution_function, dataset_size, batch_size, strategy, steps_per_epoch, num_samples, mode, training_context, total_epochs)&#xA;    120         step=step, mode=mode, size=current_batch_size) as batch_logs:&#xA;    121       try:&#xA;--&amp;gt; 122         batch_outs = execution_function(iterator)&#xA;    123       except (StopIteration, errors.OutOfRangeError):&#xA;    124         # TODO(kaftan): File bug about tf function and errors.OutOfRangeError?&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2_utils.py in execution_function(input_fn)&#xA;     82     # `numpy` translates Tensors to values in Eager mode.&#xA;     83     return nest.map_structure(_non_none_constant_value,&#xA;---&amp;gt; 84                               distributed_function(input_fn))&#xA;     85 &#xA;     86   return execution_function&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\def_function.py in __call__(self, *args, **kwds)&#xA;    447     # This is the first call of __call__, so we have to initialize.&#xA;    448     initializer_map = object_identity.ObjectIdentityDictionary()&#xA;--&amp;gt; 449     self._initialize(args, kwds, add_initializers_to=initializer_map)&#xA;    450     if self._created_variables:&#xA;    451       try:&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\def_function.py in _initialize(self, args, kwds, add_initializers_to)&#xA;    390     self._concrete_stateful_fn = (&#xA;    391         self._stateful_fn._get_concrete_function_internal_garbage_collected(  # pylint: disable=protected-access&#xA;--&amp;gt; 392             *args, **kwds))&#xA;    393 &#xA;    394     def invalid_creator_scope(*unused_args, **unused_kwds):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in _get_concrete_function_internal_garbage_collected(self, *args, **kwargs)&#xA;   1837     if self.input_signature:&#xA;   1838       args, kwargs = None, None&#xA;-&amp;gt; 1839     graph_function, _, _ = self._maybe_define_function(args, kwargs)&#xA;   1840     return graph_function&#xA;   1841 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in _maybe_define_function(self, args, kwargs)&#xA;   2137         graph_function = self._function_cache.primary.get(cache_key, None)&#xA;   2138         if graph_function is None:&#xA;-&amp;gt; 2139           graph_function = self._create_graph_function(args, kwargs)&#xA;   2140           self._function_cache.primary[cache_key] = graph_function&#xA;   2141         return graph_function, args, kwargs&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in _create_graph_function(self, args, kwargs, override_flat_arg_shapes)&#xA;   2028             arg_names=arg_names,&#xA;   2029             override_flat_arg_shapes=override_flat_arg_shapes,&#xA;-&amp;gt; 2030             capture_by_value=self._capture_by_value),&#xA;   2031         self._function_attributes,&#xA;   2032         # Tell the ConcreteFunction to clean up its graph once it goes out of&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\framework\func_graph.py in func_graph_from_py_func(name, python_func, args, kwargs, signature, func_graph, autograph, autograph_options, add_control_dependencies, arg_names, op_return_value, collections, capture_by_value, override_flat_arg_shapes)&#xA;    913                                           converted_func)&#xA;    914 &#xA;--&amp;gt; 915       func_outputs = python_func(*func_args, **func_kwargs)&#xA;    916 &#xA;    917       # invariant: `func_outputs` contains only Tensors, CompositeTensors,&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\def_function.py in wrapped_fn(*args, **kwds)&#xA;    333         # __wrapped__ allows AutoGraph to swap in a converted function. We give&#xA;    334         # the function a weak reference to itself to avoid a reference cycle.&#xA;--&amp;gt; 335         return weak_wrapped_fn().__wrapped__(*args, **kwds)&#xA;    336     weak_wrapped_fn = weakref.ref(wrapped_fn)&#xA;    337 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2_utils.py in distributed_function(input_iterator)&#xA;     69     strategy = distribution_strategy_context.get_strategy()&#xA;     70     outputs = strategy.experimental_run_v2(&#xA;---&amp;gt; 71         per_replica_function, args=(model, x, y, sample_weights))&#xA;     72     # Out of PerReplica outputs reduce or pick values to return.&#xA;     73     all_outputs = dist_utils.unwrap_output_dict(&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\distribute\distribute_lib.py in experimental_run_v2(self, fn, args, kwargs)&#xA;    762       fn = autograph.tf_convert(fn, ag_ctx.control_status_ctx(),&#xA;    763                                 convert_by_default=False)&#xA;--&amp;gt; 764       return self._extended.call_for_each_replica(fn, args=args, kwargs=kwargs)&#xA;    765 &#xA;    766   def reduce(self, reduce_op, value, axis):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\distribute\distribute_lib.py in call_for_each_replica(self, fn, args, kwargs)&#xA;   1803       kwargs = {}&#xA;   1804     with self._container_strategy().scope():&#xA;-&amp;gt; 1805       return self._call_for_each_replica(fn, args, kwargs)&#xA;   1806 &#xA;   1807   def _call_for_each_replica(self, fn, args, kwargs):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\distribute\distribute_lib.py in _call_for_each_replica(self, fn, args, kwargs)&#xA;   2148         self._container_strategy(),&#xA;   2149         replica_id_in_sync_group=constant_op.constant(0, dtypes.int32)):&#xA;-&amp;gt; 2150       return fn(*args, **kwargs)&#xA;   2151 &#xA;   2152   def _reduce_to(self, reduce_op, value, destinations):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\autograph\impl\api.py in wrapper(*args, **kwargs)&#xA;    290   def wrapper(*args, **kwargs):&#xA;    291     with ag_ctx.ControlStatusCtx(status=ag_ctx.Status.DISABLED):&#xA;--&amp;gt; 292       return func(*args, **kwargs)&#xA;    293 &#xA;    294   if inspect.isfunction(func) or inspect.ismethod(func):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2_utils.py in _predict_on_batch(***failed resolving arguments***)&#xA;    158     def _predict_on_batch(model, x, y=None, sample_weights=None):&#xA;    159       del y, sample_weights&#xA;--&amp;gt; 160       return predict_on_batch(model, x)&#xA;    161 &#xA;    162     func = _predict_on_batch&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\training_v2_utils.py in predict_on_batch(model, x)&#xA;    366 &#xA;    367   with backend.eager_learning_phase_scope(0):&#xA;--&amp;gt; 368     return model(inputs)  # pylint: disable=not-callable&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\base_layer.py in __call__(self, inputs, *args, **kwargs)&#xA;    848                     outputs = base_layer_utils.mark_as_return(outputs, acd)&#xA;    849                 else:&#xA;--&amp;gt; 850                   outputs = call_fn(cast_inputs, *args, **kwargs)&#xA;    851 &#xA;    852             except errors.OperatorNotAllowedInGraphError as e:&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\sequential.py in call(self, inputs, training, mask)&#xA;    253       if not self.built:&#xA;    254         self._init_graph_network(self.inputs, self.outputs, name=self.name)&#xA;--&amp;gt; 255       return super(Sequential, self).call(inputs, training=training, mask=mask)&#xA;    256 &#xA;    257     outputs = inputs  # handle the corner case where self.layers is empty&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\network.py in call(self, inputs, training, mask)&#xA;    695                                 ' implement a `call` method.')&#xA;    696 &#xA;--&amp;gt; 697     return self._run_internal_graph(inputs, training=training, mask=mask)&#xA;    698 &#xA;    699   def compute_output_shape(self, input_shape):&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\network.py in _run_internal_graph(self, inputs, training, mask)&#xA;    840 &#xA;    841           # Compute outputs.&#xA;--&amp;gt; 842           output_tensors = layer(computed_tensors, **kwargs)&#xA;    843 &#xA;    844           # Update tensor_dict.&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\engine\base_layer.py in __call__(self, inputs, *args, **kwargs)&#xA;    848                     outputs = base_layer_utils.mark_as_return(outputs, acd)&#xA;    849                 else:&#xA;--&amp;gt; 850                   outputs = call_fn(cast_inputs, *args, **kwargs)&#xA;    851 &#xA;    852             except errors.OperatorNotAllowedInGraphError as e:&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\keras\saving\saved_model\utils.py in return_outputs_and_add_losses(*args, **kwargs)&#xA;     55     inputs = args[inputs_arg_index]&#xA;     56     args = args[inputs_arg_index + 1:]&#xA;---&amp;gt; 57     outputs, losses = fn(inputs, *args, **kwargs)&#xA;     58     layer.add_loss(losses, inputs)&#xA;     59     return outputs&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\def_function.py in __call__(self, *args, **kwds)&#xA;    439       # In this case we have not created variables on the first call. So we can&#xA;    440       # run the first trace but we should fail if variables are created.&#xA;--&amp;gt; 441       results = self._stateful_fn(*args, **kwds)&#xA;    442       if self._created_variables:&#xA;    443         raise ValueError(&quot;Creating variables on a non-first call to a function&quot;&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in __call__(self, *args, **kwargs)&#xA;   1811   def __call__(self, *args, **kwargs):&#xA;   1812     &quot;&quot;&quot;Calls a graph function specialized to the inputs.&quot;&quot;&quot;&#xA;-&amp;gt; 1813     graph_function, args, kwargs = self._maybe_define_function(args, kwargs)&#xA;   1814     return graph_function._filtered_call(args, kwargs)  # pylint: disable=protected-access&#xA;   1815 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in _maybe_define_function(self, args, kwargs)&#xA;   2094     if self.input_signature is None or args is not None or kwargs is not None:&#xA;   2095       args, kwargs = self._function_spec.canonicalize_function_inputs(&#xA;-&amp;gt; 2096           *args, **kwargs)&#xA;   2097 &#xA;   2098     cache_key = self._cache_key(args, kwargs)&#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in canonicalize_function_inputs(self, *args, **kwargs)&#xA;   1640           inputs,&#xA;   1641           self._input_signature,&#xA;-&amp;gt; 1642           self._flat_input_signature)&#xA;   1643       return inputs, {}&#xA;   1644 &#xA;&#xA;~\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcge-packages\tensorflow_core\python\eager\function.py in _convert_inputs_to_signature(inputs, input_signature, flat_input_signature)&#xA;   1706       flatten_inputs)):&#xA;   1707     raise ValueError(&quot;Python inputs incompatible with input_signature:\n%s&quot; %&#xA;-&amp;gt; 1708                      format_error_message(inputs, input_signature))&#xA;   1709 &#xA;   1710   if need_packing:&#xA;&#xA;ValueError: Python inputs incompatible with input_signature:&#xA;  inputs: (&#xA;    Tensor(&quot;IteratorGetNext:0&quot;, shape=(None, 50, 50, 1), dtype=uint8))&#xA;  input_signature: (&#xA;    TensorSpec(shape=(None, None, None, 1), dtype=tf.float32, name=None))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;​&#xA;​&#xA;I assume it might be of relevance I'll put the code for building the model below too: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow as tf&#xA;import numpy as np&#xA;from tensorflow.keras.models import Sequential&#xA;from tensorflow.keras.layers import Dense, Dropout, Activation, Flatten, Conv2D, MaxPooling2D&#xA;from tensorflow.keras.callbacks import TensorBoard&#xA;import pickle&#xA;import time&#xA;&#xA;X = np.asarray(pickle.load(open(&quot;X.pickle&quot;, &quot;rb&quot;)))&#xA;y = np.asarray(pickle.load(open(&quot;y.pickle&quot;, &quot;rb&quot;)))&#xA;&#xA;X = X/255.0&#xA;&#xA;dense_layers = [1]&#xA;layer_sizes = [64]&#xA;conv_layers = [3]&#xA;&#xA;for dense_layer in dense_layers:&#xA;    for layer_size in layer_sizes:&#xA;        for conv_layer in conv_layers:&#xA;            NAME = &quot;{}-conv-{}-nodes-{}-dense-{}&quot;.format(conv_layer, layer_size, dense_layer, int(time.time()))&#xA;            tensorboard = TensorBoard(log_dir='logs\{}'.format(NAME))&#xA;            model = Sequential()&#xA;            model.add(Conv2D(layer_size, (3,3), input_shape = X.shape[1:]))&#xA;            model.add(Activation(&quot;relu&quot;))&#xA;            model.add(MaxPooling2D(pool_size = (2, 2)))&#xA;&#xA;            for l in range(conv_layer-1):&#xA;                model.add(Conv2D(layer_size, (3,3)))&#xA;                model.add(Activation(&quot;relu&quot;))&#xA;                model.add(MaxPooling2D(pool_size = (2, 2)))&#xA;&#xA;            model.add(Flatten())&#xA;&#xA;            for l in range(dense_layer):&#xA;                model.add(Dense(layer_size))&#xA;                model.add(Activation(&quot;relu&quot;))&#xA;&#xA;            model.add(Dense(1))&#xA;            model.add(Activation(&quot;sigmoid&quot;))&#xA;&#xA;            model.compile(loss = &quot;binary_crossentropy&quot;,&#xA;                         optimizer = &quot;adam&quot;,&#xA;                         metrics = ['accuracy'])&#xA;&#xA;            model.fit(X, y, batch_size=13, epochs=1, validation_split=0.1, steps_per_epoch=1727, callbacks=[tensorboard])&#xA;&#xA;model.save('64x3-CNN.model')&#xA;&lt;span class=&quot;math-container&quot;&gt;```&lt;/span&gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""82016"" LastEditorUserId=""12359"" LastEditDate=""2020-01-09T22:10:31.330"" LastActivityDate=""2020-01-09T22:10:31.330"" Title=""Tensorflow error: Input signature not matching inputs"" Tags=""&lt;python&gt;&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;data-science-model&gt;"" AnswerCount=""1"" CommentCount=""13"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""62584"" PostTypeId=""1"" AcceptedAnswerId=""62606"" CreationDate=""2019-11-02T20:24:05.373"" Score=""1"" ViewCount=""111"" Body=""&lt;p&gt;I want to train several CNN architectures with Google Colab (GPU), Keras and Tensorflow.&#xA;Since the trained models are not reproducible due to GPU support, I would like to train the models several times and determine the mean and the standard deviation of the results.&#xA;I'm totally unsure if I should at least try to make the models minimal reproducible? For example with the following code at the beginning of the program:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import numpy&#xA;import tensorflow as tf&#xA;import random as rn&#xA;import os&#xA;&#xA;os.environ['PYTHONHASHSEED']='0'&#xA;np.random.seed(1)&#xA;rn.seed(1)&#xA;tf.set_random_seed(1)&#xA;&#xA;from keras import backend as K&#xA;if 'tensorflow' == K.backend():&#xA;   import tensorflow as tf&#xA;   tf.set_random_seed(1)&#xA;   from keras.backend.tensorflow_backend import set_session&#xA;   config = tf.ConfigProto()&#xA;   config.gpu_options.allow_growth = True&#xA;   config.gpu_options.visible_device_list = &quot;0&quot;&#xA;   set_session(tf.Session(config=config)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I don't know if this makes sense. Would it be better if I did not use seeds at all?&#xA;What do you think?&lt;/p&gt;&#xA;"" OwnerUserId=""62073"" LastActivityDate=""2019-11-03T10:12:01.020"" Title=""How reproducible should CNN models be?"" Tags=""&lt;keras&gt;&lt;tensorflow&gt;&lt;cnn&gt;&lt;gpu&gt;&lt;colab&gt;"" AnswerCount=""1"" CommentCount=""0"" ClosedDate=""2019-11-04T13:13:09.673"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""62840"" PostTypeId=""1"" CreationDate=""2019-11-07T16:04:42.940"" Score=""5"" ViewCount=""836"" Body=""&lt;p&gt;I trained a model and froze it into a PB (protocol buffer) file and a directory of some variables, and the total size is about 31M. We deployed it using a GPU card and followed &lt;a href=&quot;https://stackoverflow.com/a/34200194/3552975&quot;&gt;this answer&lt;/a&gt; and set the &lt;code&gt;per_process_gpu_memory_fraction&lt;/code&gt; to a very little number to make the memory to be about 40M. The program performs very well but when we check the GPU usage by &lt;code&gt;nvidia-smi&lt;/code&gt; which shows that the memory usage is about 500M.&lt;/p&gt;&#xA;&lt;p&gt;Then my question is how can I justify this gap? How can we reduce that? Can we do something like quantization to decrease the 500M? We want to deploy it into an edge device so the 500M is too large.&lt;/p&gt;&#xA;"" OwnerUserId=""9191"" LastEditorUserId=""85045"" LastEditDate=""2020-12-12T03:14:53.257"" LastActivityDate=""2020-12-12T03:14:53.257"" Title=""Reducing the GPU memory usage when the model is already small enough"" Tags=""&lt;tensorflow&gt;&lt;gpu&gt;&lt;hardware&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""64433"" PostTypeId=""1"" CreationDate=""2019-12-08T17:29:11.803"" Score=""4"" ViewCount=""3631"" Body=""&lt;p&gt;I am writing Encoder-Decoder architecture with Bahdanau Attention using tf.keras with TensorFlow 2.0. Below is my code This is working with TensorFlow 1.15 but getting the error in 2.0. you can check the code in colab notebook &lt;a href=&quot;https://colab.research.google.com/drive/12Vq1t9xOtrPmXV2Sj_GSoE9bxH7FgaKs&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;. &#xA;can you please tell me what is wrong in the code. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import numpy as np&#xA;import pandas as pd&#xA;import matplotlib.pyplot as plt&#xA;from tensorflow.keras.layers import Input, Dense, Conv2D, BatchNormalization, Activation, Dropout, GRU, Embedding&#xA;from tensorflow.keras.models import Model&#xA;from tensorflow.keras import activations&#xA;from tensorflow.keras.layers import Layer&#xA;from tensorflow.keras import layers&#xA;import tensorflow as tf&#xA;from tensorflow.keras.layers import GRU, concatenate, Lambda&#xA;&#xA;ENCODER_SEQ_LEN = 30&#xA;DECODER_SEQ_LEN = 20&#xA;VOCAB_SIZE = 500&#xA;units = 16&#xA;&#xA;tf.keras.backend.clear_session()&#xA;class Encoder(Model):&#xA;    def __init__(self, vocab_size, embedding_dim, input_length, units):&#xA;        super(Encoder, self).__init__()&#xA;        self.vocab_size = vocab_size&#xA;        self.embedding_dim = embedding_dim&#xA;        self.input_length = input_length&#xA;        self.units = units&#xA;        self.embedding = Embedding(input_dim=VOCAB_SIZE, output_dim=50, input_length=self.input_length,&#xA;                           mask_zero=False, name=&quot;embedding_layer_encoder&quot;)&#xA;        self.gru = GRU(self.units, return_state=True, return_sequences=True, name=&quot;Encoder_GRU&quot;)&#xA;    @tf.function&#xA;    def call(self, inputs, training=True):&#xA;        x_embedd = self.embedding(inputs)&#xA;        gru_output, gru_state = self.gru(x_embedd)&#xA;        return gru_output, gru_state&#xA;&#xA;class BahdanauAttention(tf.keras.layers.Layer):&#xA;    def __init__(self, units):&#xA;        super(BahdanauAttention, self).__init__()&#xA;        self.W1 = tf.keras.layers.Dense(units)&#xA;        self.W2 = tf.keras.layers.Dense(units)&#xA;        self.V = tf.keras.layers.Dense(1)&#xA;&#xA;    def call(self, query, values):&#xA;        # hidden shape == (batch_size, hidden size)&#xA;        # # hidden_with_time_axis shape == (batch_size, 1, hidden size)&#xA;        # # we are doing this to perform addition to calculate the score&#xA;        hidden_with_time_axis = tf.expand_dims(query, 1)&#xA;        # score shape == (batch_size, max_length, 1)&#xA;        # # we get 1 at the last axis because we are applying score to self.V&#xA;        # # the shape of the tensor before applying self.V is (batch_size, max_length, units)&#xA;        score = self.V(tf.nn.tanh(self.W1(values) + self.W2(hidden_with_time_axis)))&#xA;        # attention_weights shape == (batch_size, max_length, 1)&#xA;        attention_weights = tf.nn.softmax(score, axis=1)&#xA;        # context_vector shape after sum == (batch_size, hidden_size)&#xA;        context_vector = attention_weights * values&#xA;        context_vector = tf.reduce_sum(context_vector, axis=1)&#xA;        return context_vector&#xA;&#xA;class onestepDecoder(Model):&#xA;    def __init__(self, vocab_size, embedding_dim, dec_units, att_units):&#xA;        super(onestepDecoder, self).__init__()&#xA;        self.vocab_size = vocab_size&#xA;        self.embedding_dim = embedding_dim&#xA;        self.dec_units = dec_units&#xA;        self.att_units = att_units&#xA;        self.embedd = Embedding(input_dim=self.vocab_size, output_dim=self.embedding_dim,&#xA;                      input_length=1, mask_zero=False, name=&quot;Decoder_Embedding_layer&quot;)&#xA;        self.att_layer = BahdanauAttention(units=self.att_units) #name='Attention')&#xA;        self.dense = Dense(self.vocab_size, activation=&quot;softmax&quot;, name=&quot;DenseOut&quot;)&#xA;        self.gru = GRU(units=self.dec_units, return_state=True, name=&quot;DecGRU&quot;)&#xA;    @tf.function&#xA;    def call(self, input_decoder, input_state, encoder_outputs, training=True):&#xA;        x_embedd = self.embedd(input_decoder)&#xA;        context_vector = self.att_layer(input_state, encoder_outputs )&#xA;        concat = tf.concat([tf.expand_dims(context_vector, 1), x_embedd], axis=-1)&#xA;        decoder_output, Decoder_state = self.gru(concat, initial_state=input_state)&#xA;        output = self.dense(decoder_output)&#xA;        return (output, Decoder_state)&#xA;class Decoder(Model):&#xA;    def __init__(self, vocab_size, embedding_dim, dec_units, att_units):&#xA;        super(Decoder, self).__init__()&#xA;        self.vocab_size = vocab_size&#xA;        self.embedding_dim = embedding_dim&#xA;        self.dec_units = dec_units&#xA;        self.att_units = att_units&#xA;        self.stepdec = onestepDecoder(self.vocab_size, self.embedding_dim, self.dec_units, self.att_units)&#xA;    @tf.function&#xA;    def call(self, input_decoder, input_state, encoder_outputs):&#xA;        all_outputs= tf.TensorArray(tf.float32, size=input_decoder.shape[1], name=&quot;output_arrays&quot;)&#xA;        for timestep in range(input_decoder.shape[1]):&#xA;            output, input_state = self.stepdec(input_decoder[:,timestep:timestep+1], input_state, encoder_outputs)&#xA;            all_outputs = all_outputs.write(timestep, output)&#xA;        all_outputs = tf.transpose(all_outputs.stack(), [1, 0, 2])&#xA;        return all_outputs&#xA;&#xA;encoder_input = Input(shape=(ENCODER_SEQ_LEN,), name='encoder_input_final')&#xA;decoder_input = Input(shape=(DECODER_SEQ_LEN,), name=&quot;Decoder_inout_final&quot;)&#xA;encoder = Encoder(vocab_size=VOCAB_SIZE, embedding_dim=50, input_length=ENCODER_SEQ_LEN, units=16)&#xA;x_gru_out, x_gru_state = encoder(encoder_input)&#xA;decoder = Decoder(vocab_size=VOCAB_SIZE, embedding_dim=50, dec_units=16, att_units=20)&#xA;all_outputs = decoder(decoder_input, x_gru_state, x_gru_out)&#xA;encoder_decoder = Model([encoder_input, decoder_input], outputs=all_outputs)&#xA;encoder_decoder.compile(optimizer='adam',loss='sparse_categorical_crossentropy')&#xA;&#xA;x = np.random.randint(0, 499, size=(2000, ENCODER_SEQ_LEN))&#xA;y = np.random.randint(0, 499, size=(2000, DECODER_SEQ_LEN))&#xA;&#xA;encoder_decoder.fit(x=[x,y], y=y, epochs=1,verbose=1,batch_size=32)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Error&lt;/strong&gt;:&#xA;TypeError                                 Traceback (most recent call last)&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)&#xA;     60                                                op_name, inputs, attrs,&#xA;---&gt; 61                                                num_outputs)&#xA;     62   except core._NotOkStatusException as e:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;TypeError: An op outside of the function building code is being passed&#xA;a &quot;Graph&quot; tensor. It is possible to have Graph tensors&#xA;leak out of the function building context by including a&#xA;tf.init_scope in your function building code.&#xA;For example, the following function will fail:&#xA;  @tf.function&#xA;  def has_init_scope():&#xA;    my_constant = tf.constant(1.)&#xA;    with tf.init_scope():&#xA;      added = my_constant * 2&#xA;The graph tensor has name: keras_learning_phase:0&lt;/p&gt;&#xA;&#xA;&lt;p&gt;During handling of the above exception, another exception occurred:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;_SymbolicException                        Traceback (most recent call last)&#xA;11 frames&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)&#xA;     73       raise core._SymbolicException(&#xA;     74           &quot;Inputs to eager execution function cannot be Keras symbolic &quot;&#xA;---&gt; 75           &quot;tensors, but found {}&quot;.format(keras_symbolic_tensors))&#xA;     76     raise e&#xA;     77   # pylint: enable=protected-access&lt;/p&gt;&#xA;&#xA;&lt;p&gt;_SymbolicException: Inputs to eager execution function cannot be Keras symbolic tensors, but found []&lt;/p&gt;&#xA;"" OwnerUserId=""65655"" LastActivityDate=""2021-05-20T07:02:00.157"" Title=""SymbolicException: Inputs to eager execution function cannot be Keras symbolic tensors"" Tags=""&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;rnn&gt;&lt;sequence-to-sequence&gt;&lt;attention-mechanism&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""65921"" PostTypeId=""1"" CreationDate=""2020-01-05T21:30:54.953"" Score=""2"" ViewCount=""420"" Body=""&lt;p&gt;I am trying to &lt;a href=&quot;https://arxiv.org/pdf/1809.11096.pdf&quot; rel=&quot;nofollow noreferrer&quot;&gt;replicate a BigGAN architecture in Tensorflow&lt;/a&gt; but fail to understand exact nature of inputs.&#xA;BigGAN generator has 2 inputs, noise &lt;code&gt;z&lt;/code&gt; that is a vector of &lt;code&gt;[batch size, 120]&lt;/code&gt; elements drawn from normal distribution and vector &lt;code&gt;Embedded(y)&lt;/code&gt; that is of size &lt;code&gt;[batch size,128]&lt;/code&gt;, where &lt;code&gt;y&lt;/code&gt; is a vector of class labels. &lt;a href=&quot;https://i.stack.imgur.com/bAQBe.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bAQBe.png&quot; alt=&quot;BigGAN architecture 128x128&quot; /&gt;&lt;/a&gt;&#xA;By looking at &lt;a href=&quot;https://tfhub.dev/deepmind/biggan-128/2&quot; rel=&quot;nofollow noreferrer&quot;&gt;tfhub&lt;/a&gt; code example&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# Load BigGAN 128 module.&#xA;module = hub.Module('https://tfhub.dev/deepmind/biggan-128/2')&#xA;&#xA;# Sample random noise (z) and ImageNet label (y) inputs.&#xA;batch_size = 8&#xA;truncation = 0.5  # scalar truncation value in [0.02, 1.0]&#xA;z = truncation * tf.random.truncated_normal([batch_size, 120])  # noise sample&#xA;y_index = tf.random.uniform([batch_size], maxval=1000, dtype=tf.int32)&#xA;y = tf.one_hot(y_index, 1000)  # one-hot ImageNet label&#xA;&#xA;# Call BigGAN on a dict of the inputs to generate a batch of images with shape&#xA;# [8, 128, 128, 3] and range [-1, 1].&#xA;samples = module(dict(y=y, z=z, truncation=truncation))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;my understanding is that &lt;code&gt;y&lt;/code&gt; is a one-hot form and &lt;code&gt;Embedded(y)&lt;/code&gt; is a mapping of these class labels.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;What kind of functions is it?&lt;/li&gt;&#xA;&lt;li&gt;How can I encode all possible classes to such embedding?&lt;/li&gt;&#xA;&lt;li&gt;Is it equivalent to &lt;code&gt; tf.keras.layers.Embedding&lt;/code&gt; (see &lt;a href=&quot;https://www.tensorflow.org/api_docs/python/tf/keras/layers/Embedding&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;)?version=stable ?&lt;/li&gt;&#xA;&lt;li&gt;If yes, can it be implemented in tensorflow as explained &lt;a href=&quot;https://stackoverflow.com/a/34877590/2710943&quot;&gt;here&lt;/a&gt;?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;"" OwnerUserId=""54985"" LastEditorUserId=""26019"" LastEditDate=""2020-08-14T09:21:15.647"" LastActivityDate=""2020-08-14T09:21:15.647"" Title=""One-hot encoding to embedded vector - BigGAN"" Tags=""&lt;tensorflow&gt;&lt;gan&gt;&lt;embeddings&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""66273"" PostTypeId=""1"" CreationDate=""2020-01-10T13:47:27.607"" Score=""2"" ViewCount=""95"" Body=""&lt;p&gt;When dealing with artificial neural networks, one is bound to come across the concept of Tensors. In such applications a Tensor is essentially just a data grid, just like a scalar (rank=0), a vector (rank=1) or a matrix (rank=2), except it has any finite rank. However, this is not how a Tensor is actually defined. In mathematics a Tensor is an abstract multilinear function which maps one algebraic object to another. While all matrices (or &quot;data grids&quot;) always represent a certain type of Tensor, I fail to see how they semantically represent a function in case of artificial neural networks, as they are essentially only used as data storage for computations in between the computation graph.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I found that in tensor-network-theory, a network of Tensors is used to represent a geometrization of the brain, but in case of artificial neural networks, there is no actual network to begin with. To me an artificial neural network is just some function which maps one algebraic object to another and consists of a concatenation and combination of piecewise partially differentiable functions.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So my question is if Tensors as used in artificial neural networks actually have any semantic meaning. Do they represent some kind of function in relation to the inputs? Are artificial neural networks themselves Tensors (or tensor fields)? Or is the term Tensor just used due to lack of a proper name for a data grid without any other meaning?&lt;/p&gt;&#xA;"" OwnerUserId=""88144"" LastActivityDate=""2020-01-10T13:47:27.607"" Title=""Relation of Tensors to artificial neural networks"" Tags=""&lt;machine-learning&gt;&lt;neural-network&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""71977"" PostTypeId=""1"" CreationDate=""2020-04-08T19:39:22.313"" Score=""0"" ViewCount=""599"" Body=""&lt;p&gt;&lt;strong&gt;TL:DR&lt;/strong&gt;: While training a small CNN on a Tesla T4, the GPU does not run any faster than about 1/3 - 2/3 of its base clock speed. The training time takes forever, and there is lots of weirdness with memory usage (Figure attached below).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I was encountering some pretty strange runtime issues when training a CNN. For reference, I am training it on a T4 in a Google Cloud Platform VM.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My original architecture was (I used a ResNet style architecture with these layers):&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/ZZxnL.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/ZZxnL.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I had been training/testing this with different hyperparameters and whatnot since it only took about 30 minutes to an hour to train. All of a sudden, it began taking extremely long so I reduced the architecture to this:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/zXev5.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/zXev5.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I decided to run a profiler on the training loop with only 16 images and these are the results:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/WSa8k.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/WSa8k.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Since &lt;code&gt;loss.item()&lt;/code&gt; and &lt;code&gt;test_loss.item()&lt;/code&gt; are only called to gather training and validation statistics, I tried profiling the code without these functions and this happened:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/bXekG.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bXekG.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Overall, the training loop took the same time to run! This was pretty strange to my boss and me, so thought about it a bit more and came to the conclusion that this might be happening because until &lt;code&gt;loss.item()&lt;/code&gt; is called, there are no functions executed in the graph that PyTorch creates. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Next, I decided to look at the CPU, GPU, and GPU memory usage (using nvtop) to see what was going on during this very long &lt;code&gt;inputs.to(device)&lt;/code&gt; function call. I did this by incrementing &lt;code&gt;batch_size&lt;/code&gt; by 1 from 1 to 16 (at &lt;code&gt;batch_size&lt;/code&gt; 17 I got a memory error). CPU and GPU usage remained fairly similar throughout each of the runs, but memory usage had some very strange behavior. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/lkgMs.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/lkgMs.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As I increased batch size, memory usage increased normally, then drops off around &lt;code&gt;batch_size&lt;/code&gt; = 7, then increases normally again until we reach a memory error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lastly, there is also some weirdness with the GPU itself. The GPU does not run any faster than about 1/3 - 2/3 of its base clock speed while training. &lt;strong&gt;This is probably whats causing the bad performance&lt;/strong&gt;, but the cause of the slow clock speeds is still unknown. I know it is not the hardware itself because my coworkers (who have their own Conda/pip environments) use the GPU to train models and have no issues with performance. I changed the CPU on the VM to a newer one with more cores and better single core performance, but I am still experiencing this bad performance.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As of now, I am kind of stumped and don't know what the underlying cause of my slow training and strange memory and GPU usage patterns could be. Any help would be greatly appreciated. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the training loop:&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;def train_model(model, criterion, optimizer, scheduler, num_epochs=100):&#xA;    epoch_loss = []&#xA;    epoch_acc = []&#xA;    best_model_wts = copy.deepcopy(model.state_dict())&#xA;    best_acc = 0.0&#xA;&#xA;    for epoch in range(num_epochs):&#xA;&#xA;        print('Epoch {}/{}'.format(epoch, num_epochs - 1))&#xA;        print('-' * 10)&#xA;&#xA;        for phase in ['train', 'test']:&#xA;&#xA;            if phase == 'train':&#xA;                model.train()&#xA;                running_loss = 0.0&#xA;&#xA;            elif phase == 'test':&#xA;                model.eval()   # Set model to evaluate mode&#xA;                running_test_loss = 0.0&#xA;&#xA;            for inputs, labels in dataloaders[phase]:&#xA;                inputs = inputs.to(device)&#xA;                labels = labels.to(device)&#xA;&#xA;                optimizer.zero_grad()&#xA;&#xA;                if phase == 'train':&#xA;                    with torch.set_grad_enabled(phase=='train'):&#xA;                        outputs = model(inputs)&#xA;                        loss = criterion(labels, outputs)&#xA;                        # backward + optimize only if in training phase&#xA;                        loss.backward()&#xA;                        optimizer.step()&#xA;                        # statistics&#xA;                        running_loss += loss.item() * inputs.size(0)&#xA;&#xA;                if phase == 'test':&#xA;&#xA;                    with torch.no_grad():&#xA;                        outputs = model(inputs)&#xA;                        test_loss = criterion(labels, outputs)&#xA;                        running_test_loss += test_loss.item() * inputs.size(0)&#xA;&#xA;&#xA;            if phase == 'train':&#xA;                scheduler.step()&#xA;&#xA;        epoch_loss.append(running_loss / dataset_sizes['train'])&#xA;        epoch_acc.append(running_test_loss/ dataset_sizes['test'])&#xA;&#xA;        print('Train Loss: {:.4f}\nTest Loss {:.4f}'.format(epoch_loss[epoch], epoch_acc[epoch]))&#xA;&#xA;        if epoch % 10==9:&#xA;            torch.save({&#xA;            'epoch': epoch,&#xA;            'model_state_dict': model.state_dict(),&#xA;            'optimizer_state_dict': optimizer.state_dict(),&#xA;            'loss': epoch_loss,&#xA;            'acc': epoch_acc&#xA;            }, os.getcwd() + '/save_model/{}__.pt'.format(epoch))&#xA;&#xA;&#xA;    return model, epoch_loss, epoch_acc&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""94347"" LastActivityDate=""2020-04-08T19:39:22.313"" Title=""Slow GPU While Training CNN"" Tags=""&lt;machine-learning&gt;&lt;cnn&gt;&lt;training&gt;&lt;pytorch&gt;&lt;gpu&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""74666"" PostTypeId=""1"" AcceptedAnswerId=""74726"" CreationDate=""2020-05-22T17:26:03.253"" Score=""0"" ViewCount=""2022"" Body=""&lt;p&gt;I'm attempting to train &lt;a href=&quot;https://github.com/NVlabs/stylegan2&quot; rel=&quot;nofollow noreferrer&quot;&gt;stylegan2&lt;/a&gt; using a custom dataset, but no matter what settings I use I see the same error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;2020-05-22 11:15:05.261933: W tensorflow/core/common_runtime/bfc_allocator.cc:305] Garbage collection: deallocate free memory regions (i.e., allocations) so that we can re-allocate a larger region to avoid OOM due to memory fragmentation. If you see this message frequently, you are running near the threshold of the available device memory and re-allocation may incur great performance overhead. You may try smaller batch sizes to observe the performance impact. Set TF_ENABLE_GPU_GARBAGE_COLLECTION=false if you'd like to disable this feature.&#xA;2020-05-22 11:15:05.339186: I tensorflow/stream_executor/cuda/cuda_driver.cc:831] failed to allocate 3.52G (3781073152 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm assuming this means I need more GPU memory, but I've read that you can lower memory use in exchange for longer training periods. I did have to downgrade from tensorflow2 to 1.15 to use this project so there could be some underlying configuration issue, but I am able to generate images from the pretrained models without any issues.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is how I'm running the training process:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;python run_training.py --num-gpus=1 --data-dir=datasets --config=config-e --dataset=customdata --mirror-augment=true&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've tried using the other config-x options, and adjusting the settings in both &lt;code&gt;run_training.py&lt;/code&gt; and &lt;code&gt;training/training_loop.py&lt;/code&gt; although more specifically I'm just trying different values for &lt;code&gt;sched.minibatch_size_base&lt;/code&gt; and &lt;code&gt;sched.minibatch_gpu_base&lt;/code&gt;. Checking the results folder does tell me that the settings I've changed in &lt;code&gt;run_training.py&lt;/code&gt; are actually used during the training process. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here's the complete log from &lt;code&gt;run_training.py&lt;/code&gt; if it's useful:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Local submit - run_dir: results\00021-stylegan2-customdata-1gpu-config-e&#xA;dnnlib: Running training.training_loop.training_loop() on localhost...&#xA;2020-05-22 13:02:45.261043: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll&#xA;2020-05-22 13:02:51.127997: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library nvcuda.dll&#xA;2020-05-22 13:02:51.169757: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: &#xA;name: GeForce GTX 1660 major: 7 minor: 5 memoryClockRate(GHz): 1.785&#xA;pciBusID: 0000:01:00.0&#xA;2020-05-22 13:02:51.176966: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll&#xA;2020-05-22 13:02:51.187788: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_100.dll&#xA;2020-05-22 13:02:51.197589: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_100.dll&#xA;2020-05-22 13:02:51.205389: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_100.dll&#xA;2020-05-22 13:02:51.216122: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_100.dll&#xA;2020-05-22 13:02:51.225483: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_100.dll&#xA;2020-05-22 13:02:51.244887: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll&#xA;2020-05-22 13:02:51.253430: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0&#xA;2020-05-22 13:02:51.966561: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:&#xA;2020-05-22 13:02:51.971731: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0&#xA;2020-05-22 13:02:51.974966: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N&#xA;2020-05-22 13:02:51.979741: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 4630 MB memory) -&amp;gt; physical GPU (device: 0, name: GeForce GTX 1660, pci bus id: 0000:01:00.0, compute capability: 7.5)&#xA;Streaming data using training.dataset.TFRecordDataset...&#xA;self.tfrecord_dir: datasets\customdata&#xA;Dataset shape = [3, 64, 64]&#xA;Dynamic range = [0, 255]   &#xA;Label size    = 0&#xA;Constructing networks...&#xA;Setting up TensorFlow plugin &quot;fused_bias_act.cu&quot;: Preprocessing... 2020-05-22 13:03:25.588173: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: &#xA;name: GeForce GTX 1660 major: 7 minor: 5 memoryClockRate(GHz): 1.785&#xA;pciBusID: 0000:01:00.0&#xA;2020-05-22 13:03:25.596152: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll&#xA;2020-05-22 13:03:25.600627: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_100.dll&#xA;2020-05-22 13:03:25.605487: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_100.dll&#xA;2020-05-22 13:03:25.610555: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_100.dll  &#xA;2020-05-22 13:03:25.618346: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_100.dll&#xA;2020-05-22 13:03:25.622514: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_100.dll&#xA;2020-05-22 13:03:25.626790: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll     &#xA;2020-05-22 13:03:25.632722: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0&#xA;2020-05-22 13:03:25.638261: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:&#xA;2020-05-22 13:03:25.642363: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 &#xA;2020-05-22 13:03:25.645684: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N &#xA;2020-05-22 13:03:25.649560: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/device:GPU:0 with 4630 MB memory) -&amp;gt; physical GPU (device: 0, name: GeForce GTX 1660, pci bus id: 0000:01:00.0, compute capability: 7.5)&#xA;Loading... Done.&#xA;Setting up TensorFlow plugin &quot;upfirdn_2d.cu&quot;: Preprocessing... 2020-05-22 13:03:50.302225: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: &#xA;name: GeForce GTX 1660 major: 7 minor: 5 memoryClockRate(GHz): 1.785&#xA;pciBusID: 0000:01:00.0&#xA;2020-05-22 13:03:50.310782: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll&#xA;2020-05-22 13:03:50.316161: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_100.dll&#xA;2020-05-22 13:03:50.395110: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_100.dll&#xA;2020-05-22 13:03:50.463435: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_100.dll&#xA;2020-05-22 13:03:50.468677: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_100.dll&#xA;2020-05-22 13:03:50.527377: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_100.dll&#xA;2020-05-22 13:03:50.531735: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll&#xA;2020-05-22 13:03:50.537159: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0&#xA;2020-05-22 13:03:50.615931: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:&#xA;2020-05-22 13:03:50.679408: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 &#xA;2020-05-22 13:03:50.682438: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N&#xA;2020-05-22 13:03:50.686257: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/device:GPU:0 with 4630 MB memory) -&amp;gt; physical GPU (device: 0, name: GeForce GTX 1660, pci bus id: 0000:01:00.0, compute capability: 7.5)&#xA;Loading... Done.&#xA;&#xA;G                           Params    OutputShape       WeightShape     &#xA;---                         ---       ---               ---&#xA;latents_in                  -         (?, 512)          -&#xA;labels_in                   -         (?, 0)            -&#xA;lod                         -         ()                -&#xA;dlatent_avg                 -         (512,)            -&#xA;G_mapping/latents_in        -         (?, 512)          -&#xA;G_mapping/labels_in         -         (?, 0)            -&#xA;G_mapping/Normalize         -         (?, 512)          -&#xA;G_mapping/Dense0            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense1            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense2            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense3            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense4            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense5            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense6            262656    (?, 512)          (512, 512)&#xA;G_mapping/Dense7            262656    (?, 512)          (512, 512)&#xA;G_mapping/Broadcast         -         (?, 10, 512)      -&#xA;G_mapping/dlatents_out      -         (?, 10, 512)      -&#xA;Truncation/Lerp             -         (?, 10, 512)      -&#xA;G_synthesis/dlatents_in     -         (?, 10, 512)      -&#xA;G_synthesis/4x4/Const       8192      (?, 512, 4, 4)    (1, 512, 4, 4)&#xA;G_synthesis/4x4/Conv        2622465   (?, 512, 4, 4)    (3, 3, 512, 512)&#xA;G_synthesis/4x4/ToRGB       264195    (?, 3, 4, 4)      (1, 1, 512, 3)&#xA;G_synthesis/8x8/Conv0_up    2622465   (?, 512, 8, 8)    (3, 3, 512, 512)&#xA;G_synthesis/8x8/Conv1       2622465   (?, 512, 8, 8)    (3, 3, 512, 512)&#xA;G_synthesis/8x8/Upsample    -         (?, 3, 8, 8)      -&#xA;G_synthesis/8x8/ToRGB       264195    (?, 3, 8, 8)      (1, 1, 512, 3)&#xA;G_synthesis/16x16/Conv0_up  2622465   (?, 512, 16, 16)  (3, 3, 512, 512)&#xA;G_synthesis/16x16/Conv1     2622465   (?, 512, 16, 16)  (3, 3, 512, 512)&#xA;G_synthesis/16x16/Upsample  -         (?, 3, 16, 16)    -&#xA;G_synthesis/16x16/ToRGB     264195    (?, 3, 16, 16)    (1, 1, 512, 3)&#xA;G_synthesis/32x32/Conv0_up  2622465   (?, 512, 32, 32)  (3, 3, 512, 512)&#xA;G_synthesis/32x32/Conv1     2622465   (?, 512, 32, 32)  (3, 3, 512, 512)&#xA;G_synthesis/32x32/Upsample  -         (?, 3, 32, 32)    -&#xA;G_synthesis/32x32/ToRGB     264195    (?, 3, 32, 32)    (1, 1, 512, 3)&#xA;G_synthesis/64x64/Conv0_up  1442561   (?, 256, 64, 64)  (3, 3, 512, 256)&#xA;G_synthesis/64x64/Conv1     721409    (?, 256, 64, 64)  (3, 3, 256, 256)&#xA;G_synthesis/64x64/Upsample  -         (?, 3, 64, 64)    -&#xA;G_synthesis/64x64/ToRGB     132099    (?, 3, 64, 64)    (1, 1, 256, 3)&#xA;G_synthesis/images_out      -         (?, 3, 64, 64)    -&#xA;G_synthesis/noise0          -         (1, 1, 4, 4)      -&#xA;G_synthesis/noise1          -         (1, 1, 8, 8)      -&#xA;G_synthesis/noise2          -         (1, 1, 8, 8)      -&#xA;G_synthesis/noise3          -         (1, 1, 16, 16)    -&#xA;G_synthesis/noise4          -         (1, 1, 16, 16)    -&#xA;G_synthesis/noise5          -         (1, 1, 32, 32)    -&#xA;G_synthesis/noise6          -         (1, 1, 32, 32)    -&#xA;G_synthesis/noise7          -         (1, 1, 64, 64)    -&#xA;G_synthesis/noise8          -         (1, 1, 64, 64)    -&#xA;images_out                  -         (?, 3, 64, 64)    -&#xA;---                         ---       ---               ---&#xA;Total                       23819544&#xA;&#xA;&#xA;D                    Params    OutputShape       WeightShape&#xA;---                  ---       ---               ---&#xA;images_in            -         (?, 3, 64, 64)    -&#xA;labels_in            -         (?, 0)            -&#xA;64x64/FromRGB        1024      (?, 256, 64, 64)  (1, 1, 3, 256)&#xA;64x64/Conv0          590080    (?, 256, 64, 64)  (3, 3, 256, 256)&#xA;64x64/Conv1_down     1180160   (?, 512, 32, 32)  (3, 3, 256, 512)&#xA;64x64/Skip           131072    (?, 512, 32, 32)  (1, 1, 256, 512)&#xA;32x32/Conv0          2359808   (?, 512, 32, 32)  (3, 3, 512, 512)&#xA;32x32/Conv1_down     2359808   (?, 512, 16, 16)  (3, 3, 512, 512)&#xA;32x32/Skip           262144    (?, 512, 16, 16)  (1, 1, 512, 512)&#xA;16x16/Conv0          2359808   (?, 512, 16, 16)  (3, 3, 512, 512)&#xA;16x16/Conv1_down     2359808   (?, 512, 8, 8)    (3, 3, 512, 512)&#xA;16x16/Skip           262144    (?, 512, 8, 8)    (1, 1, 512, 512)&#xA;8x8/Conv0            2359808   (?, 512, 8, 8)    (3, 3, 512, 512)&#xA;8x8/Conv1_down       2359808   (?, 512, 4, 4)    (3, 3, 512, 512)&#xA;8x8/Skip             262144    (?, 512, 4, 4)    (1, 1, 512, 512)&#xA;4x4/MinibatchStddev  -         (?, 513, 4, 4)    -&#xA;4x4/Conv             2364416   (?, 512, 4, 4)    (3, 3, 513, 512)&#xA;4x4/Dense0           4194816   (?, 512)          (8192, 512)&#xA;Output               513       (?, 1)            (512, 1)&#xA;scores_out           -         (?, 1)            -&#xA;---                  ---       ---               ---&#xA;Total                23407361&#xA;&#xA;2020-05-22 13:03:58.578847: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_100.dll&#xA;2020-05-22 13:03:58.961664: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll&#xA;2020-05-22 13:04:00.763442: W tensorflow/stream_executor/cuda/redzone_allocator.cc:312] Internal: Invoking ptxas not supported on Windows&#xA;Relying on driver to perform ptx compilation. This message will be only logged once.&#xA;2020-05-22 13:04:01.548775: W tensorflow/core/common_runtime/bfc_allocator.cc:305] Garbage collection: deallocate free memory regions (i.e., allocations) so that we can re-allocate a larger region to avoid OOM due to memory fragmentation. If you see this message frequently, you are running near the threshold of the available device memory and re-allocation may incur great performance overhead. You may try smaller batch sizes to observe the performance impact. Set TF_ENABLE_GPU_GARBAGE_COLLECTION=false if you'd like to disable this feature.   &#xA;2020-05-22 13:04:01.651217: I tensorflow/stream_executor/cuda/cuda_driver.cc:831] failed to allocate 4.00G (4294967296 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY: out of memory&#xA;Building TensorFlow graph...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here's the contents of &lt;code&gt;submit_config.txt&lt;/code&gt; written to the results folder for the above job:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{   'datasets': [],&#xA;    'host_name': 'localhost',&#xA;    'local': &amp;lt;dnnlib.submission.internal.local.TargetOptions object at 0x0000027CF0D20D48&amp;gt;,&#xA;    'num_gpus': 1,&#xA;    'nvprof': False,&#xA;    'platform_extras': &amp;lt;dnnlib.submission.submit.PlatformExtras object at 0x0000027CF0D20E08&amp;gt;,&#xA;    'print_info': False,&#xA;    'run_desc': 'stylegan2-customdata-1gpu-config-e',&#xA;    'run_dir': 'results\\00021-stylegan2-customdata-1gpu-config-e',&#xA;    'run_dir_extra_files': [],&#xA;    'run_dir_ignore': ['__pycache__', '*.pyproj', '*.sln', '*.suo', '.cache', '.idea', '.vs', '.vscode', '_cudacache'],&#xA;    'run_dir_root': 'results',&#xA;    'run_func_kwargs': {   'D_args': {'fmap_base': 8192, 'func_name': 'training.networks_stylegan2.D_stylegan2'},&#xA;                           'D_loss_args': {'func_name': 'training.loss.D_logistic_r1', 'gamma': 100},&#xA;                           'D_opt_args': {'beta1': 0.0, 'beta2': 0.99, 'epsilon': 1e-08},&#xA;                           'G_args': {'fmap_base': 8192, 'func_name': 'training.networks_stylegan2.G_main'},&#xA;                           'G_loss_args': {'func_name': 'training.loss.G_logistic_ns_pathreg'},&#xA;                           'G_opt_args': {'beta1': 0.0, 'beta2': 0.99, 'epsilon': 1e-08},&#xA;                           'data_dir': 'datasets',&#xA;                           'dataset_args': {'tfrecord_dir': 'customdata'},&#xA;                           'grid_args': {'layout': 'random', 'size': '8k'},&#xA;                           'image_snapshot_ticks': 10,&#xA;                           'metric_arg_list': [{'func_name': 'metrics.frechet_inception_distance.FID', 'minibatch_per_gpu': 8, 'name': 'fid50k', 'num_images': 50000}],&#xA;                           'mirror_augment': True,&#xA;                           'network_snapshot_ticks': 10,&#xA;                           'sched_args': {'D_lrate_base': 0.002, 'G_lrate_base': 0.002, 'minibatch_gpu_base': 1, 'minibatch_size_base': 8},&#xA;                           'tf_config': {'rnd.np_random_seed': 1000},&#xA;                           'total_kimg': 25000},&#xA;    'run_func_name': 'training.training_loop.training_loop',&#xA;    'run_id': 21,&#xA;    'run_name': '00021-stylegan2-customdata-1gpu-config-e',&#xA;    'submit_target': &amp;lt;SubmitTarget.LOCAL: 1&amp;gt;,&#xA;    'task_name': 'itsame-00021-stylegan2-customdata-1gpu-config-e',&#xA;    'user_name': 'itsame'}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I've trained other models with the same hardware, but I'm guessing stylegan2 requires a bit more space to work. Thanks for reading!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've added some code to &lt;code&gt;tfutil.py&lt;/code&gt; and now I have a different error! According to the web, I may need to downgrade CUDA.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.333, allow_growth=True)&#xA;    graph_options = tf.GraphOptions(place_pruned_graph=True)&#xA;    config_proto = tf.ConfigProto(gpu_options=gpu_options, graph_options=graph_options)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;error is now:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;tensorflow.python.framework.errors_impl.InternalError: cudaErrorInvalidConfiguration&#xA;         [[node GPU0/G_loss/PathReg/G/G_synthesis/8x8/Upsample/UpFirDn2D (defined at C:\Python37\lib\site-packages\tensorflow_core\python\framework\ops.py:1748) ]]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;EDIT 5/23/2020:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The above error seemed to go away on its own after reducing the batch size and using a much lower gpu memory fraction. I'm seeing this error now:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;tensorflow.python.framework.errors_impl.ResourceExhaustedError: OOM when allocating tensor with shape[3,3,512,512] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc&#xA;     [[node TrainG/Apply0/grad_acc_var_38/Assign (defined at C:\Python37\lib\site-packages\tensorflow_core\python\framework\ops.py:1748) ]]&#xA;Hint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm going to try and reduce the tensor size to 256x256. I have no idea how to do that or what it means, but most of what I've read about this error seems to suggest that.&lt;/p&gt;&#xA;"" OwnerUserId=""56624"" LastEditorUserId=""56624"" LastEditDate=""2020-05-23T17:01:41.020"" LastActivityDate=""2020-05-23T23:43:56.183"" Title=""Is it possible to train stylegan2 with a custom dataset using a graphics card that only has 6GB of VRAM (GeForce GTX 1660)?"" Tags=""&lt;tensorflow&gt;&lt;gpu&gt;&lt;generative-models&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""75401"" PostTypeId=""1"" AcceptedAnswerId=""75418"" CreationDate=""2020-06-03T18:54:58.710"" Score=""0"" ViewCount=""156"" Body=""&lt;p&gt;I want to distribute the training of a simple model, such as a support vector classifier like sklearn.svm.SVC() across some or all CPUs and GPUs on a single device. I have never utilized a GPU before and I'm confused as to how this works or if using tensorflow is even the right choice for this simple task. What i think I need to do is something like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow as tf&#xA;from sklearn.svm import SVC&#xA;from sklearn import datasets&#xA;from sklearn.model_selection import train_test_split&#xA;&#xA;strategy = tf.distribute.MirroredStrategy()&#xA;&#xA;with strategy.scope():&#xA;&#xA;    iris = datasets.load_iris()&#xA;    X = iris.data&#xA;    y = iris.target&#xA;    class_names = iris.target_names &#xA;&#xA;    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=0)&#xA;&#xA;    classifier = svm.SVC(kernel='linear', C=0.01).fit(X_train, y_train)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The actual dataset I'm using is &lt;span class=&quot;math-container&quot;&gt;$\approx 3 \times 10^8$&lt;/span&gt; training examples with 11 features. Does this code do what I think it does? If not, what would be the best way to go about this task? If so, is there anything that can be improved?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;After doing some more googling I discovered that sklearn does not support GPU utilization. See this post:&#xA;&lt;a href=&quot;https://stackoverflow.com/questions/41567895/will-scikit-learn-utilize-gpu&quot;&gt;https://stackoverflow.com/questions/41567895/will-scikit-learn-utilize-gpu&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm still not sure how I can go about utilizing a GPU for simple ML models. &lt;/p&gt;&#xA;"" OwnerUserId=""63816"" LastEditorUserId=""63816"" LastEditDate=""2020-06-03T22:05:46.623"" LastActivityDate=""2020-06-05T14:38:52.320"" Title=""Training models from sklearn using tf.distribute.MirroredStrategy"" Tags=""&lt;scikit-learn&gt;&lt;tensorflow&gt;&lt;bigdata&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""84614"" PostTypeId=""1"" CreationDate=""2020-10-28T14:21:09.723"" Score=""1"" ViewCount=""160"" Body=""&lt;p&gt;I am using a pre-trained Model. Firstly, I trained the Model in python which came with 94% accuracy. Now, I am trying to reproduce the same results with same configuration of the model in R, but it is giving terrible results and not crossing the accuracy of 83%.&lt;/p&gt;&#xA;&lt;p&gt;There is a difference in the data type of both languages with which I train the model: R uses data type &lt;strong&gt;Double&lt;/strong&gt; while Python uses data type &lt;strong&gt;float32&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;p&gt;The second key difference is, I was running Python Notebook on GPU and TPU but the Notebook in R running on CPU because of Kaggle GPU memory issue.&lt;/p&gt;&#xA;&lt;p&gt;Do the above-mentioned differences cause performance gaps? If not, then what could be the problem?&lt;/p&gt;&#xA;"" OwnerUserId=""65908"" LastEditorUserId=""33551"" LastEditDate=""2020-10-28T14:27:56.547"" LastActivityDate=""2020-10-28T14:27:56.547"" Title=""Different Results from Pre-Trained Model Between Python vs R"" Tags=""&lt;python&gt;&lt;deep-learning&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;r&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""85929"" PostTypeId=""1"" CreationDate=""2020-11-25T15:05:50.507"" Score=""1"" ViewCount=""254"" Body=""&lt;p&gt;I've wrapped meta-architecture with the code below:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;num_classes = 1&#xA;model_conf = 'models/research/object_detection/configs/tf2/faster_rcnn_resnet101_v1_640x640_coco17_tpu-8.config'&#xA;configs = config_util.get_configs_from_pipeline_file(model_conf)&#xA;model_config = configs['model']&#xA;model_config.faster_rcnn.num_classes = num_classes&#xA;model_config.faster_rcnn.feature_extractor.batch_norm_trainable = False&#xA;model_config.faster_rcnn.number_of_stages = 2&#xA;model_config.faster_rcnn.second_stage_post_processing.batch_non_max_suppression.max_detections_per_class=150&#xA;&#xA;&#xA;&#xA;class MyDetectionModel(tf.keras.Model): # ADAPTER&#xA;    def __init__(self, model):&#xA;        super(MyDetectionModel, self).__init__()&#xA;        self.detection_model = model&#xA;        #self.detection_model.build(x,y,z)&#xA;        #image, shapes = self.detection_model.preprocess(tf.concat([tf.zeros([1, 640, 640, 3]),tf.zeros([1, 640, 640, 3]) ],axis=0))&#xA;        #prediction_dict = self.detection_model.predict(image, shapes)&#xA;        #_ = self.detection_model.postprocess(prediction_dict, shapes)&#xA;        &#xA;    def select_variable_to_fine_tune(self):&#xA;        # TO-DO&#xA;        return None&#xA;&#xA;    def print_training_variable(self):&#xA;        print(list(self.to_fine_tune))&#xA;&#xA;    def train_step(self, data):&#xA;        image_tensors, gt = data[0], data[1]&#xA;        groundtruth_boxes_list,groundtruth_classes_list = gt[0], gt[1]&#xA;        shapes = tf.constant(len(image_tensors) * [[640, 640, 3]], dtype=tf.int32) # risolve il problema della dimensione del batch&#xA;        # GROUDTRUTH&#xA;        self.detection_model.provide_groundtruth(&#xA;            groundtruth_boxes_list=groundtruth_boxes_list, &#xA;            groundtruth_classes_list=groundtruth_classes_list,)&#xA;&#xA;        ### debug&#xA;        #print(image_tensors[0][0])&#xA;&#xA;        ###&#xA;          &#xA;        with tf.GradientTape() as tape:&#xA;            preprocessed_images = tf.concat([self.detection_model.preprocess(image_tensor)[0] for image_tensor in image_tensors], axis=0)&#xA;            #print(preprocessed_images)&#xA;            prediction_dict = self.detection_model.predict(preprocessed_images, shapes) # differenza con i model tradizionali: qui uso predict e richiede shape&#xA;            losses_dict = self.detection_model.loss(prediction_dict, shapes)&#xA;            total_loss = losses_dict['Loss/RPNLoss/localization_loss'] + losses_dict['Loss/RPNLoss/objectness_loss'] + losses_dict['Loss/BoxClassifierLoss/localization_loss'] + losses_dict['Loss/BoxClassifierLoss/classification_loss']&#xA;        gradients = tape.gradient(total_loss, self.detection_model.trainable_variables)&#xA;        self.optimizer.apply_gradients(zip(gradients, self.detection_model.trainable_variables))&#xA;        tl = total_loss&#xA;        return{&#xA;            &amp;quot;total_loss&amp;quot;: tl ,&#xA;            &amp;quot;Loss/RPNLoss/localization_loss&amp;quot;:losses_dict['Loss/RPNLoss/localization_loss'] ,&#xA;            &amp;quot;Loss/RPNLoss/objectness_loss&amp;quot;:losses_dict['Loss/RPNLoss/objectness_loss'],&#xA;            &amp;quot;Loss/BoxClassifierLoss/localization_loss&amp;quot;:losses_dict['Loss/BoxClassifierLoss/localization_loss'],&#xA;            &amp;quot;Loss/BoxClassifierLoss/classification_loss&amp;quot;:losses_dict['Loss/BoxClassifierLoss/classification_loss']&#xA;        }&#xA;    &#xA;    def test_step(self, data):&#xA;        ### TO DO&#xA;        &#xA;        return None&#xA;&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;and I train it with the following code:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;my_model = MyDetectionModel(detection_model)&#xA;optimizer = tf.keras.optimizers.Adam(learning_rate=LEARNING_RATE)&#xA;my_model.compile(optimizer)&#xA;my_model.fit(&#xA;    x = train_image_tensors,&#xA;    y = (gt_box_tensors,gt_classes_one_hot_tensors),&#xA;    epochs = 150,&#xA;    batch_size = BATCH_SIZE,&#xA;    #verbose = 1,&#xA;    )&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The training goes well, with the losses that go down, but at test stage the preprocess function give the following error:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;---------------------------------------------------------------------------&#xA;ValueError                                Traceback (most recent call last)&#xA;&amp;lt;ipython-input-54-9b4b502bec7a&amp;gt; in &amp;lt;module&amp;gt;()&#xA;     34   a = np.resize(test_images_np[i],(1,1000,1000,3))&#xA;     35   input_tensor = tf.convert_to_tensor(a, dtype=tf.float32)&#xA;---&amp;gt; 36   detections = detect(input_tensor)&#xA;     37   #print(detections['detection_boxes'][0].numpy(),detections['detection_classes'][0].numpy().astype(np.uint32)+label_id_offset, detections['detection_scores'][0].numpy() )&#xA;     38   print(detections['detection_scores'][0].numpy() )&#xA;&#xA;8 frames&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/def_function.py in __call__(self, *args, **kwds)&#xA;    778       else:&#xA;    779         compiler = &amp;quot;nonXla&amp;quot;&#xA;--&amp;gt; 780         result = self._call(*args, **kwds)&#xA;    781 &#xA;    782       new_tracing_count = self._get_tracing_count()&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/def_function.py in _call(self, *args, **kwds)&#xA;    821       # This is the first call of __call__, so we have to initialize.&#xA;    822       initializers = []&#xA;--&amp;gt; 823       self._initialize(args, kwds, add_initializers_to=initializers)&#xA;    824     finally:&#xA;    825       # At this point we know that the initialization is complete (or less&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/def_function.py in _initialize(self, args, kwds, add_initializers_to)&#xA;    695     self._concrete_stateful_fn = (&#xA;    696         self._stateful_fn._get_concrete_function_internal_garbage_collected(  # pylint: disable=protected-access&#xA;--&amp;gt; 697             *args, **kwds))&#xA;    698 &#xA;    699     def invalid_creator_scope(*unused_args, **unused_kwds):&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/function.py in _get_concrete_function_internal_garbage_collected(self, *args, **kwargs)&#xA;   2853       args, kwargs = None, None&#xA;   2854     with self._lock:&#xA;-&amp;gt; 2855       graph_function, _, _ = self._maybe_define_function(args, kwargs)&#xA;   2856     return graph_function&#xA;   2857 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/function.py in _maybe_define_function(self, args, kwargs)&#xA;   3211 &#xA;   3212       self._function_cache.missed.add(call_context_key)&#xA;-&amp;gt; 3213       graph_function = self._create_graph_function(args, kwargs)&#xA;   3214       self._function_cache.primary[cache_key] = graph_function&#xA;   3215       return graph_function, args, kwargs&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/function.py in _create_graph_function(self, args, kwargs, override_flat_arg_shapes)&#xA;   3073             arg_names=arg_names,&#xA;   3074             override_flat_arg_shapes=override_flat_arg_shapes,&#xA;-&amp;gt; 3075             capture_by_value=self._capture_by_value),&#xA;   3076         self._function_attributes,&#xA;   3077         function_spec=self.function_spec,&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/func_graph.py in func_graph_from_py_func(name, python_func, args, kwargs, signature, func_graph, autograph, autograph_options, add_control_dependencies, arg_names, op_return_value, collections, capture_by_value, override_flat_arg_shapes)&#xA;    984         _, original_func = tf_decorator.unwrap(python_func)&#xA;    985 &#xA;--&amp;gt; 986       func_outputs = python_func(*func_args, **func_kwargs)&#xA;    987 &#xA;    988       # invariant: `func_outputs` contains only Tensors, CompositeTensors,&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/def_function.py in wrapped_fn(*args, **kwds)&#xA;    598         # __wrapped__ allows AutoGraph to swap in a converted function. We give&#xA;    599         # the function a weak reference to itself to avoid a reference cycle.&#xA;--&amp;gt; 600         return weak_wrapped_fn().__wrapped__(*args, **kwds)&#xA;    601     weak_wrapped_fn = weakref.ref(wrapped_fn)&#xA;    602 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/func_graph.py in wrapper(*args, **kwargs)&#xA;    971           except Exception as e:  # pylint:disable=broad-except&#xA;    972             if hasattr(e, &amp;quot;ag_error_metadata&amp;quot;):&#xA;--&amp;gt; 973               raise e.ag_error_metadata.to_exception(e)&#xA;    974             else:&#xA;    975               raise&#xA;&#xA;ValueError: in user code:&#xA;&#xA;    &amp;lt;ipython-input-50-08bee00ed330&amp;gt;:25 detect  *&#xA;        prediction_dict = my_model.detection_model.predict(preprocessed_image, shapes)&#xA;    /usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py:818 predict  *&#xA;        prediction_dict.update(&#xA;    /usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py:991 _predict_second_stage  *&#xA;        proposal_boxes_normalized, num_proposals = self._proposal_postprocess(&#xA;    /usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py:721 _proposal_postprocess  *&#xA;        proposal_boxes_normalized, _, _, num_proposals, _, _ =         self._postprocess_rpn(&#xA;    /usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py:1694 _postprocess_rpn  *&#xA;        (groundtruth_boxlists, groundtruth_classes_with_background_list, _,&#xA;    /usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py:1829 _format_groundtruth_data  *&#xA;        groundtruth_boxlists = [&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/dispatch.py:201 wrapper&#xA;        return target(*args, **kwargs)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/array_ops.py:1024 _slice_helper&#xA;        name=name)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/dispatch.py:201 wrapper&#xA;        return target(*args, **kwargs)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/array_ops.py:1196 strided_slice&#xA;        shrink_axis_mask=shrink_axis_mask)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/gen_array_ops.py:10352 strided_slice&#xA;        shrink_axis_mask=shrink_axis_mask, name=name)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/op_def_library.py:744 _apply_op_helper&#xA;        attrs=attr_protos, op_def=op_def)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/func_graph.py:593 _create_op_internal&#xA;        compute_device)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/ops.py:3485 _create_op_internal&#xA;        op_def=op_def)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/ops.py:1975 __init__&#xA;        control_input_ops, op_def)&#xA;    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/ops.py:1815 _create_c_op&#xA;        raise ValueError(str(e))&#xA;&#xA;    ValueError: slice index 1 of dimension 0 out of bounds. for '{{node strided_slice_11}} = StridedSlice[Index=DT_INT32, T=DT_INT32, begin_mask=0, ellipsis_mask=0, end_mask=0, new_axis_mask=0, shrink_axis_mask=3](Tile, strided_slice_11/stack, strided_slice_11/stack_1, strided_slice_11/stack_2)' with input shapes: [1,3], [2], [2], [2] and with computed input tensors: input[1] = &amp;lt;1 0&amp;gt;, input[2] = &amp;lt;2 1&amp;gt;, input[3] = &amp;lt;1 1&amp;gt;.&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;the code used for predeticting is:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;test_image_dir = 'models/research/object_detection/test_images/ducky/test/'&#xA;test_images_np = []&#xA;for i in range(1, 50):&#xA;  image_path = os.path.join(test_image_dir, 'out' + str(i) + '.jpg')&#xA;  test_images_np.append(np.expand_dims(&#xA;      load_image_into_numpy_array(image_path), axis=0))&#xA;&#xA;@tf.function&#xA;def detect(input_tensor):&#xA;  &amp;quot;&amp;quot;&amp;quot;Run detection on an input image.&#xA;&#xA;  Args:&#xA;    input_tensor: A [1, height, width, 3] Tensor of type tf.float32.&#xA;      Note that height and width can be anything since the image will be&#xA;      immediately resized according to the needs of the model within this&#xA;      function.&#xA;&#xA;  Returns:&#xA;    A dict containing 3 Tensors (`detection_boxes`, `detection_classes`,&#xA;      and `detection_scores`).&#xA;  &amp;quot;&amp;quot;&amp;quot;&#xA;  preprocessed_image, shapes = my_model.detection_model.preprocess(input_tensor)&#xA;  prediction_dict = my_model.detection_model.predict(preprocessed_image, shapes)&#xA;  return my_model.detection_model.postprocess(prediction_dict, shapes)&#xA;&#xA;# Note that the first frame will trigger tracing of the tf.function, which will&#xA;# take some time, after which inference should be fast.&#xA;&#xA;label_id_offset = 1&#xA;for i in range(len(test_images_np)):&#xA;  print(i)&#xA;  a = np.resize(test_images_np[i],(1,1000,1000,3))&#xA;  input_tensor = tf.convert_to_tensor(a, dtype=tf.float32)&#xA;  detections = detect(input_tensor)&#xA;  #print(detections['detection_boxes'][0].numpy(),detections['detection_classes'][0].numpy().astype(np.uint32)+label_id_offset, detections['detection_scores'][0].numpy() )&#xA;  print(detections['detection_scores'][0].numpy() )&#xA;  plot_detections(&#xA;      test_images_np[i][0],&#xA;      detections['detection_boxes'][0].numpy(),&#xA;      detections['detection_classes'][0].numpy().astype(np.uint32)&#xA;      + label_id_offset,&#xA;      detections['detection_scores'][0].numpy(),&#xA;      category_index, figsize=(15, 20),image_name=&amp;quot;gif_frame_&amp;quot; + ('%02d' % i) + &amp;quot;.jpg&amp;quot;)&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The strange thing is that the same function that give me an error at prediction stage, works properly in &lt;code&gt;train_step&lt;/code&gt; method.&lt;/p&gt;&#xA;&lt;p&gt;Removing the tf.function annotation the error became:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;---------------------------------------------------------------------------&#xA;TypeError                                 Traceback (most recent call last)&#xA;&amp;lt;ipython-input-23-f3417ad28e97&amp;gt; in &amp;lt;module&amp;gt;()&#xA;     33   a = np.resize(test_images_np[i],(1,1000,1000,3))&#xA;     34   input_tensor = tf.convert_to_tensor(a, dtype=tf.float32)&#xA;---&amp;gt; 35   detections = detect(input_tensor)&#xA;     36   #print(detections['detection_boxes'][0].numpy(),detections['detection_classes'][0].numpy().astype(np.uint32)+label_id_offset, detections['detection_scores'][0].numpy() )&#xA;     37   print(detections['detection_scores'][0].numpy() )&#xA;&#xA;17 frames&#xA;&amp;lt;ipython-input-23-f3417ad28e97&amp;gt; in detect(input_tensor)&#xA;     22   &amp;quot;&amp;quot;&amp;quot;&#xA;     23   preprocessed_image, shapes = my_model.detection_model.preprocess(input_tensor)&#xA;---&amp;gt; 24   prediction_dict = my_model.detection_model.predict(preprocessed_image, shapes)&#xA;     25   return my_model.detection_model.postprocess(prediction_dict, shapes)&#xA;     26 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in predict(self, preprocessed_inputs, true_image_shapes, **side_inputs)&#xA;    822               prediction_dict['rpn_features_to_crop'],&#xA;    823               prediction_dict['anchors'], prediction_dict['image_shape'],&#xA;--&amp;gt; 824               true_image_shapes, **side_inputs))&#xA;    825 &#xA;    826     if self._number_of_stages == 3:&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in _predict_second_stage(self, rpn_box_encodings, rpn_objectness_predictions_with_background, rpn_features_to_crop, anchors, image_shape, true_image_shapes, **side_inputs)&#xA;    991     proposal_boxes_normalized, num_proposals = self._proposal_postprocess(&#xA;    992         rpn_box_encodings, rpn_objectness_predictions_with_background, anchors,&#xA;--&amp;gt; 993         image_shape, true_image_shapes)&#xA;    994     prediction_dict = self._box_prediction(rpn_features_to_crop,&#xA;    995                                            proposal_boxes_normalized,&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in _proposal_postprocess(self, rpn_box_encodings, rpn_objectness_predictions_with_background, anchors, image_shape, true_image_shapes)&#xA;    722         self._postprocess_rpn(&#xA;    723             rpn_box_encodings, rpn_objectness_predictions_with_background,&#xA;--&amp;gt; 724             anchors, image_shape_2d, true_image_shapes)&#xA;    725     return proposal_boxes_normalized, num_proposals&#xA;    726 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in _postprocess_rpn(self, rpn_box_encodings_batch, rpn_objectness_predictions_with_background_batch, anchors, image_shapes, true_image_shapes)&#xA;   1694         (groundtruth_boxlists, groundtruth_classes_with_background_list, _,&#xA;   1695          groundtruth_weights_list&#xA;-&amp;gt; 1696         ) = self._format_groundtruth_data(image_shapes)&#xA;   1697         (proposal_boxes, proposal_scores,&#xA;   1698          num_proposals) = self._sample_box_classifier_batch(&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in _format_groundtruth_data(self, image_shapes)&#xA;   1831             box_list.BoxList(boxes), image_shapes[i, 0], image_shapes[i, 1])&#xA;   1832         for i, boxes in enumerate(&#xA;-&amp;gt; 1833             self.groundtruth_lists(fields.BoxListFields.boxes))&#xA;   1834     ]&#xA;   1835     groundtruth_classes_with_background_list = []&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/meta_architectures/faster_rcnn_meta_arch.py in &amp;lt;listcomp&amp;gt;(.0)&#xA;   1830         box_list_ops.to_absolute_coordinates(&#xA;   1831             box_list.BoxList(boxes), image_shapes[i, 0], image_shapes[i, 1])&#xA;-&amp;gt; 1832         for i, boxes in enumerate(&#xA;   1833             self.groundtruth_lists(fields.BoxListFields.boxes))&#xA;   1834     ]&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/object_detection/core/box_list_ops.py in to_absolute_coordinates(boxlist, height, width, check_range, maximum_normalized_coordinate, scope)&#xA;    910     # Ensure range of input boxes is correct.&#xA;    911     if check_range:&#xA;--&amp;gt; 912       box_maximum = tf.reduce_max(boxlist.get())&#xA;    913       max_assert = tf.Assert(&#xA;    914           tf.greater_equal(maximum_normalized_coordinate, box_maximum),&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/util/dispatch.py in wrapper(*args, **kwargs)&#xA;    199     &amp;quot;&amp;quot;&amp;quot;Call target, and fall back on dispatchers if there is a TypeError.&amp;quot;&amp;quot;&amp;quot;&#xA;    200     try:&#xA;--&amp;gt; 201       return target(*args, **kwargs)&#xA;    202     except (TypeError, ValueError):&#xA;    203       # Note: convert_to_eager_tensor currently raises a ValueError, not a&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/util/deprecation.py in new_func(*args, **kwargs)&#xA;    505                 'in a future version' if date is None else ('after %s' % date),&#xA;    506                 instructions)&#xA;--&amp;gt; 507       return func(*args, **kwargs)&#xA;    508 &#xA;    509     doc = _add_deprecated_arg_notice_to_docstring(&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_ops.py in reduce_max_v1(input_tensor, axis, keepdims, name, reduction_indices, keep_dims)&#xA;   2636   keepdims = deprecation.deprecated_argument_lookup(&amp;quot;keepdims&amp;quot;, keepdims,&#xA;   2637                                                     &amp;quot;keep_dims&amp;quot;, keep_dims)&#xA;-&amp;gt; 2638   return reduce_max(input_tensor, axis, keepdims, name)&#xA;   2639 &#xA;   2640 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/util/dispatch.py in wrapper(*args, **kwargs)&#xA;    199     &amp;quot;&amp;quot;&amp;quot;Call target, and fall back on dispatchers if there is a TypeError.&amp;quot;&amp;quot;&amp;quot;&#xA;    200     try:&#xA;--&amp;gt; 201       return target(*args, **kwargs)&#xA;    202     except (TypeError, ValueError):&#xA;    203       # Note: convert_to_eager_tensor currently raises a ValueError, not a&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_ops.py in reduce_max(input_tensor, axis, keepdims, name)&#xA;   2684   &amp;quot;&amp;quot;&amp;quot;&#xA;   2685   return reduce_max_with_dims(input_tensor, axis, keepdims, name,&#xA;-&amp;gt; 2686                               _ReductionDims(input_tensor, axis))&#xA;   2687 &#xA;   2688 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_ops.py in reduce_max_with_dims(input_tensor, axis, keepdims, name, dims)&#xA;   2695   return _may_reduce_to_scalar(&#xA;   2696       keepdims, axis,&#xA;-&amp;gt; 2697       gen_math_ops._max(input_tensor, dims, keepdims, name=name))&#xA;   2698 &#xA;   2699 &#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/gen_math_ops.py in _max(input, axis, keep_dims, name)&#xA;   5710     try:&#xA;   5711       return _max_eager_fallback(&#xA;-&amp;gt; 5712           input, axis, keep_dims=keep_dims, name=name, ctx=_ctx)&#xA;   5713     except _core._SymbolicException:&#xA;   5714       pass  # Add nodes to the TensorFlow graph.&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/gen_math_ops.py in _max_eager_fallback(input, axis, keep_dims, name, ctx)&#xA;   5742   _attrs = (&amp;quot;keep_dims&amp;quot;, keep_dims, &amp;quot;T&amp;quot;, _attr_T, &amp;quot;Tidx&amp;quot;, _attr_Tidx)&#xA;   5743   _result = _execute.execute(b&amp;quot;Max&amp;quot;, 1, inputs=_inputs_flat, attrs=_attrs,&#xA;-&amp;gt; 5744                              ctx=ctx, name=name)&#xA;   5745   if _execute.must_record_gradient():&#xA;   5746     _execute.record_gradient(&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)&#xA;     73           &amp;quot;Inputs to eager execution function cannot be Keras symbolic &amp;quot;&#xA;     74           &amp;quot;tensors, but found {}&amp;quot;.format(keras_symbolic_tensors))&#xA;---&amp;gt; 75     raise e&#xA;     76   # pylint: enable=protected-access&#xA;     77   return tensors&#xA;&#xA;/usr/local/lib/python3.6/dist-packages/tensorflow/python/eager/execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)&#xA;     58     ctx.ensure_initialized()&#xA;     59     tensors = pywrap_tfe.TFE_Py_Execute(ctx._handle, device_name, op_name,&#xA;---&amp;gt; 60                                         inputs, attrs, num_outputs)&#xA;     61   except core._NotOkStatusException as e:&#xA;     62     if name is not None:&#xA;&#xA;TypeError: An op outside of the function building code is being passed&#xA;a &amp;quot;Graph&amp;quot; tensor. It is possible to have Graph tensors&#xA;leak out of the function building context by including a&#xA;tf.init_scope in your function building code.&#xA;For example, the following function will fail:&#xA;  @tf.function&#xA;  def has_init_scope():&#xA;    my_constant = tf.constant(1.)&#xA;    with tf.init_scope():&#xA;      added = my_constant * 2&#xA;The graph tensor has name: IteratorGetNext:5&#xA;&lt;span class=&quot;math-container&quot;&gt;```&lt;/span&gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""87317"" LastActivityDate=""2020-11-25T15:05:50.507"" Title=""Preprocess problem Faster RCNN in tensorflow object detection API"" Tags=""&lt;deep-learning&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;object-detection&gt;&lt;faster-rcnn&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""87703"" PostTypeId=""1"" AcceptedAnswerId=""88451"" CreationDate=""2021-01-09T01:09:39.310"" Score=""1"" ViewCount=""97"" Body=""&lt;p&gt;So I'm basically trying to fit a regression on the relation of the input and output of a neural network model. Then the idea is, that these estimated regression weights should be optimized to some specific target value (let's say matrix of ones). So the weights are optimized, but have a direct relation to the neural network weights. For a simple problem, I can find a solution on paper, but I fail to implement this. The loss is not decreasing, but oscillating.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# Some arbitrary PyTorch model&#xA;my_nn = Net()&#xA;&#xA;# Our target regression weights&#xA;target = torch.ones(2, 2)&#xA;&#xA;# Optimizer for NN weights&#xA;optimizer = optim.Adam(my_nn.parameters(), lr=0.0001)&#xA;&#xA;# Arbitrary loss function&#xA;criterion = nn.MSELoss()&#xA;&#xA;# Training loop&#xA;my_nn.train()&#xA;for epoch in range(500):&#xA;    print('Running Epoch: ', epoch)&#xA;    # zero the parameter gradients&#xA;    optimizer.zero_grad()&#xA;    &#xA;    # output of model is 2-dim&#xA;    y_pred = my_nn(X)&#xA;&#xA;    # weights for regression model&#xA;    w1 = Variable(torch.randn(2, 2).type(torch.float), requires_grad=True)&#xA;    # optimizer for regression model&#xA;    optimizer1 = optim.SGD([w1], lr=0.001, momentum=0.9)&#xA;    for nest_epoch in range(1000):&#xA;        optimizer1.zero_grad()&#xA;        &#xA;        y_hat = torch.mm(X, w1)&#xA;        loss = criterion(y_hat, y_pred)&#xA;&#xA;        # Need to add retain_graph, as it doesn't work otherwise&#xA;        # but it does work, this loss will get close to 0&#xA;        loss.backward(retain_graph=True)&#xA;        optimizer1.step()&#xA;&#xA;    # this loss does not decrease&#xA;    loss = criterion(target, w1)&#xA;    print('Loss:', loss.item())&#xA;    loss.backward()&#xA;    optimizer.step()&#xA;&lt;span class=&quot;math-container&quot;&gt;```&lt;/span&gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""54503"" LastEditorUserId=""71442"" LastEditDate=""2021-01-09T11:57:51.207"" LastActivityDate=""2021-01-25T13:52:08.487"" Title=""Optimizing regression weights for NN outputs with PyTorch"" Tags=""&lt;python&gt;&lt;neural-network&gt;&lt;pytorch&gt;&lt;optimization&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""87949"" PostTypeId=""1"" CreationDate=""2021-01-14T12:07:23.790"" Score=""0"" ViewCount=""86"" Body=""&lt;p&gt;I've managed to build Tensorflow 2.3 from source, following these instructions:&#xA;&lt;a href=&quot;https://towardsdatascience.com/how-to-compile-tensorflow-2-3-with-cuda-11-1-8cbecffcb8d3&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://towardsdatascience.com/how-to-compile-tensorflow-2-3-with-cuda-11-1-8cbecffcb8d3&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;But, when I install obtained pip package in new conda environment, and import tensorflow, I get following error: &lt;code&gt;Could not load dynamic library 'libcudart.so.11.1'; dlerror: libcudart.so.11.1: cannot open shared object file: No such file or directory&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;I've managed to use GPU support with CUDA 11.1 for Tensorflow 2.5 nightly, without creating soft links between libs (I get &lt;code&gt;Successfully opened dynamic library libcudart.so.11.0&lt;/code&gt; message).&lt;/p&gt;&#xA;&lt;p&gt;Any help appreciated.&lt;/p&gt;&#xA;"" OwnerUserId=""106702"" LastActivityDate=""2023-11-05T18:00:55.153"" Title=""Unable to use pip package obtained from building Tensorflow 2.3 from source"" Tags=""&lt;tensorflow&gt;&lt;cuda&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""88644"" PostTypeId=""1"" CreationDate=""2021-01-29T01:00:34.557"" Score=""0"" ViewCount=""302"" Body=""&lt;p&gt;I have a string of letters that follow a &amp;quot;grammar.&amp;quot; I also have boolean labels on my training set of whether the string follows &amp;quot;the grammar&amp;quot; or not. Basically, my model is trying to learn determine if a string of letters follows the rules. It's a fairly simple problem (I got it out of a textbook).&lt;/p&gt;&#xA;&lt;p&gt;I am generating my dataset like this:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;def generate_dataset(size):&#xA;    good_strings = [string_to_ids(generate_string(embedded_reber_grammar))&#xA;                    for _ in range(size // 2)]&#xA;    bad_strings = [string_to_ids(generate_corrupted_string(embedded_reber_grammar))&#xA;                   for _ in range(size - size // 2)]&#xA;    all_strings = good_strings + bad_strings&#xA;    X = tf.ragged.constant(all_strings, ragged_rank=1)&#xA;&#xA;    # X = X.to_tensor(default_value=0)&#xA;&#xA;    y = np.array([[1.] for _ in range(len(good_strings))] +&#xA;                 [[0.] for _ in range(len(bad_strings))])&#xA;    return X, y&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Notice the line &lt;code&gt;X = X.to_tensor(default_value=0)&lt;/code&gt;. If this line is commented out, my model learns just fine. However, if it is not commented out, it fails to learn and the validation set performs the same as chance (50-50).&lt;/p&gt;&#xA;&lt;p&gt;Here is my actual model:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;np.random.seed(42)&#xA;tf.random.set_seed(42)&#xA;&#xA;embedding_size = 5&#xA;&#xA;model = keras.models.Sequential([&#xA;    keras.layers.InputLayer(input_shape=[None], dtype=tf.int32, ragged=True),&#xA;    keras.layers.Embedding(input_dim=len(POSSIBLE_CHARS) + 1, output_dim=embedding_size),&#xA;    keras.layers.GRU(30),&#xA;    keras.layers.Dense(1, activation=&amp;quot;sigmoid&amp;quot;)&#xA;])&#xA;optimizer = keras.optimizers.SGD(lr=0.02, momentum = 0.95, nesterov=True)&#xA;model.compile(loss=&amp;quot;binary_crossentropy&amp;quot;, optimizer=optimizer, metrics=[&amp;quot;accuracy&amp;quot;])&#xA;history = model.fit(X_train, y_train, epochs=5, validation_data=(X_valid, y_valid))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I am using &lt;code&gt;0&lt;/code&gt; as the default value for the dense tensors. The &lt;code&gt;strings_to_ids&lt;/code&gt; doesn't use 0 for any of the values but instead starts at 1. Also, when I switch to using a Dense tensor I change &lt;code&gt;ragged=True&lt;/code&gt; to &lt;code&gt;False.&lt;/code&gt; I have no idea why using a dense tensor causes the model to fail, as I've used dense tensors before in similar exercises.&lt;/p&gt;&#xA;&lt;p&gt;For additional details, see the solution from the book (&lt;a href=&quot;https://github.com/ageron/handson-ml2/blob/master/16_nlp_with_rnns_and_attention.ipynb&quot; rel=&quot;nofollow noreferrer&quot;&gt;exercise 8&lt;/a&gt;) or my own colab &lt;a href=&quot;https://colab.research.google.com/drive/13Za1YeCO8uEiyqcaUyWKm6zErOaWwpQC?usp=sharing&quot; rel=&quot;nofollow noreferrer&quot;&gt;notebook&lt;/a&gt;. As a disclaimer: I am studying ML for fun, not for work or school.&lt;/p&gt;&#xA;"" OwnerUserId=""111030"" LastEditorUserId=""111030"" LastEditDate=""2021-01-29T18:53:47.717"" LastActivityDate=""2023-11-10T17:04:20.600"" Title=""Why does my model learn with Ragged Tensors but not Dense Tensors?"" Tags=""&lt;machine-learning&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;machine-learning-model&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""89426"" PostTypeId=""1"" CreationDate=""2021-02-16T07:45:53.637"" Score=""0"" ViewCount=""105"" Body=""&lt;p&gt;I am performing an NLP task using &lt;code&gt;Elmo&lt;/code&gt; model. Whenever I load the Elmo model, it occupies the 15 GB of my GPU memory. How can I reduce it ?&lt;/p&gt;&#xA;&lt;p&gt;Below is my code&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow.compat.v1 as tf&#xA;import tensorflow_hub as hub&#xA;tf.disable_eager_execution()&#xA;from tensorflow.compat.v1.keras import backend as K&#xA;sess = tf.Session()&#xA;K.set_session(sess)&#xA;&#xA;elmo_model = hub.Module(&amp;quot;https://tfhub.dev/google/elmo/2&amp;quot;, trainable=True)&#xA;sess.run(tf.global_variables_initializer())&#xA;sess.run(tf.tables_initializer())&#xA;&#xA;&#xA;def ElmoEmbedding(x):&#xA;    return elmo_model(inputs={&#xA;                    &amp;quot;tokens&amp;quot;: tf.squeeze(tf.cast(x, tf.string)),&#xA;                    &amp;quot;sequence_len&amp;quot;: tf.constant(batch_size*[maxlen])&#xA;              },&#xA;              signature=&amp;quot;tokens&amp;quot;,&#xA;              as_dict=True)[&amp;quot;elmo&amp;quot;]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;And then I am passing the ElmoEmbedding in the Lambda layer as below&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;input_text = Input(shape=(maxlen,), dtype=tf.string)&#xA;&#xA;embedding = Lambda(ElmoEmbedding, output_shape=(maxlen, 1024))(input_text)&#xA;&#xA;x = Bidirectional(LSTM(units=512, return_sequences=True,&#xA;               recurrent_dropout=0.2, dropout=0.2))(embedding)&#xA;&#xA;.....&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;What do I need to change in the above code ?&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""91801"" LastActivityDate=""2021-02-16T07:55:44.873"" Title=""How to reduce the GPU consumption size while using Elmo Model?"" Tags=""&lt;deep-learning&gt;&lt;tensorflow&gt;&lt;nlp&gt;&lt;python-3.x&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""93377"" PostTypeId=""1"" CreationDate=""2021-04-21T19:49:19.397"" Score=""7"" ViewCount=""6311"" Body=""&lt;p&gt;For my bachelor project I've been tasked with making a transformer that can forecast time series data, specifically powergrid data. I need to take a univariate time series of length N, that can then predict another univariate time series M steps into the future.&lt;/p&gt;&#xA;&lt;p&gt;I started out by following the &amp;quot;&lt;a href=&quot;https://arxiv.org/abs/1706.03762&quot; rel=&quot;nofollow noreferrer&quot;&gt;Attention is all you need&lt;/a&gt;&amp;quot; paper but since this paper is meant for NLP I had to make some changes. Instead of embedding each word to a random point in d_model-dimensional space I use a linear layer embed the data. I've also tried using a nn.Conv1d layer with a kernel size of 1 to embed, but these approaches fail to make a non-linear prediction of the data and instead only predict a straight line through the average of the data.&lt;/p&gt;&#xA;&lt;p&gt;First I though that the problem was my implementation of the transformer, but even when I use Pytorch' build in nn.Transformer module I get the same results. I then tried different types of positional encoding like the &lt;a href=&quot;https://arxiv.org/abs/1907.05321&quot; rel=&quot;nofollow noreferrer&quot;&gt;&amp;quot;Time2Vec&amp;quot;&lt;/a&gt; paper that approximates the data by using different sinus functions.&lt;/p&gt;&#xA;&lt;p&gt;I feel like I've tried a lot of different things to make this transformer work but to no avail. So my question is, do transformers alone work for multistep forecasting with univariate data. And if so are there any articles, papers, repositories etc. that forecasts time series data with succes? If not which approach should I take going forwards to see if I can get my transformer to work.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Edit: I figured out the problem, apparently the only issue was that I had set my learning rate too high :)&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""116447"" LastEditorUserId=""116447"" LastEditDate=""2021-12-13T15:37:34.497"" LastActivityDate=""2021-12-13T15:37:34.497"" Title=""Is time series forecasting possible with a transformer?"" Tags=""&lt;time-series&gt;&lt;pytorch&gt;&lt;forecasting&gt;&lt;transformer&gt;"" AnswerCount=""3"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""94205"" PostTypeId=""1"" CreationDate=""2021-05-09T09:08:24.233"" Score=""3"" ViewCount=""1096"" Body=""&lt;p&gt;I first asked this question in codereview SE but a user recommended to post this here instead.&lt;/p&gt;&#xA;&lt;p&gt;I have created a simple self attention based text prediction model using pytorch. The attention  formula used for creating attention layer is,&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/198af.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/198af.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;I want to validate whether the whole code is implemented correctly, particularly my custom implementation of &lt;code&gt;Attention&lt;/code&gt; layer.&lt;/p&gt;&#xA;&lt;p&gt;Full code&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import torch&#xA;import torch.nn as nn&#xA;import torch.optim as optim&#xA;import torch.nn.functional as F&#xA;&#xA;import random&#xA;random.seed(0)&#xA;torch.manual_seed(0)&#xA;&#xA;# Sample text for Training&#xA;test_sentence = &amp;quot;&amp;quot;&amp;quot;Thomas Edison. The famed American inventor rose to prominence in the late&#xA;19th century because of his successes, yes, but even he felt that these successes&#xA;were the result of his many failures. He did not succeed in his work on one of his&#xA;most famous inventions, the lightbulb, on his first try nor even on his hundred and&#xA;first try. In fact, it took him more than 1,000 attempts to make the first incandescent&#xA;bulb but, along the way, he learned quite a deal. As he himself said,&#xA;&amp;quot;I did not fail a thousand times but instead succeeded in finding a thousand ways it would not work.&amp;quot; &#xA;Thus Edison demonstrated both in thought and action how instructive mistakes can be. &#xA;&amp;quot;&amp;quot;&amp;quot;.lower().split()&#xA;&#xA;# Build a list of tuples.  Each tuple is ([ word_i-2, word_i-1 ], target word)&#xA;trigrams = [([test_sentence[i], test_sentence[i + 1]], test_sentence[i + 2])&#xA;            for i in range(len(test_sentence) - 2)]&#xA;&#xA;# print the first 3, just so you can see what they look like&#xA;print(trigrams[:3])&#xA;&#xA;vocab = list(set(test_sentence))&#xA;word_to_ix2 = {word: i for i, word in enumerate(vocab)}&#xA;&#xA;# Number of Epochs&#xA;EPOCHS = 25&#xA;&#xA;# SEQ_SIZE is the number of words we are using as a context for the next word we want to predict&#xA;SEQ_SIZE = 2&#xA;&#xA;# Embedding dimension is the size of the embedding vector&#xA;EMBEDDING_DIM = 10&#xA;&#xA;# Size of the hidden layer&#xA;HIDDEN_DIM = 256&#xA;&#xA;class Attention(nn.Module):&#xA;    &amp;quot;&amp;quot;&amp;quot;&#xA;    A custom self attention layer&#xA;    &amp;quot;&amp;quot;&amp;quot;&#xA;    def __init__(self, in_feat,out_feat):&#xA;        super().__init__()             &#xA;        self.Q = nn.Linear(in_feat,out_feat) # Query&#xA;        self.K = nn.Linear(in_feat,out_feat) # Key&#xA;        self.V = nn.Linear(in_feat,out_feat) # Value&#xA;        self.softmax = nn.Softmax(dim=1)&#xA;&#xA;    def forward(self,x):&#xA;        Q = self.Q(x)&#xA;        K = self.K(x)&#xA;        V = self.V(x)&#xA;        d = K.shape[0] # dimension of key vector&#xA;        QK_d = (Q @ K.T)/(d)**0.5&#xA;        prob = self.softmax(QK_d)&#xA;        attention = prob @ V&#xA;        return attention&#xA;&#xA;class Model(nn.Module):&#xA;    def __init__(self,vocab_size,embed_size,seq_size,hidden):&#xA;        super().__init__()&#xA;        self.embed = nn.Embedding(vocab_size,embed_size)&#xA;        self.attention = Attention(embed_size,hidden)&#xA;        self.fc1 = nn.Linear(hidden*seq_size,vocab_size) # converting n rows to 1&#xA;        self.softmax = nn.Softmax(dim=1)&#xA;&#xA;    def forward(self,x):&#xA;        x = self.embed(x)&#xA;        x = self.attention(x).view(1,-1)&#xA;        x = self.fc1(x)&#xA;        log_probs = F.log_softmax(x,dim=1)&#xA;        return log_probs&#xA;&#xA;learning_rate = 0.001&#xA;loss_function = nn.NLLLoss()  # negative log likelihood&#xA;&#xA;model = Model(len(vocab),EMBEDDING_DIM,CONTEXT_SIZE,HIDDEN_DIM)&#xA;optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)&#xA;&#xA;# Training&#xA;for i in range(EPOCHS):&#xA;    total_loss = 0&#xA;    for context, target in trigrams:&#xA;        # context, target = ['thomas', 'edison.'] the&#xA;        &#xA;        # step 1: context id generation&#xA;        context_idxs = torch.tensor([word_to_ix2[w] for w in context], dtype=torch.long)&#xA;&#xA;        # step 2: setting zero gradient for models&#xA;        model.zero_grad()&#xA;&#xA;        # step 3: Forward propogation for calculating log probs&#xA;        log_probs = model(context_idxs)&#xA;&#xA;        # step 4: calculating loss&#xA;        loss = loss_function(log_probs, torch.tensor([word_to_ix2[target]], dtype=torch.long))&#xA;&#xA;        # step 5: finding the gradients&#xA;        loss.backward()&#xA;&#xA;        #step 6: updating the weights&#xA;        optimizer.step()&#xA;&#xA;        total_loss += loss.item()&#xA;    if i%2==0:&#xA;        print(&amp;quot;Epoch: &amp;quot;,str(i),&amp;quot; Loss: &amp;quot;,str(total_loss))&#xA;&#xA;# Prediction&#xA;with torch.no_grad():&#xA;    # Fetching a random context and target &#xA;    rand_val = trigrams[random.randrange(len(trigrams))]&#xA;    print(rand_val)&#xA;    context = rand_val[0]&#xA;    target = rand_val[1]&#xA;    &#xA;    # Getting context and target index's&#xA;    context_idxs = torch.tensor([word_to_ix2[w] for w in context], dtype=torch.long)&#xA;    target_idxs = torch.tensor([word_to_ix2[w] for w in [target]], dtype=torch.long)&#xA;    print(&amp;quot;Acutal indices: &amp;quot;, context_idxs, target_idxs)&#xA;    log_preds = model(context_idxs)&#xA;    print(&amp;quot;Predicted indices: &amp;quot;,torch.argmax(log_preds))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""21471"" LastActivityDate=""2022-02-12T03:03:55.353"" Title=""A simple attention based text prediction model from scratch using pytorch"" Tags=""&lt;nlp&gt;&lt;pytorch&gt;&lt;sequence-to-sequence&gt;&lt;attention-mechanism&gt;&lt;language-model&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""96285"" PostTypeId=""1"" CreationDate=""2021-06-05T00:06:47.887"" Score=""3"" ViewCount=""215"" Body=""&lt;p&gt;I'm struggling to understand the decoder in a Transformer model, specifically with regards to some aspects of its architecture as well as how it actually handles the data during training.&lt;/p&gt;&#xA;&lt;p&gt;What I have right now is a working implementation of the encoder which outputs some calculated self-attention scores (using scaled dot-product for my attention mechanism).&lt;/p&gt;&#xA;&lt;p&gt;In my decoder, I understand that the correct &amp;quot;target&amp;quot; output is first embedded &amp;amp; positionally encoded (which I have implemented). I then added a layer of self-attention to the decoder.&lt;/p&gt;&#xA;&lt;p&gt;From what I understand, what follows is the encoder-decoder attention blocks.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/kOs4Z.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/kOs4Z.png&quot; alt=&quot;Transformer Decoder Block&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Firstly, should the self-attention layer be included in the decoder block to be repeated alongside the encoder-decoder attention layer, or should this just occur once after the target is passed into the decoder?&lt;/p&gt;&#xA;&lt;p&gt;Next, for the actual encoder-decoder attention, I am a bit uncertain as to how the query, key, and value vectors are calculated. From my understanding, the output of the encoder is passed through a feedforward layer to calculate the key and value vectors, whereas the output of the previous block of the decoder is passed through a feedforward layer to calculate the query vector. Thus, my implementation is as follows:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;x = self.encoder(x)&#xA;y = self.decoder_self_attention(y)&#xA;for decoder_block in self.decoder_blocks:&#xA;    y = decoder_block(x, y)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;This makes mathematical sense to me (the desired output should have the same embedding dimensionality as the input to the decoder block, so the query vector &lt;em&gt;has&lt;/em&gt; to be from the decoder as it is the leftmost matrix in the dot-product attention calculation). However, I fail to understand how this allows it to handle recurrent data. This is especially confusing as the final layer is a feedforward layer, and I fail to understand how this would handle sequences rather than say, an LSTM.&lt;/p&gt;&#xA;&lt;p&gt;In addition, I have read very conflicting information on when the masking operation occurs. Some papers perform masking on the embedding directly, whereas some perform it after positional encoding, whereas some implement it in the attention mechanism. My model simply adds the mask to the cross product of the query and key vectors during the cross product calculation (before softmax), but I'm unsure how to verify this is correct.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;z = (q @ k.transpose(-2, -1)) * scale # Q K^T / sqrt(d)&#xA;z += self.mask # before softmax, set everything above diagonal to -inf&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Lastly, although I am certain I'm failing to understand some aspect of the decoder causing a bug, I am unable to get my model to fit onto data of different modalities. My input embedding is of shape &lt;span class=&quot;math-container&quot;&gt;$(T_a, E_a)$&lt;/span&gt; where &lt;span class=&quot;math-container&quot;&gt;$T_a$&lt;/span&gt; is the number of tokens and &lt;span class=&quot;math-container&quot;&gt;$E_a$&lt;/span&gt; is the embedding dimension. However, my output dimension is of shape &lt;span class=&quot;math-container&quot;&gt;$(T_b, E_b)$&lt;/span&gt; where &lt;span class=&quot;math-container&quot;&gt;$T_b \neq T_a$&lt;/span&gt; and &lt;span class=&quot;math-container&quot;&gt;$E_a \neq E_b$&lt;/span&gt;.&lt;/p&gt;&#xA;&lt;p&gt;While mathematically this should be fine with respect to the attention mechanism, using the default PyTorch Encoder and Decoder layers throws a multitude of errors unless &lt;span class=&quot;math-container&quot;&gt;$T_a = T_b$&lt;/span&gt; and &lt;span class=&quot;math-container&quot;&gt;$E_a = E_b$&lt;/span&gt;, which leads me to believe there may be issues when the input and output sequence are of different modalities. Although my model does converge loss-wise, when I pass in training data and translate the output back into tokens, the output is absolutely nonsensical. I have checked the exact same dataset against a more traditional LSTM auto-encoder and gotten sensible results, which leads me to believe I may simply have misunderstood some pieces of the transformer architecture.&lt;/p&gt;&#xA;"" OwnerUserId=""118800"" LastEditorUserId=""118800"" LastEditDate=""2021-06-05T00:13:21.020"" LastActivityDate=""2021-06-05T00:13:21.020"" Title=""Struggling to understand/implement Transformer Decoder"" Tags=""&lt;machine-learning&gt;&lt;python&gt;&lt;pytorch&gt;&lt;transformer&gt;&lt;attention-mechanism&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""111212"" PostTypeId=""1"" CreationDate=""2022-05-22T19:21:49.303"" Score=""0"" ViewCount=""971"" Body=""&lt;p&gt;I am trying to use Keras to do some image analysis using the Xception model. When I run model.fit, GPU memory usage increases rapidly to 16 GB, despite my training data only being (7546, 299, 299, 3) in size, so about 1.9 GB.&lt;/p&gt;&#xA;&lt;p&gt;I have tried using K.clear_session() between epochs, which helps a bit, but GPU memory usage still quickly reaches the maximum of 16 GB and stays there.&lt;/p&gt;&#xA;&lt;p&gt;I am running this on a Jupyter notebook on Google Colab Pro+ using TensorFlow and Keras 2.8.0. Here is the code I use to create and run the network:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;class EvalCallback(Callback):&#xA;    def on_epoch_end(self, epoch, logs=None):&#xA;        gc.collect()&#xA;        K.clear_session()&#xA;&#xA;Xception_initial=Xception(include_top=False,&#xA;                 weights='imagenet',&#xA;                 input_shape=(299,299,3),pooling ='avg',&#xA;                 )&#xA;&#xA;for layer in Xception_initial.layers:&#xA;    layer.trainable = True&#xA;&#xA;x = Xception_initial.output&#xA;eval_callback = EvalCallback()&#xA;predicted = Dense(2,activation ='softmax')(x)&#xA;model_pretrain = Model(inputs = Xception_initial.input, outputs = predicted)&#xA;model_pretrain.compile(loss=keras.losses.categorical_crossentropy,&#xA;          optimizer=tf.keras.optimizers.Adam(lr = 0.0002),&#xA;          metrics=['accuracy'])&#xA;pretraining_Xception =model_pretrain.fit(x_train, Y_train,&#xA;                                              verbose=1,&#xA;                                              batch_size=16,  &#xA;                                              epochs=3,&#xA;                                              callbacks=[eval_callback])&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Running this code does complete, but GPU memory stays maxed out, and I am unable to do any additional work using Keras, getting a &amp;quot;dst tensor not initialized error&amp;quot; which I believe is caused by the GPU being out of memory.&lt;/p&gt;&#xA;&lt;p&gt;What can I do to fix this memory problem?&lt;/p&gt;&#xA;"" OwnerUserId=""136058"" LastActivityDate=""2022-05-22T19:21:49.303"" Title=""Excessive GPU memory usage for Keras model.fit()"" Tags=""&lt;python&gt;&lt;keras&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""117795"" PostTypeId=""1"" CreationDate=""2023-01-16T15:19:48.500"" Score=""0"" ViewCount=""266"" Body=""&lt;p&gt;Due to VRAM capacity limitations, I cannot fit the whole training and validation data into the GPU memory. Instead of cutting some of the data out, I decided to use TF.dataset object to create the dataset as it allows the ability to cache the data from the hard disk.&#xA;Tensorflow-gpu version: 2.10.0&#xA;keras version: 2.10.0&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;The CNN Model:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;def create_cnn_model(X_train_shape, nb_classes):&#xA;&#xA;    inputs = Input(shape=X_train_shape[1:])&#xA;    print('Model input shape: {}'.format(inputs.shape))&#xA;&#xA;    normal1 = BatchNormalization(axis=-1)(inputs)&#xA;    reshape1 = Lambda(lambda x: keras.backend.expand_dims(x, axis=-1))(normal1)&#xA;    conv1 = Convolution3D(&#xA;        32, (3 ,3, X_train_shape[-1]), data_format = 'channels_last',&#xA;        padding='valid', strides=(1,1,1))(reshape1)&#xA;&#xA;    reshape2 = Lambda(lambda x: keras.backend.squeeze(x, axis=-2))(conv1)&#xA;&#xA;    relu1 = Activation('relu')(reshape2)&#xA;    pool1 = MaxPooling2D(pool_size=(2, 1), data_format = 'channels_last')(relu1)&#xA;&#xA;    normal2 = BatchNormalization(axis=-1)(pool1)&#xA;&#xA;    conv2 = Convolution2D(&#xA;        64, (3, 3), data_format = 'channels_last',&#xA;        padding='valid', strides=(1,1))(normal2)&#xA;    relu2 = Activation('relu')(conv2)&#xA;    pool2 = MaxPooling2D(pool_size=(2, 1), data_format = 'channels_last')(relu2)&#xA;&#xA;    normal3 = BatchNormalization(axis=-1)(pool2)&#xA;&#xA;    &#xA;    conv3 = Convolution2D(&#xA;        64, (3, 3), data_format = 'channels_last',&#xA;        padding='valid', strides=(1,1))(normal3)&#xA;    relu3 = Activation('relu')(conv3)&#xA;    &#xA;    flat = Flatten()(relu3)&#xA;    drop1 = Dropout(0.5)(flat)&#xA;    dens1 = Dense(256, activation='sigmoid')(drop1)&#xA;    drop2 = Dropout(0.5)(dens1)&#xA;    dens2 = Dense(nb_classes)(drop2)&#xA;&#xA;    temp = 1.0&#xA;    temperature = Lambda(lambda x: x / temp)(dens2)&#xA;    last = Activation('softmax')(temperature)&#xA;    model = Model(inputs=inputs, outputs=last)&#xA;    return model&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;The training code:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;def train_cnn_model(n_folds, X_train, Y_train, X_val, Y_val, X_test, Y_test, nb_classes, ds, pp):&#xA;    summary = []&#xA;    cnn_model = create_cnn_model(X_train.shape, nb_classes)&#xA;    # cnn_model.summary()&#xA;    adam = Adam(learning_rate=1e-4, beta_1=0.9, beta_2=0.999, epsilon=1e-08)&#xA;    cnn_model.compile(loss='categorical_crossentropy', &#xA;                optimizer=adam, &#xA;                # metrics=['accuracy', 'Recall', specificity, 'Precision','AUC', f1_score_p, mcc_p])&#xA;                metrics=['accuracy', 'Recall', 'Precision','AUC', f1_score_m])&#xA;    &#xA;    # Convert Y_train to 1D array&#xA;    Y_train = Y_train.squeeze()&#xA;&#xA;    class_weights = class_weight.compute_class_weight(class_weight=&amp;quot;balanced&amp;quot;, classes=np.unique(Y_train), y=Y_train)&#xA;    print('Class weights: {}'.format(class_weights))&#xA;    class_weights_dict = {i: w for i, w in zip(np.unique(Y_train), class_weights)}&#xA;&#xA;    # Number of samples per class in Training set&#xA;    print(&amp;quot;=== Training ===&amp;quot;)&#xA;    unique_vals = np.unique(Y_train, return_counts=True)&#xA;    print('Number of samples/class values: {}'.format(unique_vals))&#xA;&#xA;    print(&amp;quot;=== Validation ===&amp;quot;)&#xA;    unique_vals = np.unique(Y_val, return_counts=True)&#xA;    print('Number of samples/class values: {}'.format(unique_vals))&#xA;&#xA;    print(&amp;quot;=== Testing ===&amp;quot;)&#xA;    unique_vals = np.unique(Y_test, return_counts=True)&#xA;    print('Number of samples/class values: {}'.format(unique_vals))&#xA;&#xA;&#xA;    #Transform Y_train to one-hot encoding&#xA;    Y_train_cat = tf.keras.utils.to_categorical(Y_train, nb_classes)&#xA;&#xA;    batch_size = 32&#xA;    # Training set&#xA;    training_samples = X_train.shape[0]&#xA;    print('Training samples: {}'.format(training_samples))&#xA;&#xA;    data_train = tf.data.Dataset.from_tensor_slices((X_train, Y_train_cat)).batch(batch_size)&#xA;    # Shape of the data&#xA;    for element in data_train.take(1):&#xA;        print('Shape of one batch of samples: {}'.format(element[0].shape))&#xA;        print('Shape of one batch of labels: {}'.format(element[1].shape))&#xA;    del X_train, Y_train, Y_train_cat&#xA;&#xA;    # Apply Cache&#xA;    data_train = data_train.cache(filename='./{}_{}cls_{}_saved_models/...-tf_cache-train'.format(ds, int(nb_classes), pp, 1))&#xA;&#xA;&#xA;    # Validation set&#xA;&#xA;    Y_val_cat = tf.keras.utils.to_categorical(Y_val, nb_classes)&#xA;&#xA;    data_val = tf.data.Dataset.from_tensor_slices((X_val, Y_val_cat)).batch(batch_size)&#xA;    del X_val, Y_val, Y_val_cat&#xA;&#xA;    # Apply Cache&#xA;    data_val = data_val.cache(filename='./{}_{}cls_{}_saved_models...-tf_cache-val'.format(ds, int(nb_classes), pp, 1))&#xA;&#xA;    # Testing set&#xA;    Y_test_cat = tf.keras.utils.to_categorical(Y_test, nb_classes)&#xA;    data_test = tf.data.Dataset.from_tensor_slices((X_test, Y_test_cat)).batch(batch_size)&#xA;&#xA;    filename = &amp;quot;./{}_{}cls_{}_....hdf5&amp;quot;.format(ds, int(nb_classes), pp, 1)&#xA;&#xA;    checkpointer = MyModelCheckpoint(filename, verbose=1, save_best_only=True)&#xA;&#xA;    # Fit the model&#xA;    steps_per_epoch = training_samples // batch_size # 118895 / 32&#xA;    print('Steps per epoch: {}'.format(steps_per_epoch))&#xA;    cnn_model.fit(data_train, batch_size = batch_size, epochs=30, shuffle=True, class_weight=class_weights_dict,&#xA;                   validation_data=data_val, callbacks=[checkpointer], steps_per_epoch=steps_per_epoch)   &#xA;&#xA;    cnn_model.load_weights(filename)&#xA;    &#xA;    y_pred = cnn_model.predict(data_test, verbose=1)&#xA;    y_pred = tf.argmax(y_pred, axis=1)&#xA;    y_true = tf.argmax(Y_test_cat, axis=1)&#xA;&#xA;    print(&amp;quot;y_pred Shape:&amp;quot;, y_pred.shape)&#xA;    print(&amp;quot;y_true Shape:&amp;quot;, y_true.shape)&#xA;    print(&amp;quot;---------------------&amp;quot;)&#xA;    print(&amp;quot;y_pred:&amp;quot;, y_pred)&#xA;    print(&amp;quot;y_true:&amp;quot;, y_true)&#xA;    print(&amp;quot;---------------------&amp;quot;)&#xA;&#xA;    np.savetxt(&amp;quot;./{}_{}cls_{}_saved_models/....csv&amp;quot;.format(ds, int(nb_classes), pp, 1), y_pred, delimiter=&amp;quot;,&amp;quot;)&#xA;    &#xA;&#xA;    from sklearn.metrics import precision_score, recall_score, f1_score, accuracy_score, confusion_matrix, classification_report, roc_auc_score, roc_curve, auc&#xA;    cm = confusion_matrix(y_true, y_pred)&#xA;    print(&amp;quot;Confusion Matrix:\n&amp;quot;, cm)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;The output:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;input shape: (None, 32, 9, 19)&#xA;Class weights: [1.05504384 1.30453149 0.77783884]&#xA;=== Training ===&#xA;Number of samples/class values: (array([0, 1, 2], dtype=uint8), array([37564, 30380, 50951], dtype=int64))&#xA;=== Validation ===&#xA;Number of samples/class values: (array([0, 1, 2], dtype=uint8), array([14798,  7304, 21091], dtype=int64))&#xA;=== Testing ===&#xA;Number of samples/class values: (array([0, 1, 2], dtype=uint8), array([22235,   458,  1968], dtype=int64))&#xA;Training samples: 118895&#xA;Shape of one batch of samples: (32, 32, 9, 19)&#xA;Shape of one batch of labels: (32, 3)&#xA;Steps per epoch: 3715&#xA;&#xA;&#xA;poch 1/30&#xA;   5/3715 [..............................] - ETA: 3:29 - loss: 1.9084 - accuracy: 0.1875 - recall: 0.1063 - precision: 0.1589 - auc: 0.3252 - f1_score_m: 0.1279WARNING:tensorflow:Callback method `on_train_batch_end` is slow compared to the batch time (batch time: 0.0103s vs `on_train_batch_end` time: 0.0403s). Check your callbacks.&#xA;1902/3715 [==============&amp;gt;...............] - ETA: 27s - loss: 0.0505 - accuracy: 0.9873 - recall: 0.9859 - precision: 0.9893 - auc: 0.9970 - f1_score_m: 0.9867WARNING:tensorflow:Your input ran out of data; interrupting training. Make sure that your dataset or generator can generate at least `steps_per_epoch * epochs` batches (in this case, 111450 batches). You may need to use the repeat() function when building your dataset.&#xA;Epoch 00000: val_loss_loss improved from inf to 5.34266, saving model to ./....hdf5&#xA;3715/3715 [==============================] - 43s 11ms/step - loss: 0.0505 - accuracy: 0.9873 - recall: 0.9859 - precision: 0.9893 - auc: 0.9970 - f1_score_m: 0.9867 - val_loss: 5.2921 - val_accuracy: 0.4883 - val_recall: 0.4883 - val_precision: 0.4883 - val_auc: 0.6162 - val_f1_score_m: 0.4884&#xA;771/771 [==============================] - 3s 3ms/step&#xA;y_pred Shape: (24661,)&#xA;y_true Shape: (24661,)&#xA;---------------------&#xA;y_pred: tf.Tensor([2 2 2 ... 2 2 2], shape=(24661,), dtype=int64)&#xA;y_true: tf.Tensor([0 0 0 ... 2 2 2], shape=(24661,), dtype=int64)&#xA;---------------------&#xA; 59/771 [=&amp;gt;............................] - ETA: 1sc:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;771/771 [==============================] - 2s 3ms/step&#xA;Confusion Matrix:&#xA; [[    0     0 22235]&#xA; [    0     0   458]&#xA; [    0     0  1968]]&#xA;&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;The problems&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;em&gt;&lt;strong&gt;What are the reasons causing this to happen?&lt;/strong&gt;&lt;/em&gt; If I am understanding correctly. I have 3715 steps/epoch, with a batch size of 32. I am running for a total number of 30 epochs. The total number of training samples is 118,895, which is larger than 3715 * 30 = 111,450.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;WARNING:tensorflow:Your input ran out of data; interrupting training. Make sure that your dataset or generator can generate at least `steps_per_epoch * epochs` batches (in this case, 111450 batches). You may need to use the repeat() function when building your dataset.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ol start=&quot;2&quot;&gt;&#xA;&lt;li&gt;&lt;em&gt;&lt;strong&gt;The prediction is totally messed up&lt;/strong&gt;&lt;/em&gt; (All skewed to Class 2). I guess this can be related to the previous problem, which has to be solved first!&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;&#xA;y_pred: tf.Tensor([2 2 2 ... 2 2 2], shape=(24661,), dtype=int64)&#xA;y_true: tf.Tensor([0 0 0 ... 2 2 2], shape=(24661,), dtype=int64)&#xA;&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;c:\Users\...\sklearn\metrics\_classification.py:1344: UndefinedMetricWarning: Precision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.&#xA;  _warn_prf(average, modifier, msg_start, len(result))&#xA;Confusion Matrix:&#xA; [[    0     0 22235]&#xA; [    0     0   458]&#xA; [    0     0  1968]]&#xA;&lt;span class=&quot;math-container&quot;&gt;```&lt;/span&gt; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""142853"" LastEditorUserId=""142853"" LastEditDate=""2023-01-16T15:33:07.983"" LastActivityDate=""2023-01-16T15:33:07.983"" Title=""WARNING:tensorflow:Your input ran out of data; interrupting training Error"" Tags=""&lt;keras&gt;&lt;tensorflow&gt;&lt;cnn&gt;&lt;multiclass-classification&gt;&lt;epochs&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""120596"" PostTypeId=""1"" CreationDate=""2023-03-30T21:56:05.700"" Score=""1"" ViewCount=""369"" Body=""&lt;p&gt;I'm reading through the documentation of YOLOv8 &lt;a href=&quot;https://docs.ultralytics.com/#where-to-start&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;, but I fail to see an easy way to do what I suggest in the title. What I want to do is to load a pretrained YOLOv8 model, create a bigger model that will contain YOLOv8 as a submodule, and modify the forward function of YOLOv8 so that I may have access to the object detection loss plus the convolutional features, so that they can be used to feed subsequent layers for other custom tasks.&lt;/p&gt;&#xA;&lt;p&gt;To make things clearer, this is how yolov8 is intended to be used originally according to &lt;a href=&quot;https://docs.ultralytics.com/quickstart/#use-with-python&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://docs.ultralytics.com/quickstart/#use-with-python&lt;/a&gt;:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;from ultralytics import YOLO&#xA;&#xA;# Create a new YOLO model from scratch&#xA;model = YOLO('yolov8n.yaml')&#xA;&#xA;# Load a pretrained YOLO model (recommended for training)&#xA;model = YOLO('yolov8n.pt')&#xA;&#xA;# Train the model using the 'coco128.yaml' dataset for 3 epochs&#xA;results = model.train(data='coco128.yaml', epochs=3)&#xA;&#xA;# Evaluate the model's performance on the validation set&#xA;results = model.val()&#xA;&#xA;# Perform object detection on an image using the model&#xA;results = model('https://ultralytics.com/images/bus.jpg')&#xA;&#xA;# Export the model to ONNX format&#xA;success = model.export(format='onnx')&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Instead, I want to do something like this:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt;import torch&#xA;import torch.nn as nn&#xA;from ultralytics import YOLO&#xA;&#xA;class Yolov8Wrapper(nn.Module):&#xA;    &#xA;    def __init__(self, yolov8_feature_dim, n1, n2, n3):&#xA;        super().__init__()&#xA;        self.yolov8 = YOLO('yolov8n.pt')&#xA;        self.fc1 = nn.Linear(yolov8_feature_dim, n1)&#xA;        self.fc2 = nn.Linear(yolov8_feature_dim, n2)&#xA;        self.fc3 = nn.Linear(yolov8_feature_dim, n3)&#xA;    &#xA;    def forward(self, images, gt_boxes):&#xA;        features, loss = self.yolov8(images, gt_boxes)&#xA;        logits1 = self.fc1(features)&#xA;        logits2 = self.fc2(features)&#xA;        logits3 = self.fc3(features)&#xA;        return {&#xA;            'logits1': logits1,&#xA;            'logits2': logits2,&#xA;            'logits3': logits3,&#xA;            'yolov8_loss': loss,&#xA;        }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The code above is a very simplified sketch and of course is not going to work, but more or less that's the idea. Moreover, by creating this ad-hoc wrapper I won't be able to use the out-of-the-box functionality to train, validate and predict that comes with the YOLO library, since it would be a custom architecture (YOLOv8 being just a submodule of it). Thus, I also need to figure out how to write a custom dataloader in order to provide YOLOv8 with the input it expects plus the additional stuff required by my wrapper (there could be different additional layers in the wrapper predicting different outputs based on YOLOv8's features, think of it as multitask learning).&lt;/p&gt;&#xA;&lt;p&gt;Is this possible? How can this be done?&lt;/p&gt;&#xA;"" OwnerUserId=""46305"" LastActivityDate=""2023-09-06T22:00:35.107"" Title=""Is it possible to modify YOLOv8 to use it as a feature extractor for other tasks?"" Tags=""&lt;python&gt;&lt;pytorch&gt;&lt;computer-vision&gt;&lt;yolo&gt;&lt;multitask-learning&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""120781"" PostTypeId=""1"" CreationDate=""2023-04-07T12:05:10.473"" Score=""2"" ViewCount=""1221"" Body=""&lt;p&gt;This is the usual way we train modern deep learning models for NLP, e.g. with Huggingface libraries where we have a fix length for the input no. of tokens/subwoords unit. &lt;a href=&quot;https://huggingface.co/docs/transformers/pad_truncation&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://huggingface.co/docs/transformers/pad_truncation&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;In the follow example, we have 5 sentences of various length and all of them are padded to the max length set at 1024.&lt;/p&gt;&#xA;&lt;p&gt;The first part of my question is with regards to GPU memory usage and pad, when we train a model with batches of data with padded inputs, &lt;strong&gt;would the padded tokens hog up the GPU RAM&lt;/strong&gt;? Even if the model don't compute them since they will return zeros, it's still rather wasteful.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Or does PyTorch / Tensorflow or other lower-level tensor libraries reoptimize the batch such that the pads don't take up memory? If so, any pointers to code/docs on this?&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/UOo7qm.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/UOo7qm.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;There are instances where the batches can be ordered in a way to arrange batches with similar length to go together, esp. at the start of model training, e.g. &lt;a href=&quot;https://discuss.huggingface.co/t/are-dynamic-padding-and-smart-batching-in-the-library/10404/15&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://discuss.huggingface.co/t/are-dynamic-padding-and-smart-batching-in-the-library/10404/15&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Instead of doing padding, are there existing code for some sort of dynamic batching without sorting, &lt;strong&gt;is there a way to keep an offset of all the input sentences EOS token and pack the batch into something that looks like this&lt;/strong&gt;:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/04ggX.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/04ggX.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Are there examples of the above batch packing in other deep learning libraries? Or in native Pytorch/Tensorflow/JAX?&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""122"" LastActivityDate=""2023-04-22T13:53:46.383"" Title=""Dynamic batching and padding batches for NLP in deep learning libraries"" Tags=""&lt;nlp&gt;&lt;pytorch&gt;&lt;huggingface&gt;&lt;dynamic-batching&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""121681"" PostTypeId=""1"" CreationDate=""2023-05-22T01:22:32.767"" Score=""1"" ViewCount=""58"" Body=""&lt;p&gt;I am using a GNN to solve a problem in which I have a query target and an undirected graph. My goal is to emit a subset of nodes in the graph (via a node-wise binary prediction) whose features sum to the target query. I figured this would be relatively easy to learn but I have been struggling quite a lot.&lt;/p&gt;&#xA;&lt;p&gt;To simplify things to the most basic, I currently have a model comprised of 2 GATConv (hidden size 16 down to 1-dim output) layers from pytorch geometric separated by a ReLU activation. I don't use edge weights and nodes only have two features- the feature of interest, and the query target (so this second target feature is identical for all nodes in the graph). I believed this set up would be the simplest way to introduce the query but perhaps this is causing issues. I also wonder if this lack of features could be an issue as well- perhaps there isn't enough information to meaningfully differentiate nodes, though I'm not convinced why that would interfere with the simple objective.&lt;/p&gt;&#xA;&lt;p&gt;Finally, I use the BCEWithLogitsLoss since the target subgraph is a binary mask as well as an Adam optimizer. I know this loss function is not ideal for my real goal and I do have a custom loss function ready to use but to minimize potential sources of bugs, I reverted to using the CE loss.&lt;/p&gt;&#xA;&lt;p&gt;I have a very large dataset at my disposal but in order to diagnose the issues, I've been working with as few as 10 or even 1 graph which happens to be mirrored to force the model to overfit. When plotting the evolution of logits for this 1 graph scenario, I notice that values move consistently in a mirrored fashion, whether I train for 10 epochs or 100, which makes sense given how message passing works, and I believe eliminates the possibility of homogenization of node representations. Loss also consistently drops but it seems like the signal is not strong enough to emit anything but all 0s, perhaps because target node masks are sparse.&lt;/p&gt;&#xA;&lt;p&gt;Any help or advice on how to proceed? I am primarily hoping to find out if I am fundamentally misunderstanding something about GNNs such that my set-up will always fail or if there are other suggested next steps for things to try. I will note I have tried the typical suggestions- modulating learning rate, diff loss functions (tried Focal Loss), deeper/wider architectures, GCNConv layers, out-of-the-box GCN model in pytorch-geometric, dataset simplification.&lt;/p&gt;&#xA;"" OwnerUserId=""150081"" LastActivityDate=""2023-05-25T08:24:44.740"" Title=""Trouble Training GNN for Binary Node Classification Task"" Tags=""&lt;graphs&gt;&lt;graph-neural-network&gt;&lt;pytorch-geometric&gt;&lt;gnn&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""122158"" PostTypeId=""1"" CreationDate=""2023-06-14T13:27:21.763"" Score=""0"" ViewCount=""396"" Body=""&lt;p&gt;I'm running some ML python code on Amazon's EC2 - the machine has a GPU: NVIDIA A10G. The ML code is written using PyTorch.&lt;/p&gt;&#xA;&lt;p&gt;When I run the code I get error:&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;CUDA error: no kernel image is available for execution on the device&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;I suppose this is about PyTorch version? Used version is &lt;code&gt;torch==1.10.2&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;How do I know which version of PyTorch the code MUST use? What's the error about?&lt;/p&gt;&#xA;&lt;p&gt;Are there certain requirement for CUDA by this GPU (A10G)?&lt;/p&gt;&#xA;"" OwnerUserId=""69843"" LastActivityDate=""2023-06-14T13:27:21.763"" Title=""CUDA error: &quot;no kernel image is available for execution on the device&quot; - which PyTorch version to use?"" Tags=""&lt;machine-learning&gt;&lt;python&gt;&lt;pytorch&gt;&lt;cuda&gt;&lt;amazon-ml&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""122437"" PostTypeId=""1"" CreationDate=""2023-06-27T13:44:59.817"" Score=""0"" ViewCount=""118"" Body=""&lt;p&gt;I know this question has answers, but they are not working.&lt;/p&gt;&#xA;&lt;p&gt;why this fails ?&#xA;(and why tensorflow has troubles in reading numpy!!)&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;def data_generator(df):&#xA;    for index, row in df.iterrows():&#xA;        audio = row['audio']  # Replace 'audio' with the appropriate column name from your DataFrame&#xA;        audio = np.asarray(audio).astype(np.float32)&#xA;        audio_tensor = tf.convert_to_tensor(audio, dtype=tf.float32)&#xA;        yield audio_tensor  # this is a tensor for sure&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;and&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;list(data_generator(sample_data));  # it is fine! the list is a list of TF tensors&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;but the generator function, when passed on the &lt;code&gt;from_generator&lt;/code&gt;, will fail:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;dataset = tf.data.Dataset.from_generator(data_generator, args=([sample_data]), output_signature=tf.TensorSpec(shape=(), dtype=tf.float32)) # sample_data is my dataframe&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Error:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;---------------------------------------------------------------------------&#xA;ValueError                                Traceback (most recent call last)&#xA;Cell In[219], line 3&#xA;      1 list(data_generator(sample_data));&#xA;      2 # Create a tf.data.Dataset from the data generator&#xA;----&amp;gt; 3 dataset = tf.data.Dataset.from_generator(data_generator, args=([sample_data]), output_signature=tf.TensorSpec(shape=(), dtype=tf.float32))&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/util/deprecation.py:576, in deprecated_args.&amp;lt;locals&amp;gt;.deprecated_wrapper.&amp;lt;locals&amp;gt;.new_func(*args, **kwargs)&#xA;    568         _PRINTED_WARNING[(func, arg_name)] = True&#xA;    569       logging.warning(&#xA;    570           'From %s: calling %s (from %s) with %s is deprecated and will '&#xA;    571           'be removed %s.\nInstructions for updating:\n%s',&#xA;   (...)&#xA;    574           'in a future version' if date is None else ('after %s' % date),&#xA;    575           instructions)&#xA;--&amp;gt; 576 return func(*args, **kwargs)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/data/ops/dataset_ops.py:970, in DatasetV2.from_generator(generator, output_types, output_shapes, args, output_signature, name)&#xA;    966 # Loaded lazily due to a circular dependency (dataset_ops -&amp;gt;&#xA;    967 # from_generator_op -&amp;gt; dataset_ops).&#xA;    968 # pylint: disable=g-import-not-at-top,protected-access&#xA;    969 from tensorflow.python.data.ops import from_generator_op&#xA;--&amp;gt; 970 return from_generator_op._from_generator(generator, output_types,&#xA;    971                                          output_shapes, args,&#xA;    972                                          output_signature, name)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/data/ops/from_generator_op.py:155, in _from_generator(generator, output_types, output_shapes, args, output_signature, name)&#xA;    153   args = ()&#xA;    154 else:&#xA;--&amp;gt; 155   args = tuple(ops.convert_n_to_tensor(args, name=&amp;quot;args&amp;quot;))&#xA;    157 generator_state = dataset_ops.DatasetV2._GeneratorState(generator)  # pylint: disable=protected-access&#xA;    159 def get_iterator_id_fn(unused_dummy):&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/ops.py:1742, in convert_n_to_tensor(values, dtype, name, preferred_dtype)&#xA;   1719 def convert_n_to_tensor(values, dtype=None, name=None, preferred_dtype=None):&#xA;   1720   &amp;quot;&amp;quot;&amp;quot;Converts `values` to a list of `Tensor` objects.&#xA;   1721 &#xA;   1722   Args:&#xA;   (...)&#xA;   1740       value.&#xA;   1741   &amp;quot;&amp;quot;&amp;quot;&#xA;-&amp;gt; 1742   return internal_convert_n_to_tensor(&#xA;   1743       values=values,&#xA;   1744       dtype=dtype,&#xA;   1745       name=name,&#xA;   1746       preferred_dtype=preferred_dtype,&#xA;   1747       as_ref=False)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/ops.py:1709, in internal_convert_n_to_tensor(values, dtype, name, as_ref, preferred_dtype, ctx)&#xA;   1706 for i, value in enumerate(values):&#xA;   1707   n = None if name is None else &amp;quot;%s_%d&amp;quot; % (name, i)&#xA;   1708   ret.append(&#xA;-&amp;gt; 1709       convert_to_tensor(&#xA;   1710           value,&#xA;   1711           dtype=dtype,&#xA;   1712           name=n,&#xA;   1713           as_ref=as_ref,&#xA;   1714           preferred_dtype=preferred_dtype,&#xA;   1715           ctx=ctx))&#xA;   1716 return ret&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/profiler/trace.py:183, in trace_wrapper.&amp;lt;locals&amp;gt;.inner_wrapper.&amp;lt;locals&amp;gt;.wrapped(*args, **kwargs)&#xA;    181   with Trace(trace_name, **trace_kwargs):&#xA;    182     return func(*args, **kwargs)&#xA;--&amp;gt; 183 return func(*args, **kwargs)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/ops.py:1642, in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype, dtype_hint, ctx, accepted_result_types)&#xA;   1633       raise RuntimeError(&#xA;   1634           _add_error_prefix(&#xA;   1635               f&amp;quot;Conversion function {conversion_func!r} for type &amp;quot;&#xA;   (...)&#xA;   1638               f&amp;quot;actual = {ret.dtype.base_dtype.name}&amp;quot;,&#xA;   1639               name=name))&#xA;   1641 if ret is None:&#xA;-&amp;gt; 1642   ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)&#xA;   1644 if ret is NotImplemented:&#xA;   1645   continue&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/constant_op.py:344, in _constant_tensor_conversion_function(v, dtype, name, as_ref)&#xA;    341 def _constant_tensor_conversion_function(v, dtype=None, name=None,&#xA;    342                                          as_ref=False):&#xA;    343   _ = as_ref&#xA;--&amp;gt; 344   return constant(v, dtype=dtype, name=name)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/constant_op.py:268, in constant(value, dtype, shape, name)&#xA;    171 @tf_export(&amp;quot;constant&amp;quot;, v1=[])&#xA;    172 def constant(value, dtype=None, shape=None, name=&amp;quot;Const&amp;quot;):&#xA;    173   &amp;quot;&amp;quot;&amp;quot;Creates a constant tensor from a tensor-like object.&#xA;    174 &#xA;    175   Note: All eager `tf.Tensor` values are immutable (in contrast to&#xA;   (...)&#xA;    266     ValueError: if called on a symbolic tensor.&#xA;    267   &amp;quot;&amp;quot;&amp;quot;&#xA;--&amp;gt; 268   return _constant_impl(value, dtype, shape, name, verify_shape=False,&#xA;    269                         allow_broadcast=True)&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/constant_op.py:280, in _constant_impl(value, dtype, shape, name, verify_shape, allow_broadcast)&#xA;    278     with trace.Trace(&amp;quot;tf.constant&amp;quot;):&#xA;    279       return _constant_eager_impl(ctx, value, dtype, shape, verify_shape)&#xA;--&amp;gt; 280   return _constant_eager_impl(ctx, value, dtype, shape, verify_shape)&#xA;    282 g = ops.get_default_graph()&#xA;    283 tensor_value = attr_value_pb2.AttrValue()&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/constant_op.py:305, in _constant_eager_impl(ctx, value, dtype, shape, verify_shape)&#xA;    303 def _constant_eager_impl(ctx, value, dtype, shape, verify_shape):&#xA;    304   &amp;quot;&amp;quot;&amp;quot;Creates a constant on the current device.&amp;quot;&amp;quot;&amp;quot;&#xA;--&amp;gt; 305   t = convert_to_eager_tensor(value, ctx, dtype)&#xA;    306   if shape is None:&#xA;    307     return t&#xA;&#xA;File ~/miniconda3/lib/python3.10/site-packages/tensorflow/python/framework/constant_op.py:103, in convert_to_eager_tensor(value, ctx, dtype)&#xA;    101     dtype = dtypes.as_dtype(dtype).as_datatype_enum&#xA;    102 ctx.ensure_initialized()&#xA;--&amp;gt; 103 return ops.EagerTensor(value, ctx.device_name, dtype)&#xA;&#xA;ValueError: Failed to convert a NumPy array to a Tensor (Unsupported object type float).&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Where does that error come from ?&lt;/p&gt;&#xA;&lt;p&gt;It seems on the conversion function, but it worked on the generator.&#xA;So I m lost. Is it a TF bug ?&lt;/p&gt;&#xA;&lt;p&gt;NB:&lt;/p&gt;&#xA;&lt;p&gt;this would work:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;tensor_list = [tf.convert_to_tensor(row['audio'], dtype=tf.float32) for _, row in sample_data.iterrows()]&#xA;dataset = tf.data.Dataset.from_tensor_slices(tensor_list)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;But I want to use a generator to reduce memory pressure.&lt;/p&gt;&#xA;"" OwnerUserId=""27442"" LastActivityDate=""2023-11-22T04:42:40.263"" Title=""ValueError: Failed to convert a NumPy array to a Tensor (Unsupported object type int) in Python - from_gerator fails"" Tags=""&lt;tensorflow&gt;&lt;dataset&gt;&lt;numpy&gt;&lt;api&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""123393"" PostTypeId=""1"" CreationDate=""2023-08-25T03:46:28.633"" Score=""0"" ViewCount=""18"" Body=""&lt;p&gt;&lt;strong&gt;Background:&lt;/strong&gt;&#xA;I am measuring the reflection signal from the pipe. First strong kick is called &lt;code&gt;firing kick&lt;/code&gt;. The later &lt;code&gt;small bumps&lt;/code&gt; are reflection from devices in the pipe and final one should be the end of the pipe. The data is gathered from multiple shots in order to make sure that the signal is not confused with noise in the pipe.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://gist.github.com/elcolie/02161c33a5e587f7ec084c260767adfa&quot; rel=&quot;nofollow noreferrer&quot;&gt;transducer.txt&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/qafjI.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/qafjI.png&quot; alt=&quot;Transducer data figure&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;And here is the expected final answer&#xA;&lt;a href=&quot;https://i.stack.imgur.com/fSpVl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/fSpVl.png&quot; alt=&quot;Expected final answer&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;My current approach is using &lt;code&gt;find_max()&lt;/code&gt; which is rely on static threshold of data. It will be fail when the survey is longer and signal is weaker. Therefore I would like to apply &lt;code&gt;machine learning&lt;/code&gt; to this problem.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Attempts&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Use sliding windows and let A.I. learn from &lt;code&gt;mean, medium, mode, variance, ... harmonic mean, ...&lt;/code&gt;. I found that the more it learn the more confusion it gets.&lt;/li&gt;&#xA;&lt;li&gt;Try object detection approach. It require big dataset and intensive computing power. I don't have them.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;strong&gt;Question&lt;/strong&gt;&lt;br&gt;&#xA;Any approach I can train &lt;code&gt;A.I.&lt;/code&gt; to learn how to localized bumps?&lt;/p&gt;&#xA;"" OwnerUserId=""60428"" LastActivityDate=""2023-08-25T03:46:28.633"" Title=""How to detect a kick signal"" Tags=""&lt;machine-learning&gt;&lt;python&gt;&lt;time-series&gt;&lt;statistics&gt;&lt;pytorch&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""123571"" PostTypeId=""1"" CreationDate=""2023-09-05T17:42:02.163"" Score=""1"" ViewCount=""18"" Body=""&lt;p&gt;I'm encountering a memory allocation problem while training a deep learning model on my computer, which has a Core i9 10th Gen CPU, 64 GB of RAM, and an NVIDIA GTX 1660 Super with 6GB of VRAM. Despite what seems like a well-equipped setup, TensorFlow reports errors related to memory allocation during training.&lt;/p&gt;&#xA;&lt;p&gt;I've tried adjusting the batch size, enabling GPU memory growth, and monitoring system resources, but the issue persists. The dataset isn't exceptionally large, and the model isn't overly complex, so I'm puzzled about the root cause.&lt;/p&gt;&#xA;&lt;p&gt;I'm seeking advice on how to diagnose and resolve this memory allocation issue, as I believe my hardware should be capable of handling the workload. Any insights or suggestions would be greatly appreciated.&lt;/p&gt;&#xA;&lt;p&gt;The exact error message is:&#xA;ResourceExhaustedError: {{function_node _&lt;em&gt;wrapped__StatelessRandomUniformV2_device&lt;/em&gt;/job:localhost/replica:0/task:0/device:GPU:0}} OOM when allocating tensor with shape[9345024,62] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc [Op:StatelessRandomUniformV2]&lt;/p&gt;&#xA;&lt;p&gt;Note: For those who know I am trying to train video dataset of CASIA B with about 14000 one second videos using 3D Convolution.&lt;/p&gt;&#xA;"" OwnerUserId=""154259"" LastActivityDate=""2023-09-05T17:42:02.163"" Title=""Why do I keep on getting ResourceExhaustedError while training on video data using CONV3D on tensorflow?"" Tags=""&lt;machine-learning&gt;&lt;neural-network&gt;&lt;tensorflow&gt;&lt;convolutional-neural-network&gt;&lt;multiclass-classification&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""123826"" PostTypeId=""1"" CreationDate=""2023-09-23T22:02:38.283"" Score=""0"" ViewCount=""119"" Body=""&lt;p&gt;I have a pretrained Llama-2 model in the &lt;code&gt;models_hf&lt;/code&gt; directory and two fine-tuned adapters: a summarization adapter in &lt;code&gt;./tmp/llama-output&lt;/code&gt; and a chat adapter in &lt;code&gt;./tmp/chat_adapter&lt;/code&gt;. The details of the code are in &lt;a href=&quot;https://stackoverflow.com/questions/77164963/how-to-merge-fine-tuned-adapter-and-pretrained-model-in-hugging-face-transformer&quot;&gt;another question&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;For inference, I'd like to use all three components: the pretrained model, summarization adapter, and chat adapter. However, I'm unsure about the memory requirements and the best approach.&lt;/p&gt;&#xA;&lt;p&gt;Do I need to:&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Option 1&lt;/strong&gt;: Load one instance of the pretrained model (e.g., 10GB GPU memory), and then load the two separate instances of adapters (e.g., 100MB each), resulting in a total memory usage of 10GB + 200MB?&lt;/p&gt;&#xA;&lt;p&gt;OR&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Option 2&lt;/strong&gt;: Load two separate instances of the 10GB pretrained model and stack the summarization adapter on one and the chat adapter on the other, resulting in a total memory usage of 20GB + 200MB?&lt;/p&gt;&#xA;&lt;p&gt;Additionally, could you provide a code example or steps on how to load and use these components for inference effectively? I'm looking for guidance on memory management and loading processes to ensure smooth and efficient inference with this setup.&lt;/p&gt;&#xA;"" OwnerUserId=""130360"" LastActivityDate=""2023-11-16T10:04:45.530"" Title=""How to Use Multiple Adapters with a Pretrained Model in Hugging Face Transformers for Inference?"" Tags=""&lt;deep-learning&gt;&lt;nlp&gt;&lt;pytorch&gt;&lt;huggingface&gt;&lt;inference&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""123964"" PostTypeId=""1"" CreationDate=""2023-10-03T11:45:09.850"" Score=""1"" ViewCount=""42"" Body=""&lt;p&gt;I'm trying to design a simple deep learning application for biometric system verification, but every time I run the application I get very different results and I can't figure out why. I don't use data augmentation in the training and development sets to get close results, but the results are still very different. The dataset I am using is a biometric verification set with about 10 seconds of video from each sample. I have tried many methods such as sample reduction, synthetic sample creation, data shuffle, but the results have not changed. You can check the Train Loss values in Results1. Besides, threshold is the value obtained from the FAR-FRR curve of the development set and is equal to the EER. ACCURACY (Threshold) is used to manually assign classes that are above and below the threshold value (EER and HTER are biometric validation metrics and are obtained from the development set and test set respectively. These two values are expected to be close to zero). Also, the validation_loss value sometimes increases and sometimes decreases instead of decreasing smoothly. Although I use earlystopping, I cannot correct the loss value. I would like you to help me with this issue.&lt;/p&gt;&#xA;&lt;p&gt;Note: The model I am using is an example from the Keras documentation (link is in the code). I use a for loop to run the program multiple times. Each iteration is one round of the for loop, each Run is a manual execution of the program. Also, when model = make_model is taken out of the for loop, I get very different results (Results2-Make Model out of the for loop). I don't understand the reason for this either. Could this be caused by the randomization of the initial weights? Do you have any suggestions for a solution?&lt;/p&gt;&#xA;&lt;p&gt;The code example I used is as follows;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;The Definitions:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import numpy as np&#xA;import os&#xA;import keras.preprocessing.image&#xA;import keras.callbacks&#xA;import tensorflow as tf&#xA;&#xA;tf.compat.v1.logging.set_verbosity(tf.compat.v1.logging.ERROR)&#xA;&#xA;from tensorflow.keras import layers&#xA;from tensorflow import keras&#xA;from sklearn.metrics import confusion_matrix&#xA;&#xA;os.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'&#xA;tf.keras.utils.set_random_seed(42)&#xA;&#xA;from sklearn.metrics import roc_curve&#xA;&#xA;def biometric_metrics_fixed(y_true, scores):&#xA;    fpr, tpr, threshold = roc_curve(y_true, scores, pos_label=1)&#xA;    fnr = 1 - tpr&#xA;    eer_threshold = threshold[np.nanargmin(np.absolute((fnr - fpr)))]&#xA;    eer = fpr[np.nanargmin(np.absolute((fnr - fpr)))]&#xA;    return eer, fpr, fnr, eer_threshold, tpr&#xA;&#xA;def Metrics(y_test, y_test_pred, th, eer, train_acc, test_acc, epoch):&#xA;    from sklearn import metrics&#xA;    y_test_pred_th = np.where(y_test_pred &amp;lt; th, 0, 1)&#xA;    tn, fp, fn, tp = confusion_matrix(y_test, y_test_pred_th).ravel()&#xA;    fpr = fp / (fp + tn)&#xA;    fnr = fn / (fn + tp)&#xA;&#xA;    x = {&#xA;        &amp;quot;ACC&amp;quot;: metrics.accuracy_score(y_test, y_test_pred_th),&#xA;        &amp;quot;AUROC&amp;quot;: metrics.roc_auc_score(y_test, y_test_pred_th),&#xA;        &amp;quot;EER&amp;quot;: eer,&#xA;        &amp;quot;F1&amp;quot;: metrics.f1_score(y_test, y_test_pred_th),&#xA;        &amp;quot;HTER&amp;quot;: ((fpr + fnr) / 2),&#xA;        &amp;quot;MAE&amp;quot;: metrics.mean_absolute_error(y_test, y_test_pred_th),&#xA;        &amp;quot;MSE&amp;quot;: metrics.mean_squared_error(y_test, y_test_pred_th),&#xA;        &amp;quot;PREC&amp;quot;: metrics.precision_score(y_test, y_test_pred_th),&#xA;        &amp;quot;RECALL&amp;quot;: metrics.recall_score(y_test, y_test_pred_th),&#xA;        &amp;quot;TRAIN_ACC&amp;quot;: train_acc,&#xA;        &amp;quot;TEST_ACC&amp;quot;: test_acc,&#xA;        &amp;quot;XX_EPOCH&amp;quot;: epoch&#xA;    }&#xA;    &#xA;    return x&#xA;&#xA;physical_devices = tf.config.experimental.list_physical_devices('GPU')&#xA;tf.config.experimental.set_memory_growth(physical_devices[0], True)&#xA;&#xA;image_size = (128, 128)&#xA;batch_size = 128&#xA;IMG_SHAPE = image_size + (3,)&#xA;&#xA;all_results = {&amp;quot;All&amp;quot;:{}}&#xA;&#xA;base_dir = &amp;quot;All&amp;quot;&#xA;&#xA;# Keras example: https://keras.io/examples/vision/image_classification_from_scratch/&#xA;def make_model(input_shape, num_classes):&#xA;    inputs = keras.Input(shape=input_shape)&#xA;&#xA;    # Entry block&#xA;    x = layers.Rescaling(1.0 / 255)(inputs)&#xA;    x = layers.Conv2D(128, 3, strides=2, padding=&amp;quot;same&amp;quot;)(x)&#xA;    x = layers.BatchNormalization()(x)&#xA;    x = layers.Activation(&amp;quot;relu&amp;quot;)(x)&#xA;    &#xA;    previous_block_activation = x  # Set aside residual&#xA;    &#xA;    for size in [256, 512, 728]:&#xA;        x = layers.Activation(&amp;quot;relu&amp;quot;)(x)&#xA;        x = layers.SeparableConv2D(size, 3, padding=&amp;quot;same&amp;quot;)(x)&#xA;        x = layers.BatchNormalization()(x)&#xA;    &#xA;        x = layers.Activation(&amp;quot;relu&amp;quot;)(x)&#xA;        x = layers.SeparableConv2D(size, 3, padding=&amp;quot;same&amp;quot;)(x)&#xA;        x = layers.BatchNormalization()(x)&#xA;    &#xA;        x = layers.MaxPooling2D(3, strides=2, padding=&amp;quot;same&amp;quot;)(x)&#xA;    &#xA;        # Project residual&#xA;        residual = layers.Conv2D(size, 1, strides=2, padding=&amp;quot;same&amp;quot;)(&#xA;            previous_block_activation&#xA;        )&#xA;        x = layers.add([x, residual])  # Add back residual&#xA;        previous_block_activation = x  # Set aside next residual&#xA;    &#xA;    x = layers.SeparableConv2D(1024, 3, padding=&amp;quot;same&amp;quot;)(x)&#xA;    x = layers.BatchNormalization()(x)&#xA;    x = layers.Activation(&amp;quot;relu&amp;quot;)(x)&#xA;    &#xA;    x = layers.GlobalAveragePooling2D()(x)&#xA;    if num_classes == 2:&#xA;        activation = &amp;quot;sigmoid&amp;quot;&#xA;        units = 1&#xA;    else:&#xA;        activation = &amp;quot;softmax&amp;quot;&#xA;        units = num_classes&#xA;    &#xA;    x = layers.Dropout(0.5)(x)&#xA;    outputs = layers.Dense(units, activation=activation)(x)&#xA;    return keras.Model(inputs, outputs)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Data Loading:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;folder_name = &amp;quot;Database_Folder&amp;quot;&#xA;&#xA;folder = os.path.join(folder_name, base_dir)&#xA;&#xA;train_ds = tf.keras.utils.image_dataset_from_directory(&#xA;os.path.join(folder,&amp;quot;train&amp;quot;),&#xA;image_size=image_size,&#xA;batch_size=batch_size,&#xA;)&#xA;&#xA;val_ds = tf.keras.utils.image_dataset_from_directory(&#xA;os.path.join(folder,&amp;quot;devel&amp;quot;),&#xA;image_size=image_size,&#xA;batch_size=batch_size,&#xA;)&#xA;&#xA;test_ds = tf.keras.utils.image_dataset_from_directory(&#xA;os.path.join(folder,&amp;quot;test&amp;quot;),&#xA;image_size=image_size,&#xA;batch_size=batch_size,&#xA;)&#xA;&#xA;# Prefetching samples in GPU memory helps maximize GPU utilization.&#xA;train_ds = train_ds.prefetch(tf.data.AUTOTUNE)&#xA;val_ds = val_ds.prefetch(tf.data.AUTOTUNE)&#xA;test_ds = test_ds.prefetch(tf.data.AUTOTUNE)&#xA;&#xA;epochs = 100&#xA;&#xA;train_ds_list = list(train_ds)&#xA;x_train = np.concatenate([x for x, y in train_ds_list], axis=0)&#xA;y_train = np.concatenate([y for x, y in train_ds_list], axis=0)&#xA;&#xA;val_ds_list = list(val_ds)&#xA;x_val = np.concatenate([x for x, y in val_ds_list], axis=0)&#xA;y_val = np.concatenate([y for x, y in val_ds_list], axis=0)&#xA;&#xA;test_ds_list = list(test_ds)&#xA;x_test = np.concatenate([x for x, y in test_ds_list], axis=0)&#xA;y_test = np.concatenate([y for x, y in test_ds_list], axis=0)&#xA;&#xA;with tf.device('/cpu:0'):&#xA;x_train = tf.convert_to_tensor(x_train, np.float32)&#xA;y_train = tf.convert_to_tensor(y_train, np.float32)&#xA;&#xA;with tf.device('/cpu:0'):&#xA;x_val = tf.convert_to_tensor(x_val, np.float32)&#xA;y_val = tf.convert_to_tensor(y_val, np.float32)&#xA;&#xA;with tf.device('/cpu:0'):&#xA;x_test = tf.convert_to_tensor(x_test, np.float32)&#xA;y_test = tf.convert_to_tensor(y_test, np.float32)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Classification multiple times:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;for i in range(5):&#xA;    keras.backend.clear_session()&#xA;    model = make_model(input_shape=image_size + (3,), num_classes=2)&#xA;    &#xA;    model.compile(&#xA;        optimizer=keras.optimizers.Adam(1e-3),&#xA;        loss=&amp;quot;binary_crossentropy&amp;quot;,&#xA;        metrics=[&amp;quot;accuracy&amp;quot;],&#xA;    )&#xA;    &#xA;    model_checkpoint_callback = tf.keras.callbacks.ModelCheckpoint(&#xA;        filepath=os.path.join(&amp;quot;Checkpoints&amp;quot;, folder_name + &amp;quot;_&amp;quot; + str(i+1) + &amp;quot;_model_save_at_{epoch}.h5&amp;quot;),&#xA;        monitor='val_loss',&#xA;        mode='min',&#xA;        restore_best_weights=True,&#xA;        save_best_only=True)&#xA;    &#xA;    callbacks = [&#xA;        keras.callbacks.EarlyStopping(&#xA;            monitor='val_loss', mode='min', verbose=1, patience=10),&#xA;        model_checkpoint_callback&#xA;    ]&#xA;        &#xA;    history = model.fit(&#xA;        x_train,&#xA;        y_train,&#xA;        epochs=epochs,&#xA;        callbacks=callbacks,&#xA;        batch_size=batch_size,&#xA;        validation_data=(x_val, y_val),&#xA;    )&#xA;        &#xA;    y_val_pred = model.predict(x_val)&#xA;    eer, far, frr, th, tpr = biometric_metrics_fixed(y_val, y_val_pred)&#xA;    &#xA;    y_test_pred = model.predict(x_test)&#xA;    &#xA;    test_loss, test_accuracy = model.evaluate(x_test, y_test)&#xA;    &#xA;    all_results[base_dir][i] = Metrics(y_test, y_test_pred, th, eer, history.history['accuracy'][-1], test_accuracy, len(history.history['accuracy']))&#xA;    all_results[base_dir][i][&amp;quot;XXX_History&amp;quot;] = history.history&#xA;    all_results[base_dir][i][&amp;quot;XXX_TestLoss&amp;quot;] = test_loss&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Here are the results I got when I ran this application 3 times;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/FDKph.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/FDKph.jpg&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;If I take the following codes outside the for loop, this time the results are as follows;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;keras.backend.clear_session()&#xA;&#xA;model = make_model(input_shape=image_size + (3,), num_classes=2)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/iHt6G.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/iHt6G.jpg&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;In this case the results are very close to each other, but I am concerned about whether the model is affected by the previous loop state.&lt;/p&gt;&#xA;"" OwnerUserId=""155028"" LastEditorUserId=""155028"" LastEditDate=""2023-10-03T15:46:14.943"" LastActivityDate=""2023-10-03T15:46:14.943"" Title=""Deep learning model produces very different results when classifying the same samples"" Tags=""&lt;machine-learning&gt;&lt;deep-learning&gt;&lt;keras&gt;&lt;tensorflow&gt;&lt;cnn&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\datascience.stackexchange.com\Posts.xml,"  <row Id=""124535"" PostTypeId=""1"" CreationDate=""2023-11-11T00:02:56.350"" Score=""0"" ViewCount=""39"" Body=""&lt;p&gt;In the below code I am trying to train a very simple Transformer Encoder model to basically do nothing with its input. Giving some arbitrary input vector x, the aim of the model is then to output that exact same vector. As my loss function I am using the Mean Squared Error, between my input vector x and the output vector y. So the optimal solution would be located at y=x. However apart from very simple input vector shapes where for example the batch size, sequence length and feature dimension are all one, the model always seems to get stuck at some non marginal loss.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import torch&#xA;import torch.nn as nn&#xA;import torch.optim as optim&#xA;&#xA;&#xA;class Transformer(nn.Module):&#xA;    def __init__(self, d_model, feedforward_expansion, num_layers):&#xA;        super().__init__()   &#xA;        &#xA;        layer = nn.TransformerEncoderLayer(d_model=d_model, nhead=1, &#xA;                                           dim_feedforward=d_model * feedforward_expansion,&#xA;                                           batch_first=True)&#xA;        &#xA;        self.encoder = nn.TransformerEncoder(layer, num_layers=num_layers)&#xA;        &#xA;    def forward(self, x):&#xA;        y = self.encoder(x)&#xA;        &#xA;        return y&#xA;    &#xA;    &#xA;n_batch, n_sequence, n_features = 10, 10, 10&#xA;lr = 1e-2&#xA;n_epochs = 1000&#xA;num_layers = 1&#xA;feedforward_expansion = 1&#xA;    &#xA;criterion = nn.MSELoss()&#xA;model = Transformer(n_features, feedforward_expansion, num_layers)&#xA;optimizer = optim.Adam(model.parameters(), lr=lr)&#xA;&#xA;x = torch.randn((n_batch, n_sequence, n_features))&#xA;&#xA;for i in range(n_epochs):    &#xA;    optimizer.zero_grad()&#xA;    &#xA;    y = model(x)&#xA;    loss = criterion(x, y)&#xA;    &#xA;    loss.backward()&#xA;    optimizer.step()&#xA;    &#xA;    print(f&amp;quot;{i}: {loss.item():.4e}&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I assume this has something to do with the architecture of the Transformer. However I am wondering if someone could explain me in more detail why this model seems to fail at this rather simple task?&lt;/p&gt;&#xA;"" OwnerUserId=""156103"" LastEditorUserId=""156103"" LastEditDate=""2023-11-11T00:03:54.887"" LastActivityDate=""2023-11-11T00:03:54.887"" Title=""Can't overfit Transformer Encoder"" Tags=""&lt;python&gt;&lt;deep-learning&gt;&lt;pytorch&gt;&lt;transformer&gt;&lt;overfitting&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1142789"" PostTypeId=""1"" CreationDate=""2019-05-13T07:23:53.210"" Score=""2"" ViewCount=""2753"" Body=""&lt;p&gt;I have a clean install of Ubuntu MATE 18.04 that I wish to install TensorFlow on with GPU support. My GPU is a Titan X.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am following the instructions from the &lt;a href=&quot;https://www.tensorflow.org/install/gpu#ubuntu_1804_cuda_10&quot; rel=&quot;nofollow noreferrer&quot;&gt;GPU support guide&lt;/a&gt; but I am unable to install the NVIDIA driver due to broken packages. Here is the command and its output:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ sudo apt-get install --no-install-recommends nvidia-driver-410&#xA;Reading package lists... Done&#xA;Building dependency tree       &#xA;Reading state information... Done&#xA;Some packages could not be installed. This may mean that you have&#xA;requested an impossible situation or if you are using the unstable&#xA;distribution that some required packages have not yet been created&#xA;or been moved out of Incoming.&#xA;The following information may help to resolve the situation:&#xA;&#xA;The following packages have unmet dependencies:&#xA; nvidia-driver-410 : Depends: xserver-xorg-video-nvidia-410 (= 410.104-0ubuntu1) but it is not going to be installed&#xA;E: Unable to correct problems, you have held broken packages.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I tried resolving this by using &lt;code&gt;aptitude&lt;/code&gt; in place of &lt;code&gt;apt-get&lt;/code&gt; and accepting the proposed solution. However, upon reboot the system freezes at login. Since it was a clean install, I simply reinstalled the OS, and now I am back to this original problem.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How do I resolve the broken packages so I can install the driver for my GPU?&lt;/p&gt;&#xA;"" OwnerUserId=""23695"" LastEditorUserId=""695857"" LastEditDate=""2019-05-13T07:33:59.713"" LastActivityDate=""2019-05-13T08:55:25.750"" Title=""Broken packages when installing NVIDIA drivers on Ubuntu MATE 18.04"" Tags=""&lt;drivers&gt;&lt;apt&gt;&lt;nvidia&gt;&lt;ubuntu-mate&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""1"" ClosedDate=""2019-05-13T16:21:38.990"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1182303"" PostTypeId=""1"" AcceptedAnswerId=""1182313"" CreationDate=""2019-10-20T05:06:51.970"" Score=""0"" ViewCount=""421"" Body=""&lt;p&gt;I have a fresh installation of Ubuntu 18.04.3 and I am trying to install tensorflow-rocm (for AMD GPU) version 1.14.0.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;default pip3 install tensorflow-rocm is installing v2.0 but the code set that I use was made on 1.14, so there are some errors when I try to run the same on v2.0 mostly because of how packages have been moved.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I found the source code of tensorflow-rocm v 1.14.0 but when I am trying to build it, I am facing an error. I have no idea why. I checked if rocm is installed on my system and as per their official site it is installed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The error that I am facing is as follows:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Starting local Bazel server and connecting to it...&#xA;ERROR: Skipping '//tensorflow/tools/pip_package:build_pip_package': error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'rocm/build_defs.bzl': no such package '@local_config_rocm//rocm': Traceback (most recent call last):&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/rocm_configure.bzl&quot;, line 861&#xA;        _create_local_rocm_repository(repository_ctx)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/rocm_configure.bzl&quot;, line 682, in _create_local_rocm_repository&#xA;        make_copy_dir_rule(repository_ctx, name = &quot;rccl-inclu...&quot;, &amp;lt;2 more arguments&amp;gt;)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 923, in make_copy_dir_rule&#xA;        _read_dir(repository_ctx, src_dir)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 956, in _read_dir&#xA;        _execute(repository_ctx, [&quot;find&quot;, src_dir, ...&quot;], ...)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 887, in _execute&#xA;        auto_configure_fail(&quot;\n&quot;.join([error_msg.strip() if ... &quot;&quot;]))&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 324, in auto_configure_fail&#xA;        fail((&quot;\n%sCuda Configuration Error:%...)))&#xA;&#xA;Cuda Configuration Error: Repository command failed&#xA;find: ‘/opt/rocm/rccl/include’: No such file or directory&#xA;&#xA;WARNING: Target pattern parsing failed.&#xA;ERROR: error loading package 'tensorflow/tools/pip_package': Encountered error while reading extension file 'rocm/build_defs.bzl': no such package '@local_config_rocm//rocm': Traceback (most recent call last):&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/rocm_configure.bzl&quot;, line 861&#xA;        _create_local_rocm_repository(repository_ctx)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/rocm_configure.bzl&quot;, line 682, in _create_local_rocm_repository&#xA;        make_copy_dir_rule(repository_ctx, name = &quot;rccl-inclu...&quot;, &amp;lt;2 more arguments&amp;gt;)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 923, in make_copy_dir_rule&#xA;        _read_dir(repository_ctx, src_dir)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 956, in _read_dir&#xA;        _execute(repository_ctx, [&quot;find&quot;, src_dir, ...&quot;], ...)&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 887, in _execute&#xA;        auto_configure_fail(&quot;\n&quot;.join([error_msg.strip() if ... &quot;&quot;]))&#xA;    File &quot;/home/heyitsabi/tensorflow-upstream/third_party/gpus/cuda_configure.bzl&quot;, line 324, in auto_configure_fail&#xA;        fail((&quot;\n%sCuda Configuration Error:%...)))&#xA;&#xA;Cuda Configuration Error: Repository command failed&#xA;find: ‘/opt/rocm/rccl/include’: No such file or directory&#xA;&#xA;INFO: Elapsed time: 2.470s&#xA;INFO: 0 processes.&#xA;FAILED: Build did NOT complete successfully (0 packages loaded)&#xA;    currently loading: tensorflow/tools/pip_package&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://github.com/ROCmSoftwarePlatform/tensorflow-upstream/blob/develop-upstream/rocm_docs/tensorflow-build-from-source.md&quot; rel=&quot;nofollow noreferrer&quot;&gt;Source site of tensorflow-rcom 1.14.0&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""835062"" LastActivityDate=""2019-10-20T06:17:32.783"" Title=""Ubuntu 18.04.3: Need help with ROCm tensorflow: Build error"" Tags=""&lt;18.04&gt;&lt;amdgpu-pro&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1269091"" PostTypeId=""1"" CreationDate=""2020-08-22T01:13:55.393"" Score=""6"" ViewCount=""4422"" Body=""&lt;h1&gt;Background of my questions&lt;/h1&gt;&#xA;&lt;p&gt;I have an old Lenovo ThinkPad W530 laptop with NVIDIA Corporation GK107GLM &lt;a href=&quot;https://www.techpowerup.com/gpu-specs/quadro-k1000m.c1425&quot; rel=&quot;noreferrer&quot;&gt;[Quadro K1000M] / Quadro K1000M/PCIe/SSE2 GPU&lt;/a&gt; which is with &lt;a href=&quot;https://www.gpuzoo.com/GPU-NVIDIA/Quadro_K1000M.html&quot; rel=&quot;noreferrer&quot;&gt;compute compatibility 3.0&lt;/a&gt; and is &lt;a href=&quot;https://forums.developer.nvidia.com/t/quadro-k1000m/37629/2&quot; rel=&quot;noreferrer&quot;&gt;supporting CUDA&lt;/a&gt;. I want to build some TensorFlow examples and project on Ubuntu for my Udacity nanodegree.&lt;/p&gt;&#xA;&lt;p&gt;I just installed Ubuntu 20.04 and upgraded my NVIDIA drivers so when I execute &lt;code&gt;nvidia-smi&lt;/code&gt; it gives me the following result:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;+-----------------------------------------------------------------------------+&#xA;| NVIDIA-SMI 450.51.05    Driver Version: 450.51.05    CUDA Version: 11.0     |&#xA;|-------------------------------+----------------------+----------------------+&#xA;| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |&#xA;| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |&#xA;|                               |                      |               MIG M. |&#xA;|===============================+======================+======================|&#xA;|   0  Quadro K1000M       On   | 00000000:01:00.0 Off |                  N/A |&#xA;| N/A   59C    P0    N/A /  N/A |    496MiB /  1999MiB |      0%      Default |&#xA;|                               |                      |                  N/A |&#xA;+-------------------------------+----------------------+----------------------+&#xA;                                                                              &#xA;+-----------------------------------------------------------------------------+&#xA;| Processes:                                                                  |&#xA;|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |&#xA;|        ID   ID                                                   Usage      |&#xA;|=============================================================================|&#xA;|    0   N/A  N/A      5470      G   /usr/lib/xorg/Xorg                 39MiB |&#xA;|    0   N/A  N/A      7504      G   /usr/lib/xorg/Xorg                146MiB |&#xA;|    0   N/A  N/A      7772      G   /usr/bin/gnome-shell              147MiB |&#xA;|    0   N/A  N/A     34770      G   /proc/self/exe                    158MiB |&#xA;+-----------------------------------------------------------------------------+&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;As I am trying to build the TensorFlow Code using GPU support, I found out that I need to install CUDA and follow &lt;a href=&quot;https://medium.com/@paulrohan/installing-tensorflow-with-cuda-cudnn-gpu-support-on-ubuntu-20-04-f6f67745750a&quot; rel=&quot;noreferrer&quot;&gt;this article&lt;/a&gt; about how to install latest version of CUDA 11.0 on Ubuntu 20.04. I went through the whole path and then I found out two problems:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;My GPU is only support Compute Compatibility 3.0 while the minimum support for TensorFlow is 3.5&lt;/li&gt;&#xA;&lt;li&gt;To overcome problem 1, I have to build the tensor flow from sources to get a build that supports CUDA 3.0 and to do that I have to use CUDA 10.1 which means I have to start from the beginning.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;I removed CUDA 11.0 following the &lt;a href=&quot;https://docs.nvidia.com/cuda/archive/11.0/cuda-installation-guide-linux/index.html#removing-cuda-tk-and-driver&quot; rel=&quot;noreferrer&quot;&gt;CUDA documentation&lt;/a&gt;. I started to install CUDA 10.1 on Ubuntu 20.04 and now I got confused.&lt;/p&gt;&#xA;&lt;p&gt;CUDA 10.1 &lt;a href=&quot;https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html#removing-cuda-tk-and-driver&quot; rel=&quot;noreferrer&quot;&gt;installation documentation&lt;/a&gt; process is about installing CUDA 10.1 from a &lt;code&gt;.deb&lt;/code&gt; file for Ubuntu 18.04 and there is no support for CUDA 10.1 on Ubuntu 20.04.&lt;/p&gt;&#xA;&lt;p&gt;So I started to follow the same steps of &lt;a href=&quot;https://medium.com/@paulrohan/installing-tensorflow-with-cuda-cudnn-gpu-support-on-ubuntu-20-04-f6f67745750a&quot; rel=&quot;noreferrer&quot;&gt;the article&lt;/a&gt; but for CUDA 10.1 instead CUDA 11. I was able to install cuda 10.1 using the command:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;sudo apt-get -f install cuda-toolkit-10-1 cuda-libraries-10-1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;so that I don't override my installed NVIDIA driver 450 (I did that after several trials).&lt;/p&gt;&#xA;&lt;p&gt;When I tried to execute command&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;sudo apt install nvidia-cuda-toolkit&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;It gave me errors due to dependency problems. To overcome these errors I searched for a solution and then I came across &lt;a href=&quot;https://towardsdatascience.com/installing-tensorflow-gpu-in-ubuntu-20-04-4ee3ca4cb75d&quot; rel=&quot;noreferrer&quot;&gt;this article&lt;/a&gt; which is recommending that:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;For the sake of being verbose, do not try to use 18.10 or 18.04 CUDA 10.1 for Ubuntu 20.04. I learned that the hard way, lol!&lt;/p&gt;&#xA;&lt;p&gt;So, you can install CUDA 10.1 in Ubuntu 20.04 by running,&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ sudo apt install nvidia-cuda-toolkit&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;I uninstalled CUDA Toolkit 10.1 that I installed using &lt;a href=&quot;https://docs.nvidia.com/cuda/archive/10.1/cuda-installation-guide-linux/index.html#removing-cuda-tk-and-driver&quot; rel=&quot;noreferrer&quot;&gt;CUDA documentation&lt;/a&gt; and I followed this recommendation and the command passed successfully. But now I am not sure if this is it, or am I missing something?!&lt;/p&gt;&#xA;&lt;p&gt;When I tried to know the different between both ways I found out that the source of &lt;code&gt;nvidia-cuda-toolkit&lt;/code&gt; using the command&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;apt-cache policy nvidia-cuda-toolkit&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;it gives me the following result that indicates that the source is the Ubuntu repositories&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;nvidia-cuda-toolkit:&#xA;  Installed: 10.1.243-3&#xA;  Candidate: 10.1.243-3&#xA;  Version table:&#xA; *** 10.1.243-3 500&#xA;        500 http://eg.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages&#xA;        100 /var/lib/dpkg/status&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2&gt;My Questions&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;If the official installation documentation of CUDA 10.1 for Ubuntu 18.04 as well as CUDA 11 for Ubuntu 20.04 doesn't indicate any thing regarding installing the package of &lt;code&gt;nvidia-cuda-toolkit&lt;/code&gt; so what is the difference between &lt;code&gt;nvidia-cuda-toolkit&lt;/code&gt; and &lt;code&gt;cuda-toolkit-10-1&lt;/code&gt;?&lt;/li&gt;&#xA;&lt;li&gt;Is it enough as indicated by &lt;a href=&quot;https://towardsdatascience.com/installing-tensorflow-gpu-in-ubuntu-20-04-4ee3ca4cb75d&quot; rel=&quot;noreferrer&quot;&gt;the article&lt;/a&gt; to only install &lt;code&gt;nvidia-cuda-toolkit&lt;/code&gt; if I am trying to use CUDA toolkit 10.1?&lt;/li&gt;&#xA;&lt;li&gt;Is CUDA 10.1 runtime libraries are now installed? If not, How can I install them right now? should I remove the &lt;code&gt;nvidia-cuda-toolkit&lt;/code&gt; or can I follow the steps from the documentation?&lt;/li&gt;&#xA;&lt;li&gt;How can I validate my installation?&lt;/li&gt;&#xA;&lt;li&gt;When I tried to build &lt;a href=&quot;https://docs.nvidia.com/cuda/archive/10.1/cuda-samples/index.html#getting-cuda-samples&quot; rel=&quot;noreferrer&quot;&gt;CUDA Samples&lt;/a&gt;, didn't find the &lt;code&gt;cuda-install-samples-10.1.sh&lt;/code&gt; file in my installation. How can I install the samples?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;I have been working on trying to build my examples and so far I failed to do that, so I really appreciate your support for this.&lt;/p&gt;&#xA;"" OwnerUserId=""148464"" LastEditorUserId=""1037999"" LastEditDate=""2020-09-21T20:44:13.857"" LastActivityDate=""2023-02-06T23:07:30.867"" Title=""What is the difference between cuda-toolkit-10-1 and nvidia-cuda-toolkit when I install it on Ubuntu 20.04?"" Tags=""&lt;nvidia&gt;&lt;20.04&gt;&lt;cuda&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1301528"" PostTypeId=""1"" CreationDate=""2020-12-20T10:00:05.167"" Score=""1"" ViewCount=""1168"" Body=""&lt;p&gt;My friend gave me this laptop a few years ago because he's upgraded since then. It has a GPU and I want to start playing around with TensorFlow or just GPUs in general. I've never been able to get TensorFlow, CUDA, etc. installed on it. It's a GeGorce GTX 460m and an Intel i7. I feel that it has the potential to be the star of my Finux Cluster, which includes antiques such as the ISKCON ppc7450, which is also running Ubuntu 16.04.&lt;/p&gt;&#xA;&lt;p&gt;Trying to utilize this GPU, I've tried VoidLinux, Linux from Scratch, Ubuntu, Kali, etc., in that order. I'm currently reattempting with a fresh installation of Ubuntu 16.04 server with no graphical interface. It fit on my 1gb flash drive.&lt;/p&gt;&#xA;&lt;p&gt;What I've figured out is the following. I did it as root, but I probably should have dropped to single-user mode:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Apply any bugfixes, but never do-release-upgrade.&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;apt update &amp;amp;&amp;amp; apt full-upgrade&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;UPDATE: steps (9-10) can be done here to cut this down to a single reboot.&lt;/p&gt;&#xA;&lt;ol start=&quot;2&quot;&gt;&#xA;&lt;li&gt;&lt;p&gt;This doesn't apply in my case, but for graphical installations, blacklist nouveau, and:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;modprobe -r &amp;lt;some variant of nouveau&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Download and install video driver &lt;a href=&quot;https://www.nvidia.com/download/driverResults.aspx/160182/en-us&quot; rel=&quot;nofollow noreferrer&quot;&gt;390.138&lt;/a&gt;. Other driver versions &lt;a href=&quot;https://www.nvidia.com/Download/Find.aspx?lang=en-us&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;, but you need to look in the fine print to find the advanced options a.k.a. legacy and beta versions.&lt;/p&gt;&#xA;&lt;p&gt;For newer versions of Ubuntu, there's a compiler version mismatch re: DKMS, NVidia module, GCC 5/7, which can be worked around by update-alternatives. Other work-arounds didn't work for me.&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Make the new driver load at boot.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;update-initramfs -u&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;sanity check&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;nvidia-smi&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Download and install CUDA toolkit &lt;a href=&quot;https://developer.nvidia.com/cuda-91-download-archive?target_os=Linux&amp;amp;target_arch=x86_64&amp;amp;target_distro=Ubuntu&amp;amp;target_version=1604&amp;amp;target_type=runfilelocal&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;strike&gt;9.1&lt;/strike&gt;&lt;/a&gt; &lt;a href=&quot;https://developer.nvidia.com/cuda-80-ga2-download-archive&quot; rel=&quot;nofollow noreferrer&quot;&gt;8.0&lt;/a&gt; and its &lt;strike&gt;three patches&lt;/strike&gt; patch. Don't let it overwrite your driver. For other driver versions, there's a &lt;a href=&quot;https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html#cuda-major-component-versions&quot; rel=&quot;nofollow noreferrer&quot;&gt;compatibility matrix&lt;/a&gt; to determine the required SDK version.&lt;/p&gt;&#xA;&lt;p&gt;The driver download page helps us select our operating system version, in this case, either &lt;a href=&quot;http://releases.ubuntu.com/16.04/&quot; rel=&quot;nofollow noreferrer&quot;&gt;16.04&lt;/a&gt; or 17.04, with the preference being the even version numbers.&#xA;These install scripts need to be run one at a time, because they don't seem to give a reasonable exit status when they fail.&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Reboot and login as non-root. Programs weren't linking correctly, and this is what fixed it for me. I suppose it's got something to do with /etc/environment and /etc/profile, and when and which processes source them.&lt;/p&gt;&#xA;&lt;p&gt;UPDATE: maybe just logout. Use /etc/profile.d and /etc/ld.so.conf.d instead of /etc/environment&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;When compiling the program I want to run, I specify the path to the library with cuInit().&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;CUDA_LIB=/usr/local/cuda/lib64/stubs/libcuda.so&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I also specify my architecture, since not specifying it yields:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;no kernel image is available for execution on the device.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;This is a 460m, so it's got &lt;a href=&quot;https://www.myzhar.com/blog/tutorials/tutorial-nvidia-gpu-cuda-compute-capability/&quot; rel=&quot;nofollow noreferrer&quot;&gt;compute capability&lt;/a&gt; 2.1.&#xA;&lt;strike&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;CCAP=21&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;CCAP=20&#xA;CCSM=21&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;UPDATE: it looks like my system needs &amp;quot;-gencode arch=compute_20,code=[sm_21,compute_20]&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;We might as well specify our CPU. &lt;a href=&quot;https://github.com/InnovAnon-Inc/repo/blob/master/march.sh&quot; rel=&quot;nofollow noreferrer&quot;&gt;GCC says&lt;/a&gt; it's a sandybridge.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;ARCH=sandybridge&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Next, passing the args with spaces is probably best done with an array, with the caveat that such variables can't be exported.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;export CFLAGS=&amp;quot;-march=$ARCH -mtune=$ARCH&amp;quot;&#xA;CMAKE_CONF=( &amp;quot;-DCUDA_LIB=$CUDA_LIB&amp;quot;&#xA;  &amp;quot;-DCUDA_NVCC_FLAGS=-gencode arch=compute_$CCAP,code=[sm_$CCSM,compute_$CCAP]&amp;quot; )&#xA;&#xA;mkdir build &amp;amp;&amp;amp; cd build &amp;amp;&amp;amp;&#xA;cmake .. -G Ninja &amp;quot;${CMAKE_CONF[@]}&amp;quot; &amp;amp;&amp;amp; cd .. &amp;amp;&amp;amp;&#xA;cmake --build build &amp;amp;&amp;amp; cd build&#xA;#sudo cmake --build build --target install&#xA;# ninja: error: unknown target 'install'&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;UPDATE: CUDA_LIB is a project-specific variable. Instead, do:&#xA;&lt;strike&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;echo /usr/local/cuda/lib64/stubs |&#xA;sudo tee -a /etc/ld.so.conf.d/nvidia.conf &amp;amp;&amp;amp;&#xA;sudo ldconfig&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;p&gt;UPDATE: that causes problems with nvidia-smi. fun.&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;Skipping ahead to TF....&lt;/p&gt;&#xA;&lt;p&gt;The TF docs say the docker container is supposed to be easier, so I look more deeply into that first.&lt;/p&gt;&#xA;&lt;ol start=&quot;9&quot;&gt;&#xA;&lt;li&gt;&lt;p&gt;Install docker.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;sudo apt install \&#xA;  apt-transport-https \&#xA;  ca-certificates \&#xA;  curl \&#xA;  gnupg-agent \&#xA;  software-properties-common &amp;amp;&amp;amp;&#xA;curl -fsSL https://download.docker.com/linux/ubuntu/gpg | &#xA;sudo apt-key add - &amp;amp;&amp;amp;&#xA;sudo add-apt-repository \&#xA;  &amp;quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \&#xA;  $(lsb_release -cs) \&#xA;  stable&amp;quot; &amp;amp;&amp;amp;&#xA;sudo apt update &amp;amp;&amp;amp;&#xA;sudo apt install docker-ce docker-ce-cli containerd.io &amp;amp;&amp;amp;&#xA;sudo adduser $(whoami) docker &amp;amp;&amp;amp;&#xA;sudo reboot # fixes permission problem when connecting to socket&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Test docker.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;docker run hello-world&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Install nvidia-docker.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;distribution=$(. /etc/os-release;echo $ID$VERSION_ID) &amp;amp;&amp;amp;&#xA;curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey |&#xA;sudo apt-key add - &amp;amp;&amp;amp;&#xA;curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list |&#xA;sudo tee /etc/apt/sources.list.d/nvidia-docker.list &amp;amp;&amp;amp;&#xA;sudo apt update &amp;amp;&amp;amp;&#xA;sudo apt install -y nvidia-docker2 &amp;amp;&amp;amp;&#xA;sudo systemctl restart docker&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Test nvidia-docker.&#xA;&lt;strike&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;docker run --rm --gpus all nvidia/cuda:9.1-base nvidia-smi&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;docker run --rm --gpus all nvidia/cuda:8.0-runtime nvidia-smi&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;UPDATE: as fas as I can tell, everything is successful up to here.&#xA;Step (13) can't work.&lt;/p&gt;&#xA;&lt;ol start=&quot;13&quot;&gt;&#xA;&lt;li&gt;&lt;p&gt;TF docker build.... I'm not sure which image to use. I'm looking through their Dockerfiles, specifically 0.11.0-devel-gpu and 1.12.0-devel-gpu, and I see a COMPUTE_CAPABILITY variable. Same as the crypto miners in step (8), this &lt;strike&gt;seems to be a road block&lt;/strike&gt; is the road block, as these require &amp;gt;2.1 compute compatibility.&#xA;&lt;strike&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;docker pull tensorflow/tensorflow:1.11.0-devel-gpu &amp;amp;&amp;amp;&#xA;docker run --gpus all -it -w /tensorflow -v $PWD:/mnt \&#xA;  -e HOST_PERMS=&amp;quot;$(id -u):$(id -g)&amp;quot; \&#xA;  tensorflow/tensorflow:1.11.0-devel-gpu bash&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I ended up switching some versions in their &lt;a href=&quot;https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/dockerfiles/dockerfiles/gpu.Dockerfile&quot; rel=&quot;nofollow noreferrer&quot;&gt;Dockerfile&lt;/a&gt;, and the apt install fails:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;E: Unable to locate package libcublas-9-1&#xA;E: Unable to locate package libcufft-9-1                                                                                                                   &#xA;E: Unable to locate package libcurand-9-1                                                                                                                  &#xA;E: Unable to locate package libcusolver-9-1                                                                                                                &#xA;E: Unable to locate package libcusparse-9-1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;p&gt;Searching for those packages just funnels me to the &lt;a href=&quot;https://developer.nvidia.com/nvidia-hpc-sdk-releases&quot; rel=&quot;nofollow noreferrer&quot;&gt;download page&lt;/a&gt; for the HPC SDK (libcu++ would be cool), but alas, I don't think there's a version compatible with this old GPU.&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;UPDATE: 9.1 is the wrong version. Now looking into 8.0. That means tensorflow:0.11.0-devel-gpu was a good lead. It also means that steps (14+) won't do anything productive on my hardware.&lt;/p&gt;&#xA;&lt;p&gt;Now to try building on the bare metal....&lt;/p&gt;&#xA;&lt;ol start=&quot;14&quot;&gt;&#xA;&lt;li&gt;&lt;p&gt;I installed CUPTI.&#xA;&lt;strike&gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;echo /usr/local/cuda-9.1/extras/CUPTI/lib64 |&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;echo /usr/local/cuda-8.0/extras/CUPTI/lib64 |&#xA;sudo tee -a /etc/ld.so.conf.d/nvidia.conf &amp;amp;&amp;amp;&#xA;sudo ldconfig&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;I &lt;a href=&quot;https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html#installlinux-tar&quot; rel=&quot;nofollow noreferrer&quot;&gt;installed&lt;/a&gt; &lt;a href=&quot;https://developer.nvidia.com/rdp/cudnn-archive&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;strike&gt;cuDNN 7.1.3 for 9.1&lt;/strike&gt;&lt;/a&gt; &lt;a href=&quot;https://developer.nvidia.com/rdp/cudnn-archive#a-collapse714-8&quot; rel=&quot;nofollow noreferrer&quot;&gt;cuDNN v7.1.4 for 8.0&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;sudo dpkg -i libcudnn7_7.1.4.18-1+cuda8.0_amd64.deb \&#xA;        libcudnn7-dev_7.1.4.18-1+cuda8.0_amd64.deb&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;&lt;strike&gt;find and install &lt;a href=&quot;https://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1404/x86_64/libcudnn7-dev_7.1.3.16-1+cuda9.1_amd64.deb&quot; rel=&quot;nofollow noreferrer&quot;&gt;libnvinfer7=7.1.3-1+cuda9.1&lt;/a&gt;. Looks like Ubuntu 14.04 has one.&lt;/strike&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;&lt;strike&gt;Update the host python packages.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;sudo apt install python3-dev python3-pip python3-venv&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/strike&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Get the &lt;a href=&quot;https://www.python.org/ftp/python/3.6.12/Python-3.6.12.tar.xz&quot; rel=&quot;nofollow noreferrer&quot;&gt;oldest&lt;/a&gt; Python version that isn't EOL.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;cd Python-3.6.12 &amp;amp;&amp;amp;&#xA;./configure --with-univseral-archs=intel-64 --with-hash-algorithm=siphash24 --with-threads --with-ensurepip=upgrade &amp;amp;&amp;amp;&#xA;make -n`nproc` &amp;amp;&amp;amp;&#xA;make DESTDIR=~/python3.6 install&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;TODO that's a source package, and so I've got to test that command&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;install GO&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;wget https://golang.org/dl/go1.15.6.linux-amd64.tar.gz &amp;amp;&amp;amp;&#xA;tar xf go1.15.6.linux-amd64.tar.gz &amp;amp;&amp;amp;&#xA;sudo chown -R root:root go &amp;amp;&amp;amp;&#xA;sudo mv go /opt/go &amp;amp;&amp;amp;&#xA;sudo tee /etc/profile.d/gopath.sh &amp;lt;&amp;lt; &amp;quot;EOF&amp;quot;&#xA;export GOPATH=&amp;quot;$HOME/go&amp;quot;&#xA;export GOROOT=/opt/go&#xA;PATH=&amp;quot;$PATH:$GOROOT/bin:$GOPATH/bin&amp;quot;&#xA;export PATH=$PATH:$(go env GOPATH)/bin&#xA;EOF&#xA;logout&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;install bazelisk&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;go get github.com/bazelbuild/bazelisk &amp;amp;&amp;amp;&#xA;sudo ln -sv $(command -v bazelisk) /usr/local/bin/bazel&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Compile TF. In the past, I've gotten weird errors suggesting the TF package doesn't exist on PyPI, so I've attempted this before, but the resulting pip packages didn't run. On my system, the documentation's commands give warnings, so I've altered them slightly.&lt;/p&gt;&#xA;&lt;p&gt;UPDATE: since my hardware can't support even legacy TF, I switched the build to CPU-only.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;~/python3.6/usr/local/bin/python3.6 -m venv \&#xA;  --system-site-packages tf-env &amp;amp;&amp;amp;&#xA;. tf-env/bin/activate&#xA;pip install -U pip &amp;amp;&amp;amp;&#xA;pip install -U numpy wheel &amp;amp;&amp;amp;&#xA;pip install -U keras_preprocessing --no-deps &amp;amp;&amp;amp;&#xA;&#xA;git clone -b r2.2 --depth=1 --recursive \&#xA;  git://github.com/tensorflow/tensorflow.git &amp;amp;&amp;amp;&#xA;cd tensorflow &amp;amp;&amp;amp;&#xA;python configure.py &amp;amp;&amp;amp;&#xA;bazel build  \&#xA;  --local_ram_resources=2048 \&#xA;  --cxxopt=&amp;quot;-D_GLIBCXX_USE_CXX11_ABI=0&amp;quot; \&#xA;  //tensorflow/tools/pip_package:build_pip_package &amp;amp;&amp;amp;&#xA;./bazel-bin/tensorflow/tools/pip_package/build_pip_package \&#xA;  /tmp/tensorflow_pkg &amp;amp;&amp;amp;&#xA;pip install /tmp/tensorflow_pkg/tensorflow-version-tags.whl&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;N.b., the environment changes don't seem to affect anything after the '&amp;amp;&amp;amp;', so don't do:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;. tf-env/bin/activate &amp;amp;&amp;amp; whatever&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;TODO Test TF:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-bsh prettyprint-override&quot;&gt;&lt;code&gt;python -c &amp;quot;import tensorflow as tf;print(tf.reduce_sum(tf.random.normal([1000, 1000])))&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;"" OwnerUserId=""1003011"" LastEditorUserId=""1003011"" LastEditDate=""2020-12-22T20:39:43.607"" LastActivityDate=""2020-12-23T11:40:20.330"" Title=""How to use CUDA toolkit on GeForce GTX 460m in 2020"" Tags=""&lt;16.04&gt;&lt;cuda&gt;&lt;docker&gt;&lt;nvidia-geforce&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1365537"" PostTypeId=""1"" AcceptedAnswerId=""1365544"" CreationDate=""2021-09-24T13:37:27.050"" Score=""0"" ViewCount=""1390"" Body=""&lt;p&gt;I try to get tensorflow GPU up and running in a virtual environment (venv):&lt;/p&gt;&#xA;&lt;p&gt;I use lambdalabs&#xA;OS is Ubuntu 20.04.3 LTS.&lt;/p&gt;&#xA;&lt;p&gt;I have following python script: checkGPY.py:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import tensorflow as tf&#xA;&#xA;if tf.test.gpu_device_name():&#xA;    print('Default GPU Device: {}'.format(tf.test.gpu_device_name()))&#xA;else:&#xA;    print(&amp;quot;Please install GPU version of TF&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Outside the venv it works fine. I obtain Default GPU Device: /device:GPU:0.&#xA;If a train a small neural network (NN) and &lt;code&gt;watch nvidia-smi&lt;/code&gt; I see that the GPU memory increases during training. So the GPU resources are used for NN training.&lt;/p&gt;&#xA;&lt;p&gt;However if I run it is inside a venv (I installed tensorflow version: 2.6.0 inside the venv.)&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;(venv) x@y $ python checkGPU.py&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;I obtain: Please install GPU version of TF&lt;/p&gt;&#xA;&lt;p&gt;I obtain also following: Could not load dynamic library 'libcudnn.so.8'; dlerror: libcudnn.so.8: cannot open shared object file: No such file or directory&lt;/p&gt;&#xA;&lt;p&gt;So I understand that the dynamic library libcudnn.so.8 cannot be accessed from inside the venv.&lt;/p&gt;&#xA;&lt;p&gt;How can I resolve this?&lt;/p&gt;&#xA;"" OwnerUserId=""1413695"" LastEditorUserId=""1413695"" LastEditDate=""2021-09-24T13:52:09.740"" LastActivityDate=""2021-09-29T07:35:03.830"" Title=""Tensorflow does not detect GPU - lambdalabs"" Tags=""&lt;nvidia&gt;&lt;python&gt;&lt;gpu&gt;&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1386747"" PostTypeId=""1"" CreationDate=""2022-01-12T15:33:17.533"" Score=""0"" ViewCount=""428"" Body=""&lt;br&gt;&#xA;&lt;p&gt;I'm trying to build Tensorflow with GPU support for Deepspeech because my CPU does not support AVX instructions. I have followed the instructions from &lt;a href=&quot;https://deepspeech.readthedocs.io/en/latest/BUILDING.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://deepspeech.readthedocs.io/en/latest/BUILDING.html&lt;/a&gt; .&lt;/p&gt;&#xA;&lt;p&gt;I installed Bazel version 3.1, libsox, SWIG and everything else needed for CUDA and CUDNN. (The name of the Bazel executable was Bazel-3.1.0 so &lt;b&gt;I had to rename it to Bazel&lt;/b&gt;) The configuration process inside the Tensorflow directory works just fine, it finds Bazel, Python and CUDA without any problems. But then when I run:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;bazel build --workspace_status_command=&amp;quot;bash native_client/bazel_workspace_status_cmd.sh&amp;quot; --config=monolithic -c opt --copt=-O3 --copt=&amp;quot;-D_GLIBCXX_USE_CXX11_ABI=0&amp;quot; --copt=-fvisibility=hidden&#xA;but when I run the bazel build &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;It does not build any targets. The output of the build process is:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Starting local Bazel server and connecting to it...&#xA;INFO: Options provided by the client:&#xA;  Inherited 'common' options: --isatty=1 --terminal_columns=132&#xA;INFO: Reading rc options for 'build' from /home/tim/DeepSpeech/tensorflow/.bazelrc:&#xA;  Inherited 'common' options: --experimental_repo_remote_exec&#xA;INFO: Reading rc options for 'build' from /home/tim/DeepSpeech/tensorflow/.bazelrc:&#xA;  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --java_toolchain=//third_party/toolchains/java:tf_java_toolchain --host_java_toolchain=//third_party/toolchains/java:tf_java_toolchain --copt=-DTFLITE_WITH_RUY_GEMV --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --noincompatible_prohibit_aapt1 --enable_platform_specific_config --config=v2&#xA;INFO: Reading rc options for 'build' from /home/tim/DeepSpeech/tensorflow/.tf_configure.bazelrc:&#xA;  'build' options: --action_env PYTHON_BIN_PATH=/home/tim/anaconda3/envs/stt/bin/python3 --action_env PYTHON_LIB_PATH=/home/tim/anaconda3/envs/stt/lib/python3.6/site-packages --python_path=/home/tim/anaconda3/envs/stt/bin/python3 --config=xla --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda-11.5 --action_env TF_CUDA_COMPUTE_CAPABILITIES=6.1,6.1 --action_env GCC_HOST_COMPILER_PATH=/usr/bin/x86_64-linux-gnu-gcc-11 --config=cuda --action_env TF_CONFIGURE_IOS=0&#xA;INFO: Found applicable config definition build:v2 in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1&#xA;INFO: Found applicable config definition build:xla in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true&#xA;INFO: Found applicable config definition build:cuda in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_nvcc=true&#xA;INFO: Found applicable config definition build:using_cuda in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain&#xA;INFO: Found applicable config definition build:monolithic in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --define framework_shared_object=false&#xA;INFO: Found applicable config definition build:linux in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --copt=-w --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --cxxopt=-std=c++14 --host_cxxopt=-std=c++14 --config=dynamic_kernels&#xA;INFO: Found applicable config definition build:dynamic_kernels in file /home/tim/DeepSpeech/tensorflow/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS&#xA;WARNING: Usage: bazel build &amp;lt;options&amp;gt; &amp;lt;targets&amp;gt;.&#xA;Invoke `bazel help build` for full description of usage and options.&#xA;Your request is correct, but requested an empty set of targets. Nothing will be built.&#xA;INFO: Analyzed 0 targets (0 packages loaded, 0 targets configured).&#xA;INFO: Found 0 targets...&#xA;INFO: Deleting stale sandbox base /home/tim/.cache/bazel/_bazel_tim/f4cacb5195cc5ff4ba816553e8499505/sandbox&#xA;INFO: Elapsed time: 4.736s, Critical Path: 0.46s&#xA;INFO: 0 processes.&#xA;INFO: Build completed successfully, 1 total action&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I have tried this without Anaconda3 and without CUDA, many times and it ends always the same way. Has anyone an idea what can be causing this?&lt;/p&gt;&#xA;&lt;p&gt;Thanks in advance.&lt;/p&gt;&#xA;"" OwnerUserId=""1069054"" LastActivityDate=""2022-01-12T15:33:17.533"" Title=""Bazel finds no targets to be built for tensorflow"" Tags=""&lt;compiling&gt;&lt;cuda&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1445823"" PostTypeId=""1"" CreationDate=""2022-12-16T03:29:36.403"" Score=""0"" ViewCount=""356"" Body=""&lt;p&gt;I'm trying to build TensorFlow 2.11 with gpu but no avx in Ubuntu 20.04&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;cuda version is 11.8&lt;br&gt; cuDNN version is 8.7&lt;br&gt; tensorRT version is&#xA;8.5&lt;br&gt; gcc version is 9.4.0&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;I'm using basilisk to run bazel version 5.3.0&lt;/p&gt;&#xA;&lt;p&gt;The build stops with the following error:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;bazelisk --output_base=~/install/tensorflow/tftmp build --config=cuda --local_ram_resources=4096 //tensorflow/tools/pip_package:build_pip_package&#xA;&amp;lt;br&amp;gt;...omitted lines...&amp;lt;br&amp;gt;&#xA;'build' options: --action_env PYTHON_BIN_PATH=/home/io/anaconda3/bin/python3 --action_env PYTHON_LIB_PATH=/home/io/anaconda3/lib/python3.8/site-packages --python_path=/home/io/anaconda3/bin/python3 --config=tensorrt --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda-11.8 --action_env TF_CUDA_COMPUTE_CAPABILITIES=6.1 --action_env GCC_HOST_COMPILER_PATH=/usr/bin/x86_64-linux-gnu-gcc-9 --config=cuda&#xA;&amp;lt;br&amp;gt;...omitted lines...&amp;lt;br&amp;gt;&#xA;ERROR: /home/io/install/tensorflow/tensorflow/compiler/mlir/lite/BUILD:291:11: &#xA;Compiling tensorflow/compiler/mlir/lite/ir/**tfl_ops.cc failed: (Exit 1):** **crosstool_wrapper_driver_is_not_gcc failed: error executing command** external/local_config_cuda/crosstool/clang/bin/**crosstool_wrapper_driver_is_not_gcc** -MD -MF &#xA;bazel-out/k8-opt/bin/tensorflow/compiler/mlir/lite/_objs/tensorflow_lite/**tfl_ops.pic.d** ... (remaining 307 arguments skipped)&amp;lt;br&amp;gt;&#xA;x86_64-linux-gnu-gcc-9: fatal error: Killed signal terminated program cc1plus&#xA;compilation terminated.&amp;lt;br&amp;gt;&#xA;Target //tensorflow/tools/pip_package:build_pip_package failed to build&amp;lt;br&amp;gt;&#xA;Use --verbose_failures to see the command lines of failed build steps.&amp;lt;br&amp;gt;&#xA;INFO: Elapsed time: 717.825s, Critical Path: 660.88s&amp;lt;br&amp;gt;&#xA;INFO: 86 processes: 9 internal, 77 local.&amp;lt;br&amp;gt;&#xA;FAILED: Build did NOT complete successfully&amp;lt;br&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Any help would be greatly appreciated.&lt;/p&gt;&#xA;"" OwnerUserId=""561018"" LastEditorUserId=""1066942"" LastEditDate=""2022-12-26T10:38:24.993"" LastActivityDate=""2022-12-26T10:38:24.993"" Title=""TensorFlow 2.11 gpu, tensorRT, no AVX build tf_ops_n_z.cc fail"" Tags=""&lt;20.04&gt;&lt;compiling&gt;&lt;gcc&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\askubuntu.com\Posts.xml,"  <row Id=""1463083"" PostTypeId=""1"" CreationDate=""2023-04-10T14:56:47.040"" Score=""1"" ViewCount=""432"" Body=""&lt;pre&gt;&lt;code&gt;TUF-Gaming-FX505DT-FX505DT:/home/jithin# lspci | grep VGA&#xA;01:00.0 VGA compatible controller: NVIDIA Corporation TU117M [GeForce GTX 1650 Mobile / Max-Q] (rev ff)&#xA;05:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Picasso/Raven 2 [Radeon Vega Series / Radeon Vega Mobile Series] (rev c2)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I have recently ordered a gtx 3060 + R5 7600x system , it will reach in 1-2 week before it arrives i thought to try tensorflow on my laptop ,i currently have an asus tuf fx 505DT laptop with&lt;/p&gt;&#xA;&lt;p&gt;i am trying to install tensorflow with gpu support , but i am facing many issues from choosing which cuda, cudnn , gcc version to choose and how to install them. i am on ubuntu 22.04. Can some one post all steps , including version to install.&lt;/p&gt;&#xA;"" OwnerUserId=""1687753"" LastEditorUserId=""15811"" LastEditDate=""2023-04-10T16:01:55.990"" LastActivityDate=""2023-05-01T12:43:03.017"" Title=""Tensor Flow with GPU support"" Tags=""&lt;tensorflow&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""4763"" PostTypeId=""1"" AcceptedAnswerId=""4778"" CreationDate=""2011-09-12T12:06:54.713"" Score=""2"" ViewCount=""767"" Body=""&lt;p&gt;I've got a form, for which the &quot;Send&quot; button should only be available, upon each form field being validated. For most of my check, I call a function &lt;code&gt;checkFormValue()&lt;/code&gt; which is a function gathering all the simple checks, give warning where check failed, and if at least one of the check fail, disable the button. The call are made on the &lt;code&gt;blur&lt;/code&gt; event for each field of the form.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function checkFormValue(){&#xA;    var form = document.myform;&#xA;&#xA;    //initializing a few variable with check, amongst them the following&#xA;    //Those are example of check which are pure javascript function&#xA;    var checkIDField = checkField(form.myids) &amp;amp;&amp;amp; checkIDs();&#xA;        //...&#xA;&#xA;    //This is an example of AJAX function&#xA;    if(checkIDField){&#xA;        checkIDValidity();&#xA;    }&#xA;&#xA;    //Checks variables are gathered under one variable&#xA;    var validform = checkIDField &amp;amp;&amp;amp; CheckContactField &amp;amp;&amp;amp; CheckPathsField;&#xA;&#xA;    var warnings = document.getElementsByClassName('warning');&#xA;    var i;&#xA;    var count = 0;&#xA;&#xA;    //Loop to check the number of warnings&#xA;    for (i = 0; i &amp;lt; warnings.length; i++){   &#xA;        // Check that current character is number.&#xA;        if(warnings[i].style.display===&quot;&quot;){&#xA;            count++    &#xA;        }&#xA;    }&#xA;    validform = validform &amp;amp;&amp;amp; (count === 0);&#xA;    document.form.send.disabled = !(validform);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;A few check needs to be done on the server (SELECT query, check if some file exists,etc.). For those check,, I do AJAX calls, and I added in the &lt;code&gt;checkFormValue()&lt;/code&gt; a loop which count the number of warning displayed. If none are displayed, then the button is not disable anymore.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;One of my field should contain a series of ID, in the form of a space separated list. After checking that the list is correctly formatted (list of integer separated by space, no duplicate), I want to see if those ID exist in the database. The following function set the AJAX call:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function checkIDValidity(){&#xA;    var xmlhttp;&#xA;    if (window.XMLHttpRequest){ &#xA;        //code for IE7+, Firefox, Chrome, Opera, Safari &#xA;        xmlhttp=new XMLHttpRequest(); &#xA;    }else{ &#xA;        // code for IE6, IE5 &#xA;        xmlhttp=new ActiveXObject('Microsoft.XMLHTTP'); &#xA;    }&#xA;    xmlhttp.onreadystatechange=function(){ &#xA;        if (xmlhttp.readyState===4 &amp;amp;&amp;amp; xmlhttp.status===200){ &#xA;            var existingIDs = xmlhttp.responseText;&#xA;            var idcomponent = document.myform.myids;&#xA;            var idwarningdiv = document.getElementById('nonexistingid');&#xA;            if(existingIDs===&quot;Existing&quot;){&#xA;                idcomponent.setAttribute('class', 'valid');&#xA;                if(idwarningdiv.style.display !== 'none'){&#xA;                    idwarningdiv.style.display='none';&#xA;                    idwarningdiv.innerHTML='';&#xA;                }&#xA;            }else{&#xA;                idcomponent.setAttribute('class', 'invalid');&#xA;                if(idwarningdiv.style.display !== ''){&#xA;                    idwarningdiv.style.display='';&#xA;                }&#xA;                if(idwarningdiv.innerHTML.substr(51,existingIDs.length)!==existingIDs){&#xA;                    idwarningdiv.innerHTML='&amp;lt;br /&amp;gt;&amp;lt;img src=&quot;img/warning2.png&quot; alt=&quot;Warning!&quot; /&amp;gt;'+existingIDs+' is not an existing id.';&#xA;                }&#xA;            } &#xA;        } &#xA;    };&#xA;    var idnumbers = document.myform.myids.value;&#xA;    var d=new Date();&#xA;    //d.toUTCString() is used so the result never get cached&#xA;    xmlhttp.open('GET', 'checkidvalidity.php?id='+idnumbers+'&amp;amp;rand='+d.toUTCString(), true); &#xA;    xmlhttp.send();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I enter an ID, which doesn't exist in the database, I got a warning, and if the ID is valid, the warning disappear. But the enabled/disabled status of the &quot;Send button&quot; is not immediately updated, on the contrary, I need to click twice on other field in the form before I can see any change on the button.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Adding a listener on the warning div for non existent IDs, triggering on &lt;code&gt;propertyChanged&lt;/code&gt; event and calling &lt;code&gt;checkFormValue&lt;/code&gt; did at first the trick, but the event is only supported on IE, and as such it didn't work on other browser. Using the mutation event &lt;code&gt;&quot;DOMAttrModified&quot;&lt;/code&gt; when it was supported, helped for Firefox and Opera.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function formLink(objectid){&#xA;    var xmlhttp;&#xA;    if (window.XMLHttpRequest){ &#xA;        //code for IE7+, Firefox, Chrome, Opera, Safari &#xA;        xmlhttp=new XMLHttpRequest(); &#xA;    }else{ &#xA;        // code for IE6, IE5 &#xA;        xmlhttp=new ActiveXObject('Microsoft.XMLHTTP'); &#xA;    }&#xA;    xmlhttp.onreadystatechange=function(){ &#xA;        if (xmlhttp.readyState===4 &amp;amp;&amp;amp; xmlhttp.status===200){ &#xA;            document.getElementById('terminal').innerHTML=xmlhttp.responseText;&#xA;            if(isDOMAttrModifiedSupported()){&#xA;                document.getElementById(&quot;nonexistingid&quot;).addEventListener(&quot;DOMAttrModified&quot;,&#xA;                  checkFormValue,&#xA;                  false);&#xA;            }&#xA;            checkFormValue(); &#xA;        } &#xA;    };&#xA;    xmlhttp.open('GET', 'myform.php?id='+objectid, true); &#xA;    xmlhttp.send(); &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Details on the isDomAttrModifiedSupported function can be found on &lt;a href=&quot;https://stackoverflow.com/questions/4562354/javascript-detect-if-event-lister-is-supported/4562426#4562426&quot;&gt;this post about detecting if the DomAttrModified event listener is supported&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But using that approach leaves my with &lt;a href=&quot;https://stackoverflow.com/questions/919428/onpropertychange-for-a-textbox-in-firefox/919470#919470&quot;&gt;no solution for the WebKit browsers&lt;/a&gt; (Chrome, Safari). Is there a way to refactor my code so I can do my AJAX call, and it would result on an update of the disabled status of the &quot;Send&quot; button, without discounting the result of my other simple checks? In other word, is my validation approach correct?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;PS: I get some restraints on this project, and I am not allowed to use jQuery.&lt;/p&gt;&#xA;"" OwnerUserId=""1029"" LastEditorUserId=""-1"" LastEditDate=""2017-05-23T12:40:48.070"" LastActivityDate=""2011-09-14T06:34:16.443"" Title=""mixed AJAX/Javascript form validation check"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""15860"" PostTypeId=""1"" AcceptedAnswerId=""15884"" CreationDate=""2012-09-23T23:57:20.823"" Score=""9"" ViewCount=""432"" Body=""&lt;p&gt;This script is meant to look for an id in the data attribute in each containment div, then send an Ajax call to get the amount of retweets, calculate the karma based on those retweets and then display that number in a div.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This code looks like spaghetti. How do I improve this to make each function more independent?  There is some abstraction function that I can't figure out.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My other question is, how can I use a jQuery deferred object to create a promise and update the div once I get a response?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function get_retweet(id) {&#xA;    var url = 'https://api.twitter.com/1/statuses/show/' + id + '.json',&#xA;        karma; &#xA;&#xA;    $.ajax({&#xA;        url: url,&#xA;        type: 'GET',&#xA;        dataType:'jsonp',&#xA;        crossDomain: true,&#xA;        success: function(data) {&#xA;            display_karma(data.retweet_count);&#xA;        },&#xA;        error: function() {alert('fail');}&#xA;    }));&#xA;}&#xA;&#xA;function calc_karma(tweets) {&#xA;    return tweets *10 +10;    &#xA;}&#xA;&#xA;function display_karma(retweets) {&#xA;    var id, karma,&#xA;        el =$('.tweetContainer');&#xA;    //id = $(el).data(el, tweet_id);&#xA;    id = '248988915661410304';&#xA;    karma = calc_karma(retweets);&#xA;    el.find('.tcPoints').text(karma);&#xA;}&#xA;&#xA;function start_get_karma() {&#xA;    var id;&#xA;&#xA;    $('.tweetContainer').each(function(index,el) {&#xA;        //id = $(el).data(el, tweet_id);&#xA;        id = '248988915661410304';&#xA;        get_retweet(id);&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""15872"" LastEditorUserId=""22222"" LastEditDate=""2014-05-03T02:10:51.523"" LastActivityDate=""2014-05-03T02:41:16.093"" Title=""Calculate karma based on retweets"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;twitter&gt;"" AnswerCount=""3"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""25886"" PostTypeId=""1"" AcceptedAnswerId=""25904"" CreationDate=""2013-05-06T23:59:04.490"" Score=""2"" ViewCount=""6347"" Body=""&lt;p&gt;In your opinion, do I need to do all these validations? I thought to do well and stay safe but it seriously raises the question if it isn't slower.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;jQuery&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function () {&#xA;&#xA;        // jQuery validate plugin&#xA;        $('#login &amp;gt; form').validate({&#xA;&#xA;            rules: {&#xA;                username: { required: true },&#xA;                password: { required: true }&#xA;            },&#xA;&#xA;            submitHandler: function () {&#xA;&#xA;                var credentials = {&#xA;                    &quot;username&quot;: $('#username').val(),&#xA;                    &quot;password&quot;: $('#password').val()&#xA;                };&#xA;&#xA;                $.post('ajax/tryLogin.php', credentials)&#xA;                    .done(function (data) {&#xA;&#xA;                        if (data.hasOwnProperty('success') &amp;amp;&amp;amp;&#xA;                            data['success']) {&#xA;&#xA;                            window.location = 'catalog.php';&#xA;&#xA;                        } else if (data.hasOwnProperty('message')) {&#xA;&#xA;                            alert(data['message']);&#xA;                        } else {&#xA;                            alert('Communication with the server failed.');&#xA;                        }&#xA;                    })&#xA;                    .fail(function () {&#xA;                        alert('Communication with the server failed.');&#xA;                    })&#xA;            }&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (empty($_POST['username']) || empty($_POST['password'])) {&#xA;    $data['success'] = false;&#xA;    $data['message'] = 'Username and password are required.';&#xA;&#xA;} else {&#xA;&#xA;    try {&#xA;        $data['success'] = Security::TryLogin($_POST['username'], $_POST['password']);&#xA;    } catch (Exception $e) {&#xA;&#xA;        $data['success'] = false;&#xA;        $data['message'] = $e-&amp;gt;getMessage();&#xA;    }&#xA;}&#xA;header('Content-type: application/json');&#xA;echo json_encode($data);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class Security &#xA;{&#xA;&#xA;    //...&#xA;&#xA;    public static function TryLogin($username, $password)&#xA;    {&#xA;        $username = strtolower($username);&#xA;        $password = sha1($password . $username);&#xA;&#xA;        try {&#xA;            $user = Users::FindByUsernameAndPassword($username, $password);&#xA;&#xA;            if (session_id() == '') {&#xA;                session_start();&#xA;            }&#xA;&#xA;            $_SESSION[self::USER_IDENTIFIER] = $user;&#xA;&#xA;            return true;&#xA;&#xA;        } catch (Exception $e) {&#xA;            throw new Exception('Username of password incorrect.');&#xA;        }&#xA;    }&#xA;&#xA;    //...&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""24621"" LastEditorUserId=""22222"" LastEditDate=""2016-07-18T01:37:28.397"" LastActivityDate=""2016-07-18T01:37:28.397"" Title=""My login with AJAX and PHP"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;validation&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""26247"" PostTypeId=""1"" AcceptedAnswerId=""26248"" CreationDate=""2013-05-16T15:34:57.617"" Score=""1"" ViewCount=""215"" Body=""&lt;p&gt;This is on a job listing site and it has a Linkedin apply button plugin - this provides for a callback the someone has applied for a job.  I've written the callback function which extracts the Job ID (a primary key in my database) and makes an AJX call to indcate that this Job ID has been applied for.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The Linkedin plugin is described &lt;a href=&quot;https://developer.linkedin.com/apply-processing-applications&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It essentially passes this JSON object to the callback:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{&#xA;   &quot;event&quot;:&quot;success&quot;,&#xA;   &quot;job&quot;:{&#xA;      &quot;companyID&quot;:&quot;12345&quot;,&#xA;      &quot;jobID&quot;:&quot;9876&quot;,&#xA;      &quot;jobTitle&quot;:&quot;Chief Cat Herder&quot;&#xA;   }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is the code placed within the head of the page:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;function linkedInApplySuccess(jsonReturnObj) &#xA;    {&#xA;    // no need to use any jquery json functions as already jabe a json object from linkedin (instead os a string)&#xA;    // see second answer here http://stackoverflow.com/questions/3569416/parsing-json-string-with-jquery-parsejson&#xA;&#xA;    var job_id = jsonReturnObj.job.jobId;&#xA;&#xA;    $.ajax({&#xA;        url: &quot;/php/cv_db/ajax_log_linkedin_application.php&quot;,&#xA;        data: {job_id: job_id},&#xA;        type: &quot;POST&quot;&#xA;        });&#xA;&#xA;    };&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Regarding the AJAX, I am not looking for any return data and nor do I care about success or failure as should it fail.  I'm not going to ask someone to apply for the job again. I do have error logging in my PHP file, though.&lt;/p&gt;&#xA;"" OwnerUserId=""12958"" LastEditorUserId=""22222"" LastEditDate=""2017-01-09T05:57:05.647"" LastActivityDate=""2017-01-09T05:57:05.647"" Title=""Callback for job applicant"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;json&gt;&lt;ajax&gt;&lt;callback&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""51928"" PostTypeId=""1"" AcceptedAnswerId=""51955"" CreationDate=""2014-05-28T17:45:12.007"" Score=""2"" ViewCount=""130"" Body=""&lt;p&gt;So I wrote this class to handle my ajax calls simply:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajaxCon.php:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class ajaxCon{&#xA;    private $init = false;&#xA;    private $functionArray = array();&#xA;    private $Message = false;&#xA;    private $function = null;&#xA;    private $arguments = null;&#xA;    private $post = null;&#xA;&#xA;    public function __construct(){&#xA;        if(!isset($_POST['ajaxRequest'], $_POST['ajaxFunction'])) return;&#xA;        $this-&amp;gt;init = true;&#xA;        ob_start();&#xA;        $this-&amp;gt;post = $this-&amp;gt;sanitizeArr($_POST);&#xA;        $this-&amp;gt;arguments = $this-&amp;gt;sanitizeArr($_POST['arguments']);&#xA;        $this-&amp;gt;function = $_POST['ajaxFunction'];&#xA;    }&#xA;&#xA;    public function addFunction($functionName, $functionCode){&#xA;        if(!$this-&amp;gt;init || !isset($functionName, $functionCode) || $functionName != $this-&amp;gt;function) return $this;&#xA;        $this-&amp;gt;Message = call_user_func_array($functionCode, $this-&amp;gt;arguments) ? 'success' : 'fail' ;&#xA;        unset($this-&amp;gt;init, $this-&amp;gt;functionArray, $this-&amp;gt;post);&#xA;        $returnVars = get_object_vars($this);&#xA;        ob_clean();&#xA;        echo json_encode($returnVars);&#xA;        ob_flush();&#xA;        exit();&#xA;    }&#xA;&#xA;    private function sanitizeArr($returnArr, $sanitizer = 'sanitize_sql_string') {&#xA;        array_walk_recursive($returnArr, function (&amp;amp;$value) use ($sanitizer) {&#xA;            $value = $sanitizer($value);&#xA;        });&#xA;&#xA;        return $returnArr;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajaxCon.js:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function ajax() {&#xA;&#xA;    this.callback = false;&#xA;&#xA;    this.ajaxFailure = function (returnData) {};&#xA;&#xA;    this.ajaxSuccess = function (returnData) {};&#xA;&#xA;    this.call = function(functionName, argumentArray, callback){&#xA;        $.ajax( $.extend(true, {}, this.ajaxSettings, {data:{'ajaxFunction':functionName, 'arguments':argumentArray}} ) );&#xA;        this.callback = callback;&#xA;    };&#xA;&#xA;    this.ajaxReturn = function (returnData){&#xA;        returnData = returnData.substring(returnData.indexOf(&quot;{&quot;) - 1);&#xA;        returnData = returnData.substring(0, returnData.lastIndexOf(&quot;}&quot;) + 1);&#xA;        var responseArray = $.parseJSON(returnData);&#xA;&#xA;        if (responseArray.Message.toLowerCase() != &quot;success&quot;){&#xA;            this.ajaxFailure(responseArray);&#xA;            return;&#xA;        }&#xA;&#xA;        this.ajaxSuccess(responseArray);&#xA;        if(this.callback != false) this.callback(responseArray);&#xA;    };&#xA;&#xA;    window.ajaxCon = this;&#xA;    this.ajaxSettings = { url: window.location.href, type: 'POST', cache: false, data: {ajaxRequest: true}, success: function (returnData) {&#xA;        ajaxCon.ajaxReturn(returnData)&#xA;    }};&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and you call it like so:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    $ajaxCon = new ajaxCon;&#xA;&#xA;    $ajaxCon-&amp;gt;addFunction('checkEmail', function($Email){&#xA;        global $ajaxCon;&#xA;        if(emailIsInDB($Email)) $ajaxCon-&amp;gt;hasAccount = true;&#xA;        return true;&#xA;    });&#xA;?&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    var ajaxCon = new ajaxCon();&#xA;&#xA;    function checkEmail() {&#xA;        ajaxCon.call('checkEmail', {'Email':$('#Email').val()}, function(result){&#xA;            if(!result.hasAccount) $('#SignUp').submit();&#xA;        });&#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The drawbacks I know of are lot's of preprocessing (The entire page has to be preprocesed) and the page then executes as normal until the php function I need is defined and called.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any ideas on how I can optimize the code and make it run more efficiently while preserving/improving readability? &lt;/p&gt;&#xA;"" OwnerUserId=""40631"" LastEditorUserId=""40631"" LastEditDate=""2014-05-28T19:02:10.283"" LastActivityDate=""2014-05-29T06:55:02.493"" Title=""Ajax Class Efficiency"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;object-oriented&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""1"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""60235"" PostTypeId=""1"" AcceptedAnswerId=""60253"" CreationDate=""2014-08-16T16:20:53.860"" Score=""4"" ViewCount=""594"" Body=""&lt;p&gt;I wrote a simple AJAX request that performs a random select in two MySQL tables. My current script involves connecting to the database and creating a new PDO every time the &lt;code&gt;#generate&lt;/code&gt; button is clicked.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Can it be considered a bad practice? Could it lead to performance issues? If not, how could it still be optimized?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt; (generator.php)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$host = &quot;localhost&quot;;&#xA;$dbname = &quot;generator&quot;;&#xA;$user = &quot;root&quot;;&#xA;$password = &quot;&quot;;&#xA;$utf8 = array(PDO::MYSQL_ATTR_INIT_COMMAND =&amp;gt; &quot;SET NAMES utf8&quot;);&#xA;&#xA;try {&#xA;    $database = new PDO(&quot;mysql:host=$host; dbname=$dbname&quot;, $user, $password, $utf8);&#xA;    $database-&amp;gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );&#xA;}&#xA;catch(PDOException $e) {&#xA;    file_put_contents('PDOErrors.txt', $e-&amp;gt;getMessage(), FILE_APPEND);&#xA;    die();&#xA;}&#xA;&#xA;$query = &quot;SELECT * FROM (&#xA;    (SELECT * FROM homemade WHERE validation = 1 ORDER BY RAND() LIMIT 0,1)&#xA;    UNION ALL&#xA;    (SELECT * FROM user_generated WHERE validation = 1 ORDER BY RAND() LIMIT 0,1)&#xA;)&#xA;AS foo&#xA;ORDER BY RAND()&#xA;LIMIT 0,1&quot;;&#xA;&#xA;$statement = $database-&amp;gt;prepare($query);&#xA;$statement-&amp;gt;execute();&#xA;$content = $statement-&amp;gt;fetch();&#xA;&#xA;$data = array();&#xA;&#xA;if($query) {&#xA;    $data[&quot;pickedName&quot;] = $content[&quot;name&quot;];&#xA;    $data[&quot;pickedBaseline&quot;] = $content[&quot;baseline&quot;];&#xA;}&#xA;&#xA;echo json_encode($data);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JS&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var $name = $(&quot;#content h2&quot;);&#xA;var $baseline = $(&quot;#content h3&quot;)&#xA;&#xA;$(&quot;#generate&quot;).click(function() {&#xA;    $.ajax({&#xA;        type: &quot;POST&quot;,&#xA;        url: &quot;generator.php&quot;,&#xA;        dataType: &quot;json&quot;&#xA;    }).done(function(data) {&#xA;        $name.text(data.pickedName);&#xA;        $baseline.text(data.pickedBaseline);&#xA;    }).fail(function(data) {&#xA;        $name.text(&quot;Something went wrong !&quot;);&#xA;        $baseline.text(&quot;Please try again.&quot;);&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""51019"" LastEditorUserId=""22222"" LastEditDate=""2015-08-08T04:38:30.250"" LastActivityDate=""2015-08-08T04:38:30.250"" Title=""Random select in two MySQL tables"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;pdo&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""83426"" PostTypeId=""1"" AcceptedAnswerId=""83433"" CreationDate=""2015-03-06T20:21:06.050"" Score=""1"" ViewCount=""4178"" Body=""&lt;p&gt;Using parse.com's javascript API, I would like to get a variable number or images from &lt;code&gt;img&lt;/code&gt; tags on a page and save those images in the currently logged in user's user object.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To my knowledge, parse cannot store image files directly from a url so I am using ajax to send each url to a &lt;code&gt;php&lt;/code&gt; page that converts it and returns a base64 encoded string &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Of course, left unchecked, the code would continue to run and save the user object before the &lt;code&gt;php&lt;/code&gt; page returns the encoded images.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As a quick and dirty solution I set &lt;code&gt;async: false&lt;/code&gt; which does work but of course give the warning: synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user's experience.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;How can I re-write the below to use &lt;code&gt;promises&lt;/code&gt; instead of &lt;code&gt;async: false&lt;/code&gt;?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Or, should I gather up all of the image urls, send them in one ajax call, encode each, send them all back, and move the save user code into the success function of the ajax call?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function accountCreation(){&#xA;&#xA;        var user = Parse.User.current(); // get the currently logged in user object&#xA;&#xA;        // loop through each image element&#xA;        $('.images').each(function(index, element) {&#xA;              // first we'll need to get the image source &#xA;              var src = $(element).attr('src');&#xA;              // alone, the source is just a url and not of much use to us&#xA;              // we'll need to take the source and create a base64 encoded string from it&#xA;              // we'll use an ajax call to a small php script (shown below) to do this&#xA;              // it might be better to gather up each src url and send them all in one ajax call??&#xA;              var encodedImg;&#xA;              try {&#xA;                $.ajax({&#xA;                   type: &quot;POST&quot;,&#xA;                   url: &quot;encodeImgToBase64.php&quot;, // you may need to adjust this path depending on where you store the file in relation to this file&#xA;                   data: 'url='+src,&#xA;                   success: function(data){&#xA;                     encodedImg = data; // encodedImg is now a base64 encoded string &#xA;                     // if I did send all the image urls at once and return all the encoded strings in one response, I guess I could just move the rest of the below code into this success function and be done with it&#xA;                   },&#xA;                   async: false &#xA;                   // note the use of `async: false` here&#xA;                   // this works but gives the warning:&#xA;                   // synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user's experience.&#xA;                   // I know I should be using a promise here but Im not sure how to incorporate it&#xA;                 });&#xA;                var file = new Parse.File(&quot;photo.jpg&quot;, { base64: encodedImg }); // this part actually saves the image file to parse&#xA;                user.set(&quot;image&quot;+index,file); // set this image to the corosponding column on our object &#xA;              } catch (e) {&#xA;                console.log('failed to create file, src= '+src+', encoded img='+encodedImg)&#xA;              }&#xA;        });&#xA;        // save the user object&#xA;        user.save(null,{&#xA;          success: function(user) { &#xA;              // do success stuff...&#xA;          },&#xA;          error: function(user, error) {&#xA;              // do fail stuff...&#xA;          }&#xA;        });&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the &lt;code&gt;php&lt;/code&gt; code from &lt;code&gt;encodeImgToBase64.php&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;if (isset($_POST['url']) ){&#xA;    echo base64_encode(file_get_contents($_POST['url']));&#xA;}else{&#xA;    echo 'Error: No image to encode';&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""67597"" LastEditorUserId=""52915"" LastEditDate=""2020-10-30T16:10:26.730"" LastActivityDate=""2020-10-30T16:10:26.730"" Title=""Rewriting this function to use `promises` instead of `async: false`"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;promise&gt;&lt;parse-platform&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""83837"" PostTypeId=""1"" AcceptedAnswerId=""83905"" CreationDate=""2015-03-11T10:58:47.633"" Score=""4"" ViewCount=""937"" Body=""&lt;p&gt;I have several methods that wrap the &lt;code&gt;$.ajax()&lt;/code&gt; method and return its jqXHR, but I need to force fail before even calling the original &lt;code&gt;$.ajax()&lt;/code&gt; and still allow to use success/error methods of the result.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//just a very simple example, actuall code is more complicated&#xA;$.rpc = function(method, args) {&#xA;&#xA;    if (!method || 'string' === typeof method ||) {&#xA;        return false; //PROBLEM - cannot use success/error handlers!&#xA;    }&#xA;&#xA;    return $.ajax({&#xA;        type: 'POST',&#xA;        url: '/rpc',&#xA;        data: { method: method, params: args },&#xA;    }); //AJAX()&#xA;};&#xA;&#xA;//usage:&#xA;$.rpc(loginMethod, credentials).success(gotoProfile).fail(gotoLogin);&#xA;//if loginMethod is for any reason undefined it crash instead of calling fail handler&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So I use this helper method, since the jqXHR is created directly inside the Ajax method:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax.getFailed = function(message) {&#xA;    var&#xA;        jqDef = new $.Deferred(),&#xA;        jqXHR = jqDef.promise();&#xA;&#xA;    jqXHR.success = jqXHR.done; //deprecated  $.ajax methods&#xA;    jqXHR.error = jqXHR.fail;&#xA;&#xA;    jqDef.reject.defer(1, jqXHR, [jqXHR, message]);&#xA;               //defer is from extJS, alternative to setTimeout&#xA;&#xA;    return jqXHR;&#xA;};&#xA;&#xA;$.rpc = function(method, args) {&#xA;&#xA;    if (!method || 'string' === typeof method ||) {&#xA;        return $.ajax.getFailed('Missing method');&#xA;    }&#xA;&#xA;    return $.ajax({&#xA;        type: 'POST',&#xA;        url: '/rpc',&#xA;        data: { method: method, params: args },&#xA;    }); //AJAX()&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is this code OK or is there anything else I should add?&lt;/p&gt;&#xA;"" OwnerUserId=""67917"" LastEditorUserId=""22222"" LastEditDate=""2015-03-11T12:34:39.670"" LastActivityDate=""2015-03-12T10:03:19.940"" Title=""Return fake jqXHR from custom Ajax method"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""85527"" PostTypeId=""1"" CreationDate=""2015-03-31T18:52:59.240"" Score=""0"" ViewCount=""1268"" Body=""&lt;p&gt;I am trying to make sure my client-side code does not send another request before it receives a reply. To the best of my knowledge the code I will post is supposed to do this but I am still getting a -1 for &lt;code&gt;$return&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The AJAX request repeatedly gets the echoed value of a function which is using a batch file to get the size of a file that is being uploaded via FTP. The application using this shifted storage and is now in UNC path and now the AJAX gets nothing in return. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;If I run the bat file manually I can get a response, but it might take 1 second or it might take a minute, for some reason there doesn't seem to be a lot in the middle. If I use the PHP script to call it I get &lt;code&gt;$out&lt;/code&gt; equal to an empty array and &lt;code&gt;$return&lt;/code&gt; equal to -1. My guess is that it's taking so long to process the request the Ajax requests are interrupting each other.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am using &lt;code&gt;ajaxTime&lt;/code&gt; to try and see how long the requests are taking. They are varying from usually around 550-650 response time:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var ajaxTime = new Date().getTime();&#xA;getdSize(f, ajaxTime);&#xA;&#xA;function getSize(f, ajaxTime){&#xA;        $.ajax({&#xA;            url: &quot;php file handling the ajax request&quot;,&#xA;            type: &quot;POST&quot;,&#xA;            data: {&#xA;                file : encodeURIComponent(f),&#xA;                }&#xA;            })&#xA;        .done(function(data){&#xA;            var totalTime = new Date().getTime()-ajaxTime;&#xA;            console.log(&quot;Ajax Time: &quot; + totalTime);&#xA;            console.log(&quot;Data: &quot; + data);&#xA;        })&#xA;        .fail(function(data){&#xA;            if ( data.responseCode ){&#xA;              console.log( data.responseCode );&#xA;            }&#xA;            console.log(&quot;Ajax failure&quot;);&#xA;        });&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $file = $_POST['file'];&#xA;    echo bat_getSize($file);&#xA;[this calls bat_getSize function]&#xA;&#xA;function bat_getSize($file){&#xA;    exec(&quot;getSize \&quot;$file\&quot;&quot;,$out, $ret);&#xA;    return $out[0];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Which calls this batch code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@echo off&#xA;echo %~z1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""69360"" LastEditorUserId=""120114"" LastEditDate=""2018-09-07T23:32:15.827"" LastActivityDate=""2018-09-07T23:32:15.827"" Title=""AJAX Done Callback to prevent requests from interrupting each other"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;batch&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""85975"" PostTypeId=""1"" AcceptedAnswerId=""86053"" CreationDate=""2015-04-06T01:54:05.083"" Score=""2"" ViewCount=""72"" Body=""&lt;p&gt;I made this function to act sort of like jQuery's &lt;code&gt;$.ajax&lt;/code&gt;. I intend to use it in small projects where I do not use jQuery (I don't want to load a whole framework just to facilitate http requests).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit: New script incorporating Bob Lauer's suggestions&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&quot;use strict&quot;;&#xA;&#xA;function OM(obj){&#xA;    return new ObjectManipulator(obj);&#xA;}&#xA;function ObjectManipulator(obj){&#xA;    this[0] = obj;&#xA;}&#xA;ObjectManipulator.prototype.populate = function(newObject){&#xA;    for(var i in newObject){&#xA;        if(!this[0].hasOwnProperty(i)){&#xA;            this[0][i] = newObject[i];&#xA;        }&#xA;    };&#xA;    return this;&#xA;}&#xA;&#xA;function ajax(settings){&#xA;    return new AjaxRequest(settings);&#xA;}&#xA;function AjaxRequest(settings){&#xA;    settings = OM(settings).populate({&#xA;        url:    '/',&#xA;        method: 'get',&#xA;        type:   'text',&#xA;        async:  true,&#xA;        data: null&#xA;    })[0];&#xA;&#xA;    var done, progress, fail, always;&#xA;&#xA;    var method = settings.method.toUpperCase();&#xA;    if(['GET', 'POST', 'PUT', 'DELETE'].indexOf(method) === -1){&#xA;        console.log(method + &quot; is not a supported method&quot;);&#xA;        return;&#xA;    }&#xA;&#xA;    var request = new XMLHttpRequest();&#xA;&#xA;    var data = null;&#xA;    if(settings.data){&#xA;        if(typeof settings.data === 'object'){&#xA;            data = new FormData();&#xA;            for(prop in settings.data){&#xA;                if(settings.data.hasOwnProperty(prop)){&#xA;                    data.append(prop, settings.data[prop]);&#xA;                }&#xA;            }&#xA;        }else{&#xA;            data = settings.data;&#xA;        }&#xA;    }&#xA;&#xA;    request.addEventListener('readystatechange', readystatechangeHandler);&#xA;    request.addEventListener('progress', progressHandler);&#xA;&#xA;    request.open(method, settings.url, settings.async);&#xA;    request.send(data);&#xA;&#xA;    function readystatechangeHandler(){&#xA;        if(request.status &amp;gt;= 400){&#xA;            if(typeof fail === 'function')   fail(request);&#xA;            if(typeof always === 'function') always(request);&#xA;&#xA;            if(typeof fail !== 'function' &amp;amp;&amp;amp; typeof always !== 'function'){&#xA;                console.error(&quot;Error: &quot;, request.status, request.statusText);&#xA;                console.error(request);&#xA;            }&#xA;            request.removeEventListener('readystatechange', readystatechangeHandler);&#xA;        }&#xA;&#xA;        if(request.readyState == 4 &amp;amp;&amp;amp; request.status == 200){&#xA;            if(typeof done === 'function' || typeof always === 'function'){&#xA;                var data = request.response;&#xA;                if(settings.type.match(/json/gi) || request.responseURL.split(/\./g).pop() == 'json'){&#xA;                    data = JSON.parse(request.response);&#xA;                }&#xA;                if(typeof done == 'function')   done(data);&#xA;                if(typeof always == 'function') always(data);&#xA;            }&#xA;        }&#xA;    }&#xA;    function progressHandler(event){&#xA;        if(!event.lengthComputable) return;&#xA;        if(typeof progress == 'function') progress(event);&#xA;    }&#xA;    this.done     = function(fn){&#xA;        done = fn;&#xA;        return this;&#xA;    }&#xA;    this.progress = function(fn){&#xA;        progress = fn;&#xA;        return this;&#xA;    }&#xA;    this.fail     = function(fn){&#xA;        fail = fn;&#xA;        return this;&#xA;    }&#xA;    this.always   = function(fn){&#xA;        always = fn;&#xA;        return this;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Old script&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&quot;use strict&quot;;&#xA;&#xA;Object.prototype.populate = function(obj) {&#xA;    for(var i in this){&#xA;        if(this.hasOwnProperty(i)){&#xA;            obj[i] = this[i];&#xA;        }&#xA;    }&#xA;    return obj;&#xA;};&#xA;&#xA;function ajax(settings){&#xA;    return new ajaxFac(settings);&#xA;}&#xA;function ajaxFac(settings){&#xA;    settings = settings.populate({&#xA;        url:    '/',&#xA;        method: 'get',&#xA;        type:   'text',&#xA;        async:  true,&#xA;        data: null&#xA;    });&#xA;&#xA;    var done, progress, fail, always;&#xA;&#xA;    var method = settings.method.toUpperCase();&#xA;    if(['GET', 'POST', 'PUT', 'DELETE'].indexOf(method) == -1){&#xA;        console.log(method + &quot; is not a supported method&quot;);&#xA;        return;&#xA;    }&#xA;&#xA;    var request = new XMLHttpRequest();&#xA;&#xA;    var data = null;&#xA;    if(settings.data){&#xA;        if(typeof settings.data == 'object'){&#xA;            data = new FormData();&#xA;            for(prop in settings.data){&#xA;                if(settings.data.hasOwnProperty(prop)){&#xA;                    data.append(prop, settings.data[prop]);&#xA;                }&#xA;            }&#xA;        }else{&#xA;            data = settings.data;&#xA;        }&#xA;    }&#xA;&#xA;    request.addEventListener('readystatechange', readystatechangeHandler);&#xA;    request.addEventListener('progress', progressHandler);&#xA;&#xA;    request.open(method, settings.url, settings.async);&#xA;    request.send(data);&#xA;&#xA;    function readystatechangeHandler(){&#xA;        if(request.status &amp;gt;= 400){&#xA;            if(typeof fail == 'function')   fail(request);&#xA;            if(typeof always == 'function') always(request);&#xA;&#xA;            if(typeof fail !== 'function' &amp;amp;&amp;amp; typeof always !== 'function'){&#xA;                console.error(&quot;Error: &quot;, request.status, request.statusText);&#xA;                console.error(request);&#xA;            }&#xA;            request.removeEventListener('readystatechange', readystatechangeHandler);&#xA;        }&#xA;&#xA;        if(request.readyState == 4 &amp;amp;&amp;amp; request.status == 200){&#xA;            if(typeof done == 'function' || typeof always == 'function'){&#xA;                var data = request.response;&#xA;                if(settings.type.match(/json/gi) || request.responseURL.split(/\./g).pop() == 'json'){&#xA;                    data = JSON.parse(request.response);&#xA;                }&#xA;                if(typeof done == 'function')   done(data);&#xA;                if(typeof always == 'function') always(data);&#xA;            }&#xA;        }&#xA;    }&#xA;    function progressHandler(event){&#xA;        if(!event.lengthComputable) return;&#xA;        if(typeof progress == 'function') progress(event);&#xA;    }&#xA;&#xA;    this.done = function(fn){&#xA;        done = fn;&#xA;        return this;&#xA;    }&#xA;    this.progress = function(fn){&#xA;        progress = fn;&#xA;        return this;&#xA;    }&#xA;    this.fail = function(fn){&#xA;        fail = fn;&#xA;        return this;&#xA;    }&#xA;    this.always = function(fn){&#xA;        always = fn;&#xA;        return this;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""67121"" LastEditorUserId=""67121"" LastEditDate=""2015-04-06T22:14:36.460"" LastActivityDate=""2015-04-07T15:22:36.893"" Title=""Class that make asynchronous http requests"" Tags=""&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""98230"" PostTypeId=""1"" AcceptedAnswerId=""98234"" CreationDate=""2015-07-27T14:23:35.057"" Score=""5"" ViewCount=""168"" Body=""&lt;p&gt;I am currently writing a decent amount of ajax to help me delete a section of a website. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;It's already becoming a pretty big piece of code, I wondered if it were possible to compact a section of my code.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('.trg-finished').on('click', function() {&#xA;    if(confirm('Are you sure?')) {&#xA;        var that = $(this);&#xA;        var catid = that.data(&quot;id&quot;);&#xA;&#xA;        $.ajax({&#xA;            type: &quot;POST&quot;,&#xA;            url: &quot;./close-cat.php&quot;,&#xA;            data: { catID: catid }&#xA;        })&#xA;        .done(function(data) {&#xA;            if(data == 1) {&#xA;                that&#xA;                .css(&quot;background-color&quot;, &quot;#27AE60&quot;)&#xA;                .css(&quot;color&quot;, &quot;#FFF&quot;)&#xA;                .html('Success');&#xA;            } else {&#xA;                that&#xA;                .css(&quot;background-color&quot;, &quot;#C0392B&quot;)&#xA;                .css(&quot;color&quot;, &quot;#FFF&quot;)&#xA;                .html('Failure');&#xA;            };&#xA;&#xA;            window.setTimeout(function() {&#xA;                that&#xA;                .css(&quot;background-color&quot;, &quot;&quot;)&#xA;                .css(&quot;color&quot;, &quot;&quot;)&#xA;                .html('Finished');&#xA;            }, 5000);&#xA;        })&#xA;        .fail(function(data) {&#xA;            that&#xA;            .css(&quot;background-color&quot;, &quot;#C0392B&quot;)&#xA;            .css(&quot;color&quot;, &quot;#FFF&quot;)&#xA;            .html('Failure');&#xA;&#xA;            window.setTimeout(function() {&#xA;                that&#xA;                .css(&quot;background-color&quot;, &quot;&quot;)&#xA;                .css(&quot;color&quot;, &quot;&quot;)&#xA;                .html('Finished');&#xA;            }, 5000);&#xA;        });&#xA;    };&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is it possible to compact this code, or is this as small as it can get?&lt;/p&gt;&#xA;"" OwnerUserId=""78885"" LastEditorUserId=""9357"" LastEditDate=""2015-07-27T17:32:26.310"" LastActivityDate=""2015-07-28T07:20:29.580"" Title=""Deleting a section of a website using Ajax"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;promise&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""102218"" PostTypeId=""1"" AcceptedAnswerId=""102230"" CreationDate=""2015-08-28T22:30:56.073"" Score=""3"" ViewCount=""101"" Body=""&lt;p&gt;I wrote an ugly mess of a JavaScript function that pops up a dialog box based on validation data, when a checkbox is clicked. I am wondering if it can be refactored somehow.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;varButtons&lt;/code&gt; contains code for which buttons are used as a parameter to &lt;code&gt;BootstrapDialog&lt;/code&gt; function. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//checkbox validation&#xA;var varButtons = [];&#xA;if (isAdmin)&#xA;{&#xA;  var varButtons = [&#xA;  {&#xA;    label: 'OVERIDE',&#xA;    cssClass: 'btn-danger',&#xA;    action: function(dialogItself){&#xA;&#xA;        $.ajax({&#xA;            type: &quot;GET&quot;,&#xA;            url:  'fullProgramCheck',&#xA;            data: data,&#xA;            context: this,&#xA;            success: function(result){&#xA;                //if program open (not full)&#xA;                if(result != 'full') {&#xA;                      $(this).prop('checked', true);&#xA;                      $(this).trigger('change');&#xA;                }&#xA;                //Program Full //Can we refactor this with the identical block above?&#xA;                else{&#xA;                      BootstrapDialog.show({&#xA;                          title: 'Program Full',&#xA;                          message: 'Oh Drat! One or more of the Program weeks are full! You may be able to register for specific weeks in the program by selecting them individually. &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;'&#xA;                                   +'Click waitlist to be added to the waitlist to be notified of any availability in the program for the current and upcomming sessions.',&#xA;                          type: BootstrapDialog.TYPE_WARNING,&#xA;                          buttons: [&#xA;                              {&#xA;                                label: 'Waitlist',&#xA;                                cssClass: 'btn-warning',&#xA;                                action: function(dialogItself){&#xA;                                    //Add to WAITLIST&#xA;                                  $.get( 'addToWaitlist', data, function(result){&#xA;                                       if(result == 'success'){&#xA;                                          //add seesion data 'attendee added to waitlist'&#xA;                                          alert('attendee added to waitlist');&#xA;                                          location.reload();&#xA;                                       }&#xA;                                       else {&#xA;                                          //display session data error&#xA;                                          alert('error attendee not added to waitlist');&#xA;                                       }&#xA;                                  });&#xA;                                  dialogItself.close();&#xA;                                }&#xA;                              },&#xA;                              {&#xA;                                label: 'OK',&#xA;                                cssClass: 'btn-default',&#xA;                                action: function(dialogItself){&#xA;                                  dialogItself.close();&#xA;                                }&#xA;                              }&#xA;                          ]&#xA;                      });&#xA;                  }&#xA;            }&#xA;        });&#xA;        dialogItself.close();&#xA;    }&#xA;  },&#xA;  {&#xA;    label: 'OK',&#xA;    cssClass: 'btn-default',&#xA;    action: function(dialogItself){&#xA;      dialogItself.close();&#xA;    }&#xA;  }&#xA;  ]&#xA;}&#xA;else&#xA;{&#xA;&#xA;  varButtons = [&#xA;  {&#xA;    label: 'OK',&#xA;    cssClass: 'btn-default',&#xA;    action: function(dialogItself){&#xA;      dialogItself.close();&#xA;    }&#xA;  }&#xA;  ]&#xA;}&#xA;&#xA;&#xA;&#xA;function checkboxValidation() {&#xA;  $(document).ready(function(){&#xA;&#xA;    //Check age and display dialog box to over-ride age if administrator&#xA;    $('input:checkbox').click(function(e) {&#xA;      if( $(this).prop('checked') &amp;amp;&amp;amp;  $(this).val()=='on' )&#xA;      {&#xA;                e.preventDefault();&#xA;&#xA;                var name = $(this).attr('name');&#xA;                var pivot_attendee_program = name.split(/\]\[|\[|\]/);&#xA;                var data = {&#xA;                            'pivot' : pivot_attendee_program[0],&#xA;                            'attendee_id' : pivot_attendee_program[1],&#xA;                            'program_id' : pivot_attendee_program[2]&#xA;                           };&#xA;                $.ajax({&#xA;                    type: &quot;GET&quot;,&#xA;                    url: 'ageCheck',&#xA;                    data: data,&#xA;                    context: this,&#xA;                    success: function(result){&#xA;                            //Age Okay&#xA;                            if(result == 'pass'){&#xA;                                $.ajax({&#xA;                                    type: &quot;GET&quot;,&#xA;                                    url:  'fullProgramCheck',&#xA;                                    data: data,&#xA;                                    context: this,&#xA;                                    success: function(result){&#xA;                                        //if program open (not full)&#xA;                                        if(result != 'full') {&#xA;                                              $(this).prop('checked', true);&#xA;                                              $(this).trigger('change');&#xA;                                        }&#xA;                                        //Program Full&#xA;                                        else{&#xA;                                              BootstrapDialog.show({&#xA;                                                  title: 'Program Full',&#xA;                                                  message: 'One or more of the Program weeks are full! You may be able to register for specific weeks in the program by selecting them individually. &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;'&#xA;                                                           +'Click waitlist to be added to the waitlist to be notified of any availability in the program for the current and upcomming sessions.',&#xA;                                                  type: BootstrapDialog.TYPE_WARNING,&#xA;                                                  buttons: [&#xA;                                                      {&#xA;                                                        label: 'Waitlist',&#xA;                                                        cssClass: 'btn-warning',&#xA;                                                        action: function(dialogItself){&#xA;                                                            //Add to WAITLIST&#xA;                                                          $.get( 'addToWaitlist', data, function(result){&#xA;                                                               if(result == 'success'){&#xA;                                                                  //add seesion data 'attendee added to waitlist'&#xA;                                                                  alert('attendee added to waitlist');&#xA;                                                                  location.reload();&#xA;                                                               }&#xA;                                                               else {&#xA;                                                                  //display session data error&#xA;                                                                  alert('error attendee not added to waitlist');&#xA;                                                               }&#xA;                                                          });&#xA;                                                          dialogItself.close();&#xA;                                                        }&#xA;                                                      },&#xA;                                                      {&#xA;                                                        label: 'OK',&#xA;                                                        cssClass: 'btn-default',&#xA;                                                        action: function(dialogItself){&#xA;                                                          dialogItself.close();&#xA;                                                        }&#xA;                                                      }&#xA;                                                  ]&#xA;                                              });&#xA;                                          }&#xA;                                    }&#xA;                                });&#xA;                            }&#xA;                            //Age Not Okay&#xA;                            else{ //result == 'fail'&#xA;                                //Display Dialog Box&#xA;                                BootstrapDialog.show({&#xA;                                    title: 'Age Not Met',&#xA;                                    message: 'The attendee does not meet the age reguirement for this program.',&#xA;                                    type: BootstrapDialog.TYPE_WARNING,&#xA;                                    buttons: varButtons,&#xA;                                });&#xA;                            }&#xA;                    },&#xA;                    error: function(result){&#xA;                        alert(JSON.stringify(result));&#xA;                    }&#xA;                });&#xA;      }&#xA;    });&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""82268"" OwnerDisplayName=""Phil"" LastEditorUserId=""62429"" LastEditDate=""2015-08-29T06:24:46.863"" LastActivityDate=""2015-08-29T06:24:46.863"" Title=""Present waitlist dialog box if placement is full"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""106662"" PostTypeId=""1"" AcceptedAnswerId=""107077"" CreationDate=""2015-10-05T21:01:05.863"" Score=""3"" ViewCount=""100"" Body=""&lt;p&gt;I'm brand new here, but I've read the guidelines and looked at some up-voted questions. Hopefully I understand how I'm supposed to do this... if not, please let me know and I'll fix my question. &lt;/p&gt;&#xA;&#xA;&lt;h2&gt;Explanation&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;I have written a simple javascript plugin of sorts. It takes the settings object for a jQuery.ajax request and a few options (frequency, failure tolerance, etc) and then periodically issues the ajax request. If the request fails, it increases the interval to the next request. If success follows a number of failures, the interval is slowly reduced to reach the original frequency. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Usage looks something like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var ajax = {url: 'example.com', success: mySuccessFunc};&#xA;var cw = Coward(ajax, {}); // Request my url with default settings&#xA;cw.Start();&#xA;... // Coward is running, refreshes happening periodically &#xA;cw.Stop(); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h2&gt;Purpose of Review&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;I'm open to any feedback about my code that you're willing to give me. However, I came here seeking a few things specifically: &lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Are there any bugs that will result in an excessive number of requests or other undesirable behavior? Am I doing anything unsafe? Race conditions?&lt;/li&gt;&#xA;&lt;li&gt;JSLint warns me about scope in a few places, but the code works. Am I violating standards? Should I be handling scope differently (particularly with the 'underscore' functions and the 'live variables')? &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;h2&gt;The Code&lt;/h2&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Coward - One time or periodic refresh that retreats if anything goes wrong.&#xA;//&#xA;// This tool was designed for use with jQuery 1.9 or later&#xA;//&#xA;// Written by Adam Jensen&#xA;&#xA;function Coward(userReq, custom) {&#xA;  'use strict';&#xA;//==============================================&#xA;// Options and variables used by the coward&#xA;// - Do not change `opts` after invocation -&#xA;//==============================================&#xA;  // Combine user options with our defaults&#xA;  var opts = $.extend({&#xA;        frequency: 1000, // How often to issue ajax request&#xA;        ceiling: 10,     // After this number of failures, multiple will not be applied&#xA;        multiple: 1.5,   // Multiplier applied to&#xA;        infinite: false, // If false, coward will stop running when ceiling is passed&#xA;        verbose: false   // If true, messages will appear in console log&#xA;      }, custom);&#xA;&#xA;  // Live Variables (these will change as the code runs&#xA;  // and be reset at restart)&#xA;  var running = false;&#xA;  var fails = 0;&#xA;  var next = opts.frequency;&#xA;  var nextId = &quot;&quot;;&#xA;&#xA;  // Save out user's callbacks to be executed at the proper time&#xA;  if (userReq.hasOwnProperty('success')) {&#xA;    var successCallback = userReq.success;&#xA;    delete userReq.success;&#xA;  }&#xA;&#xA;  if (userReq.hasOwnProperty('error')) {&#xA;    var errorCallback = userReq.error;&#xA;    delete userReq.error;&#xA;  }&#xA;&#xA;  // Combine user request sans callbacks with our default request&#xA;  var request = $.extend({&#xA;        url: 'localhost',&#xA;        method: 'GET',&#xA;        timeout: 3000,&#xA;        success: _success,&#xA;        error: _fail&#xA;      }, userReq);&#xA;&#xA;  // Make sure we're not going to accidentally DoS someone&#xA;  if (opts.multiple &amp;lt; 1) {&#xA;    // multiple less than one results in increasing frequency on fail&#xA;    _log(&quot;Multiple CANNOT be less than one!&quot;);&#xA;    return false; // Lack of a callable will throw an error in users code&#xA;  }&#xA;&#xA;//==========================================================&#xA;// Main body of Coward (_run, _success, _fail)&#xA;// - DO NOT export these functions directly -&#xA;// - INSTEAD use Start, DelayStart, and Stop -&#xA;//==========================================================&#xA;  // _run gives us a point to verify the status of the coward before the ajax call&#xA;  function _run() {&#xA;    if (!running) {&#xA;      return false;&#xA;    }&#xA;&#xA;    $.ajax(request);&#xA;    return true;&#xA;  }&#xA;&#xA;  // Our own callback used to check status and set next interval&#xA;  function _success(data, status, jqxhr) {&#xA;    // If there are failures, start to scale up requests again&#xA;    if (fails &amp;gt; 0) {&#xA;      fails--;&#xA;      next = Math.round(next/opts.multiple);&#xA;      _log(&quot;Success! Recovered a white flag, now have &quot;+(opts.ceiling-fails)+&quot;. Next attempt in &quot;+next);&#xA;    }&#xA;&#xA;    // Set the next interval and call the users callback if set&#xA;    if (next &amp;gt; 0) {&#xA;      nextId = setTimeout(_run, next);&#xA;    }&#xA;    if (successCallback !== undefined) {&#xA;      successCallback(data, status, jqxhr);&#xA;    }&#xA;  }&#xA;&#xA;  function _fail(jqxhr, status, error) {&#xA;    // If we have fails left, log the incident and continue&#xA;    if (fails &amp;lt; opts.ceiling) {&#xA;      next = Math.round(next * opts.multiple);&#xA;      _log('Refresh failed. '+(opts.ceiling-fails)+' white flags remaining. Retreating to '+next+' [front line at '+opts.frequency+'].');&#xA;      fails++;&#xA;      nextId = setTimeout(_run, next);&#xA;    } else {&#xA;      if (!opts.infinite) {&#xA;        // We've passed the ceiling and infinite is not set. Give up.&#xA;        _log('Refresh has failed more than '+fails+' times. I surrender!');&#xA;        running = false;&#xA;      } else {&#xA;        _log('Failed more than '+fails+' times, ceiling '+opts.ceiling+' prevents increasing multiple.');&#xA;        nextId = setTimeout(_run, next);&#xA;      }&#xA;    }&#xA;    if (errorCallback !== undefined) {&#xA;      errorCallback(jqxhr, status, error);&#xA;    }&#xA;  }&#xA;&#xA;  function _log(msg) {&#xA;    if (opts.verbose) {&#xA;      console.log(msg);&#xA;    }&#xA;  }&#xA;&#xA;&#xA;//===============================================&#xA;// &quot;Publicly Accessible&quot; Functions&#xA;//===============================================&#xA;  var Start = function() {&#xA;    // Reset vars in case of Stop/Start cycle&#xA;    fails = 0;&#xA;    next = opts.frequency;&#xA;    nextId = &quot;&quot;;&#xA;    running = true;&#xA;    return _run();&#xA;  };&#xA;&#xA;  var DelayStart = function(delay) {&#xA;    // Start after user provided delay or one &quot;frequency cycle&quot;&#xA;    if (delay === undefined) {&#xA;      setTimeout(Start, opts.frequency);&#xA;      return opts.frequency;&#xA;    }&#xA;    setTimeout(Start, delay);&#xA;    return delay;&#xA;  };&#xA;&#xA;  var Stop = function() {&#xA;    // Stop the run function from creating new ajax calls&#xA;    clearTimeout(nextId);&#xA;    running = false;&#xA;    return false;&#xA;  };&#xA;&#xA;  var Status = function() {&#xA;    return {&#xA;      Opts: opts,&#xA;      Next: next,&#xA;      Fails: fails,&#xA;      NextId: nextId&#xA;    };&#xA;  };&#xA;&#xA;  return {&#xA;    Start: Start,&#xA;    DelayStart: DelayStart,&#xA;    Stop: Stop,&#xA;    Status: Status&#xA;  };&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The code is also available on &lt;a href=&quot;https://github.com/jensenak/coward&quot; rel=&quot;nofollow&quot;&gt;github&lt;/a&gt;.&lt;/p&gt;&#xA;"" OwnerUserId=""86107"" LastActivityDate=""2015-10-09T16:20:20.720"" Title=""jQuery AJAX requests - Plugin to Backoff on failure"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""111739"" PostTypeId=""1"" AcceptedAnswerId=""111744"" CreationDate=""2015-11-24T20:44:10.057"" Score=""2"" ViewCount=""154"" Body=""&lt;p&gt;I have removed a lot of the code, but you should get an idea of what I am doing:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;$upOne = realpath(__DIR__ . '/..');&#xA;require_once $upOne . '/vendor/autoload.php';&#xA;&#xA;use phpseclib\Net\SFTP;&#xA;&#xA;$errors = array();&#xA;$fileData = array();&#xA;$inputArray = array();&#xA;$config = new CONFIG\Config();&#xA;&#xA;&#xA;if (empty($_POST['emailAdd'])) {&#xA;    $errors['emailAdd'] = '- Please input your Email address';&#xA;} else {&#xA;    if (!filter_var($_POST['emailAdd'], FILTER_VALIDATE_EMAIL)) {&#xA;        $errors['emailAdd'] = '- Please input your Email address';&#xA;    } else {&#xA;        $email = filter_var($_POST['emailAdd'], FILTER_SANITIZE_EMAIL);&#xA;        array_push($inputArray, $email);&#xA;    }&#xA;}&#xA;&#xA;//Additional validation&#xA;...&#xA;&#xA;if (!empty($errors)) {&#xA;    echo json_encode(&quot;failed&quot;);&#xA;} else {&#xA;    try {&#xA;        $dbh = new PDO(&quot;mysql:host=&quot;.$config::DB_HOST.&quot;;dbname=&quot;.$config::DB_NAME.&quot;&quot;, $config::DB_USER, $config::DB_PASSWORD);&#xA;&#xA;        $stmt = $dbh-&amp;gt;prepare(&quot;INSERT INTO emirates_user(&quot;...&quot;);&#xA;&#xA;        if($stmt-&amp;gt;execute()) {&#xA;&#xA;            $lastId = $dbh-&amp;gt;lastInsertId();&#xA;&#xA;            if (isset($_FILES)) {&#xA;                foreach($_FILES as $file) {&#xA;                    $upload = UPLOAD\Upload::factory($config::TEMP_DIR);&#xA;                    $upload-&amp;gt;file($file);&#xA;&#xA;                    if(!$upload-&amp;gt;get_errors()) {&#xA;                        $fileData[$results['full_path']] = $results['mime'];&#xA;                    }&#xA;                    else {&#xA;                        echo json_encode(&quot;failed&quot;);&#xA;                        break;&#xA;                    }&#xA;                }&#xA;&#xA;                $date = date('_dmY_H:i:s');&#xA;                $pdf = new PDF\PdfGenerator($fileData, $inputArray, $date);&#xA;&#xA;                if($pdf) {&#xA;                    $command = '/usr/bin/python /srv/www/vhosts/someurl/html/php/somefile.py';&#xA;                    exec($command, $retval);&#xA;&#xA;                    if(isset($retval[0])  &amp;amp;&amp;amp; $retval[0] === 'success') {&#xA;                        $mail = new PHPMailer;&#xA;&#xA;                        .....&#xA;&#xA;                        if(!$mail-&amp;gt;send()) {&#xA;                            echo json_encode(&quot;failed&quot;);&#xA;                        } else {&#xA;                            $lstmt = $dbh-&amp;gt;prepare(&quot;...&quot;);&#xA;                            ...&#xA;&#xA;                            if($lstmt-&amp;gt;execute()) {&#xA;                                echo json_encode(&quot;success&quot;);&#xA;                            }&#xA;                        }&#xA;                    } else {&#xA;                        echo json_encode(&quot;failed&quot;);&#xA;                    }&#xA;                }&#xA;&#xA;            } else {&#xA;                echo json_encode(&quot;failed&quot;);&#xA;            }&#xA;        } else {&#xA;            echo json_encode(&quot;failed&quot;);&#xA;        }&#xA;    }&#xA;    catch(Exception $e) {&#xA;        echo json_encode(&quot;failed&quot;);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;First of all, I validate the user input.  If this fails, I return a failed message back to my Ajax.  If all is ok, the process begins.  This script inserts into a database, generates a PDF, SFTP's the file using a Python script, sends an email etc.  All of these actions could potentially go wrong.  I have handled things via conditional statements to make sure the code is executed correctly.  If not, then I return a failed message again.  If it makes it to the very end, I return a success message.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My Ajax is like so (not the whole function, just the done and failure sections):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;.done(function (response) {&#xA;    if(response == 'failed'){&#xA;        window.location.replace('failure.html');&#xA;    } else {&#xA;        window.location.replace('success.html');&#xA;    }&#xA;}).fail(function (jqXHR, textStatus) {&#xA;    console.log(textStatus);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So if the response is failed, I display a failed page.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Really, I am just seeking advice as to whether this type of logic is ok.  Should I maybe return more detail information about the error so I know what it relates too?  If so, how would I handle this in Ajax?&lt;/p&gt;&#xA;"" OwnerUserId=""90470"" LastEditorUserId=""22222"" LastEditDate=""2015-11-27T00:35:50.220"" LastActivityDate=""2015-11-27T00:35:50.220"" Title=""PHP passing messages back to Ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""114919"" PostTypeId=""1"" AcceptedAnswerId=""114922"" CreationDate=""2015-12-23T22:36:41.227"" Score=""6"" ViewCount=""81"" Body=""&lt;p&gt;I have a website, where one of the options that a user gets is to change their avatar.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I would like to know if there is anything that I &lt;em&gt;shouldn't&lt;/em&gt; or &lt;em&gt;should&lt;/em&gt; be doing... So here is what I've got.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is my PHP file that handles uploads:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php include('./config.php');&#xA;    $user = $_SESSION['user']['id'];&#xA;    $hash = randHash();&#xA;&#xA;    $tempUser = './assets/temp/faces/' .$user. '/';&#xA;    $tempUpload = $tempUser . $hash. '/';&#xA;&#xA;    while(is_dir($tempUpload)) {&#xA;        $hash = randHash();&#xA;        $tempUpload = $tempUser . $hash. '/';&#xA;    }&#xA;&#xA;    mkdir($tempUser);&#xA;    mkdir($tempUpload);&#xA;&#xA;    $tempFile = $tempUpload . basename($_FILES['avatar']['name']);&#xA;&#xA;    $fileType = pathinfo($tempFile, PATHINFO_EXTENSION);&#xA;    $fileName = $hash;&#xA;    $fileName .= '.' .$fileType;&#xA;&#xA;    if($_FILES['avatar']['name']) {&#xA;        if(&#xA;        $_FILES['avatar']['type'] == 'image/jpeg'&#xA;        || $_FILES['avatar']['type'] == 'image/jpg'&#xA;        || $_FILES['avatar']['type'] == 'image/png'&#xA;        || $_FILES['avatar']['type'] == 'image/gif'&#xA;        ) {&#xA;            if(move_uploaded_file($_FILES['avatar']['tmp_name'], $tempFile)) {&#xA;                rename($tempFile, $tempUpload . $fileName);&#xA;                $tempFile = $tempUpload . $fileName;&#xA;&#xA;                list($width, $height) = getimagesize($tempFile);&#xA;                if($width &amp;gt; 400 || $height &amp;gt; 400) {&#xA;                    unlink($tempFile);&#xA;                    rmdir($tempUpload);&#xA;                    rmdir($tempUser);&#xA;                    echo 'error:004';&#xA;                } else {&#xA;                    if(!is_dir('./assets/faces/' .$user. '/')) {&#xA;                        mkdir('./assets/faces/' .$user. '/');&#xA;                    };&#xA;                    rename($tempFile, './assets/faces/' .$user. '/' .$fileName);&#xA;                    rmdir($tempUpload);&#xA;                    rmdir($tempUser);&#xA;                    $file = './assets/faces/' .$user. '/' .$fileName;&#xA;                    echo $file;&#xA;&#xA;                    $get = $users-&amp;gt;prepare(&quot;SELECT userAvatar FROM userDetails WHERE userID=?&quot;);&#xA;                    $get-&amp;gt;bind_param('i', $user);&#xA;                    $get-&amp;gt;execute();&#xA;                    $get-&amp;gt;bind_result($oldFile);&#xA;                    $get-&amp;gt;fetch();&#xA;                    $get-&amp;gt;close();&#xA;&#xA;                    if($oldFile != &quot;./assets/faces/default-face.png&quot;) { unlink($oldFile); }&#xA;&#xA;                    $put = $users-&amp;gt;prepare(&quot;UPDATE userDetails SET userAvatar=? WHERE userID=?&quot;);&#xA;                    $put-&amp;gt;bind_param('si', $file,$user);&#xA;                    $put-&amp;gt;execute();&#xA;                    $put-&amp;gt;close();&#xA;                }&#xA;            } else {&#xA;                rmdir($tempUpload);&#xA;                echo 'error:003';&#xA;            };&#xA;        } else {&#xA;            rmdir($tempUpload);&#xA;            echo 'error:002';&#xA;        };&#xA;    } else {&#xA;        rmdir($tempUpload);&#xA;        echo 'error:001';&#xA;    };&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the HTML/Ajax that handles the form:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;grp-con mrg-top-med&quot;&amp;gt;&#xA;    &amp;lt;p class=&quot;title&quot;&amp;gt;Avatar&amp;lt;/p&amp;gt;&#xA;    &amp;lt;ul&amp;gt;&#xA;        &amp;lt;li class=&quot;mrg-rgt-med&quot;&amp;gt;&amp;lt;img class=&quot;face-preview-lrg&quot; src=&quot;&amp;lt;?php echo $userFace; ?&amp;gt;&quot; /&amp;gt;&amp;lt;/li&amp;gt;&#xA;        &amp;lt;li&amp;gt;&#xA;            &amp;lt;script&amp;gt;&#xA;                $(document).ready(function() {&#xA;                    $('#avatar').on('submit', function(e) {&#xA;                        var form = $(this);&#xA;                        var avatar = form.children('input[type=file]');&#xA;                        var btn = form.children('button[type=submit]');&#xA;                        var fd = new FormData();&#xA;                        fd.append('avatar', avatar[0].files[0]);&#xA;&#xA;                        btn.prepend('&amp;lt;i class=&quot;fa fa-fw fa-refresh fa-spin&quot;&amp;gt;&amp;lt;/i&amp;gt; ');&#xA;&#xA;                        $.ajax({&#xA;                            url:'./user-update-avatar.php',&#xA;                            data:fd,&#xA;                            processData:false,&#xA;                            contentType:false,&#xA;                            type:'POST'&#xA;                        })&#xA;                        .done(function(data) {&#xA;                            if(data.indexOf('error') != -1) {&#xA;                                btn&#xA;                                    .removeAttr('class')&#xA;                                    .addClass('btn-danger mrg-top-med')&#xA;                                    .html('&amp;lt;i class=&quot;fa fa-fw fa-close&quot;&amp;gt;&amp;lt;/i&amp;gt;');&#xA;                            } else {&#xA;                                btn&#xA;                                    .removeAttr('class')&#xA;                                    .addClass('btn-success mrg-top-med')&#xA;                                    .html('&amp;lt;i class=&quot;fa fa-fw fa-check&quot;&amp;gt;&amp;lt;/i&amp;gt;');&#xA;                                $('.face-preview-lrg').attr('src', data);&#xA;                            };&#xA;                            window.setTimeout(function() {&#xA;                                btn&#xA;                                    .removeAttr('class')&#xA;                                    .addClass('btn-seagreen mrg-top-med')&#xA;                                    .html('Change Avatar');&#xA;                            }, 2000);&#xA;                        })&#xA;                        .fail(function(data) {&#xA;                            btn&#xA;                                .removeAttr('class')&#xA;                                .addClass('btn-danger mrg-top-med')&#xA;                                .html('&amp;lt;i class=&quot;fa fa-fw fa-close&quot;&amp;gt;&amp;lt;/i&amp;gt;');&#xA;                            window.setTimeout(function() {&#xA;                                btn&#xA;                                    .removeAttr('class')&#xA;                                    .addClass('btn-seagreen mrg-top-med')&#xA;                                    .html('Change Avatar');&#xA;                            }, 2000);&#xA;                        });&#xA;&#xA;                        e.preventDefault();&#xA;                    });&#xA;                })&#xA;            &amp;lt;/script&amp;gt;&#xA;            &amp;lt;form id=&quot;avatar&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;                &amp;lt;p&amp;gt;No larger than 400x400&amp;lt;/p&amp;gt;&#xA;                &amp;lt;input name=&quot;avatar&quot; type=&quot;file&quot; required /&amp;gt;&#xA;                &amp;lt;button class=&quot;btn-seagreen mrg-top-med&quot; type=&quot;submit&quot;&amp;gt;Change Avatar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/form&amp;gt;&#xA;        &amp;lt;/li&amp;gt;&#xA;    &amp;lt;/ul&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What are your thoughts?&lt;/p&gt;&#xA;"" OwnerUserId=""78885"" LastEditorUserId=""49308"" LastEditDate=""2015-12-24T00:38:41.133"" LastActivityDate=""2015-12-24T00:39:27.603"" Title=""PHP Image Uploader"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""125271"" PostTypeId=""1"" AcceptedAnswerId=""125282"" CreationDate=""2016-04-10T02:47:02.883"" Score=""0"" ViewCount=""437"" Body=""&lt;p&gt;I have a file named &lt;a href=&quot;https://github.com/kaihendry/vanilla-php-feedback-form/blob/master/feedback/feedback.js&quot; rel=&quot;nofollow noreferrer&quot;&gt;feedback.js&lt;/a&gt; that I would like to improve.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function feedback(feedbackform) {&#xA;&#xA;    // collect the feedbackform data while iterating over the inputs&#xA;    var data = {};&#xA;    for (var i = 0; i &amp;lt; feedbackform.length; i++) {&#xA;        var input = feedbackform[i];&#xA;        if (input.name &amp;amp;&amp;amp; input.value) {&#xA;            data[input.name] = input.value;&#xA;        }&#xA;    }&#xA;&#xA;    // construct an HTTP request&#xA;    var xhr = new XMLHttpRequest();&#xA;    xhr.open(feedbackform.method, feedbackform.action);&#xA;    xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');&#xA;    // send the collected data as JSON&#xA;    xhr.send(JSON.stringify(data));&#xA;    feedbackform.send.disabled = true;&#xA;&#xA;    xhr.onloadend = function () {&#xA;        if (xhr.status == 200) {&#xA;            feedbackform.send.value = &quot;Sent!&quot;;&#xA;            feedbackform.send.className = &quot;success&quot;;&#xA;        } else {&#xA;            feedbackform.send.value = &quot;Failed to send&quot;;&#xA;            feedbackform.send.className = &quot;fail&quot;;&#xA;        }&#xA;    };&#xA;&#xA;    return false;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Is there a modern way to collect form inputs? E.g. &lt;a href=&quot;https://darobin.github.io/formic/specs/json/&quot; rel=&quot;nofollow noreferrer&quot;&gt;json enctype&lt;/a&gt;?&lt;/li&gt;&#xA;&lt;li&gt;Is disabling the submit button a good idea to prevent multiple form submissions?&lt;/li&gt;&#xA;&lt;li&gt;If the form fails to send, what's a good recourse (to prevent data loss of the filled form) I can give the user? Perhaps munge it into a &lt;code&gt;mailto:&lt;/code&gt; command?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;Are there any other tweaks I can make without relying on any dependencies, such as trying to reduce code size?&lt;/p&gt;&#xA;"" OwnerUserId=""7950"" LastEditorUserId=""127098"" LastEditDate=""2017-07-12T16:48:00.580"" LastActivityDate=""2018-10-04T17:20:34.040"" Title=""Submitting a form via JSON"" Tags=""&lt;javascript&gt;&lt;json&gt;&lt;form&gt;&lt;ajax&gt;&lt;serialization&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""132685"" PostTypeId=""1"" CreationDate=""2016-06-21T23:46:18.673"" Score=""2"" ViewCount=""1513"" Body=""&lt;p&gt;I am not sure if this is the correct way to make an Ajax request and do the typical loading/processing GIF/animation while processing is happening and displaying the response.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HTML:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!-- start content --&amp;gt;&#xA;&amp;lt;div class='content'&amp;gt;&#xA;&#xA;    &amp;lt;!-- start setup section --&amp;gt;&#xA;        &amp;lt;div class='photo-setup'&amp;gt;&#xA;&#xA;            &amp;lt;div class='setup-head'&amp;gt;&#xA;                &amp;lt;div class='photo-name'&amp;gt;Photo Name : &amp;lt;input type='text' placeholder='Photo Name' name='photo-name' title='Photo Name' value='Untitled'&amp;gt;&amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class='photo-section'&amp;gt;&#xA;                &amp;lt;img src=&quot;&amp;lt;?php echo 'tmp/' . $imgUpload-&amp;gt;getFileName() . $imgUpload-&amp;gt;getType() ?&amp;gt;&quot; alt='photo'&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class='tag-section'&amp;gt;&#xA;                Photo Tags : &amp;lt;input type='text' placeholder='Tags e.g. (#beach #park #dog)'&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class='ajax-loading'&amp;gt;&#xA;                &amp;lt;img src='ajax-loader.gif'&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class='response'&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class='commit-section'&amp;gt;&#xA;                &amp;lt;a class='save' href='#'&amp;gt;Save&amp;lt;/a&amp;gt;&amp;lt;a class='cancel' href='upload.php'&amp;gt;Cancel&amp;lt;/a&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;!-- end setup section--&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;!-- end content --&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CSS:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;img { border: none; }&#xA;input { padding: 0.30em; }&#xA;&#xA;.photo-setup {&#xA;    width: 600px;&#xA;    height: auto;&#xA;    margin: 0 auto;&#xA;    font-weight: 200;&#xA;    font-size: 0.9em;&#xA;    letter-spacing: 1px;&#xA;}&#xA;&#xA;.setup-head {&#xA;    border-left: 1px solid #cacece;&#xA;    border-right: 1px solid #cacece;&#xA;    border-top: 1px solid #cacece;&#xA;    border-top-left-radius: 6px;&#xA;    border-top-right-radius: 6px;&#xA;    padding: 1em;&#xA;    overflow: hidden;&#xA;}&#xA;&#xA;.photo-name { float: left; }&#xA;&#xA;.photo-section {&#xA;    border: 1px solid #cacece;&#xA;    text-align: center;&#xA;}&#xA;&#xA;.tag-section {&#xA;    padding: 1em 0 1em 1em;&#xA;}&#xA;&#xA;.tag-section input {&#xA;    width: 81%;&#xA;    display: inline-block;&#xA;}&#xA;&#xA;.ajax-loading {&#xA;    text-align: center;&#xA;    margin: 1em;&#xA;    display: none;&#xA;}&#xA;&#xA;.response {&#xA;    display: none;&#xA;    text-align: center;&#xA;}&#xA;&#xA;.commit-section {&#xA;    text-align: center;&#xA;}&#xA;&#xA;.commit-section a {&#xA;    margin-left: 1em;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;jQuery:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;&#xA;    $('.save').on('click', function(e) {&#xA;        e.preventDefault();&#xA;        save();&#xA;    });&#xA;&#xA;    $(document).ajaxStart(function() {&#xA;        $('.commit-section .save').hide();&#xA;        $('.ajax-loading').fadeIn();&#xA;    });&#xA;&#xA;    $(document).ajaxComplete(function() {&#xA;        setTimeout(function() {&#xA;            $('.ajax-loading, .commit-section').hide();&#xA;            $('.response').fadeIn();&#xA;        }, 500);&#xA;    });&#xA;&#xA;});&#xA;&#xA;// collect all photo data and send to php for database storage&#xA;function save() {&#xA;&#xA;    // regex to parse hashtags&#xA;    var regex = /[#]+[A-Za-z0-9-_]+/g;&#xA;    var name = $.trim($('.photo-name input').val());&#xA;    var tags = $.trim($('.tag-section input').val()).match(regex);&#xA;    var photo = $.trim($('.photo-section img').attr('src'));&#xA;&#xA;    $.ajax({&#xA;&#xA;        url: 'save_photo.php',&#xA;        method: 'POST',&#xA;        dataType: 'html',&#xA;        data: {&#xA;            title: name,&#xA;            hash_tags: tags,&#xA;            filename: photo&#xA;        }&#xA;&#xA;    })&#xA;    .done(function(response) {&#xA;        $('.response').html(response);&#xA;    })&#xA;    .fail(function() {&#xA;        alert('Something went wrong!')&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""62479"" LastEditorUserId=""22222"" LastEditDate=""2016-06-22T00:07:21.837"" LastActivityDate=""2017-01-12T04:26:23.907"" Title=""Loading an animation with an Ajax request"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""144450"" PostTypeId=""1"" AcceptedAnswerId=""144483"" CreationDate=""2016-10-17T14:02:44.460"" Score=""2"" ViewCount=""51"" Body=""&lt;p&gt;I've just refactored some code for a search box which takes a user search term, hits an API, returns a list of possible locations, and processes the users chosen result by sending them to a map page with their chosen result populated in the URL. I'm trying to improve my JS skills from just getting stuff done, to doing it well and to a high standard. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any feedback greatly welcomed!&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// requires: src/helpers.js&#xA;&#xA;(function(document, undefined) {&#xA;    'use strict';&#xA;&#xA;    /**&#xA;     * Create new helper object for use of helper functions&#xA;     * @type {Object}&#xA;     */&#xA;    var helpers = new Code.Helpers();&#xA;&#xA;    /**&#xA;     * ID of the visit search form&#xA;     * @type {String}&#xA;     */&#xA;    var searchFormId = 'VisitSearchBox';&#xA;&#xA;    /**&#xA;     * Container class for the multiple location dropdown&#xA;     * @type {String}&#xA;     */&#xA;    var multipleLocationClass = 'p-hero__search-box-results-list';&#xA;&#xA;    /**&#xA;     * Class for multiple location dropdown items&#xA;     * @type {String}&#xA;     */&#xA;    var multipleLocationItemClass = 'p-hero__search-box-results-item';&#xA;&#xA;    /**&#xA;     * Data attribute string for the multiple location dropdown list&#xA;     * @type {String}&#xA;     */&#xA;    var multipleLocationDropdownAttr = 'data-searchwoods-location-list';&#xA;&#xA;    /**&#xA;     * Data attribute selector for multiple location dropdown&#xA;     * @type {String}&#xA;     */&#xA;    var multipleLocationDropdown = '[' + multipleLocationDropdownAttr + ']';&#xA;&#xA;    /**&#xA;     * API query URL to return locations by term&#xA;     * @type {String}&#xA;     */&#xA;    var queryUrl = '/api/maps/locationsearch/';&#xA;&#xA;    /**&#xA;     * URL where map results page lives&#xA;     * @type {String}&#xA;     */&#xA;    var woodsUrl = '/visiting-woods/map/';&#xA;&#xA;    /**&#xA;     * Validation error class&#xA;     * @type {String}&#xA;     */&#xA;    var validationClass = 'input-validation-error';&#xA;&#xA;    /**&#xA;     * Validation error text&#xA;     * @type {String}&#xA;     */&#xA;    var validationText = 'Please enter a location';&#xA;&#xA;    /**&#xA;     * Is valid search term boolean&#xA;     * @type {Boolean}&#xA;     */&#xA;    var isValid = true;&#xA;&#xA;    /**&#xA;     * Default radius used for map results&#xA;     * @type {Number}&#xA;     */&#xA;    var radius = 5;&#xA;&#xA;    /**&#xA;     * Search box data attribute identifier&#xA;     * @type {String}&#xA;     */&#xA;    var searchBox = '[data-searchwoods-box]';&#xA;&#xA;    /**&#xA;     * Search fieldset data attribute identifier&#xA;     * @type {String}&#xA;     */&#xA;    var searchFieldset = '[data-searchwoods-fieldset]';&#xA;&#xA;    /**&#xA;     * Search box submit button identifier&#xA;     * @type {String}&#xA;     */&#xA;    var searchSubmit = '[data-searchwoods-button]';&#xA;&#xA;    /**&#xA;     * Remove any previous dropdown results and clear errors&#xA;     */&#xA;    function resetSearchBox() {&#xA;        // Remove multiple list dropdown when user starts to search again&#xA;        if(helpers.$(multipleLocationDropdown)) {&#xA;            helpers.remove(helpers.$(multipleLocationDropdown));&#xA;        }&#xA;&#xA;        // If the search input was in an invalid state, clear the error&#xA;        if (!isValid) {&#xA;            clearError();&#xA;        }&#xA;    }&#xA;&#xA;    /**&#xA;     * Cancel default form submission behaviour and trigger custom search behaviour&#xA;     * @param  {object} e [submission event]&#xA;     */&#xA;    function cancelAndSearch(e) {&#xA;&#xA;        // Stop the default form submission behaviour&#xA;        e.preventDefault();&#xA;&#xA;        // Get and format the search term from the search box&#xA;        var searchTerm = escape(helpers.$(searchBox).value.trim());&#xA;&#xA;        // Check search term is valid and display error if not&#xA;        if (searchTerm === 'undefined' || searchTerm === '' || searchTerm === validationText || searchTerm === 'Please%20enter%20a%20location') {&#xA;            displayError();&#xA;            return;&#xA;        }&#xA;&#xA;        // Generate API search URL by combining the API query URL with the user search term&#xA;        var searchUrl = queryUrl + searchTerm;&#xA;&#xA;        // Do an AJAX request to the API with the search URL&#xA;        ajaxSearchRequest(searchUrl, searchTerm);&#xA;    }&#xA;&#xA;    /**&#xA;     * Perform an AJAX request to search for locations from the API based on the user search term&#xA;     * @param  {String} searchUrl [URL to request, based on the query URL and search term]&#xA;     * @param  {String} searchTerm [User location search term]&#xA;     */&#xA;    function ajaxSearchRequest(searchUrl, searchTerm) {&#xA;&#xA;        // // Abort any open requests&#xA;        if (request) request.abort();&#xA;&#xA;        // Use search URL to make request to search API&#xA;        var request = new XMLHttpRequest();&#xA;        request.open('GET', searchUrl, true);&#xA;&#xA;        request.onload = function() {&#xA;            if (request.status &amp;gt;= 200 &amp;amp;&amp;amp; request.status &amp;lt; 400) {&#xA;                var data = JSON.parse(request.responseText);&#xA;                request = null;&#xA;&#xA;                // If the API returns multiple results then display multiple results&#xA;                if (data.hasMultiple) {&#xA;                    displayMultipleSearchResults(data.results, searchUrl);&#xA;                }&#xA;                // Else execute search and go to results page&#xA;                else {&#xA;                    var latlon = '';&#xA;                    if (data.results.length &amp;gt; 0) {&#xA;                        var lat = data.results[0].coords.lat;&#xA;                        var lon = data.results[0].coords.lon;&#xA;                        latlon = lat + '/' + lon;&#xA;                    }&#xA;                    showNearbyWoods(searchTerm, latlon);&#xA;                }&#xA;            }&#xA;            else {&#xA;                console.log('search data fail: ' + request.responseText);&#xA;            }&#xA;        };&#xA;&#xA;        request.onerror = function() {&#xA;          console.log('search data fail: ' + request.responseText);&#xA;        };&#xA;&#xA;        request.send();&#xA;    }&#xA;&#xA;    /**&#xA;     * Display multiple search results&#xA;     * @param  {Object} data      [Returned AJAX data from API]&#xA;     * @param  {String} searchUrl [The search URL built from query URL and user search term]&#xA;     */&#xA;    function displayMultipleSearchResults(data, searchUrl) {&#xA;        var resultItems = [];&#xA;        var latlon;&#xA;&#xA;        for (var i = 0; i &amp;lt; data.length; i++) {&#xA;            latlon = data[i].coords.lat + '/' + data[i].coords.lon;&#xA;            // Build results array with each returned result item&#xA;            resultItems.push('&amp;lt;span class=&quot;' + multipleLocationItemClass +'&quot;&amp;gt;&amp;lt;a href=&quot;' + searchUrl + '&quot; data-url=&quot;' + searchUrl + '&quot; data-coords=&quot;' + latlon + '&quot;&amp;gt;' + data[i].name + '&amp;lt;/a&amp;gt;&amp;lt;/span&amp;gt;');&#xA;        }&#xA;&#xA;        // Populate multiple location dropdown and show it&#xA;        var multipleLocationDropdownElement = document.createElement('div');&#xA;        multipleLocationDropdownElement.setAttribute(multipleLocationDropdownAttr, '');&#xA;        multipleLocationDropdownElement.classList.add(multipleLocationClass);&#xA;        multipleLocationDropdownElement.innerHTML = resultItems.join('');&#xA;        helpers.$(searchFieldset).appendChild(multipleLocationDropdownElement);&#xA;        var multipleLocationDropDownHeight = getComputedStyle(multipleLocationDropdownElement).height;&#xA;        helpers.$(multipleLocationDropdown).classList.add(multipleLocationClass + '--active');&#xA;&#xA;        // Add event listener to the dropdown&#xA;        helpers.$(multipleLocationDropdown).addEventListener('click', processResultLink);&#xA;    }&#xA;&#xA;    function processResultLink(e) {&#xA;        e.preventDefault();&#xA;&#xA;        // Check if the clicked element was a link&#xA;        if (e.target !== e.currentTarget) {&#xA;            var chosenResultText = e.target.text;&#xA;            var chosenResultUrl = e.target.href;&#xA;            var chosenResultTerm = chosenResultText;&#xA;            var latlon = e.target.dataset.coords;&#xA;&#xA;            // Remove the location dropdown&#xA;            var multipleLocationDropdownElement = helpers.$(multipleLocationDropdown);&#xA;            multipleLocationDropdownElement.parentNode.removeChild(multipleLocationDropdownElement);&#xA;            helpers.$(searchBox).value = chosenResultText;&#xA;&#xA;            showNearbyWoods(chosenResultTerm, latlon);&#xA;        }&#xA;        e.stopPropagation();&#xA;    }&#xA;&#xA;    /**&#xA;     * Build URL to send user to and send user&#xA;     * @param  {String} locationTerm [The location term determined by the user location selection]&#xA;     * @param  {String} latlon       [The latitude and longitude of the location]&#xA;     */&#xA;    function showNearbyWoods(locationTerm, latlon) {&#xA;&#xA;        var nearbyWoodsUrl = woodsUrl + locationTerm + '/' + radius + '/';&#xA;&#xA;        if (latlon) {&#xA;            nearbyWoodsUrl = woodsUrl + locationTerm + '/' + latlon + '/';&#xA;        }&#xA;&#xA;        window.location = nearbyWoodsUrl;&#xA;        return;&#xA;    }&#xA;&#xA;    /**&#xA;     * Display an error on the search input box&#xA;     */&#xA;    function displayError() {&#xA;        isValid = false;&#xA;        helpers.addClass(helpers.$(searchBox), validationClass);&#xA;        helpers.$(searchBox).blur();&#xA;        helpers.$(searchBox).value = validationText;&#xA;    }&#xA;&#xA;    /**&#xA;     * Clear any errors on the saecrh input box&#xA;     */&#xA;    function clearError() {&#xA;        helpers.$(searchBox).value = '';&#xA;        helpers.removeClass(helpers.$(searchBox), validationClass);&#xA;        isValid = true;&#xA;    }&#xA;&#xA;    /**&#xA;     * Initiate. Reset the search box and add event listeners&#xA;     */&#xA;    function init() {&#xA;        resetSearchBox();&#xA;        helpers.$(searchBox).addEventListener('focus', resetSearchBox);&#xA;        helpers.$(searchBox).addEventListener('keyup', resetSearchBox);&#xA;&#xA;        // Trigger search function on search box submission&#xA;        helpers.addEvent(helpers.$('#' + searchFormId), 'submit', cancelAndSearch);&#xA;    }&#xA;&#xA;    init();&#xA;&#xA;})(document);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""120454"" LastActivityDate=""2016-10-19T13:45:39.933"" Title=""Take a search term and return a list of location from an API"" Tags=""&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""173103"" PostTypeId=""1"" AcceptedAnswerId=""173124"" CreationDate=""2017-08-15T19:48:23.747"" Score=""1"" ViewCount=""77"" Body=""&lt;p&gt;I am submitting my form using ajax. Here is the actual code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// generic ajax caller&#xA;function ajaxHandler(url, data, options)&#xA;{&#xA;    return $.ajax($.extend({&#xA;            type: 'POST',&#xA;            url: url,&#xA;            dataType: 'json',&#xA;            data: data,&#xA;            success: function (data) {&#xA;                return data;&#xA;            },&#xA;            error: function (xhr, textStatus, error) {&#xA;                return error;&#xA;            },&#xA;        }, options))&#xA;&#xA;};&#xA;&#xA;&#xA;&#xA;   // This code handles course submission form &#xA;&#xA;     $('#add-course').on('submit', function (e) {&#xA;    e.preventDefault();&#xA;&#xA;    var form = $(this);&#xA;&#xA;    ajaxHandler(form.url, form.serialize()).then(function (result) {&#xA;&#xA;        console.log('#############');&#xA;&#xA;        $('.field-error, .success, .error').remove();&#xA;        if(result.errorType == &quot;fieldErrors&quot;)&#xA;        {&#xA;            // handle field errors&#xA;            $.each(result.data, function (key, value) {&#xA;                console.log(key, value);&#xA;                $('&amp;lt;span class=&quot;field-error&quot;&amp;gt; ' + value.msg + '&amp;lt;/span&amp;gt;').insertBefore('#' + value.param);&#xA;            });&#xA;        }&#xA;&#xA;        else if(result.errorType == &quot;formErrors&quot;)&#xA;        {&#xA;            // handle form errors&#xA;            $('&amp;lt;p class=&quot;error&quot;&amp;gt;' + result.message + '&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;        }&#xA;&#xA;        else&#xA;        {&#xA;            // success&#xA;            form[0].reset();&#xA;            $('&amp;lt;p&amp;gt;&amp;lt;span class=&quot;success&quot;&amp;gt;' + result.message + '&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;        }&#xA;&#xA;    })&#xA;    .fail(function (error) {&#xA;        $('&amp;lt;p &amp;gt;&amp;lt;span class=&quot;error&quot;&amp;gt;Error connecting server&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;    });&#xA;&#xA;});&#xA;&#xA;&#xA;// Here is code which handles update course form&#xA;$('#change-course').on('submit', function (e) {&#xA;    e.preventDefault();&#xA;&#xA;    var form = $(this);&#xA;&#xA;    ajaxHandler(form.url, form.serialize()).then(function (result) {&#xA;&#xA;        $('.field-error, .success, .error').remove();&#xA;        if(result.errorType == &quot;fieldError&quot;)&#xA;        {&#xA;            // handle field errors&#xA;            $.each(result.data, function (key, value) {&#xA;                console.log(key, value);&#xA;                $('&amp;lt;span class=&quot;field-error&quot;&amp;gt; ' + value.msg + '&amp;lt;/span&amp;gt;').insertBefore('#' + value.param);&#xA;            });&#xA;        }&#xA;&#xA;        else if(result.errorType == &quot;formError&quot;)&#xA;        {&#xA;            // handle form errors&#xA;            $('&amp;lt;p&amp;gt;&amp;lt;span class=&quot;form-error&quot;&amp;gt;' + result.message + '&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;        }&#xA;&#xA;        else&#xA;        {&#xA;            // success&#xA;            $('&amp;lt;p&amp;gt;&amp;lt;span class=&quot;success&quot;&amp;gt;' + result.message + '&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;        }&#xA;&#xA;    })&#xA;        .fail(function (error) {&#xA;            $('&amp;lt;p&amp;gt;&amp;lt;span class=&quot;error&quot;&amp;gt;Error connecting server&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;').insertBefore(form);&#xA;        });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;As you can see the structure of add/update form is almost the same. How can I refactor all this?&lt;/p&gt;&#xA;"" OwnerUserId=""145966"" LastEditorUserId=""9357"" LastEditDate=""2017-08-15T20:19:59.537"" LastActivityDate=""2017-08-16T04:08:12.050"" Title=""Submit form additions or changes using AJAX, and display result"" Tags=""&lt;javascript&gt;&lt;validation&gt;&lt;form&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""193068"" PostTypeId=""1"" CreationDate=""2018-04-27T11:05:59.477"" Score=""1"" ViewCount=""69"" Body=""&lt;p&gt;I've gotten fed up of writing boilerplate code for managing Ajax calls, and this is the manager class I've come up with&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The concept is that it standardizes the interface for RESTful calls, prevents duplicate calls from firing via a request key, also simplifies waiting for a call to complete.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function AjaxManager() {&#xA;    this.processes = {};&#xA;&#xA;    this.ajax = (label, uri, settings, success, fail) =&amp;gt; {&#xA;        console.log({&#xA;            ajax: {&#xA;                label,&#xA;                uri,&#xA;                settings&#xA;            }&#xA;        });&#xA;        this.abort(label);&#xA;        this.processes[label] = $.ajax(&#xA;            uri,&#xA;            settings&#xA;        ).done((response) =&amp;gt; {&#xA;            console.log({&#xA;                label,&#xA;                success: &quot;success&quot;,&#xA;                response&#xA;            });&#xA;            if (success) {&#xA;                success(response);&#xA;            }&#xA;        }).fail((response) =&amp;gt; {&#xA;            console.log({&#xA;                label,&#xA;                success: &quot;fail&quot;,&#xA;                response&#xA;            });&#xA;            if (fail) {&#xA;                fail(response);&#xA;            }&#xA;        }).always(() =&amp;gt; {&#xA;            console.log(&quot;cleanup &quot; + label);&#xA;            this.processes[label] = null;&#xA;        });&#xA;    }&#xA;    this.post = (label, uri, data, success, fail) =&amp;gt; {&#xA;        this.ajax(label, uri, {&#xA;            method: &quot;POST&quot;,&#xA;            data: data&#xA;        }, success, fail);&#xA;    }&#xA;    this.get = (label, uri, data, success, fail) =&amp;gt; {&#xA;        this.ajax(label, uri, {&#xA;            method: &quot;GET&quot;,&#xA;            data: data&#xA;        }, success, fail);&#xA;    }&#xA;    this.put = (label, uri, data, success, fail) =&amp;gt; {&#xA;        this.ajax(label, uri, {&#xA;            method: &quot;PUT&quot;,&#xA;            data: JSON.stringify(data),&#xA;            contentType: &quot;application/json&quot;,&#xA;            dataType: &quot;json&quot;,&#xA;&#xA;        }, success, fail);&#xA;    }&#xA;    this.delete = (label, uri, data, success, fail) =&amp;gt; {&#xA;        this.ajax(label, uri, {&#xA;            method: &quot;DELETE&quot;,&#xA;            data: data&#xA;        }, success, fail);&#xA;    }&#xA;    this.wait = (label, callback) =&amp;gt; {&#xA;        if (this.processes[label]) {&#xA;            this.processes[label].then(callback);&#xA;        } else {&#xA;            callback();&#xA;        }&#xA;    }&#xA;    this.abort = (label) =&amp;gt; {&#xA;        if (this.processes[label]) {&#xA;            this.processes[label].abort();&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It looks to be working correctly but I wondered if you guys could give it a once over and check for anything I've missed that needs improving or fixing.&lt;/p&gt;&#xA;"" OwnerUserId=""109688"" LastEditorUserId=""22222"" LastEditDate=""2018-04-28T00:50:09.050"" LastActivityDate=""2018-11-24T06:01:50.340"" Title=""Managing Ajax calls"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""204152"" PostTypeId=""1"" AcceptedAnswerId=""204155"" CreationDate=""2018-09-21T19:25:49.907"" Score=""0"" ViewCount=""1594"" Body=""&lt;p&gt;In my web application, a user will click a button which will call a function that triggers an AJAX call.  That function accepts a single argument.  I would like to be able to put that function in place of the anonymous function in the jQuery event handler.  I suspect that this is a scoping issue...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is my working code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(function () {&#xA; 'use strict';&#xA;&#xA;  var postId;&#xA;&#xA;  function userAddFlagToPost (userId) {&#xA;    return $.ajax({&#xA;      type: 'POST',&#xA;      timeout: 1000 * 3;,&#xA;      url: '/someApi/postId',&#xA;      data: {&#xA;        userId: userId&#xA;      },&#xA;    }).done(onFlagSubmitDone)&#xA;      .fail(onFlagSubmitDone);&#xA;  }&#xA;&#xA;  function onLoggedIn() {&#xA;    var userId = getCookie('some_user_auth') || null;&#xA;&#xA;    $(SELECTORS.POST_FLAG).on('click', function() {&#xA;      postId = $(this).data('postId');&#xA;    });&#xA;&#xA;    $(SELECTORS.SUBMIT_BUTTON).on('click', function() {&#xA;      userAddFlagToPost(userId);&#xA;    });&#xA;  }&#xA;&#xA;  function init() {&#xA;    eventQ.register(onLoggedIn);&#xA;  }&#xA;&#xA;  init();&#xA;})();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I would like to be able to do:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(SELECTORS.SUBMIT_BUTTON).on('click', userAddFlagToPost(userId));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'd appreciate any info or advice on how to go about refactoring this code, thanks! &lt;/p&gt;&#xA;"" OwnerUserId=""156287"" LastEditorUserId=""120114"" LastEditDate=""2018-09-21T19:37:56.887"" LastActivityDate=""2018-09-24T22:49:02.400"" Title=""pass argument to jQuery .on() event handler callback"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;callback&gt;"" AnswerCount=""1"" CommentCount=""5"" ClosedDate=""2018-09-23T20:04:43.460"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""209576"" PostTypeId=""1"" AcceptedAnswerId=""209639"" CreationDate=""2018-12-13T01:24:30.730"" Score=""3"" ViewCount=""73"" Body=""&lt;p&gt;I created a graph to show the change in the percentage of questions answered over time. &lt;a href=&quot;https://codereview.stackexchange.com/q/196439/120114&quot;&gt;The first version&lt;/a&gt; fetched data from chat transcripts using PHP. The sub-domain I have registered for my webspace doesn't offer support for HTTPS so the calls to &lt;code&gt;file_get_contents()&lt;/code&gt; would fail when run there. Because of this, I started looking at alternatives.&lt;/p&gt;&#xA;&lt;p&gt;I looked at using other scripting languages and found that Github offered &lt;a href=&quot;https://pages.github.com/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Github pages&lt;/a&gt; and noted that it was secure but didn't allow any server-side scripting. So tried using client-side JavaScript with the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;fetch&lt;/code&gt; API&lt;/a&gt;. Initially there were CORS issues and after a little research I found &lt;a href=&quot;https://medium.com/netscape/hacking-it-out-when-cors-wont-let-you-be-great-35f6206cc646&quot; rel=&quot;nofollow noreferrer&quot;&gt;this post&lt;/a&gt;, which mentioned a Heroku page that would act as a proxy. I used the proxy to get the data, and I have been interested in the new ES-8 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function&quot; rel=&quot;nofollow noreferrer&quot;&gt;async functions&lt;/a&gt; and the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;await&lt;/code&gt;&lt;/a&gt; operator so I utilized those.&lt;/p&gt;&#xA;&lt;p&gt;How does the code look? What would you change about it?&lt;/p&gt;&#xA;&lt;p&gt;Can you help make the chart results go up by providing a good answer? Also- remember to vote on any answer that is helpful.&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;const url = 'https://chat.stackexchange.com/search?q=%22RELOAD!+There+are%22&amp;amp;user=125580&amp;amp;room=8595&amp;amp;pagesize=150';&#xA;const pUrl = 'https://cors-escape.herokuapp.com/' + url;&#xA;const chartOptions = {&#xA;  title: {&#xA;    display: true,&#xA;    text: 'Answered percentage in recent months'&#xA;  },&#xA;  scales: {&#xA;    xAxes: [{&#xA;      display: true,&#xA;      scaleLabel: {&#xA;        display: true,&#xA;        labelString: 'Date'&#xA;      }&#xA;    }],&#xA;    yAxes: [{&#xA;      display: true,&#xA;      scaleLabel: {&#xA;        display: true,&#xA;        labelString: 'Percentage'&#xA;      }&#xA;    }]&#xA;  }&#xA;};&#xA;const dataset = {&#xA;  label: 'Answered Percentage',&#xA;  backgroundColor: window.chartColors.red,&#xA;  borderColor: window.chartColors.red,&#xA;  fill: false&#xA;};&#xA;&#xA;async function getGraphData() {&#xA;  const loadingImage = document.getElementById('loading');&#xA;  try {&#xA;    const response = await fetch(pUrl);&#xA;    const container = document.createElement('div');&#xA;    container.innerHTML = await response.text();&#xA;    const timestamps = container.getElementsByClassName('timestamp');&#xA;    const contents = container.getElementsByClassName('content');&#xA;&#xA;    const labels = [],&#xA;      data = [];&#xA;    if (contents.length === timestamps.length) {&#xA;      let i = 0;&#xA;      for (contentElement of contents) {&#xA;        const matches = contentElement.innerHTML.match(/\d{2}.\d{4}/);&#xA;        if (matches.length) {&#xA;          data.unshift(matches[0]);&#xA;          labels.unshift(timestamps[i++].innerHTML);&#xA;        }&#xA;      }&#xA;      if (data.length) {&#xA;        loadingImage.style.display = 'none';&#xA;        drawChart(data, labels);&#xA;      }&#xA;    }&#xA;  } catch (err) {&#xA;    loadingImage.parentNode.innerHTML = 'Error loading data';&#xA;  }&#xA;}&#xA;&#xA;document.addEventListener('DOMContentLoaded', getGraphData)&#xA;const drawChart = (data, labels) =&amp;gt; {&#xA;  Chart.defaults.global.legend.display = false;&#xA;  const config = {&#xA;    type: 'line',&#xA;    data: {&#xA;      labels,&#xA;      datasets: [Object.assign(dataset, {data})]&#xA;    },&#xA;    options: chartOptions&#xA;  };&#xA;  const ctx = document.getElementById('canvas').getContext('2d');&#xA;  window.myLine = new Chart(ctx, config);&#xA;};&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;h1 {&#xA;  font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;//www.chartjs.org/dist/2.7.2/Chart.bundle.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;//www.chartjs.org/samples/latest/utils.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;h1&amp;gt;&#xA;  Graph of Answered Question Percentage on Code Review SE&#xA;&amp;lt;/h1&amp;gt;&#xA;&amp;lt;div style=&quot;width:75%;&quot;&amp;gt;&#xA;  &amp;lt;canvas id=&quot;canvas&quot;&amp;gt;&amp;lt;/canvas&amp;gt;&#xA;  &amp;lt;img src=&quot;https://loading.io/spinners/bars/index.progress-bar-facebook-loader.gif&quot; id=&quot;loading&quot; /&amp;gt;&#xA;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""120114"" LastEditorUserId=""120114"" LastEditDate=""2023-05-22T15:36:32.857"" LastActivityDate=""2023-05-22T15:36:32.857"" Title=""Chart of answered CR posts percentages over time - Part 2"" Tags=""&lt;javascript&gt;&lt;html5&gt;&lt;ajax&gt;&lt;async-await&gt;&lt;ecmascript-8&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""216170"" PostTypeId=""1"" CreationDate=""2019-03-25T14:54:21.213"" Score=""2"" ViewCount=""1460"" Body=""&lt;p&gt;I've implemented a self-organising map in Tensorflow's low-level API. After testing with sklearn's Iris data, the results seem correct. I did implement the algorithm also using NumPy before converting it to &lt;code&gt;tf&lt;/code&gt;, because I'm new to Tensorflow, and had no idea whether it would work or not. So of course I tried out which would perform better. It turns out the Numpy implementation is far better for a smallish-scale problem.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To me this sounds a bit off. When loading a data set of ~3500x10 to GPU memory and carrying out basically the exact same algorithm with all-tf operations, I was at least expecting some sort of improvement with matrix-matrix broadcasted sums, multiplications and powers.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As I said, I have little experience with Tensorflow, so I started wondering if something is wrong with the code. The result seems good enough, but I'm not aware of many best practices or performance caveats. I'm especially after performance and TF-related feedback, but of course I'll happily take any criticism on my code!&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import numpy as np&#xA;import tensorflow as tf&#xA;&#xA;from tqdm import tqdm&#xA;&#xA;&#xA;def learning_rate(epoch: tf.placeholder, max_epochs: int):&#xA;    with tf.name_scope('learning_rate'):&#xA;        return tf.exp(-4 * epoch / max_epochs)&#xA;&#xA;&#xA;def neighbourhood(r: tf.placeholder, epoch: tf.placeholder, max_epochs: int, size: int):&#xA;    with tf.name_scope('neighbourhood'):&#xA;        return tf.exp(&#xA;            - (2 * r / size) ** 2&#xA;            * (max_epochs / (max_epochs - epoch)) ** 3&#xA;        )&#xA;&#xA;&#xA;class SelfOrganisingMap:&#xA;    def __init__(self, shape: tuple, features: int, *_,&#xA;                 max_epochs: int = None, init: str = 'uniform', learning_rate: float = 0.1):&#xA;        &quot;&quot;&quot;&#xA;        Self-organising map using TensorFlow.&#xA;&#xA;        :param shape: map dimensions&#xA;        :param features: number of input features&#xA;        :param _: used to force calling with keyword arguments below&#xA;        :param max_epochs: used to scale the neighbourhood and learning rate functions&#xA;        :param init: method of weight initialisation. 'uniform' for drawing from an uniform&#xA;            distribution between 0..1, 'normal' for drawing from X~N(0,1)&#xA;        :param learning_rate: initial learning rate multiplier&#xA;        &quot;&quot;&quot;&#xA;        self._weights = None&#xA;&#xA;        self._shape = shape&#xA;        self._features = features&#xA;        self._neighbour_shape = (len(shape),) + tuple(1 for _ in shape) + (-1,)&#xA;&#xA;        self._epochs = 0&#xA;        self._max_epochs = max_epochs&#xA;        self._initial_lr = learning_rate&#xA;&#xA;        if init == 'uniform':&#xA;            self._initialiser = tf.random_uniform_initializer&#xA;        elif init == 'normal':&#xA;            self._initialiser = tf.random_normal_initializer&#xA;        else:&#xA;            raise AssertionError('Unknown weights initialiser type &quot;%s&quot;!' % init)&#xA;&#xA;    @property&#xA;    def weights(self):&#xA;        if self._weights is None:&#xA;            raise ValueError('Map not fitted!')&#xA;        return self._weights&#xA;&#xA;    @property&#xA;    def initialiser(self):&#xA;        if self._weights is None:&#xA;            return self._initialiser&#xA;        else:&#xA;            return tf.convert_to_tensor(self._weights)&#xA;&#xA;    @property&#xA;    def shape(self): return self._shape&#xA;&#xA;    @property&#xA;    def n_nodes(self): return int(np.prod(self.shape))&#xA;&#xA;    @property&#xA;    def features(self): return self._features&#xA;&#xA;    @property&#xA;    def epochs(self): return self._epochs&#xA;&#xA;    @property&#xA;    def max_epochs(self): return self._max_epochs&#xA;&#xA;    def project(self, data: np.ndarray) -&amp;gt; np.array:&#xA;        &quot;&quot;&quot;&#xA;        Project data onto the map. NumPy implementation for simplicity.&#xA;&#xA;        :param data: samples&#xA;        :return: node indices&#xA;        &quot;&quot;&quot;&#xA;        diff = self.weights - data&#xA;        dist = np.sum(diff ** 2, axis=-1, keepdims=True)&#xA;        return np.array(np.unravel_index(&#xA;            np.argmin(dist.reshape((-1, data.shape[0])), axis=0), self.shape&#xA;        ))&#xA;&#xA;    def train(self, x: np.ndarray, epochs: int, batch_size: int = 1) -&amp;gt; None:&#xA;        &quot;&quot;&quot;&#xA;        Create training graph and train SOM.&#xA;&#xA;        :param x: training data&#xA;        :param epochs: number of epochs to train&#xA;        :param batch_size: number of training examples per step&#xA;        :return: None&#xA;        &quot;&quot;&quot;&#xA;        graph = tf.Graph()&#xA;        sess = tf.Session(graph=graph)&#xA;&#xA;        x = x.astype(np.float64)&#xA;&#xA;        if x.shape[0] % batch_size != 0:&#xA;            raise ValueError('Bad batch_size, last batch would be incomplete!')&#xA;&#xA;        # Construct graph&#xA;        with graph.as_default():&#xA;            indices = tf.convert_to_tensor(np.expand_dims(&#xA;                np.indices(self.shape, dtype=np.float64), axis=-1&#xA;            ))&#xA;            weights = tf.get_variable(&#xA;                'weights', (*self.shape, 1, self.features), initializer=self.initialiser, dtype=tf.float64&#xA;            )&#xA;&#xA;            with tf.name_scope('data'):&#xA;                data = tf.data.Dataset.from_tensor_slices(x)&#xA;                data = data.shuffle(buffer_size=10000).repeat(epochs)&#xA;                data = data.batch(batch_size, drop_remainder=True)&#xA;                data = data.make_one_shot_iterator().get_next()&#xA;&#xA;            with tf.name_scope('winner'):&#xA;                diff = weights - data&#xA;                dist = tf.reduce_sum(diff ** 2, axis=-1, keepdims=True)&#xA;                w_ix = tf.argmin(tf.reshape(dist, (self.n_nodes, data.shape[0])), axis=0)&#xA;                winner_op = tf.convert_to_tensor(tf.unravel_index(w_ix, self.shape))&#xA;&#xA;            with tf.name_scope('update'):&#xA;                curr_epoch = tf.placeholder(dtype=tf.int64, shape=())&#xA;&#xA;                idx_diff = indices - tf.reshape(tf.cast(&#xA;                    winner_op, dtype=tf.float64&#xA;                ), shape=self._neighbour_shape)&#xA;                idx_dist = tf.norm(idx_diff, axis=0)&#xA;&#xA;                l_rate = learning_rate(curr_epoch, self.max_epochs)&#xA;                n_hood = neighbourhood(&#xA;                    idx_dist, curr_epoch, self.max_epochs, max(self.shape)&#xA;                )&#xA;&#xA;                update = diff * l_rate * tf.expand_dims(n_hood, axis=-1)&#xA;                update_op = weights.assign(&#xA;                    weights - self._initial_lr * tf.reduce_sum(update, axis=-2, keepdims=True)&#xA;                )&#xA;&#xA;            init = tf.global_variables_initializer()&#xA;&#xA;        # Initialise all variables&#xA;        sess.run(init)&#xA;&#xA;        batches = int(np.ceil(x.shape[0] // batch_size))&#xA;        for i in tqdm(range(epochs)):&#xA;            for b in range(batches):&#xA;                sess.run(update_op, feed_dict={&#xA;                    curr_epoch: self.epochs + i&#xA;                })&#xA;&#xA;        self._weights = sess.run(weights)&#xA;        self._epochs += epochs&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here's a short test snippet as well:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;from sklearn.utils import shuffle&#xA;from sklearn.datasets import load_iris&#xA;from sklearn.preprocessing import RobustScaler&#xA;&#xA;a, _ = load_iris(True)&#xA;a, _ = shuffle(a, _)&#xA;a = RobustScaler().fit_transform(a)&#xA;&#xA;epochs = 100&#xA;som = SelfOrganisingMap((100, 100), 4, max_epochs=epochs, init='normal')&#xA;som.train(a, epochs, batch_size=1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""165539"" LastEditorUserId=""22222"" LastEditDate=""2019-04-21T04:14:58.550"" LastActivityDate=""2019-04-21T04:14:58.550"" Title=""Simple Self-Organizing Map (SOM) in Tensorflow"" Tags=""&lt;python&gt;&lt;performance&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""224908"" PostTypeId=""1"" CreationDate=""2019-07-25T15:39:22.927"" Score=""2"" ViewCount=""1947"" Body=""&lt;p&gt;here is a code of a simple contact form that I have created, I believe that the form is &lt;em&gt;server-side&lt;/em&gt; protected against empty fields, header injections, CSRF, XSS, bots using 'Google reCAPTCHA v3' and so on..&#xA;The call is done through AJAX..&#xA;I just wanted to share this code and I am open to any suggestions that can improve the security and the speed of the site..&#xA;also I wonder if there will be any extra useful meta tags to be used..&#xA;you can check the live site that I am working on  &lt;a href=&quot;https://www.rainbow-parenting.com&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you..&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;index.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php session_start(); ?&amp;gt;&#xA;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html lang=&quot;en&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;&amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;&amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&amp;gt;&#xA;&amp;lt;title&amp;gt;Rainbow Parenting&amp;lt;/title&amp;gt;&#xA;&#xA;&amp;lt;link rel=&quot;apple-touch-icon&quot; sizes=&quot;180x180&quot; href=&quot;icon/apple-touch-icon.png&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; href=&quot;icon/favicon-32x32.png&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;16x16&quot; href=&quot;icon/favicon-16x16.png&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;manifest&quot; href=&quot;icon/site.webmanifest&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;mask-icon&quot; href=&quot;icon/safari-pinned-tab.svg&quot; color=&quot;#5bbad5&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#da532c&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&amp;gt;&#xA;&#xA;&amp;lt;meta name=&quot;keywords&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;description&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;subject&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;robots&quot; content=&quot;index, follow&quot;/&amp;gt;&#xA;&amp;lt;meta name=&quot;author&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;canonical&quot; href=&quot;https://www.rainbow-parenting.com&quot;&amp;gt;&#xA;&amp;lt;meta property=&quot;og:locale&quot; content=&quot;en_US&quot; /&amp;gt;&#xA;&amp;lt;meta property=&quot;og:type&quot; content=&quot;website&quot;&amp;gt;&#xA;&amp;lt;meta property=&quot;og:url&quot; content=&quot;https://www.rainbow-parenting.com&quot;&amp;gt;&#xA;&amp;lt;meta property=&quot;og:title&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;meta property=&quot;og:description&quot; content=&quot;...&quot;&amp;gt;&#xA;&amp;lt;meta property=&quot;og:image&quot; content=&quot;https://www.rainbow-parenting.com/img/logo-temp.png&quot;&amp;gt;&#xA;&#xA;&amp;lt;!-- Latest compiled and minified CSS --&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&#xA;&amp;lt;!-- Theme style  --&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/style-temp.min.css&quot;&amp;gt;&#xA;&amp;lt;!-- Normalize --&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css&quot; &amp;gt;&#xA;&amp;lt;!-- Animations  --&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css&quot;&amp;gt;&#xA;&amp;lt;!-- Font Awesome --&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css&quot;&amp;gt;&#xA;&amp;lt;!-- Google Fonts --&amp;gt;&#xA;&amp;lt;link href=&quot;https://fonts.googleapis.com/css?family=Notable&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&amp;lt;link href=&quot;https://fonts.googleapis.com/css?family=Mali&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;&#xA;&amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;&amp;lt;div class=&quot;row text-center&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;col&quot;&amp;gt;&#xA;        &amp;lt;img class=&quot;animated bounce shake&quot; alt=&quot;Logo&quot; src=&quot;img/logo-temp.png&quot; width=&quot;150&quot; height=&quot;auto&quot;&amp;gt;&#xA;            &amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&#xA;                &amp;lt;h1 class=&quot;animated bounce infinite&quot;&amp;gt;COMING SOON!!&amp;lt;/h1&amp;gt;&#xA;                &amp;lt;h2 class=&quot;animated flipInX&quot;&amp;gt;We will be launching our new website in:&amp;lt;/h2&amp;gt;&#xA;                &amp;lt;div class=&quot;simply-countdown simply-countdown-one animated rollIn&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                &amp;lt;h3 class=&quot;animated flash&quot;&amp;gt;in the meanwhile you can still contact us by clicking the button below&amp;lt;/h3&amp;gt;  &#xA;            &amp;lt;/div&amp;gt;  &#xA;            &amp;lt;div class=&quot;text-center animated jello&quot;&amp;gt;&#xA;                &amp;lt;button class=&quot;button-temp button-temp1&quot; id=&quot;btn-show-modal&quot; data-toggle=&quot;modal&quot; data-target=&quot;#modalContactForm&quot;&amp;gt;Contact Us&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;  &#xA;&amp;lt;/div&amp;gt;  &#xA;&amp;lt;div class=&quot;modal fade&quot; id=&quot;modalContactForm&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;myModalLabel&quot; aria-hidden=&quot;true&quot;&amp;gt;&#xA;&amp;lt;div class=&quot;modal-dialog modal-dialog-centered&quot; role=&quot;document&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-body&quot;&amp;gt;    &#xA;            &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&amp;lt;span aria-hidden=&quot;true&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;br&amp;gt;&#xA;            &amp;lt;form id=&quot;contactForm&quot; name=&quot;sentMessage&quot; novalidate=&quot;novalidate&quot; method=&quot;post&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;control-group&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-user big-icon&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;fieldset&amp;gt;&#xA;                            &amp;lt;input class=&quot;modal-input&quot; type=&quot;text&quot; id=&quot;name&quot; placeholder=&quot; &quot; tabindex=&quot;1&quot; required=&quot;required&quot; data-validation-required-message=&quot;• Please enter your name.&quot;  minlength=&quot;5&quot; maxlength=&quot;20&quot; pattern=&quot;[A-Za-z ]+&quot; data-validation-pattern-message=&quot;Only letters &amp;amp; whiteapces.&quot;&amp;gt;&#xA;                            &amp;lt;span class=&quot;inputup&quot;&amp;gt;Your Name:&amp;lt;/span&amp;gt;&#xA;                        &amp;lt;/fieldset&amp;gt;&amp;lt;p class=&quot;help-block text-danger&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;control-group&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-envelope big-icon&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;fieldset&amp;gt;&#xA;                            &amp;lt;input class=&quot;modal-input&quot; type=&quot;email&quot; id=&quot;email&quot; placeholder=&quot; &quot; tabindex=&quot;2&quot; required=&quot;required&quot; data-validation-required-message=&quot;• Please enter your email address.&quot;&amp;gt;&#xA;                            &amp;lt;span class=&quot;inputup&quot;&amp;gt;Your Email:&amp;lt;/span&amp;gt;&#xA;                        &amp;lt;/fieldset&amp;gt;&amp;lt;p class=&quot;help-block text-danger&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;control-group&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-phone big-icon&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;fieldset&amp;gt;&#xA;                            &amp;lt;input class=&quot;modal-input&quot; type=&quot;tel&quot; id=&quot;phone&quot; placeholder=&quot; &quot; tabindex=&quot;3&quot; required=&quot;required&quot; data-validation-required-message=&quot;• Please enter your phone number.&quot; maxlength=&quot;10&quot; minlength=&quot;9&quot; pattern=&quot;[0-9]+&quot; data-validation-pattern-message=&quot;Only numbers.&quot;&amp;gt;&#xA;                            &amp;lt;span class=&quot;inputup&quot;&amp;gt;Your Phone:&amp;lt;/span&amp;gt;&#xA;                        &amp;lt;/fieldset&amp;gt;&amp;lt;p class=&quot;help-block text-danger text-center&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;control-group&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-pencil-alt big-icon align-top&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;fieldset&amp;gt;&#xA;                            &amp;lt;textarea class=&quot;modal-input&quot; id=&quot;message&quot; placeholder=&quot; &quot; tabindex=&quot;4&quot; required=&quot;required&quot; data-validation-required-message=&quot;• Please enter a message.&quot; minlength=&quot;20&quot; maxlength=&quot;1000&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                            &amp;lt;span class=&quot;inputup&quot;&amp;gt;Type Your Message Here:&amp;lt;/span&amp;gt;&#xA;                        &amp;lt;/fieldset&amp;gt;&amp;lt;p class=&quot;help-block text-danger text-center&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;?php&#xA;                if (empty($_SESSION['key']))&#xA;                    $_SESSION['key'] = bin2hex(random_bytes(32));&#xA;                //create CSRF Token&#xA;                $_SESSION['sec'] = hash_hmac('sha256', 'hi there : index.php', $_SESSION['key']);&#xA;                ?&amp;gt;&#xA;                &amp;lt;input type=&quot;hidden&quot; id=&quot;token&quot; value=&quot;&amp;lt;?=$_SESSION['sec']?&amp;gt;&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;control-group&quot;&amp;gt;&#xA;                        &amp;lt;button id=&quot;sendMessageButton&quot; class=&quot;button-temp button-temp2&quot; type=&quot;submit&quot; name=&quot;submit&quot; tabindex=&quot;5&quot; data-submit=&quot;...Sending&quot;&amp;gt;Send &amp;lt;i class=&quot;fas fa-paper-plane&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;/button&amp;gt;&#xA;                        &amp;lt;div id=&quot;success&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;input type=&quot;hidden&quot; id=&quot;g-recaptcha-response&quot; name=&quot;g-recaptcha-response&quot;&amp;gt;&#xA;            &amp;lt;/form&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-footer justify-content-center&quot;&amp;gt;&#xA;            &amp;lt;button class=&quot;button-temp button-temp3&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&amp;gt;close&amp;lt;/button&amp;gt;             &#xA;        &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;!-- jQuery library --&amp;gt;&#xA;&amp;lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot; integrity=&quot;sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;!-- Popper JS --&amp;gt;&#xA;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js&quot; integrity=&quot;sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;!-- Latest compiled JavaScript --&amp;gt;&#xA;&amp;lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;!-- jqBootstrapValidation --&amp;gt;&#xA;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jqBootstrapValidation/1.3.6/jqBootstrapValidation.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;script src=&quot;js/temp-contact_me.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;$(function(){&#xA;$('#modalContactForm').on('shown.bs.modal', function () {&#xA;  $('#name').focus()&#xA;});&#xA;});&#xA;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;script src=&quot;https://www.google.com/recaptcha/api.js?render=...&quot; data-cfasync=&quot;false&quot; async defer&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script data-cfasync=&quot;false&quot; async defer&amp;gt;&#xA; grecaptcha.ready(function() {&#xA;  grecaptcha.execute('...', {&#xA;    action: 'homepage'}).then(function(token) {&#xA;     //console.log(token);&#xA;     // add token value to form&#xA;     document.getElementById('g-recaptcha-response').value = token;&#xA;  });&#xA;});&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;temp-contact_me.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;$(&quot;#contactForm input,#contactForm textarea&quot;).jqBootstrapValidation({&#xA;preventSubmit: true,&#xA;submitError: function($form, event, errors) {&#xA;  //alert('There was some error performing the AJAX call!');&#xA;  // additional error messages or events&#xA;},&#xA;submitSuccess: function($form, event) {&#xA;  event.preventDefault(); // prevent default submit behaviour&#xA;&#xA;  // get values from FORM&#xA;  var name = $(&quot;input#name&quot;).val();&#xA;  var email = $(&quot;input#email&quot;).val();&#xA;  var phone = $(&quot;input#phone&quot;).val();&#xA;  var message = $(&quot;textarea#message&quot;).val();&#xA;  var token = $(&quot;input#token&quot;).val();&#xA;  var captcha = $(&quot;input#g-recaptcha-response&quot;).val();&#xA;  var firstName = name; // For Success/Failure Message&#xA;  // Check for white space in name for Success/Fail message&#xA;  if (firstName.indexOf(' ') &amp;gt;= 0) {&#xA;    firstName = name.split(' ').slice(0, -1).join(' ');&#xA;  }&#xA;  $this = $(&quot;#sendMessageButton&quot;);&#xA;  $this.prop(&quot;disabled&quot;, true); // Disable submit button until AJAX call is complete to prevent duplicate messages&#xA;  $.ajax({&#xA;    url: &quot;././mail/temp-contact_me.php&quot;,&#xA;    type: &quot;POST&quot;,&#xA;    data: {&#xA;      name: name,&#xA;      phone: phone,&#xA;      email: email,&#xA;      token: token,&#xA;      captcha: captcha,&#xA;      message: message&#xA;    },&#xA;    cache: false,&#xA;    success: function(data) {&#xA;      console.log(data)&#xA;      // Success message&#xA;      $('#success').html(&quot;&amp;lt;div class='alert alert-success'&amp;gt;&quot;);&#xA;      $('#success &amp;gt; .alert-success').html(&quot;&amp;lt;button type='button' class='close' data-dismiss='alert' aria-hidden='true'&amp;gt;&amp;amp;times;&quot;)&#xA;        .append(&quot;&amp;lt;/button&amp;gt;&quot;);&#xA;      $('#success &amp;gt; .alert-success')&#xA;        .append(&quot;&amp;lt;strong&amp;gt;Your message has been sent. &amp;lt;/strong&amp;gt;&quot;);&#xA;      $('#success &amp;gt; .alert-success')&#xA;        .append('&amp;lt;/div&amp;gt;');&#xA;      //clear all fields&#xA;      $('#contactForm').trigger(&quot;reset&quot;);&#xA;    },&#xA;    error: function() {&#xA;      // Fail message&#xA;      $('#success').html(&quot;&amp;lt;div class='alert alert-danger'&amp;gt;&quot;);&#xA;      $('#success &amp;gt; .alert-danger').html(&quot;&amp;lt;button type='button' class='close' data-dismiss='alert' aria-hidden='true'&amp;gt;&amp;amp;times;&quot;)&#xA;        .append(&quot;&amp;lt;/button&amp;gt;&quot;);&#xA;      $('#success &amp;gt; .alert-danger').append($(&quot;&amp;lt;strong&amp;gt;&quot;).text(&quot;Sorry &quot; + firstName + &quot;, it seems that my mail server is not responding. Please try again later!&quot;));&#xA;      $('#success &amp;gt; .alert-danger').append('&amp;lt;/div&amp;gt;');&#xA;      //clear all fields&#xA;      $('#contactForm').trigger(&quot;reset&quot;);&#xA;    },&#xA;    complete: function() {&#xA;      setTimeout(function() {&#xA;        $this.prop(&quot;disabled&quot;, false); // Re-enable submit button when AJAX call is complete&#xA;      }, 1000);&#xA;    }&#xA;  });&#xA;},&#xA;filter: function() {&#xA;  return $(this).is(&quot;:visible&quot;);&#xA;},&#xA;});&#xA;&#xA;$(&quot;a[data-toggle=\&quot;tab\&quot;]&quot;).click(function(e) {&#xA;e.preventDefault();&#xA;$(this).tab(&quot;show&quot;);&#xA;});&#xA;});&#xA;&#xA;/*When clicking on Full hide fail/success boxes */&#xA;$('#name').focus(function() {&#xA;$('#success').html('');&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;temp-contact_me.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;session_start();&#xA;// Only process POST reqeusts.&#xA;if ($_SERVER[&quot;REQUEST_METHOD&quot;] === &quot;POST&quot;) {&#xA;    // Build POST request:&#xA;    $recaptcha_url = 'https://www.google.com/recaptcha/api/siteverify';&#xA;    $recaptcha_secret = '...';&#xA;    $recaptcha_ip = $_SERVER['REMOTE_ADDR'];&#xA;    $recaptcha_response = $_POST['captcha'];&#xA;&#xA;    // Make and decode POST request&#xA;    $recaptcha = file_get_contents($recaptcha_url . '?secret=' . $recaptcha_secret . '&amp;amp;response=' . $recaptcha_response . '&amp;amp;remoteip=' . $recaptcha_ip);&#xA;    $recaptcha = json_decode($recaptcha);&#xA;    if($recaptcha-&amp;gt;success==true) {&#xA;        // Take action based on the score returned:&#xA;        if ($recaptcha-&amp;gt;score &amp;gt;= 0.5) {&#xA;            print_r(&quot;Verified - email sent&quot;); // Verified - send email&#xA;            //validate Token&#xA;            if (hash_equals($_SESSION['sec'], $_POST['token'])) {&#xA;                // Check for empty fields&#xA;                if(empty($_POST['name']) || empty($_POST['email']) || empty($_POST['phone']) || empty($_POST['message']) &#xA;                    || !filter_var($_POST['email'], FILTER_VALIDATE_EMAIL)) {&#xA;                    echo &quot;No arguments Provided!&quot;;&#xA;                    return false;&#xA;                } else {&#xA;&#xA;                    //sanitizing entries&#xA;                    function cleanInputs ($data)&#xA;                    {&#xA;                        trim($data);&#xA;                        strip_tags($data);&#xA;                        stripslashes($data);&#xA;                        htmlspecialchars($data);&#xA;                        htmlentities($data, ENT_QUOTES, 'UTF-8');&#xA;                        return ($data);&#xA;                    }&#xA;&#xA;                    $name = cleanInputs($_POST['name']);&#xA;                    $email_address = cleanInputs($_POST['email']);&#xA;                    $phone = cleanInputs($_POST['phone']);&#xA;                    $message = cleanInputs($_POST['message']);&#xA;&#xA;                    //check for header injections&#xA;                    function has_header_inject ($str)&#xA;                    {&#xA;                        return preg_match (&quot;/[\r\n]/&quot;, $str );&#xA;                    }&#xA;&#xA;                    if (has_header_inject($name) || has_header_inject($email_address) || has_header_inject($phone) || has_header_inject($message)) {&#xA;                        die (); //if true, kill the process-script&#xA;                    } else {&#xA;&#xA;                        $to = '...';&#xA;                        $subject = 'Website Message From: ' .$name;&#xA;                        $headers =  'MIME-Version: 1.0' . &quot;\r\n&quot; .&#xA;                            'Content-type:text/html; charset=UTF-8' . &quot;\r\n&quot; .&#xA;                            'From: ' . $email_address . &quot;\r\n&quot; .&#xA;                            'Reply-To: ' . $email_address . &quot;\r\n&quot; .&#xA;                            'X-Priority: 2' . &quot;\r\n&quot; . //(values: 1 to 5- from the highest to lowest)&#xA;                            'MSMail-Priority: Normal' . &quot;\r\n&quot; . //(values: High, Normal, or Low)&#xA;                            'Importance: Normal' . &quot;\r\n&quot; . //(values: High, Normal, or Low)&#xA;                            'X-Mailer: PHP/' . phpversion();&#xA;&#xA;                        $message = wordwrap($message, 80, '&amp;lt;br/&amp;gt;', true);&#xA;&#xA;                        $email_body = &quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&#xA;                        You have received a new message, here are the details:&amp;lt;br/&amp;gt;&amp;lt;br&amp;gt;&#xA;                        &amp;lt;table rules='all' style='border-color: #666;' cellpadding='10'&amp;gt;&#xA;                        &amp;lt;tr style='letter-spacing:0.7px; color: white;'&amp;gt;        &#xA;                        &amp;lt;td style='background: #18648F;'&amp;gt;&amp;lt;b&amp;gt;Name:&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td style='background: #23A895;'&amp;gt;&quot; . $name . &quot;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr style='letter-spacing:0.7px; color: white;'&amp;gt;&#xA;                        &amp;lt;td style='background: #18648F;'&amp;gt;&amp;lt;b&amp;gt;Email:&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td style='background: #23A895;'&amp;gt;&quot; . $email_address . &quot;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr style='letter-spacing:0.7px; color: white;'&amp;gt;&#xA;                        &amp;lt;td style='background: #18648F;'&amp;gt;&amp;lt;b&amp;gt;Phone:&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td style='background: #23A895;'&amp;gt;&quot; . $phone . &quot;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr style='letter-spacing:0.7px; color: white;'&amp;gt;&#xA;                        &amp;lt;td style='background: #18648F;'&amp;gt;&amp;lt;b&amp;gt;Message:&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td style='background: #23A895;'&amp;gt;&quot; . $message . &quot;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;/table&amp;gt;&#xA;                        &amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;;&#xA;&#xA;                        // Send the email.&#xA;                        if (mail($to, $subject, $email_body, $headers)) {                               &#xA;                            http_response_code(200); // Set a 200 (okay) response code.&#xA;                            echo &quot;Thank You! Your message has been sent.&quot;;&#xA;                            session_destroy();&#xA;                        } else {                                &#xA;                            http_response_code(500); // Set a 500 (internal server error) response code.&#xA;                            echo &quot;Oops! Something went wrong and we couldn't send your message.&quot;;&#xA;                            die ();&#xA;                        }&#xA;                    }&#xA;                }&#xA;&#xA;            } else {&#xA;                echo &quot;CSRF Token Failed!!&quot;;&#xA;                die ();&#xA;            }            &#xA;&#xA;        } else {&#xA;                print_r(&quot;Not verified - show form error&quot;); // Not verified - show form error&#xA;                exit;&#xA;        }&#xA;&#xA;    } else { // there is an error, timeout-or-duplicate meaning you are submit the form&#xA;            print_r($recaptcha);&#xA;            exit;&#xA;    }&#xA;} else {&#xA;    // Not a POST request, set a 403 (forbidden) response code.&#xA;    http_response_code(403);&#xA;    echo &quot;There was a problem with your submission, please try again.&quot;;&#xA;    die ();&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""205405"" LastEditorUserId=""205405"" LastEditDate=""2019-07-25T19:40:36.517"" LastActivityDate=""2023-04-27T20:31:48.997"" Title=""Contact form with AJAX call and secured PHP with Google reCAPTCHA v3"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;&lt;captcha&gt;"" AnswerCount=""0"" CommentCount=""0"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""237586"" PostTypeId=""1"" CreationDate=""2020-02-19T20:54:01.770"" Score=""3"" ViewCount=""62"" Body=""&lt;p&gt;I am trying to implement &lt;a href=&quot;https://arxiv.org/pdf/1712.04604&quot; rel=&quot;nofollow noreferrer&quot;&gt;Deep Quaternion Networks&lt;/a&gt;. I was able to implement the batch normalization technique. But it requires a lot of GPU memory. Is there any way I can optimize the code provided below?&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-py prettyprint-override&quot;&gt;&lt;code&gt; class MyQuaternionBatchNorm2d(torch.nn.Module):&#xA;    def __init__(self, num_features, eps=1e-5, momentum=0.1, affine=True, track_running_stats=True):&#xA;        super(MyQuaternionBatchNorm2d, self).__init__()&#xA;        self.num_features = num_features&#xA;        self.qnum_features = num_features//4&#xA;        self.eps = eps&#xA;        self.momentum = momentum&#xA;        self.affine = affine&#xA;        self.track_running_stats = track_running_stats&#xA;        &#xA;        if self.affine:&#xA;            self.weight = torch.nn.Parameter(torch.Tensor(self.qnum_features, 10))&#xA;            self.bias = torch.nn.Parameter(torch.Tensor(num_features))&#xA;        else:&#xA;            self.register_parameter('weight', None)&#xA;            self.register_parameter('bias', None)&#xA;            &#xA;        if self.track_running_stats:&#xA;            self.register_buffer('running_mean', torch.zeros(self.qnum_features,4))&#xA;            self.register_buffer('running_covar', torch.zeros(self.qnum_features,10))&#xA;            self.running_covar[:,0] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,1] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,2] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,3] = 1/ np.sqrt(4)&#xA;            self.register_buffer('num_batches_tracked', torch.tensor(0, dtype=torch.long))&#xA;        else:&#xA;            self.register_buffer('running_mean',None)&#xA;            self.register_buffer('running_covar', None)&#xA;            self.register_parameter('num_batches_tracked', None)&#xA;        self.reset_parameters()&#xA;        &#xA;    def reset_running_stats(self):&#xA;        if self.track_running_stats:&#xA;            self.running_mean.zero_()&#xA;            self.running_covar.zero_()&#xA;            self.running_covar[:,0] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,1] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,2] = 1/ np.sqrt(4)&#xA;            self.running_covar[:,3] = 1/ np.sqrt(4)&#xA;            self.num_batches_tracked.zero_()&#xA;&#xA;    def reset_parameters(self):&#xA;        self.reset_running_stats()&#xA;        &#xA;        if self.affine:&#xA;            torch.nn.init.zeros_(self.weight)&#xA;            torch.nn.init.constant_(self.weight[:,0], 1/ np.sqrt(4))&#xA;            torch.nn.init.constant_(self.weight[:,4], 1/ np.sqrt(4))&#xA;            torch.nn.init.constant_(self.weight[:,7], 1/ np.sqrt(4))&#xA;            torch.nn.init.constant_(self.weight[:,9], 1/ np.sqrt(4))&#xA;            torch.nn.init.zeros_(self.bias)&#xA;            &#xA;    def _check_input_dim(self, input):&#xA;        if input.dim() != 4:&#xA;            raise ValueError('expected 4D input (got {}D input)'&#xA;                             .format(input.dim()))&#xA;    &#xA;    @staticmethod&#xA;    def _decomposition_v1(r,i,j,k,Vrr, Vri, Vrj, Vrk, Vii, Vij, Vik, Vjj, Vjk, Vkk):&#xA;        Wrr = torch.sqrt(Vrr)&#xA;        Wri = (1.0 / Wrr) * (Vri)&#xA;        Wii = torch.sqrt((Vii - (Wri.pow(2))))&#xA;        Wrj = (1.0 / Wrr) * (Vrj)&#xA;        Wij = (1.0 / Wii) * (Vij - (Wri*Wrj))&#xA;        Wjj = torch.sqrt((Vjj - (Wij.pow(2) + Wrj.pow(2))))&#xA;        Wrk = (1.0 / Wrr) * (Vrk)&#xA;        Wik = (1.0 / Wii) * (Vik - (Wri*Wrk))&#xA;        Wjk = (1.0 / Wjj) * (Vjk - (Wij*Wik + Wrj*Wrk))&#xA;        Wkk = torch.sqrt((Vkk - (Wjk.pow(2) + Wik.pow(2) + Wrk.pow(2))))&#xA;        &#xA;        cat_W_1 = torch.cat([Wrr, Wri, Wrj, Wrk])&#xA;        cat_W_2 = torch.cat([Wri,Wii, Wij, Wik])&#xA;        cat_W_3 = torch.cat([Wrj, Wij, Wjj, Wjk])&#xA;        cat_W_4 = torch.cat([Wrk, Wik, Wjk, Wkk])&#xA;        &#xA;        output =  cat_W_1[None,:,None,None]  *  r.repeat(1,4,1,1) + cat_W_2[None,:,None,None] *   i.repeat(1,4,1,1) \&#xA;                    + cat_W_3[None,:,None,None]  *   j.repeat(1,4,1,1) +  cat_W_4[None,:,None,None]  *  k.repeat(1,4,1,1)&#xA;&#xA;        return output&#xA;    &#xA;    def forward(self, input):&#xA;        self._check_input_dim(input)&#xA;        r,i,j,k = torch.chunk(input, 4, dim=1)&#xA;        &#xA;        exponential_average_factor = 0.0&#xA;&#xA;        if self.training and self.track_running_stats:&#xA;            if self.num_batches_tracked is not None:&#xA;                self.num_batches_tracked += 1&#xA;                if self.momentum is None:  # use cumulative moving average&#xA;                    exponential_average_factor = 1.0 / float(self.num_batches_tracked)&#xA;                else:  # use exponential moving average&#xA;                    exponential_average_factor = self.momentum&#xA;&#xA;        # calculate running estimates&#xA;        if self.training:&#xA;            mean_r, mean_i, mean_j, mean_k = r.mean([0, 2, 3]),i.mean([0, 2, 3]),j.mean([0, 2, 3]),k.mean([0, 2, 3])&#xA;            n = input.numel() / input.size(1)&#xA;            mean = torch.stack((mean_r, mean_i, mean_j, mean_k), dim=1)&#xA;            # update running mean&#xA;            with torch.no_grad():&#xA;                self.running_mean = exponential_average_factor * mean + (1 - exponential_average_factor) * self.running_mean&#xA;                    &#xA;            r = r-mean_r[None, :, None, None]&#xA;            i = i-mean_i[None, :, None, None]&#xA;            j = j-mean_j[None, :, None, None]&#xA;            k = k-mean_k[None, :, None, None]&#xA;            &#xA;            Vrr = (r.pow(2).mean([0, 2, 3])) + self.eps&#xA;            Vii = (i.pow(2).mean([0, 2, 3])) + self.eps&#xA;            Vjj = (j.pow(2).mean([0, 2, 3])) + self.eps&#xA;            Vkk = (k.pow(2).mean([0, 2, 3])) + self.eps&#xA;            Vri = ((r*i).mean([0, 2, 3]))&#xA;            Vrj = ((r*j).mean([0, 2, 3]))&#xA;            Vrk = ((r*k).mean([0, 2, 3]))&#xA;            Vij = ((i*j).mean([0, 2, 3]))&#xA;            Vik = ((i*k).mean([0, 2, 3]))&#xA;            Vjk = ((j*k).mean([0, 2, 3])) &#xA;&#xA;            with torch.no_grad():&#xA;                self.running_covar[:,0] = exponential_average_factor * Vrr * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,0]&#xA;                self.running_covar[:,1] = exponential_average_factor * Vii * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,1]&#xA;                self.running_covar[:,2] = exponential_average_factor * Vjj * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,2]&#xA;                self.running_covar[:,3] = exponential_average_factor * Vkk * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,3]&#xA;                &#xA;                self.running_covar[:,4] = exponential_average_factor * Vri * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,4]&#xA;                self.running_covar[:,5] = exponential_average_factor * Vrj * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,5]&#xA;                self.running_covar[:,6] = exponential_average_factor * Vrk * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,6]&#xA;                self.running_covar[:,7] = exponential_average_factor * Vij * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,7]&#xA;                self.running_covar[:,8] = exponential_average_factor * Vik * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,8]&#xA;                self.running_covar[:,9] = exponential_average_factor * Vjk * n / (n - 1) + (1 - exponential_average_factor) * self.running_covar[:,9]&#xA;        else:&#xA;            mean = self.running_mean&#xA;            Vrr = self.running_covar[:,0]+self.eps&#xA;            Vii = self.running_covar[:,1]+self.eps&#xA;            Vjj = self.running_covar[:,2]+self.eps&#xA;            Vkk = self.running_covar[:,3]+self.eps&#xA;            &#xA;            Vri = self.running_covar[:,4]+self.eps&#xA;            Vrj = self.running_covar[:,5]+self.eps&#xA;            Vrk = self.running_covar[:,6]+self.eps&#xA;            Vij = self.running_covar[:,7]+self.eps&#xA;            Vik = self.running_covar[:,8]+self.eps&#xA;            Vjk = self.running_covar[:,9]+self.eps&#xA;           &#xA;            r = r-mean[None,:,0,None,None]&#xA;            i = i-mean[None,:,1,None,None]&#xA;            j = j-mean[None,:,2,None,None]&#xA;            k = k-mean[None,:,3,None,None]&#xA;            &#xA;        # standardized_output&#xA;        input = self._decomposition_v1(r,i,j,k, Vrr, Vri, Vrj, Vrk, Vii, Vij, Vik, Vjj, Vjk, Vkk)&#xA;        &#xA;        if self.affine:&#xA;            r,i,j,k = torch.chunk(input, 4, dim=1)&#xA;            &#xA;            cat_gamma_1 = torch.cat([self.weight[:,0], self.weight[:,1], self.weight[:,2], self.weight[:,3]])&#xA;            cat_gamma_2 = torch.cat([self.weight[:,1], self.weight[:,4], self.weight[:,5], self.weight[:,6]])&#xA;            cat_gamma_3 = torch.cat([self.weight[:,2], self.weight[:,5], self.weight[:,7], self.weight[:,8]])&#xA;            cat_gamma_4 = torch.cat([self.weight[:,3], self.weight[:,6], self.weight[:,8], self.weight[:,9]])&#xA;&#xA;&#xA;            input =  cat_gamma_1[None,:,None,None] * r.repeat(1,4,1,1) \&#xA;                    + cat_gamma_2[None,:,None,None] * i.repeat(1,4,1,1) \&#xA;                    + cat_gamma_3[None,:,None,None] * j.repeat(1,4,1,1) \&#xA;                    + cat_gamma_4[None,:,None,None] * k.repeat(1,4,1,1) \&#xA;                    + self.bias[None, :, None, None]&#xA;        return input&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I will explain the forward section. So the basic formula for batch normalization is &lt;code&gt;x* = (x - E[x]) / sqrt(var(x))&lt;/code&gt;, where &lt;code&gt;x*&lt;/code&gt; is the new value of a single component, &lt;code&gt;E[x]&lt;/code&gt; is its mean within a batch and &lt;code&gt;var(x)&lt;/code&gt; is its variance within a batch.&lt;/p&gt;&#xA;&lt;p&gt;However, as it is quaternion batch normalization,it has 4 parts &lt;code&gt;r&lt;/code&gt; which is the real part and &lt;code&gt;i, j, and k&lt;/code&gt;, are the imaginary part.&lt;/p&gt;&#xA;&lt;p&gt;The equation extends to &lt;code&gt;x* = W(x - E[x]) / (var(x))&lt;/code&gt;. &lt;code&gt;W&lt;/code&gt; is one of the matrices from the Cholesky decomposition of &lt;code&gt;V^-1&lt;/code&gt; where &lt;code&gt;V&lt;/code&gt; is the variance.In the code,&lt;code&gt;E[x]&lt;/code&gt; is computed using the &lt;code&gt;mean&lt;/code&gt; variable. V is computed in &lt;code&gt;Vxy&lt;/code&gt; and &lt;code&gt;V^-1&lt;/code&gt; i.e. &lt;code&gt;W&lt;/code&gt; is computed in the &lt;code&gt;_decomposition_v1&lt;/code&gt; function. This is applied to the input.&lt;/p&gt;&#xA;&lt;p&gt;Finally, that formula further extends to &lt;code&gt;x** = gamma * x* + beta&lt;/code&gt;, where &lt;code&gt;x**&lt;/code&gt; is the final normalized value. &lt;code&gt;gamma&lt;/code&gt; i.e. &lt;code&gt;cat_gamma_x&lt;/code&gt; and &lt;code&gt;beta&lt;/code&gt; i.e. &lt;code&gt;self.beta&lt;/code&gt; are learned per layer.&lt;/p&gt;&#xA;&lt;p&gt;Note: The num_features need to be in multiples of 4.&lt;/p&gt;&#xA;&lt;p&gt;Thank you,&#xA;Shreyas&lt;/p&gt;&#xA;"" OwnerUserId=""108888"" LastEditorUserId=""-1"" LastEditDate=""2020-06-10T13:24:26.273"" LastActivityDate=""2020-02-20T03:27:54.440"" Title=""Batch normalization code optimization?"" Tags=""&lt;python&gt;&lt;performance&gt;&lt;memory-optimization&gt;&lt;pytorch&gt;"" AnswerCount=""0"" CommentCount=""2"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""257284"" PostTypeId=""1"" AcceptedAnswerId=""257392"" CreationDate=""2021-03-17T06:26:35.800"" Score=""1"" ViewCount=""673"" Body=""&lt;p&gt;I am working on a &lt;strong&gt;online newspaper/blogging application&lt;/strong&gt; with &lt;strong&gt;CodeIgniter 3.1.8&lt;/strong&gt; and &lt;strong&gt;Twig&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;p&gt;The application is meant to offer developers and designers the possibility to very easily turn their HTML templates into database-powered websites. To achieve this, I used the &lt;strong&gt;Twig&lt;/strong&gt; template engine, for the frontend.&lt;/p&gt;&#xA;&lt;p&gt;I have recently added a &lt;strong&gt;newsletter subscription&lt;/strong&gt; functionality.&lt;/p&gt;&#xA;&lt;p&gt;The newsletter subscriptition form:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;h5&amp;gt;Sign Up for Newsletter&amp;lt;/h5&amp;gt;&#xA;&amp;lt;p&amp;gt;Signup to get updates on articles, interviews and events.&amp;lt;/p&amp;gt;&#xA;  &amp;lt;div class=&amp;quot;subscribe-form&amp;quot;&amp;gt;&#xA;    &amp;lt;div id=&amp;quot;messags&amp;quot; class=&amp;quot;is-hidden h-text-center&amp;quot;&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;success is-hidden alert-box alert-box--success&amp;quot;&amp;gt;You have successfully subscribed to our newsletter&amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;notnew is-hidden alert-box alert-box--info&amp;quot;&amp;gt;You are already subscribed&amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;fail is-hidden alert-box alert-box--error&amp;quot;&amp;gt;Sorry, the newsletter subscription filed&amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;form name=&amp;quot;newsletter&amp;quot; method=&amp;quot;post&amp;quot; action=&amp;quot;{{base_url}}newsletter/subscribe&amp;quot; id=&amp;quot;newsletterForm&amp;quot; class=&amp;quot;group&amp;quot; novalidate&amp;gt;&#xA;      &amp;lt;input type=&amp;quot;email&amp;quot; name=&amp;quot;email&amp;quot; class=&amp;quot;email&amp;quot; value=&amp;quot;{{set_value('email') | striptags}}&amp;quot; data-rule-required=&amp;quot;true&amp;quot; placeholder=&amp;quot;Your Email Address&amp;quot;&amp;gt; &#xA;      &amp;lt;input type=&amp;quot;submit&amp;quot; name=&amp;quot;subscribe&amp;quot; value=&amp;quot;subscribe&amp;quot;&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The form data is submitted via jQuery Ajax:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(function($) {&#xA;    $(&amp;quot;#newsletterForm&amp;quot;).validate({&#xA;        rules: {&#xA;            email: {&#xA;                email: true&#xA;            }&#xA;        },&#xA;&#xA;        submitHandler: function(form) {&#xA;            var form = $(&amp;quot;#newsletterForm&amp;quot;),&#xA;                $fields = form.find('input[type=&amp;quot;email&amp;quot;]'),&#xA;                url = form.attr('action'),&#xA;                data = form.serialize();&#xA;            $.ajax({&#xA;                dataType: &amp;quot;json&amp;quot;,&#xA;                type: &amp;quot;post&amp;quot;,&#xA;                url: url,&#xA;                data: data,&#xA;                cache: false,&#xA;                success: function(response) {&#xA;                    $('#messags').slideDown(250).delay(2500).slideUp(250);&#xA;                    $fields.val('');&#xA;                    if (response.is_new_subscriber === true) {&#xA;                        $('#messags .success').show();&#xA;                        $('#messags .notnew').hide();&#xA;                    } else {&#xA;                        $('#messags .notnew').show();&#xA;                    }&#xA;                },&#xA;                error: function() {&#xA;                    $('#messags .fail').show();&#xA;                }&#xA;            });&#xA;        }&#xA;    });&#xA;})(jQuery);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The &lt;strong&gt;Newsletter&lt;/strong&gt; controller:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;class Newsletter extends CI_Controller {&#xA;    &#xA;    public function __construct()&#xA;    {&#xA;        parent::__construct();&#xA;    }&#xA;    &#xA;    public function subscribe()&#xA;    {&#xA;        $data['is_new_subscriber'] = true;&#xA;        if (!$this-&amp;gt;Newsletter_model-&amp;gt;subscriber_exists()) {&#xA;            $this-&amp;gt;Newsletter_model-&amp;gt;addSubscriber();&#xA;        } else {&#xA;            $data['is_new_subscriber'] = false;&#xA;        }&#xA;        echo json_encode($data);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The &lt;strong&gt;Newsletter_model&lt;/strong&gt; model:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;class Newsletter_model extends CI_Model {&#xA;    &#xA;    public function subscriber_exists()&#xA;    {&#xA;        $query = $this-&amp;gt;db-&amp;gt;get_where('newsletter', array('email' =&amp;gt; $this-&amp;gt;input-&amp;gt;post('email')&#xA;        ));&#xA;        return $query-&amp;gt;num_rows() &amp;gt; 0;&#xA;    }&#xA;    &#xA;    public function addSubscriber()&#xA;    {&#xA;        $data = array(&#xA;            'email' =&amp;gt; $this-&amp;gt;input-&amp;gt;post('email'),&#xA;            'subscription_date' =&amp;gt; date('Y-m-d H:i:s')&#xA;        );&#xA;        return $this-&amp;gt;db-&amp;gt;insert('newsletter', $data);&#xA;    }&#xA;    &#xA;    public function getSubscribers()&#xA;    {&#xA;        $query = $this-&amp;gt;db-&amp;gt;get('newsletter');&#xA;        return $query-&amp;gt;result();&#xA;    }&#xA;    &#xA;    public function editSubscriber($id)&#xA;    {&#xA;        $query = $this-&amp;gt;db-&amp;gt;get_where('newsletter', array(&#xA;            'id' =&amp;gt; $id&#xA;        ));&#xA;        if ($query-&amp;gt;num_rows() &amp;gt; 0) {&#xA;            return $query-&amp;gt;row();&#xA;        }&#xA;    }&#xA;    &#xA;    public function updateSubscriber($id)&#xA;    {&#xA;        $data = array(&#xA;            'email' =&amp;gt; $this-&amp;gt;input-&amp;gt;post('email')&#xA;        );&#xA;        &#xA;        $this-&amp;gt;db-&amp;gt;where('id', $id);&#xA;        return $this-&amp;gt;db-&amp;gt;update('newsletter', $data);&#xA;    }&#xA;    &#xA;    public function deleteSubscriber($id)&#xA;    {&#xA;        return $this-&amp;gt;db-&amp;gt;delete('newsletter', array(&#xA;            'id' =&amp;gt; $id&#xA;        ));&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The newsletter subscribers are managed in the back-end.&lt;/p&gt;&#xA;&lt;p&gt;The view:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php if(count($subscribers)):?&amp;gt;&#xA; &amp;lt;div class=&amp;quot;table-responsive&amp;quot;&amp;gt;&#xA;  &amp;lt;table class=&amp;quot;table table-striped table-sm mb-0 w-100&amp;quot;&amp;gt;&#xA;    &amp;lt;thead&amp;gt;&#xA;      &amp;lt;tr class=&amp;quot;row m-0&amp;quot;&amp;gt;&#xA;        &amp;lt;th class=&amp;quot;w-5&amp;quot;&amp;gt;#&amp;lt;/th&amp;gt;&#xA;        &amp;lt;th class=&amp;quot;w-50&amp;quot;&amp;gt;Email&amp;lt;/th&amp;gt;&#xA;        &amp;lt;th class=&amp;quot;w-25&amp;quot;&amp;gt;Subscription date&amp;lt;/th&amp;gt;&#xA;        &amp;lt;th class=&amp;quot;w-20 text-right&amp;quot;&amp;gt;Actions&amp;lt;/th&amp;gt;&#xA;      &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;/thead&amp;gt;&#xA;    &amp;lt;tbody&amp;gt;&#xA;      &amp;lt;?php foreach ($subscribers as $index =&amp;gt; $subscriber): ?&amp;gt;&#xA;      &amp;lt;tr id=&amp;quot;&amp;lt;?php echo $subscriber-&amp;gt;id; ?&amp;gt;&amp;quot; class=&amp;quot;row m-0&amp;quot;&amp;gt;&#xA;        &amp;lt;td class=&amp;quot;w-5&amp;quot;&amp;gt;&amp;lt;?php echo $index + 1; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;        &amp;lt;td class=&amp;quot;w-50&amp;quot;&amp;gt;&amp;lt;?php echo $subscriber-&amp;gt;email; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;        &amp;lt;td class=&amp;quot;w-25&amp;quot;&amp;gt;&amp;lt;?php echo $subscriber-&amp;gt;subscription_date; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;        &amp;lt;td class=&amp;quot;w-20 text-right&amp;quot;&amp;gt;&#xA;          &amp;lt;div class=&amp;quot;btn-group&amp;quot;&amp;gt;&#xA;            &amp;lt;a href=&amp;quot;&amp;lt;?php echo base_url('dashboard/subscribers/edit/' . $subscriber-&amp;gt;id); ?&amp;gt;&amp;quot; title=&amp;quot;Edit&amp;quot; class=&amp;quot;btn btn-sm btn-success&amp;quot;&amp;gt;&amp;lt;i class=&amp;quot;fa fa-pencil-square-o&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; Edit&amp;lt;/a&amp;gt;&#xA;            &amp;lt;a href=&amp;quot;&amp;lt;?php echo base_url('dashboard/subscribers/delete/' . $subscriber-&amp;gt;id); ?&amp;gt;&amp;quot; title=&amp;quot;Delete&amp;quot; class=&amp;quot;delete-subscriber btn btn-sm btn-success&amp;quot;&amp;gt;&amp;lt;i class=&amp;quot;fa fa-trash&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; Delete&amp;lt;/a&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/td&amp;gt;&#xA;      &amp;lt;/tr&amp;gt;&#xA;      &amp;lt;?php endforeach ?&amp;gt;&#xA;    &amp;lt;/tbody&amp;gt;&#xA;  &amp;lt;/table&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;?php else: ?&amp;gt;&#xA;&amp;lt;p class=&amp;quot;text-center&amp;quot;&amp;gt;No subscribers&amp;lt;/p&amp;gt;&#xA;&amp;lt;?php endif ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The &lt;strong&gt;Subscribers&lt;/strong&gt; controller (in the dashboard):&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;class Subscribers extends CI_Controller&#xA;{&#xA;    &#xA;    public function __construct()&#xA;    {&#xA;        parent::__construct();&#xA;    }&#xA;&#xA;    public function index(){&#xA;            &#xA;            if (!$this-&amp;gt;session-&amp;gt;userdata('is_logged_in')) {&#xA;                redirect('login');&#xA;            } else {&#xA;                // Admin ONLY area!&#xA;                if (!$this-&amp;gt;session-&amp;gt;userdata('user_is_admin')) {&#xA;                    redirect($this-&amp;gt;agent-&amp;gt;referrer());&#xA;                }&#xA;            }&#xA;&#xA;            $data = $this-&amp;gt;Static_model-&amp;gt;get_static_data();&#xA;            $data['subscribers'] = $this-&amp;gt;Newsletter_model-&amp;gt;getSubscribers();&#xA;&#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/partials/header', $data);&#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/subscribers');&#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/partials/footer');&#xA;    }&#xA;&#xA;        public function edit($id) {&#xA;            // Only logged in users can edit subscribers&#xA;            if (!$this-&amp;gt;session-&amp;gt;userdata('is_logged_in')) {&#xA;                redirect('login');&#xA;            }&#xA;    &#xA;            $data = $this-&amp;gt;Static_model-&amp;gt;get_static_data();&#xA;            $data['subscriber'] = $this-&amp;gt;Newsletter_model-&amp;gt;editSubscriber($id);&#xA;    &#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/partials/header', $data);&#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/edit-subscriber');&#xA;            $this-&amp;gt;load-&amp;gt;view('dashboard/partials/footer');&#xA;        }&#xA;&#xA;        public function update() {&#xA;            // Only logged in users can update user profiles&#xA;            if (!$this-&amp;gt;session-&amp;gt;userdata('is_logged_in')) {&#xA;                redirect('login');&#xA;            }&#xA;    &#xA;            $id = $this-&amp;gt;input-&amp;gt;post('subscriber');&#xA;    &#xA;            $data = $this-&amp;gt;Static_model-&amp;gt;get_static_data();&#xA;            $data['subscriber'] = $this-&amp;gt;Newsletter_model-&amp;gt;editSubscriber($id);&#xA;    &#xA;            $this-&amp;gt;form_validation-&amp;gt;set_rules('email', 'Email', 'required|trim|valid_email');&#xA;            $this-&amp;gt;form_validation-&amp;gt;set_error_delimiters('&amp;lt;p class=&amp;quot;error-message&amp;quot;&amp;gt;', '&amp;lt;/p&amp;gt;');&#xA;    &#xA;            if(!$this-&amp;gt;form_validation-&amp;gt;run()) {&#xA;                $this-&amp;gt;load-&amp;gt;view('dashboard/partials/header', $data);&#xA;                $this-&amp;gt;load-&amp;gt;view('dashboard/edit-subscriber');&#xA;                $this-&amp;gt;load-&amp;gt;view('dashboard/partials/footer');&#xA;            } else {&#xA;                $this-&amp;gt;Newsletter_model-&amp;gt;updateSubscriber($id);&#xA;                $this-&amp;gt;session-&amp;gt;set_flashdata('subscriber_updated', 'The email address was updated');&#xA;                redirect('dashboard/subscribers');&#xA;            }&#xA;        }&#xA;&#xA;        public function delete($id) {&#xA;            if ($this-&amp;gt;Newsletter_model-&amp;gt;deleteSubscriber($id)) {&#xA;                $this-&amp;gt;session-&amp;gt;set_flashdata('subscriber_delete_success', &amp;quot;The subscriber was deleted&amp;quot;);&#xA;            } else {&#xA;                $this-&amp;gt;session-&amp;gt;set_flashdata('subscriber_delete_fail', &amp;quot;Failed to delete subscriber&amp;quot;);&#xA;            }&#xA;            redirect('dashboard/subscribers');&#xA;        }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;My main concern is &lt;em&gt;security&lt;/em&gt;, but I will appreciate &lt;em&gt;any constructive criticism&lt;/em&gt;. Thanks! :)&lt;/p&gt;&#xA;"" OwnerUserId=""178805"" LastEditorUserId=""178805"" LastEditDate=""2021-05-17T05:18:38.200"" LastActivityDate=""2021-05-17T05:18:38.200"" Title=""Newsletter Subscription Functionality in Codeigniter 3"" Tags=""&lt;ajax&gt;&lt;codeigniter&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""273786"" PostTypeId=""1"" AcceptedAnswerId=""273886"" CreationDate=""2022-02-05T23:00:28.560"" Score=""0"" ViewCount=""144"" Body=""&lt;p&gt;I have a simple website contact form created back in 2017.&lt;/p&gt;&#xA;&lt;p&gt;The form was developed using PHP, PHPMailer, jQuery, HTML and CSS.&lt;/p&gt;&#xA;&lt;p&gt;I would like to make sure the code is up to modern standards and secure.&lt;/p&gt;&#xA;&lt;p&gt;I would also like to switch from PHP to AJAX for success and error messaging (in order to avoid a page refresh). But that matter is probably out of scope here so I'll leave it out of the question.&lt;/p&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;Here's a detailed breakdown:&lt;/p&gt;&#xA;&lt;p&gt;(1) The form sends messages from site users to site managers.&lt;/p&gt;&#xA;&lt;p&gt;(2) It uses HTML for structure and CSS for presentation.&lt;/p&gt;&#xA;&lt;p&gt;(3) User input is sent via SMTP using PHPMailer.&lt;/p&gt;&#xA;&lt;p&gt;(4) A textarea box, with a character counter, is provided for users to submit their message.&lt;/p&gt;&#xA;&lt;p&gt;(5) If the character count is exceeded, a jQuery script prevents the form from being submitted.&lt;/p&gt;&#xA;&lt;p&gt;(6) Google reCAPTCHA is installed to reduce spam.&lt;/p&gt;&#xA;&lt;p&gt;(7) HTML and standard browser functions are used for user input validation on the client-side.&lt;/p&gt;&#xA;&lt;p&gt;(8) PHP functions are used for user input validation and sanitization on the server-side.&lt;/p&gt;&#xA;&lt;p&gt;(9) PHP handles success and error messaging to the user.&lt;/p&gt;&#xA;&lt;p&gt;The form works fine, as far as I can tell.&lt;/p&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;I'm looking for some guidance here:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;The SMTP/PHPMailer set-up requires a username and password embedded in the code. Is there a more secure way?&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Any suggestions for improving the overall quality and efficiency of this code?&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Thank you.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;HTML, CSS &amp;amp; jQuery&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code snippet-currently-hidden&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;// text area character counter&#xA;// displays total characters allowed&#xA;// displays warning at defined count (currently 150)&#xA;// disables submit button when &amp;lt; 0&#xA;// max characters that can be input set by maxlength attribute in HTML&#xA;(function($) {&#xA;&#xA;    $.fn.charCount = function(submit, options){&#xA;&#xA;        this.submit = submit;&#xA;&#xA;        // default configuration properties&#xA;        var defaults = {    &#xA;            allowed: 1250,      &#xA;            warning: 150,&#xA;            css: 'counter',&#xA;            counterElement: 'span',&#xA;            cssWarning: 'warning',&#xA;            cssExceeded: 'exceeded',&#xA;            counterText: ''&#xA;        }; &#xA;    &#xA;        var options = $.extend(defaults, options); &#xA;&#xA;        function calculate(obj,submit){&#xA;        &#xA;            submit.attr(&quot;disabled&quot;, &quot;disabled&quot;);&#xA;&#xA;            var count = $(obj).val().length;&#xA;            var available = options.allowed - count;&#xA;            if(available &amp;lt;= options.warning &amp;amp;&amp;amp; available &amp;gt;= 0){&#xA;                $(obj).next().addClass(options.cssWarning);&#xA;            } else {&#xA;                $(obj).next().removeClass(options.cssWarning);&#xA;            }&#xA;            if(available &amp;lt; 0){&#xA;                $(obj).next().addClass(options.cssExceeded);&#xA;            } else {&#xA;                $(obj).next().removeClass(options.cssExceeded);&#xA;                submit.removeAttr(&quot;disabled&quot;);&#xA;            }&#xA;            &#xA;            $(obj).next().html(options.counterText + available);&#xA;        };&#xA;        &#xA;        this.each(function() {              &#xA;            $(this).after('&amp;lt;'+ options.counterElement +' class=&quot;' + options.css + '&quot;&amp;gt;'+ options.counterText +'&amp;lt;/'+ options.counterElement +'&amp;gt;');&#xA;            &#xA;            calculate(this, submit);&#xA;&#xA;            $(this).keyup(function(){calculate(this,submit)});&#xA;            $(this).change(function(){calculate(this,submit)});&#xA;        });&#xA;&#xA;    };&#xA;&#xA;})(jQuery);&#xA;&#xA;$(document).ready(function(){   &#xA;    $(&quot;#comments&quot;).charCount($(&quot;#submit&quot;));&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;#contact-form {&#xA;    display: flex;&#xA;    flex-direction: column;&#xA;    width: 50%;&#xA;    font: 1rem/1.5 arial, helvetica, sans-serif;&#xA;    margin: 0 auto 1em !important;&#xA;}&#xA;#contact-form &amp;gt; div {&#xA;    display: flex;&#xA;    flex-direction: column;&#xA;    margin-bottom: 10px;&#xA;}&#xA;#contact-form &amp;gt; div:not(.send-fail-notice):not(#counter-container) {&#xA;    width: 70%;&#xA;}&#xA;&#xA;#contact-form &amp;gt; .ad2 { align-self: flex-start; }&#xA;&#xA;/* label formatting */&#xA;#contact-form &amp;gt; div &amp;gt; label {&#xA;    margin-bottom: 2px;&#xA;}&#xA;&#xA;/* asterisk formatting */&#xA;#contact-form &amp;gt; div &amp;gt; label &amp;gt; span {&#xA;    color: #f00;&#xA;    font-size: 1.5em;&#xA;    line-height: 1;&#xA;}&#xA;&#xA;/* input field formatting */&#xA;#contact-form input,&#xA;#contact-form textarea {&#xA;    border: 1px solid #ccc;&#xA;    background: #fcfcfc;&#xA;    padding: 2px 5px;&#xA;    resize: none;&#xA;    font-family: arial, helvetica, sans-serif;    &#xA;}&#xA;#contact-form input:focus,&#xA;#contact-form textarea:focus  {&#xA;    border: 1px solid #777;&#xA;}&#xA;&#xA;/*  textarea and character counter */&#xA;#contact-form &amp;gt; #counter-container { }&#xA;&#xA;#contact-form &amp;gt; #counter-container &amp;gt; .counter {&#xA;    font-size: 1.5em;&#xA;    color: #ccc;&#xA;}&#xA;#contact-form &amp;gt; #counter-container .warning {&#xA;    color: orange;&#xA;}&#xA;#contact-form &amp;gt; #counter-container .warning::after {&#xA;    content: &quot; approaching limit&quot;;&#xA;    font-size: 1em;&#xA;}&#xA;#contact-form &amp;gt; #counter-container .exceeded {&#xA;    color: red;&#xA;}&#xA;#contact-form &amp;gt; #counter-container .exceeded::after {&#xA;    content: &quot; form won't submit&quot;;&#xA;    font-size: 1em;&#xA;}&#xA;&#xA;/*  submit button formatting */&#xA;#contact-form &amp;gt; button {&#xA;    align-self: flex-start;&#xA;    padding: 5px 15px;&#xA;    cursor: pointer;&#xA;    border: 1px solid #ccc;&#xA;    background-color: #f1f1f1;&#xA;    background-image: linear-gradient(#f1f1f1, #fafafa);&#xA;}&#xA;&#xA;#contact-form &amp;gt; button:hover {&#xA;    background-image: linear-gradient(#e1e1e1, #eaeaea);&#xA;}&#xA;&#xA;/* form errors */&#xA;.send-fail-notice {&#xA;    flex-direction: row !important;&#xA;    align-items: center;&#xA;    padding: 15px;    &#xA;    background-color: #ffc; &#xA;    border: 2px solid red;    &#xA;}&#xA;&#xA;.send-fail-notice &amp;gt; span {&#xA;    color: #e13a3e;&#xA;    font-weight: bold;&#xA;    margin-left: 10px;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;form method=&quot;post&quot; id=&quot;contact-form&quot;&amp;gt;&#xA;&#xA;  &amp;lt;?php echo $send_fail_one ?&amp;gt;&#xA;  &amp;lt;?php echo $send_fail_two ?&amp;gt;&#xA;&#xA;  &amp;lt;div&amp;gt;&#xA;    &amp;lt;label for=&quot;name&quot;&amp;gt;Name &amp;lt;span&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; maxlength=&quot;75&quot; value=&quot;&amp;lt;?php echo $name ?&amp;gt;&quot; required&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;div&amp;gt;&#xA;    &amp;lt;label for=&quot;email&quot;&amp;gt;E-mail &amp;lt;span&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; maxlength=&quot;75&quot; value=&quot;&amp;lt;?php echo $email ?&amp;gt;&quot; required&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;div id=&quot;subject-line&quot;&amp;gt;&#xA;    &amp;lt;label for=&quot;subject&quot;&amp;gt;Subject&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; name=&quot;subject&quot; id=&quot;subject&quot; maxlength=&quot;75&quot; value=&quot;&amp;lt;?php echo $subject ?&amp;gt;&quot;&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;div id=&quot;counter-container&quot;&amp;gt;&#xA;    &amp;lt;label for=&quot;comments&quot;&amp;gt;Message &amp;lt;span&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;/label&amp;gt;&#xA;    &amp;lt;textarea name=&quot;comments&quot; id=&quot;comments&quot; maxlength=&quot;1500&quot; cols=&quot;25&quot; rows=&quot;5&quot; required&amp;gt;&amp;lt;?php echo $comments ?&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;div class=&quot;g-recaptcha&quot; data-sitekey=&quot;6LdruToUAAAAAO4EZua5CV6_jREeCpv8knqklYa9&quot; style=&quot;width: auto;&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;button type=&quot;submit&quot; name=&quot;submit&quot; id=&quot;submit&quot;&amp;gt;Send Message&amp;lt;/button&amp;gt;&#xA;&#xA;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;// CONTACT FORM PROCESSING SCRIPT&#xA;&#xA;// set default values (prevents undefined variable error)&#xA;$send_fail_one = null;&#xA;$send_fail_two = null;&#xA;$name          = null;&#xA;$email         = null;&#xA;$subject       = null;&#xA;$comments      = null;&#xA;&#xA;// Load PHPMailer (v 6.5.3 02/02/2022)&#xA;// Import PHPMailer classes into the global namespace&#xA;// These must be at the top of your script, not inside a function&#xA;use PHPMailer\PHPMailer\PHPMailer;&#xA;use PHPMailer\PHPMailer\SMTP;&#xA;use PHPMailer\PHPMailer\Exception;&#xA;&#xA;if ($_SERVER[&amp;quot;REQUEST_METHOD&amp;quot;] == &amp;quot;POST&amp;quot;) {&#xA;&#xA;// Load PHPMailer&#xA;require 'PHPMailer/src/Exception.php';&#xA;require 'PHPMailer/src/PHPMailer.php';&#xA;require 'PHPMailer/src/SMTP.php';&#xA;&#xA;// Create new PHPMailer instance; passing `true` enables exceptions&#xA;$mail = new PHPMailer(true);&#xA;$mail-&amp;gt;CharSet = &amp;quot;UTF-8&amp;quot;;&#xA;&#xA;// SMTP Debugging&#xA;//SMTP::DEBUG_OFF = off (for production use)&#xA;//SMTP::DEBUG_CLIENT = client messages&#xA;//SMTP::DEBUG_SERVER = client and server messages&#xA;$mail-&amp;gt;SMTPDebug = SMTP::DEBUG_SERVER;  &#xA;$mail-&amp;gt;Debugoutput = 'html';&#xA;&#xA;// SMTP settings&#xA;$mail-&amp;gt;isSMTP();  &#xA;$mail-&amp;gt;Host = 'smtp.gmail.com';&#xA;$mail-&amp;gt;SMTPAuth = true;&#xA;$mail-&amp;gt;SMTPSecure = PHPMailer::ENCRYPTION_SMTPS;&#xA;$mail-&amp;gt;Port = 465;&#xA;$mail-&amp;gt;Username = 'demo-purposes@yahoo.com'; &#xA;$mail-&amp;gt;Password = 'FakePasswordForDemoPurposes';&#xA;$mail-&amp;gt;setFrom('demo-purposes@yahoo.com');&#xA;$mail-&amp;gt;addAddress('demo-purposes@yahoo.com');&#xA;$mail-&amp;gt;isHTML(true);&#xA;&#xA;// Sanitize &amp;amp; Validate Input&#xA;// Trim all $_POST values&#xA;/* Using FILTER_SANITIZE_SPECIAL_CHARS as opposed to FILTER_SANITIZE_STRING because:&#xA; * (1) FILTER_SANITIZE_SPECIAL_CHARS will disarm code but still display it.&#xA; * (2) FILTER_SANITIZE_STRING removes all code, leaving no trace, and all code input is lost (e.g., anything with brackets is lost).&#xA; * Hence, with (1) we can identify users trying to submit code.&#xA; * Exception: textarea field ('comments') uses FILTER_SANITIZE_STRING because otherwise nl2br (keep line breaks) doesn't work. */&#xA;$name = trim(filter_input(INPUT_POST, 'name', FILTER_SANITIZE_SPECIAL_CHARS));&#xA;$email = filter_input(INPUT_POST, 'email', FILTER_SANITIZE_EMAIL);&#xA;$subject = trim(filter_input(INPUT_POST, 'subject', FILTER_SANITIZE_SPECIAL_CHARS));&#xA;$comments = nl2br(filter_input(INPUT_POST, 'comments', FILTER_SANITIZE_STRING));&#xA;&#xA;// Email Body&#xA;$message = &amp;lt;&amp;lt;&amp;lt;HTML&#xA;&amp;lt;br&amp;gt;&#xA;&amp;lt;table style=&amp;quot;border: 1px solid #e1e1e1; background-color: #fafafa; margin: 0 auto; width: 75%; padding: 10px 20px;&amp;quot;&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;padding: 10px 0;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NAME&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;border-bottom: 1px solid #e1e1e1; padding-bottom: 15px;&amp;quot;&amp;gt;$name&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;padding: 10px 0;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;E-MAIL&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;border-bottom: 1px solid #e1e1e1; padding-bottom: 15px;&amp;quot;&amp;gt;$email&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;padding: 10px 0;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;SUBJECT&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;border-bottom: 1px solid #e1e1e1; padding-bottom: 15px;&amp;quot;&amp;gt;$subject&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;padding: 10px 0;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;MESSAGE&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;tr&amp;gt;&amp;lt;td style=&amp;quot;padding-bottom: 15px;&amp;quot;&amp;gt;$comments&amp;lt;td&amp;gt;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;/table&amp;gt;&#xA;HTML;&#xA;&#xA;$mail-&amp;gt;Subject = 'Message Received =?utf-8?B?4oCT?= Website Contact Form';&#xA;$mail-&amp;gt;Body = $message;&#xA;&#xA;// verify recaptcha response&#xA;$url        =  &amp;quot;https://www.google.com/recaptcha/api/siteverify&amp;quot;;&#xA;$privatekey =  &amp;quot;xxx&amp;quot;;&#xA;$response   =  file_get_contents($url.&amp;quot;?secret=&amp;quot;.$privatekey.&amp;quot;&amp;amp;response=&amp;quot;.$_POST['g-recaptcha-response'].&amp;quot;&amp;amp;remoteip=&amp;quot;.$_SERVER['REMOTE_ADDR']);&#xA;$data       =  json_decode($response);&#xA;&#xA;// if recaptcha verification is a success...&#xA;if(isset($data-&amp;gt;success) AND $data-&amp;gt;success==true) {&#xA;            &#xA;    // ... and if phpmailer does not send (for whatever reason, such as a wrong SMTP password)...&#xA;    if (!$mail-&amp;gt;send()) { &#xA;&#xA;        // then show this error message:    &#xA;        $send_fail_one = &amp;lt;&amp;lt;&amp;lt;ERROR&#xA;            &amp;lt;div class=&amp;quot;send-fail-notice&amp;quot;&amp;gt;&#xA;                &amp;lt;img src=&amp;quot;images/warning-sign.gif&amp;quot; height=&amp;quot;44&amp;quot; width=&amp;quot;50&amp;quot; alt=&amp;quot;error sign&amp;quot;&amp;gt;&#xA;                &amp;lt;span&amp;gt;ERROR. Message not sent.&amp;lt;br&amp;gt;Please try again or contact us at &amp;lt;i&amp;gt;&amp;lt;u&amp;gt;bireg&amp;lt;/u&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;i&amp;gt;&amp;lt;u&amp;gt;at&amp;lt;/u&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;i&amp;gt;&amp;lt;u&amp;gt;outlook&amp;lt;/u&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;i&amp;gt;&amp;lt;u&amp;gt;dot&amp;lt;/u&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;i&amp;gt;&amp;lt;u&amp;gt;com&amp;lt;/u&amp;gt;&amp;lt;/i&amp;gt;.&amp;lt;/span&amp;gt;&#xA;            &amp;lt;/div&amp;gt;  &#xA;ERROR;&#xA;}   else {&#xA;        // ...otherwise delivery is successful and page re-directs to thank you / confirmation page&#xA;        header('Location: https://www.yahoo.com');&#xA;    }&#xA;            &#xA;   } else {&#xA;       &#xA;        // if re-captcha verification fails, show this error message:&#xA;        $send_fail_two = &amp;lt;&amp;lt;&amp;lt;ERROR&#xA;            &amp;lt;div class=&amp;quot;send-fail-notice&amp;quot;&amp;gt;&#xA;                &amp;lt;img src=&amp;quot;images/warning-sign.gif&amp;quot; height=&amp;quot;44&amp;quot; width=&amp;quot;50&amp;quot; alt=&amp;quot;error sign&amp;quot;&amp;gt;&#xA;                &amp;lt;span&amp;gt;ERROR. Message not sent.&amp;lt;br&amp;gt;Please check the anti-spam box.&amp;lt;/span&amp;gt;&#xA;            &amp;lt;/div&amp;gt;  &#xA;ERROR;&#xA;        }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""255034"" LastEditorUserId=""255034"" LastEditDate=""2022-02-12T12:53:28.517"" LastActivityDate=""2022-02-12T12:53:28.517"" Title=""Upgrade security and code quality of a website contact form"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""278946"" PostTypeId=""1"" CreationDate=""2022-08-18T14:59:37.570"" Score=""1"" ViewCount=""47"" Body=""&lt;p&gt;I have to do an experiment to predict student performance using Deep Learning.  We can try applying these models and compare the accuracy, precision, recall, and F1 score. (Also, we can try only fully connected NN to be used as a baseline)&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;CNN with one dimension as the input&lt;/li&gt;&#xA;&lt;li&gt;Fully connected, followed by CNN&lt;/li&gt;&#xA;&lt;li&gt;CNN followed by Fully connected followed by CNN.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;I preprocessed the dataset to be suitable for the classification problem (pass/fail); the below code only the first model&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;I Want to check whether it is correct or not:&#xA;&lt;code&gt;X_train&lt;/code&gt;, &lt;code&gt;y_train&lt;/code&gt;, &lt;code&gt;y_test&lt;/code&gt;, &lt;code&gt;X_test&lt;/code&gt;&#xA;Input shape, numbers of neurons on each layer, and the number of neurons at the output layer.&lt;/li&gt;&#xA;&lt;li&gt;I want to make sure the code is correct before I proceed with something else.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;X_train.shape. (730, 56)&lt;br /&gt;&#xA;X_test.shape.  (314, 56)&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# CNN &#xA;&#xA;#importing the required libraries&#xA;from tensorflow.keras.models import Sequential&#xA;from tensorflow.keras.layers import Conv1D&#xA;from tensorflow.keras.layers import MaxPool1D&#xA;from tensorflow.keras.layers import Flatten&#xA;from tensorflow.keras.layers import Dropout&#xA;from tensorflow.keras.layers import Dense&#xA;from tensorflow.keras.utils import plot_model&#xA;&#xA;#reshaping data&#xA;&#xA;X_train = X_train.values.reshape((X_train.shape[0], X_train.shape[1],1))&#xA;&#xA;X_test = X_test.values.reshape((X_test.shape[0],X_test.shape[1],1))&#xA;&#xA;#checking the shape after reshaping&#xA;print(X_train.shape)&#xA;print(X_test.shape)&#xA;&#xA;#normalizing the pixel values&#xA;X_train=X_train/255&#xA;X_test=X_test/255&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;output:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-none prettyprint-override&quot;&gt;&lt;code&gt;(730, 56, 1)&#xA;(314, 56, 1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;#defining model&#xA;model1=Sequential()&#xA;&#xA;#part 1 CNN with one dimension as input &#xA;&#xA;#adding convolution layer&#xA;model1.add(Conv1D(32,3, activation='relu', padding='same', &#xA;                 input_shape = (X_train.shape[1],1)))&#xA;&#xA;#adding pooling layer&#xA;model1.add(MaxPool1D(pool_size=2, strides=2, padding='same'))&#xA;&#xA;&#xA;#adding fully connected layer&#xA;model1.add(Flatten())&#xA;model1.add(Dense(128,activation='relu'))&#xA;&#xA;#adding fully connected layer&#xA;model1.add(Flatten())&#xA;model1.add(Dense(64,activation='relu'))&#xA;&#xA;&#xA;#adding output layer&#xA;model1.add(Dense(2,activation='softmax'))&#xA;&#xA;#compiling the model&#xA;model1.compile(loss='sparse_categorical_crossentropy',optimizer='adam',metrics=['accuracy'])&#xA;&#xA;model1.summary()&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;output:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-none prettyprint-override&quot;&gt;&lt;code&gt;Model: &amp;quot;sequential_5&amp;quot;&#xA;_________________________________________________________________&#xA;Layer (type)                 Output Shape              Param #   &#xA;=================================================================&#xA;conv1d_5 (Conv1D)            (None, 56, 32)            128       &#xA;_________________________________________________________________&#xA;max_pooling1d_5 (MaxPooling1 (None, 28, 32)            0         &#xA;_________________________________________________________________&#xA;flatten_6 (Flatten)          (None, 896)               0         &#xA;_________________________________________________________________&#xA;dense_11 (Dense)             (None, 128)               114816    &#xA;_________________________________________________________________&#xA;flatten_7 (Flatten)          (None, 128)               0         &#xA;_________________________________________________________________&#xA;dense_12 (Dense)             (None, 64)                8256      &#xA;_________________________________________________________________&#xA;dense_13 (Dense)             (None, 2)                 130       &#xA;=================================================================&#xA;Total params: 123,330&#xA;Trainable params: 123,330&#xA;Non-trainable params: 0&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;fitting the model and evaluate it&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;#fitting the model&#xA;history = model1.fit(X_train,y_train,batch_size=32 ,epochs=50 ,verbose=1)&#xA;&#xA;#evaluting the model&#xA;_, accuracy = model1.evaluate(X_test,y_test)&#xA;print('Accuracy:%.2f' % (accuracy*100))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;output:&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-none prettyprint-override&quot;&gt;&lt;code&gt;Train on 730 samples&#xA;Epoch 1/50&#xA;730/730 [==============================] - 0s 292us/sample - loss: 0.0851 - acc: 0.9836&#xA;Epoch 2/50&#xA;730/730 [==============================] - 0s 282us/sample - loss: 0.0795 - acc: 0.9808&#xA;Epoch 3/50&#xA;730/730 [==============================] - 0s 294us/sample - loss: 0.0776 - acc: 0.9836&#xA;Epoch 4/50&#xA;730/730 [==============================] - 0s 291us/sample - loss: 0.0873 - acc: 0.9795&#xA;Epoch 5/50&#xA;730/730 [==============================] - 0s 287us/sample - loss: 0.0893 - acc: 0.9726&#xA;Epoch 6/50&#xA;730/730 [==============================] - 0s 292us/sample - loss: 0.0997 - acc: 0.9712&#xA;Epoch 7/50&#xA;730/730 [==============================] - 0s 288us/sample - loss: 0.0871 - acc: 0.9808&#xA;Epoch 8/50&#xA;730/730 [==============================] - 0s 295us/sample - loss: 0.0853 - acc: 0.9740&#xA;Epoch 9/50&#xA;730/730 [==============================] - 0s 300us/sample - loss: 0.0796 - acc: 0.9767&#xA;Epoch 10/50&#xA;730/730 [==============================] -&#xA;.............&#xA;............ &#xA;Epoch 50/50&#xA;730/730 [==============================] - 0s 315us/sample - loss: 0.0857 - acc: 0.9685&#xA;314/314 [==============================] - 0s 180us/sample - loss: 1.9087 - acc: 0.6943&#xA;Accuracy:69.43&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""264032"" LastEditorUserId=""75307"" LastEditDate=""2022-08-19T06:06:12.647"" LastActivityDate=""2022-08-19T06:06:12.647"" Title=""prediction student performance using conventional neural network CNN"" Tags=""&lt;python&gt;&lt;tensorflow&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\codereview.stackexchange.com\Posts.xml,"  <row Id=""285782"" PostTypeId=""1"" CreationDate=""2023-06-27T10:21:19.393"" Score=""0"" ViewCount=""109"" Body=""&lt;p&gt;Code below successfully processes and submits data to database. Is there anything else that needs to be included / considered?&lt;/p&gt;&#xA;&lt;p&gt;PHP (note-process.php):&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$data = array();&#xA;&#xA;if ( (empty($_POST['name'])) || (empty($_POST['note'])) ) {&#xA;    $data['success'] = FALSE;&#xA;    $data['message'] = 'Name and note is required.';&#xA;&#xA;} else {&#xA;&#xA;   // Process inputs and send to database using prepared statements&#xA;    &#xA;    if ($stmt-&amp;gt;execute()) &#xA;    {&#xA;&#xA;      $data['success'] = TRUE;&#xA;      $data['message'] = 'Success! Name and note saved!';&#xA;&#xA;    } else&#xA;    {&#xA;&#xA;      $data['success'] = FALSE;&#xA;      $data['message'] = 'Note not saved. Try again later';&#xA;      &#xA;    }&#xA;&#xA;    $stmt-&amp;gt;close(); &#xA;&#xA;&#xA;}&#xA;&#xA;echo json_encode($data);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;JS:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;// Refresh note section every 2 seconds&#xA;&#xA;function loadlink(){&#xA;  $('#notes-box').load('note-refresh.php',function () {&#xA;    $(this).unwrap();&#xA;  });&#xA;}&#xA;&#xA;loadlink(); // This will run on page load&#xA;setInterval(function(){&#xA;  loadlink() // This will run after every 2 seconds&#xA;}, 2000);&#xA;&#xA;// Submits form without refreshing page&#xA;&#xA;$(document).ready(function () {&#xA;&#xA;    $(&amp;quot;form&amp;quot;).submit(function (event) {&#xA;&#xA;    $(&amp;quot;.help-block&amp;quot;).remove();&#xA;&#xA;    var formData = {&#xA;      name: $(&amp;quot;#name&amp;quot;).val(),&#xA;      note: $(&amp;quot;#note&amp;quot;).val()&#xA;    };&#xA;&#xA;    $.ajax({&#xA;      type: &amp;quot;POST&amp;quot;,&#xA;      url: &amp;quot;note-process.php&amp;quot;,&#xA;      data: formData,&#xA;      dataType: &amp;quot;json&amp;quot;,&#xA;      encode: true,&#xA;    })&#xA;&#xA;    .done(function (data) {&#xA;    console.log(data);&#xA;&#xA;    if (!data.success) {&#xA;&#xA;      $(&amp;quot;#error-box&amp;quot;).append(&#xA;        '&amp;lt;div class=&amp;quot;help-block&amp;quot;&amp;gt;&amp;lt;b&amp;gt;' + data.message + &amp;quot;&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;quot;&#xA;      );&#xA;      &#xA;    } else {&#xA;&#xA;      $(&amp;quot;#error-box&amp;quot;).append(&#xA;        '&amp;lt;div class=&amp;quot;help-block&amp;quot;&amp;gt;' + data.message + &amp;quot;&amp;lt;/div&amp;gt;&amp;quot;&#xA;      );&#xA;      &#xA;    }&#xA;&#xA;  })&#xA;&#xA;  &amp;lt;!-- How does the below get called? --&amp;gt;&#xA;&#xA;  .fail(function (data) {&#xA;    $(&amp;quot;#error-box&amp;quot;).append(&#xA;      '&amp;lt;div class=&amp;quot;help-block&amp;quot;&amp;gt;Could not reach server, please try again later.&amp;lt;/div&amp;gt;'&#xA;    );&#xA;  });&#xA;&#xA;  event.preventDefault(); // Prevents the default action of an element from happening&#xA;  });&#xA;  &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;HTML:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&amp;quot;notes-box&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;div id=&amp;quot;error-box&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;form action=&amp;quot;note-process.php&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&#xA;    &amp;lt;label for=&amp;quot;name&amp;quot;&amp;gt;Name&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;text&amp;quot; id=&amp;quot;name&amp;quot; name=&amp;quot;name&amp;quot; placeholder=&amp;quot;Full Name&amp;quot; /&amp;gt;&#xA;&#xA;    &amp;lt;label for=&amp;quot;note&amp;quot;&amp;gt;Note&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;text&amp;quot; id=&amp;quot;note&amp;quot; name=&amp;quot;note&amp;quot; placeholder=&amp;quot;Note&amp;quot; /&amp;gt;&#xA;&#xA;  &amp;lt;button type=&amp;quot;submit&amp;quot; class=&amp;quot;btn btn-success&amp;quot;&amp;gt;Submit&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""274435"" LastActivityDate=""2023-07-27T17:26:22.933"" Title=""jQuery + PHP Form Submit and Refresh"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""39959"" PostTypeId=""1"" CreationDate=""2012-08-15T20:55:27.460"" Score=""0"" ViewCount=""694"" Body=""&lt;p&gt;I'm writing a document management module which has come pretty far and is almost ready for a final review and release, but I've found a really strange authentication issue that is requiring a gross work around.&lt;/p&gt;&#xA;&lt;p&gt;Several actions in my module are handled via AJAX. I need to authenticate my user when I run the AJAX protocol. I also need to get the Drupal core functionality so I'm using the following code.&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;// Bootstrap Drupal.&#xA;define('DRUPAL_ROOT', dirname(dirname(dirname(dirname(dirname(__FILE__))))));&#xA;require_once( DRUPAL_ROOT . '/includes/bootstrap.inc');&#xA;drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);&#xA;&#xA;// Validate the user.&#xA;_drupal_session_read($_POST['sid']);&#xA;drupal_session_start();&#xA;if (!user_access('manage documents')) {&#xA;  die('Access denied');&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;$_POST['sid']&lt;/code&gt; contains the value from &lt;code&gt;session_id()&lt;/code&gt; or from &lt;code&gt;$user-&amp;gt;sid&lt;/code&gt;. They should be the same thing, but if I clear my cache, log back in, go to the page, and run any AJAX action, I get a 403 error on the first request, every time. My ugly work-around is to send a &amp;quot;checkin&amp;quot; action that just triggers the 403 error, since that is returned only once.&lt;/p&gt;&#xA;&lt;p&gt;Can anyone explain to me why this code would behave this way?&lt;/p&gt;&#xA;"" OwnerUserId=""9306"" LastEditorUserId=""199"" LastEditDate=""2021-09-11T10:56:39.777"" LastActivityDate=""2023-10-23T06:06:35.803"" Title=""Why does drupal_session_start() fail after a user clears the cache and logs back in?"" Tags=""&lt;ajax&gt;&lt;caching&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""48377"" PostTypeId=""1"" CreationDate=""2012-10-22T09:22:21.510"" Score=""2"" ViewCount=""917"" Body=""&lt;p&gt;I am trying to write the test case for my custom ajax functionality in Drupal 7. I am firing the event on click in my &lt;code&gt;.js&lt;/code&gt; file but the test case gets a fail.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In my &lt;code&gt;.tpl.php&lt;/code&gt; template file I have the following code:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;&amp;lt;a href=&quot;javasctipt:void(0)&quot; id=&quot;myFirstEvent&quot;&amp;gt;Click Here&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In the Js file I am getting the event as follows:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#myFirstEvent').live('click', function())&#xA;$.ajax({&#xA;        cache: false,&#xA;        url: Drupal.settings.basePath + '?q=mymodule/add',&#xA;        data: {page: page, sort: sort, order: order},&#xA;        dataType: 'text',&#xA;        error: function(request, status, error) {&#xA;            alert(status);&#xA;        },&#xA;        success: function(data, status, request) {&#xA;            /**Function definition goes here**/&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In my custom.test file I have the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$edit = array();&#xA;$this&amp;gt;drupalGet(&quot;myform/add&quot;);&#xA;$this-&amp;gt;drupalPost('myform/add', $edit, 'myFirstEvent');&#xA;$this-&amp;gt;assertResponse(200, 'Success');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But I am not getting the success screen (Green Color) after I execute my test cases.&lt;/p&gt;&#xA;"" OwnerUserId=""8011"" LastEditorUserId=""4813"" LastEditDate=""2012-10-23T08:06:37.490"" LastActivityDate=""2013-04-10T05:41:34.257"" Title=""How to write test cases for custom ajax functionality using simpletest in drupal7"" Tags=""&lt;7&gt;&lt;ajax&gt;&lt;javascript&gt;&lt;testing&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""51607"" PostTypeId=""1"" CreationDate=""2012-11-28T07:50:01.947"" Score=""2"" ViewCount=""3227"" Body=""&lt;p&gt;I have installed the Drupal 7.17 security update, and I am having some issues with my site. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;If I comment out the &lt;code&gt;$base_url ='www.xxx.com';&lt;/code&gt; line in the setting.php file, the AJAX calls work; when I uncomment that line, the AJAX calls fail.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What could be the reason behind this? how can I get my base_url working again?&lt;/p&gt;&#xA;"" OwnerUserId=""11486"" LastEditorUserId=""199"" LastEditDate=""2012-11-28T08:21:42.670"" LastActivityDate=""2014-08-14T07:27:49.670"" Title=""AJAX calls fail when the base URL is set"" Tags=""&lt;7&gt;&lt;ajax&gt;&lt;configuration&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""69194"" PostTypeId=""1"" CreationDate=""2013-04-08T17:16:23.427"" Score=""0"" ViewCount=""412"" Body=""&lt;p&gt;I'm trying to add 'new' or 'updated' to the links in a Menu, and one of the ways is with AJAX.&#xA;But to do that, I need to add AJAX to existing node/page path &#xA;following the documentation and various examples, &#xA;hook_menu()&#xA;successfully adds the scripts and call backs for paths that only exist in the module file &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// The page that will run the command.&#xA;$items['my-custom-path/trigger-page'] = array(&#xA;  'title' =&amp;gt; 'AJAX trigger page',&#xA;  'page callback' =&amp;gt; 'my_ajax_trigger_page',&#xA;  'access arguments' =&amp;gt; array('access content'),&#xA;  'type' =&amp;gt; MENU_CALLBACK,&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;[my_ajax_trigger_page calls add_ajax_js and works with and without clean URLs]&lt;/p&gt;&#xA;&#xA;&lt;p&gt;but when I add items for an existing node with a menu path, a page I created, and gave a URL path like 'my-toc-page' does not get registered for the AJAX calls.&#xA;nothing happens - the scripts to not load on to the page at all, &#xA;and the callbacks silently fail &#xA;I have also tried this with a View, with AJAX enabled, but still it does not register &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// register script load&#xA;$items['test-toc-page'] = array(&#xA;  'title' =&amp;gt; 'MyTable of Contents',&#xA;  'page callback' =&amp;gt; 'add_ajax_js',&#xA;  'access arguments' =&amp;gt; array('access content'),&#xA;  'type' =&amp;gt; MENU_CALLBACK,&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How do you do this on a page that already exists and has content and blocks on it?&#xA;No forms, but the links on the page need to be processed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Using a page template file , I can load the JavaScript files onto an existing page, but the AJAX call backs fail.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks everyone, this is a continuation of my initial question about AJAX on page load.&#xA;&lt;a href=&quot;https://drupal.stackexchange.com/questions/68793/existing-page-not-getting-registered-by-hook-menu-to-trigger-drupal-ajax-on-page&quot;&gt;Existing Page not getting registered by hook_menu to trigger Drupal AJAX on page load&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""16298"" LastEditorUserId=""-1"" LastEditDate=""2017-04-13T12:46:58.713"" LastActivityDate=""2013-04-12T11:29:04.060"" Title=""add AJAX to an existing node/page path?"" Tags=""&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""78956"" PostTypeId=""1"" AcceptedAnswerId=""78960"" CreationDate=""2013-07-10T19:15:34.463"" Score=""0"" ViewCount=""1450"" Body=""&lt;p&gt;I'm kind of new to drupal (been working with it for 2 months) and i seem to hit a wall with this issue .&#xA;I've written a little module to allow my users to find phone numbers quickly . It uses autocomplete and works perfectly fine when the user is logged in , but fail when it ain't the case (no icon in the field no http requests fired).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Digging a little further , i can see that neither the autocomplete.js is loading nor the targeted field is properly formatted for autocomplete .&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form action=&quot;/&quot; method=&quot;post&quot; id=&quot;annuchum-form&quot; accept-charset=&quot;UTF-8&quot;&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div class=&quot;form-item form-type-textfield form-item-search&quot;&amp;gt;&#xA;&#xA;&#xA;&amp;lt;label for=&quot;edit-search&quot;&amp;gt;Nom de l'agent &amp;lt;/label&amp;gt;&#xA; &amp;lt;input type=&quot;text&quot; id=&quot;edit-search&quot; name=&quot;search&quot; value=&quot;&quot; size=&quot;30&quot; maxlength=&quot;128&quot; class=&quot;form-text&quot; /&amp;gt;&#xA;&amp;lt;div class=&quot;description&quot;&amp;gt;Tapez une recherche et cliquez votre choix pour obtenir le numéro&amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Anybody got any idea ? Maybe I missed something as I'm a seasoned php Dev but a total Drupal Newbie .I've searched the whole net looking for a clue&lt;/p&gt;&#xA;&#xA;&lt;p&gt;here my .module&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;/**&#xA; * @file&#xA; * Un module pour la récupération de données d'annuaire , et leur présentation sous UI Web 2.0&#xA; */&#xA;&#xA;/**&#xA; * Immplements hook_block_help().&#xA; * @param $path&#xA; * @param $arg&#xA; * @return string&#xA; */&#xA;function annuchum_help($path,$arg)&#xA;{&#xA;    switch($path)&#xA;    {&#xA;        case &quot;admin/help#annuchum&quot;:&#xA;            return '&amp;lt;p&amp;gt;' . t(&quot;Annuaire du Centre Hospitalier Universitaire&quot;) . '&amp;lt;/p&amp;gt;';&#xA;        break;&#xA;    }&#xA;}&#xA;&#xA;/**&#xA; * Implements hook_block_info()&#xA; */&#xA;&#xA;function annuchum_block_info()&#xA;{&#xA;    $blocks['annuchum'] = array(&#xA;        'info' =&amp;gt; t('Annuaire CHUM'),&#xA;        'cache'=&amp;gt; DRUPAL_CACHE_PER_ROLE,&#xA;    );&#xA;&#xA;    return $blocks;&#xA;}&#xA;&#xA;function annuchum_block_view($delta='')&#xA;{&#xA;    switch($delta)&#xA;    {&#xA;        case 'annuchum':&#xA;            $block['subject'] = t('Annuaire CHU ');&#xA;            $block['content'] = drupal_get_form('annuchum_form');&#xA;            break;&#xA;    }&#xA;&#xA;    return $block;&#xA;}&#xA;&#xA;function annuchum_form()&#xA;{&#xA;    $form =array();&#xA;&#xA;    $form['search'] = array(&#xA;        '#title' =&amp;gt; t('Nom de l\'agent'),&#xA;        '#type' =&amp;gt; 'textfield',&#xA;        '#size' =&amp;gt; 30,&#xA;        '#autocomplete_path' =&amp;gt; 'annuchum/autocomplete',&#xA;        '#description' =&amp;gt; 'Tapez une recherche et cliquez votre choix pour obtenir le numéro',&#xA;    );&#xA;&#xA;    $form['annulink'] =array('#markup' =&amp;gt; &quot;&amp;lt;a href='http://portail.fr:81/?q=annuaire-interne'&amp;gt;Annuaire détaillé&amp;lt;/a&amp;gt;&quot;);&#xA;&#xA;    return $form;&#xA;}&#xA;&#xA;function annuchum_menu()&#xA;{&#xA;    $items['annuchum/autocomplete'] = array(&#xA;        'page callback' =&amp;gt; '_annuchum_autocomplete',&#xA;        'title' =&amp;gt; 'autocomplete pour annuaire',&#xA;        //'access callback' =&amp;gt; TRUE,&#xA;        //'access' =&amp;gt; user_access('access annuchum autocomplete'),&#xA;        'access arguments' =&amp;gt; TRUE,&#xA;        'type' =&amp;gt; MENU_CALLBACK,&#xA;        'delivery callback' =&amp;gt; 'drupal_json_output',&#xA;    );&#xA;    return $items;&#xA;}&#xA;&#xA;function _annuchum_autocomplete($string ='')&#xA;{&#xA;    $matches = array();&#xA;&#xA;    $res = db_query(&quot;SELECT node.nid , node.title,field_prenom_value,field_tel_value&#xA;          FROM field_data_field_tel, field_data_field_prenom, node&#xA;          WHERE field_data_field_tel.entity_id = node.nid&#xA;          AND field_data_field_prenom.entity_id = node.nid&#xA;          AND node.type = 'annuaire'&#xA;          AND node.title LIKE LOWER(:ustring) &quot;,array(':ustring' =&amp;gt; '%' . db_like($string) . '%'));&#xA;&#xA;    foreach($res as $node)&#xA;        if(strlen($node-&amp;gt;title) + strlen($node-&amp;gt;field_prenom_value) &amp;lt; 15)&#xA;            $matches[$node-&amp;gt;field_tel_value] = check_plain($node-&amp;gt;title . &quot; &quot; .$node-&amp;gt;field_prenom_value . &quot; &quot; . str_replace(&quot; &quot;,&quot;&quot;,$node-&amp;gt;field_tel_value));&#xA;        else&#xA;            $matches[$node-&amp;gt;field_tel_value] = check_plain($node-&amp;gt;title . &quot; &quot; .substr($node-&amp;gt;field_prenom_value, 0 , 12 - strlen($node-&amp;gt;title) &amp;gt; 0 ? 12 - strlen($node-&amp;gt;title): 1) . &quot;. &quot; . str_replace(&quot; &quot;,&quot;&quot;,$node-&amp;gt;field_tel_value));&#xA;&#xA;    //print_r($matches);&#xA;    //echo 'alive';&#xA;    //return $matches;&#xA;    drupal_json_output($matches);&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Sorry for poor grammar , i'm not a native speaker . &#xA;Thanks in advance :)&lt;/p&gt;&#xA;"" OwnerUserId=""19113"" LastEditorUserId=""2800"" LastEditDate=""2013-07-10T19:45:28.067"" LastActivityDate=""2013-07-10T19:58:08.377"" Title=""(custom )Autocomplete won't work when the user is not logged"" Tags=""&lt;7&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""108365"" PostTypeId=""1"" CreationDate=""2014-03-28T20:14:22.143"" Score=""0"" ViewCount=""3606"" Body=""&lt;p&gt;I have added a styled google map V3 to a block using full html this all works fine and displays on page refresh. I'm have trouble with the map loading after linking to another page in conjunction with the ajax pages module. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;All of my main menu links are ajax calls and pages load via ajax. On a page refresh the map will show, but if I click back and forth through the ajax pages the map will fail to load. I'm guessing this has something to do with this line?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;google.maps.event.addDomListener(window, 'load', initialise); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is there something I can do to make the map load even after a ajax page change? I have tried to change the load to on.load but that doesn't make a difference.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the code in my block:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&quot;https://maps.googleapis.com/maps/api/js?sensor=false&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;div id=&quot;map-canvas&quot; style=&quot;height:400px; width:600px;&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;function initialise() {&#xA;var myLatlng = new google.maps.LatLng(53.068165,-4.076803); // Add the coordinates&#xA;var mapOptions = {&#xA;zoom: 8, // The initial zoom level when your map loads (0-20)&#xA;minZoom: 6, // Minimum zoom level allowed (0-20)&#xA;maxZoom: 17, // Maximum soom level allowed (0-20)&#xA;zoomControl:true, // Set to true if using zoomControlOptions below, or false to &#xA;remove all zoom controls.&#xA;zoomControlOptions: {&#xA;style:google.maps.ZoomControlStyle.DEFAULT // Change to SMALL to force just the + &#xA;and - buttons.&#xA;},&#xA;center: myLatlng, // Centre the Map to our coordinates variable&#xA;mapTypeId: google.maps.MapTypeId.ROADMAP, // Set the type of Map&#xA;scrollwheel: false, // Disable Mouse Scroll zooming (Essential for responsive sites!)&#xA;// All of the below are set to true by default, so simply remove if set to true:&#xA;panControl:false, // Set to false to disable&#xA;mapTypeControl:false, // Disable Map/Satellite switch&#xA;scaleControl:false, // Set to false to hide scale&#xA;streetViewControl:false, // Set to disable to hide street view&#xA;overviewMapControl:false, // Set to false to remove overview control&#xA;rotateControl:false // Set to false to disable rotate control&#xA;}&#xA;var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions); // &#xA;Render our map within the empty div&#xA;var image = new google.maps.MarkerImage(&quot;http://www.creare.co.uk/wp-content/uploads&#xA;/2013/08/marker.png&quot;, null, null, null, new google.maps.Size(40,52)); // Create a   &#xA;variable for our marker image.&#xA;var marker = new google.maps.Marker({ // Set the marker&#xA;position: myLatlng, // Position marker to coordinates&#xA;icon:image, //use our image as the marker&#xA;map: map, // assign the market to our map variable&#xA;title: 'Click to visit our company on Google Places' // Marker ALT Text&#xA;});&#xA;// google.maps.event.addListener(marker, 'click', function() { // Add a Click &#xA;Listener to our marker&#xA;// window.location='http://www.snowdonrailway.co.uk/shop_and_cafe.php'; // URL to &#xA;Link Marker to (i.e Google Places Listing)&#xA;// });&#xA;var infowindow = new google.maps.InfoWindow({ // Create a new InfoWindow&#xA;content:&quot;&amp;lt;h3&amp;gt;Snowdown Summit Cafe&amp;lt;/h3&amp;gt;&amp;lt;p&amp;gt;Railway Drive-through available.&amp;lt;/p&amp;gt;&quot; // &#xA;HTML contents of the InfoWindow&#xA;});&#xA;&#xA;google.maps.event.addListener(marker, 'click', function() { // Add a Click Listener &#xA;to our marker&#xA;infowindow.open(map,marker); // Open our InfoWindow&#xA;});&#xA;google.maps.event.addDomListener(window, 'resize', function() {  &#xA;map.setCenter(myLatlng); }); // Keeps the Pin Central when resizing the browser on   &#xA;responsive sites&#xA;}&#xA;google.maps.event.addDomListener(window, 'load', initialise); // Execute our   &#xA;'initialise' function once the page has loaded.&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Thanks,&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Terry&lt;/p&gt;&#xA;"" OwnerUserId=""27033"" LastEditorUserId=""27033"" LastEditDate=""2014-03-28T22:47:54.550"" LastActivityDate=""2016-06-10T05:54:14.860"" Title=""Google Map will not show on new ajax page load"" Tags=""&lt;ajax&gt;&lt;google-maps&gt;"" AnswerCount=""1"" CommentCount=""6"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""126029"" PostTypeId=""1"" AcceptedAnswerId=""126098"" CreationDate=""2014-08-07T14:44:13.303"" Score=""0"" ViewCount=""122"" Body=""&lt;p&gt;I'm having trouble with ajax in the workbench email module. On two nodes (out of hundreds), the ajax call to get a list of users to notify when the publication status changes will fail. The error is &quot;Invalid form POST data&quot;. I added watchdog logging, and actually the entire $_POST is missing when the ajax fires. Does anyone know what would cause that?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I can't reproduce this in our development environment. I copied the database down, and the codebase is the same, but the same node works just fine in dev.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've turned off boost caching on the live site and deleted the cache, and that did not help (although it's a node edit form, so I didn't think caching should matter).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It's consistently happening to the same two nodes, but I can't see anything different about them than the other nodes that work without issue.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;One more thing -- I am using the Ajax Debugger chrome extension, and postData is populated in the request object with all of the form data and sent to the server. So it must be something in the drupal_bootstrap to remove $_POST data, but I'm stumped.&lt;/p&gt;&#xA;"" OwnerUserId=""2091"" LastActivityDate=""2014-08-08T03:05:28.963"" Title=""Ajax call failing in Workbench email module"" Tags=""&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""145352"" PostTypeId=""1"" CreationDate=""2015-01-26T01:54:23.340"" Score=""2"" ViewCount=""5944"" Body=""&lt;p&gt;i am trying to get authenticated data after login with services module. ive a drupal services set up at openshift and the htmls are in my devices.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;i managed to login, get authenticated, get the session name, id, token etc. but when i tried to fetch data for authenticated users, im getting the &quot;403: Access denied for user anonymous&quot; error. same on both firefox and chrome.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ive used postman in chrome and poster in firefox. im getting all the desired results. if i logged in drupal and open the url directly, im getting the right results too. that proves my services and everything are correctly configured.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;i also tried examples with curl and php from my localhost, and they worked fine without any problem.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ive searched for solutions here and drupal forum. i did saw a few almost similar problems to mine in here, but they were not answered (like this one &lt;a href=&quot;https://drupal.stackexchange.com/questions/64962/post-ajax-json-with-session-id&quot;&gt;Post AJAX JSON with session id&lt;/a&gt;). after 5 days of failure, i think i should create a new post. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;below are the codes. i hoped someone could get me to the right direction. thanks in advance.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.post( &quot;https://drupal-halmsx.rhcloud.com/services/auth/user/login.json&quot;, &#xA;    { &quot;username&quot;: username, &quot;password&quot;: password })&#xA;  .done(function(data) {&#xA;        console.log(data);&#xA;&#xA;        var sessid = data.sessid;&#xA;        var session_name = data.session_name;&#xA;        var user = data.user;&#xA;        var token = data.token;&#xA;&#xA;        $.cookie(session_name, sessid, {path: '/'}); // set session name and id&#xA;        //$.cookie(&quot;token&quot;, token);&#xA;&#xA;        console.log($.cookie());&#xA;        console.log(user.uid);&#xA;&#xA;        $.ajax({&#xA;            type: &quot;GET&quot;,&#xA;            url: &quot;https://drupal-halmsx.rhcloud.com/services/auth/user/10.json&quot;, // hardcode this for example.&#xA;            beforeSend: function(xhr) {&#xA;                xhr.setRequestHeader('X-CSRF-Token', token)&#xA;            },&#xA;            dataType: &quot;json&quot;&#xA;        });     &#xA;    })&#xA;    .fail(function (data) {&#xA;        console.log(data);&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""42525"" LastEditorUserId=""199"" LastEditDate=""2018-04-19T19:40:41.540"" LastActivityDate=""2018-04-19T19:40:41.540"" Title=""how do I pass the session ID?"" Tags=""&lt;ajax&gt;&lt;javascript&gt;&lt;services&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""158651"" PostTypeId=""1"" AcceptedAnswerId=""158660"" CreationDate=""2015-05-17T10:08:31.587"" Score=""1"" ViewCount=""501"" Body=""&lt;p&gt;I have a block, of which I want to update the contents via AJAX. So the block is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$block['subject'] = t('My Block');&#xA;$block['content'] = '&amp;lt;div id=&quot;block_wrapper&quot;&amp;gt;&amp;lt;/div&amp;gt;';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And the form element AJAX part:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$form['select_element']['#ajax'] = array(&#xA;  'callback' =&amp;gt; 'ajax_callback',&#xA;  'wrapper' =&amp;gt; 'block_wrapper',&#xA;  'method' =&amp;gt; 'replace',&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The callback:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function ajax_callback($form, $form_state) {&#xA;  return views_embed_view('view_name', 'default', $form_state['values']['select_element']);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However when I change the form element the whole block content is replaced and the wrapper is replaced by a empty div, so subsequent alterations of the select element fail to update the block. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The &lt;a href=&quot;https://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/7#ajax_wrapper&quot; rel=&quot;nofollow&quot;&gt;wrapper documentation&lt;/a&gt; explains the entire div is replaced, not just it contents. But many modules (like for example Views) have dynamically updating form elements where changing a select element toggles other parts of a form, which keeps working no matter how often you change it. Do they insert the wrapper div again in the response? And how should I alter the response of views_embed_view to put the contents in a wrapper div?&lt;/p&gt;&#xA;"" OwnerUserId=""9921"" LastActivityDate=""2015-05-17T12:11:51.933"" Title=""How do other modules update elements using AJAX callbacks?"" Tags=""&lt;7&gt;&lt;forms&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""177644"" PostTypeId=""1"" CreationDate=""2015-10-15T16:38:07.670"" Score=""2"" ViewCount=""322"" Body=""&lt;p&gt;A view (path example : &lt;code&gt;foo/201507/video&lt;/code&gt;) has two contextual filters, the first for the month (&lt;em&gt;YYYYMM&lt;/em&gt;) and the second for a taxonomy term (with depth).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The interface provides next and previous buttons for the month and an accordion to select a taxonomy term in the hierarchy.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;After each click on a month button or on an accordion entry, the filter criteria have changed and the view's results need to be updated : the associated JavaScript builds the new URL in the &lt;code&gt;path&lt;/code&gt; variable, then&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var ajax_get = $.get( path)&#xA;          .done(function() { alert( &quot;Ok&quot; ); })&#xA;          .fail(function() { alert( &quot;Error&quot; ); });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The path is correctly built. I get the &quot;Ok&quot; alert, but nothing else happens. Moreover, if I enter the path manually in the URL bar of the browser, the view displays the expected results.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Has is to do with the fact that I bypassed primary and secondary navigation to directly add Bootstrap buttons and collapse into the &lt;code&gt;page.tpl.php&lt;/code&gt; template file ?&lt;/p&gt;&#xA;"" OwnerUserId=""34666"" LastEditorUserId=""28275"" LastEditDate=""2015-10-15T18:55:24.183"" LastActivityDate=""2015-10-15T18:55:24.183"" Title=""ajax get to refresh a view with contextual filters"" Tags=""&lt;ajax&gt;&lt;views&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""211297"" PostTypeId=""1"" AcceptedAnswerId=""211298"" CreationDate=""2016-08-11T20:25:31.173"" Score=""2"" ViewCount=""365"" Body=""&lt;p&gt;I've created a AJAX block form that allows a user to specify the number of fields they would like to have available. like so&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $form['columnNum'] = [&#xA;        '#title'   =&amp;gt; t('Number of Columns'),&#xA;        '#type'    =&amp;gt; 'select',&#xA;        '#options' =&amp;gt; [&#xA;            1         =&amp;gt; '1',&#xA;            2         =&amp;gt; '2',&#xA;            3         =&amp;gt; '3',&#xA;        ],&#xA;        '#default_value' =&amp;gt; $this-&amp;gt;configuration['columnNum'],&#xA;        '#empty_option'  =&amp;gt; t('-select-'),&#xA;        '#ajax'          =&amp;gt; [&#xA;            'callback'      =&amp;gt; [$this, 'columnCallback'],&#xA;        ],&#xA;    ];&#xA;&#xA;    $columns = $this-&amp;gt;colFieldGen($this-&amp;gt;configuration['columnNum'], $this-&amp;gt;configuration['columns']);&#xA;&#xA;    $form['column_wrapper'] = [&#xA;        '#type'       =&amp;gt; 'container',&#xA;        '#attributes' =&amp;gt; ['id' =&amp;gt; 'column_wrapper'],&#xA;        $columns,&#xA;&#xA;    ];&#xA;return $form;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;the colFieldGen form, generates the number of fields like so.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function colFieldGen($num, array $config) {&#xA;    for ($i = 0; $i &amp;lt; $num; $i += 1) {&#xA;        $numTitle    = $i+1;&#xA;        $columns[$i] = [&#xA;            $i             =&amp;gt; [&#xA;                '#type'       =&amp;gt; 'details',&#xA;                '#title'      =&amp;gt; t('Column '.$numTitle),&#xA;                '#open'       =&amp;gt; FALSE,&#xA;                'columnTitle' =&amp;gt; [&#xA;                    '#type'      =&amp;gt; 'textfield',&#xA;                    '#title'     =&amp;gt; t('Column Title'),&#xA;                ],&#xA;            ],&#xA;          ];&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And below is the callback.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function columnCallback(array&amp;amp;$form, FormStateInterface $form_state) {&#xA;        $response = new AjaxResponse();&#xA;        $columns = $this-&amp;gt;colFieldGen($number, $this-&amp;gt;configuration['columns']);&#xA;&#xA;        $content = [&#xA;            '#type'       =&amp;gt; 'container',&#xA;            '#attributes' =&amp;gt; ['id' =&amp;gt; 'column_wrapper'],&#xA;            $columns,&#xA;        ];&#xA;&#xA;        $response-&amp;gt;addCommand(new ReplaceCommand('#column_wrapper', $content));&#xA;        return $response;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm using the replace command to replace the fields that were present in the container, with a set of new fields. However any of the data in the new fields aren't sent through form_state. Fields that existed already like $form['columnNum'] are sent through $form_state just fine.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there a way to see values of ajax created form elements in $form_state? Or is there a better way to do this entirely?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;NOTE: This is all being performed in a blockForm if that makes any difference.&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;UPDATE:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I changed the field generator to be based on a form_state variable like so&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (empty($form_state-&amp;gt;getValue('number'))) {&#xA;    $form_state-&amp;gt;setValue('number', 1);&#xA;}&#xA;&#xA;$columns = $this-&amp;gt;colFieldGen($form_state-&amp;gt;getValue('number'), $this-&amp;gt;configuration['columns']);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and then in the AJAX call performed this&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function columnCallback(array&amp;amp;$form, FormStateInterface $form_state) {&#xA;    $form_state-&amp;gt;setValue('number', 10);&#xA;    $form_state-&amp;gt;setRebuild(true);&#xA;    return $form;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But the form never rebuilds with the new amount of specified fields. I receive the progress animation on change, so I know something is firing. I just get no results. To see if the form was attempting a rebuild I added &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (empty($form_state-&amp;gt;getValue('number'))) {&#xA;    $form_state-&amp;gt;setValue('number', 1);&#xA;} else {&#xA;    die($form_state-&amp;gt;getValue('number'));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;to have the form fail if the form_state already exists but it never dies.&lt;/p&gt;&#xA;"" OwnerUserId=""21300"" LastEditorUserId=""21300"" LastEditDate=""2016-08-12T13:48:03.077"" LastActivityDate=""2016-08-12T13:48:03.077"" Title=""Form elements created with AJAX aren't sending values through form_state"" Tags=""&lt;forms&gt;&lt;8&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""224809"" PostTypeId=""1"" CreationDate=""2017-01-06T21:34:52.720"" Score=""-1"" ViewCount=""3864"" Body=""&lt;p&gt;I'm porting an applet (tested standalone) to embedd it into a Drupal site.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It includes some Ajax processes, which work fine in the original version.&lt;br&gt;&#xA;Once adapted for Drupal, they all result in 404.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Below is a simplified excerpt of how I'm working.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;myModule.module&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function myModule_menu() {&#xA;  return [&#xA;    'myModule-ajax' =&amp;gt; [&#xA;      'page callback'     =&amp;gt; '_myModule_ajax_handle',&#xA;      'access arguments'  =&amp;gt; ['access content'],&#xA;      'type'              =&amp;gt; MENU_CALLBACK,&#xA;    ],&#xA;  ];&#xA;}&#xA;&#xA;// ...&#xA;&#xA;function _myModule_ajax_handle() {&#xA;  // here is a deliberately simplified return&#xA;  return '{&quot;test&quot;: &quot;Ajax result sample&quot;}';&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JS part&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(function($) {&#xA;&#xA;// Set common $.ajax properties.&#xA;$.ajaxSetup({&#xA;  url: 'myModule-ajax',&#xA;  //method: 'POST', &#xA;  dataType: 'json',&#xA;  error: function(jqXHR, status, error) {&#xA;    console.log(status + ': ', error);&#xA;  }&#xA;});&#xA;&#xA;getSqlObj('Depts'); // -&amp;gt; sqlDepts&#xA;&#xA;// ...&#xA;&#xA;function getSqlObj(objName) {&#xA;  $.ajax({&#xA;    data: {&#xA;      ajax: 'get' + objName&#xA;    },&#xA;    success: function(response) {&#xA;      // ...&#xA;    }&#xA;  })&#xA;}&#xA;&#xA;})(jQuery);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;With Firefox devtools I can see that the right url was called, in this case:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;myModule-ajax?ajax=getDepts&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;but the status is 404, and the returned data is &lt;strong&gt;the fully rendered&lt;/strong&gt; current page, with a message replacing the current node content:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Requested page &quot;/mySite/fr/myModule-ajax?ajax=getDepts&quot; not found&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;So I wonder not only why I get a 404 status, but also why I get this data returned.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;NOTE: among a number of tries with differently expresses urls, I noticed another weirdness: at the time of &lt;code&gt;url&lt;/code&gt; affectation (in &lt;code&gt;$.ajaxSetup()&lt;/code&gt; above), &lt;code&gt;Drupal.settings.basePath&lt;/code&gt; is undefined (in fact, &lt;code&gt;Drupal.settings&lt;/code&gt; exists but is empty).&lt;br&gt;&#xA;In the other hand, it contains all expected data when examined through the console just after the fail.&lt;/p&gt;&#xA;"" OwnerUserId=""45860"" LastActivityDate=""2017-01-06T23:43:22.120"" Title=""Ajax call results in 404"" Tags=""&lt;7&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""227171"" PostTypeId=""1"" AcceptedAnswerId=""232126"" CreationDate=""2017-02-01T06:47:29.473"" Score=""2"" ViewCount=""1494"" Body=""&lt;p&gt;I have a drupal 7 site running on a Redhat shared hosting environment that uses zend php. I am having problems with file upload on content types and webforms that accepts various file types up to 300MB. I have modified the server's php upload limit through the php.ini file, and can confirm that the limit is raised through &lt;code&gt;phpinfo()&lt;/code&gt; and the drupal status report that &lt;code&gt;post post_max_size&lt;/code&gt; and &lt;code&gt;upload_max_filesize&lt;/code&gt;. I believe this is a server configuration error because the site functions as expected on both my ubuntu development machine and test server, so the only possibility is with the settings on the shared redhat server environment.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The errors occur when I try to upload files in the 30-80 MB range, either to my content type or through the webform. In either case when a file is uploaded the request takes an abnormally long time and then fails with the following errors: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;An AJAX HTTP request terminated abnormally.&#xA;Debugging information follows.&#xA;Path: /file/ajax/field_training_materials/und/form-_TZM0uXFQeo35YReaxuUjeHprp2tr192kNHTucXffSM&#xA;StatusText: n/a&#xA;ResponseText: &#xA;Error  &#xA;The website encountered an unexpected error. Please try again later.    &#xA;&#xA;ReadyState: undefined&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Once, I received the following JS error while attempting the uploads: &lt;code&gt;&quot;Blocked Script Execution in 'node/722/edit' because the document's frame is sandboxed and the 'allow-scripts' permission is not set&quot;&lt;/code&gt; and &lt;code&gt;&quot;Blocked form submission to '/node/722/edit' because the form's frame is sandboxed and the 'allow-forms' permission is not set&lt;/code&gt;. Googling these errors didn't turn up any useful information.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;From what I can tell the files get almost completely uploaded to 57 of 58 MB and is placed in the correct directory without being attached to the content type. It seems to mostly have problems with audio files, but I don't have a range of different file types at different sizes to test for a pattern of breakpoint.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I researching the problem, I read that some people have trouble with the Suhosin PHP extension putting extra constrictions on PHP settings, but my live server doesn't have Suhosin running on it. Reading about the Suhosin issue, I have also tried upping the max_input_vars value, which only changed the error to the following. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;An unrecoverable error occurred. The uploaded file likely exceeded the maximum file size (300 MB) that this server supports.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;From running phpinfo(), I can see that all my php value settings are getting applied, but I suspect that maybe they don't take effect. Since the first error, the error has been failing silently, and nothing meaningful gets placed in my logs. I have also checked that all my php ini_set statements are consistent between .htaccess, settings.php, and the php.ini files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have just spoken with tech support the following error was thrown when I tried the file upload: &lt;code&gt;[Thu Feb 02 07:29:10.729972 2017] [core:error] [pid 475229] [client 178.203.233.17:6690] Script timed out before returning headers: index.php, referer:path to my content edit page&lt;/code&gt;. I also do not get anything meaningful in the watch dog logs. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The only difference between the file upload attempts with the content type and the webform is that the ajax error's path is different and I get the following JS error in the console:  &lt;code&gt;Error: Syntax error, unrecognized expression: .error, #overlay-context=form/training-suggestions-&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So, the only thing I am sure of at this point is that it must be a server configuration error. My suspicion is that somehow the the php values settings are getting applied, but perhaps overwritten at some stage. Any advice on how to solve or diagnose this would be greatly appreciated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Update: So, while trying this again I got a different ajax error, saying the mysql db went away:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   An AJAX HTTP request terminated abnormally.&#xA;    Debugging information follows.&#xA;    Path: /file/ajax/field_training_materials/und/form-66R_kY340Ob1IV3M9bRKvHevXAdePEElDr6cgwVf_DE&#xA;    StatusText: n/a&#xA;    ResponseText: Additional uncaught exception thrown while handling exception.OriginalPDOException: SQLSTATE[HY000]: General error: 2006 MySQL server has gone away: SELECT nt.*&#xA;    FROM &#xA;    {node_type} nt&#xA;    WHERE  (disabled = :db_condition_placeholder_0) &#xA;    ORDER BY nt.type ASC; Array&#xA;    (&#xA;    [:db_condition_placeholder_0] =&amp;amp;amp;gt; 0&#xA;    )&#xA;    in _node_types_build() (line 739 of /home/phislub9/public_html/modules/node/node.module).AdditionalPDOException: SQLSTATE[HY000]: General error: 2006 MySQL server has gone away: SELECT 1 AS expression&#xA;    FROM &#xA;    {variable} variable&#xA;    WHERE ( (name = :db_condition_placeholder_0) ); Array&#xA;    (&#xA;    [:db_condition_placeholder_0] =&amp;amp;amp;gt; drupal_css_cache_files&#xA;    )&#xA;    in variable_set() (line 1240 of /home/phislub9/public_html/includes/bootstrap.inc).Uncaught exception thrown in session handler.PDOException: SQLSTATE[HY000]: General error: 2006 MySQL server has gone away: SELECT 1 AS expression&#xA;    FROM &#xA;    {sessions} sessions&#xA;    WHERE ( (sid = :db_condition_placeholder_0) AND (ssid = :db_condition_placeholder_1) ); Array&#xA;    (&#xA;    [:db_condition_placeholder_0] =&amp;amp;amp;gt; 1A5hUf8pjc2OA0iW8Nlom8qeFgG8rJPPKXwxBKKANBI&#xA;    [:db_condition_placeholder_1] =&amp;amp;amp;gt; &#xA;    )&#xA;    in _drupal_session_write() (line 209 of /home/phislub9/public_html/includes/session.inc).&#xA;    ReadyState: undefined&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; So, I've done some poking around in response to the first answer below. Here's the result of &lt;code&gt;SHOW VARIABLES;&lt;/code&gt; in the mysql shell &lt;code&gt;max_allowed_packet  | 268435456&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update2:&lt;/strong&gt; Here's the output &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;mysql&amp;gt; show global status like 'com_kill';&#xA;ERROR 2006 (HY000): MySQL server has gone away&#xA;No connection. Trying to reconnect...&#xA;Connection id:    3204869&#xA;Current database: *** NONE ***&#xA;&#xA;+---------------+-------+&#xA;| Variable_name | Value |&#xA;+---------------+-------+&#xA;| Com_kill      | 0     |&#xA;+---------------+-------+&#xA;1 row in set (0.01 sec)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Checked with hosting tech support, apparently there is unlimited disk usage for website files, however the server reports that the /home folder is at 94%. This was due to serveral large zip files from the previous site maintainer/developer. I've backed up and removed these files, but it hasn't affected the file upload problem or the server's report on the size of the home folder. The only other thing I got from tech support was that the php values for the server MAYBE can't be overridden, or can't be set above certain upper bounds, but the support agent wasn't able to give me definitive answers on what those values were. I've followed up with a support ticket to get better answers to what's going on.&lt;/p&gt;&#xA;"" OwnerUserId=""28512"" LastEditorUserId=""28512"" LastEditDate=""2017-02-16T09:33:08.233"" LastActivityDate=""2017-03-23T09:48:39.897"" Title=""Server Configuration causes file uploads to fail"" Tags=""&lt;7&gt;&lt;entities&gt;&lt;ajax&gt;&lt;files&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""228113"" PostTypeId=""1"" AcceptedAnswerId=""228219"" CreationDate=""2017-02-09T14:30:00.053"" Score=""1"" ViewCount=""704"" Body=""&lt;p&gt;I have a search result page where all the searched results are loaded using ajax call. For each result, there is a button which should open a form in the modal.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The code snippet which is loading a button on the search result is as follows:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$build[$entity-&amp;gt;id]['footer']['footer-bottom-section']['view-modal-form'] = array(&#xA;        '#type' =&amp;gt; 'markup',&#xA;        '#markup' =&amp;gt; l('&amp;lt;span class=&quot;glyphicon glyphicon-ok&quot;&amp;gt;&amp;lt;/span&amp;gt; Get Best Price', 'request/add/'.$space_id.'/'.$entity-&amp;gt;id, array('html'=&amp;gt;TRUE,'attributes'=&amp;gt; array('class'=&amp;gt;array('btn','btn-orange', 'pull-right', 'ctools-use-modal')))),&#xA;    );&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The button is loaded properly on each search result, and it has all the classes provided. But it does not have &lt;code&gt;ctools-use-modal-processed&lt;/code&gt; class. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I know the reason since the page is already loaded and results are added to the page through ajax after load finishes, ctools is not finding &lt;code&gt;ctools-use-modal&lt;/code&gt; class to process. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I would like to know, how can I trigger ctools to process my ajax loaded search results so that it can add modal form for each searched result? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt; Following is the js function which is calls a custom menu callback function, to load results:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function fetchNext(url, $parent) {&#xA;    $parent.append('&amp;lt;div id=&quot;space-loading&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-refresh loading-spin&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/span&amp;gt;Loading&amp;lt;/div&amp;gt;');&#xA;    $.get( url, function( data ) {&#xA;        $parent.append( data );&#xA;        $('.load-next').bind('inview', function (event, visible) {&#xA;            if (visible &amp;amp;&amp;amp; !($(this).hasClass('disabled'))) {&#xA;                var url = $(this).attr('href');&#xA;                fetchNext(url, $(this).parent());&#xA;                $(this).remove();&#xA;              }&#xA;            });&#xA;        $('.load-next').click(function (event) {&#xA;            event.preventDefault();&#xA;            var url = $(this).attr('href');&#xA;            fetchNext(url, $(this).parent());&#xA;            $(this).remove();&#xA;        });&#xA;        processAfterLoad();&#xA;    }).fail(function() {&#xA;        $('#space-loading').text('Error in loading spaces. Please refresh page');&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is line which calls above function:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('.load-next').bind('inview', function (event, visible) {&#xA;            if (visible &amp;amp;&amp;amp; !($(this).hasClass('disabled'))) {&#xA;                var url = $(this).attr('href');&#xA;                fetchNext(url, $(this).parent());&#xA;                $(this).remove();&#xA;              }&#xA;            });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Following is the kind of URL which will be called:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/lazyspaces/&amp;lt;Google places api locality&amp;gt;?&amp;lt;lat, lng, geolocation, sort, page&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;for e.g.:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/lazyspaces/Thane-West--Thane--Maharashtra--India?lat=19.2444738&amp;amp;lng=72.9814877&amp;amp;geolocation=Thane%20West%2C%20Thane%2C%20Maharashtra%2C%20India&amp;amp;sort=distance&amp;amp;page=2&amp;amp;plain=1&amp;amp;lastdistance=8.80&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Menu callback:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$items['lazyspaces'] = array(&#xA;        'title' =&amp;gt; 'Find a Space',&#xA;        'page callback' =&amp;gt; 'discover_lazy_spaces',&#xA;        'access callback' =&amp;gt; 'entity_access',&#xA;        'access arguments' =&amp;gt; array('view', 'space', 1),&#xA;        'file' =&amp;gt; 'includes/search.utils.inc',&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here &lt;code&gt;discover_lazy_spaces&lt;/code&gt; function, extracts get parameters and send it to a query to fetch results from database and then builds result list.&lt;/p&gt;&#xA;"" OwnerUserId=""4720"" LastEditorUserId=""70768"" LastEditDate=""2017-02-10T12:40:21.027"" LastActivityDate=""2017-02-10T12:40:21.027"" Title=""Add ctools processing for content loaded via ajax"" Tags=""&lt;7&gt;&lt;theming&gt;&lt;forms&gt;&lt;ajax&gt;&lt;chaos-tool-suite&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""238674"" PostTypeId=""1"" AcceptedAnswerId=""238693"" CreationDate=""2017-06-16T19:19:48.937"" Score=""1"" ViewCount=""2274"" Body=""&lt;p&gt;I am trying to create a simple form in D8 that submits with a submit button and then replaces the entire form content via ajax.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;For some reason, my AJAX submit works perfectly on the first click but then kicks in a normal submit handler.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;This Works&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  public function getFormId() {&#xA;    return 'my_form';&#xA;  }&#xA;&#xA;  public function buildForm(array $form, FormStateInterface $form_state) {&#xA;&#xA;  $form['#prefix'] = '&amp;lt;div id=&quot;form-test&quot;&amp;gt;';&#xA;  $form['#suffix'] = '&amp;lt;/div&amp;gt;';&#xA;  $form['title'] = array(&#xA;    '#type' =&amp;gt; 'textfield',&#xA;    '#title' =&amp;gt; t('Title'),&#xA;    '#required' =&amp;gt; TRUE,&#xA;  );&#xA;  $form['submit'] = array(&#xA;    '#type' =&amp;gt; 'submit',&#xA;    '#value' =&amp;gt; t('Submit ').time(),&#xA;    '#ajax' =&amp;gt; [&#xA;      'callback' =&amp;gt; [$this, 'loadStep'],&#xA;      'wrapper' =&amp;gt; 'form-test',&#xA;      'effect' =&amp;gt; 'fade',&#xA;    ],&#xA;  );&#xA;&#xA;return $form;&#xA;}&#xA;&#xA;public function loadStep(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;$response = new AjaxResponse();&#xA;$form['submit']['#value'] = time();&#xA;&#xA;$response-&amp;gt;addCommand(new HtmlCommand('#form-test', $form));&#xA;return $response;&#xA;&#xA;}&#xA;&#xA;public function validateForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;&#xA;}&#xA;&#xA;public function submitForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;// TODO: Implement submitForm() method.&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;This Does NOT work&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  public function getFormId() {&#xA;return 'my_form';&#xA;}&#xA;&#xA;public function buildForm(array $form, FormStateInterface $form_state) {&#xA;  $form['#prefix'] = '&amp;lt;div id=&quot;form-test&quot;&amp;gt;';&#xA;  $form['#suffix'] = '&amp;lt;/div&amp;gt;';&#xA;  $form['title'] = array(&#xA;    '#type' =&amp;gt; 'textfield',&#xA;    '#title' =&amp;gt; t('Title'),&#xA;    '#required' =&amp;gt; TRUE,&#xA;  );&#xA;  $form['submit'] = array(&#xA;    '#type' =&amp;gt; 'submit',&#xA;    '#value' =&amp;gt; t('Submit ').time(),&#xA;    '#ajax' =&amp;gt; [&#xA;      'callback' =&amp;gt; [$this, 'loadStep'],&#xA;      'wrapper' =&amp;gt; 'form-test',&#xA;      'effect' =&amp;gt; 'fade',&#xA;    ],&#xA;  );&#xA;&#xA;return $form;&#xA;}&#xA;&#xA;public function loadStep(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;$response = new AjaxResponse();&#xA;$form['#prefix'] = '&amp;lt;div id=&quot;form-test&quot;&amp;gt;';&#xA;$form['#suffix'] = '&amp;lt;/div&amp;gt;';&#xA;$form['title'] = array(&#xA;  '#type' =&amp;gt; 'textfield',&#xA;  '#title' =&amp;gt; t('Title'),&#xA;  '#required' =&amp;gt; TRUE,&#xA;);&#xA;$form['submit'] = array(&#xA;  '#type' =&amp;gt; 'submit',&#xA;  '#value' =&amp;gt; t('Submit ').time(),&#xA;  '#ajax' =&amp;gt; [&#xA;    'callback' =&amp;gt; [$this, 'loadStep'],&#xA;    'wrapper' =&amp;gt; 'form-test',&#xA;    'effect' =&amp;gt; 'fade',&#xA;  ],&#xA;);&#xA;$response-&amp;gt;addCommand(new HtmlCommand('#form-test', $form));&#xA;return $response;&#xA;&#xA;}&#xA;&#xA;public function validateForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;&#xA;}&#xA;&#xA;public function submitForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;// TODO: Implement submitForm() method.&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It seem like as soon as I add something more substantially than just changing the label on the submit button, it seems to fail from the second submit where it just invokes a regular submit.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want to replace the entire form on every submit (basically creating a multistep form).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am running 8.3.2 btw&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Many thanks for all help.&lt;/p&gt;&#xA;"" OwnerUserId=""30465"" LastActivityDate=""2017-06-17T03:50:39.950"" Title=""Drupal 8 Ajax Form Submit works only once?"" Tags=""&lt;8&gt;&lt;forms&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""6"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""239179"" PostTypeId=""1"" AcceptedAnswerId=""239451"" CreationDate=""2017-06-23T11:46:00.807"" Score=""1"" ViewCount=""1108"" Body=""&lt;p&gt;When using the following AJAX element in a &lt;code&gt;BlockBase&lt;/code&gt; extended class everything seems to work just jolly good in the Block-layout page. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$form['foobar_row']['add_more'] = [&#xA;  '#type' =&amp;gt; 'submit',&#xA;  '#value' =&amp;gt; $this-&amp;gt;t('Add more'),&#xA;  '#submit' =&amp;gt; [[$this, 'addOne']],&#xA;  '#ajax' =&amp;gt; [&#xA;    'callback' =&amp;gt; [$this, 'addmoreCallback'],&#xA;    'wrapper' =&amp;gt; 'foobar-wrapper',&#xA;    'method' =&amp;gt; 'replaceWith',&#xA;    'event' =&amp;gt; 'click'&#xA;  ],&#xA;  '#id' =&amp;gt; 'foobar__add_more'&#xA;];&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Though, the block form will fail when used as a subform, in my case it's being used in a paragraph, which contains a block_field. And I can completely see why it's failing, since the &lt;code&gt;$form&lt;/code&gt; in the callback method contains the entire node form. I even experimented with the following alteration to my callback method, which works, but is absolutely no solution since the entire path to the element should always be the same. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  public function addmoreCallback(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;    $referral_field = $form_state-&amp;gt;get('num_foobar_rows');&#xA;&#xA;    // Note every parenting element being addressed in following, but I would ideally only have to define ['settings']['foobar_row'];&#xA;    return $form['field_paragraphs']['widget'][0]['subform']['field_paragraph_block_blocks']['widget'][0]['settings']['foobar_row'];&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How would I make my &lt;code&gt;addmoreCallback&lt;/code&gt; more dynamic and make sure it returns the right element? &lt;/p&gt;&#xA;"" OwnerUserId=""7704"" LastActivityDate=""2017-06-28T07:01:51.203"" Title=""AJAX forms will break when used in subform"" Tags=""&lt;8&gt;&lt;forms&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""245695"" PostTypeId=""1"" AcceptedAnswerId=""245696"" CreationDate=""2017-09-12T12:18:02.387"" Score=""1"" ViewCount=""1266"" Body=""&lt;p&gt;I am trying to login via an Ajax request. I don't need any fancy REST features, I just want to login. According to the docs and &lt;a href=&quot;https://drupal.stackexchange.com/a/221045&quot;&gt;other questions here&lt;/a&gt; it should be pretty straightforward for &lt;strong&gt;Drupal 8.3.7&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; $.ajax({&#xA;    method: &quot;POST&quot;,&#xA;    url: &quot;/user/login?_format=json&quot;,&#xA;    dataType: &quot;json&quot;,&#xA;    contentType: &quot;application/json&quot;,&#xA;    data: { user: &quot;myname&quot;, pass: &quot;mypass&quot; }&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, this doesn't work at all for me, as I always get a 403 forbidden response. &#xA;The funny thing is, I can get it to work in Postman (a third party tool for sending REST requests) but only under certain conditions. &lt;strong&gt;It works great in Postman as long as I don't submit the domain's cookie&lt;/strong&gt; with the request. If I stick to the default settings and let it send the cookie I have the '403 forbidden' issues again. If I then manually delete the cookie all is well again for the next attempt (then it sets a new cookie and the next attempt will fail).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I assume I am having the same problem with the in-browser jQuery version of my request, but there I can not seem to get rid of the cookie so I can't get it to work. I have tried every answer provided in related questions (csrf token, jdrupal, basic auth, ...) but it's always the same issue if I make a request where cookie data is automatically attached by the browser. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any ideas what is going wrong? Why is Drupal hating on the cookie data (which was set by Drupal itself!). Can authenticated users not use the login url anymore? Is it maybe because the /user/login page redirects to /user for authenticated users, so the request is sent to /user instead if you're already authenticated?&lt;/p&gt;&#xA;"" OwnerUserId=""79096"" LastEditorUserId=""199"" LastEditDate=""2018-04-15T09:07:12.253"" LastActivityDate=""2018-04-15T09:07:12.253"" Title=""Login via REST fails (403 forbidden) if cookie set by Drupal is kept"" Tags=""&lt;8&gt;&lt;users&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;tokens&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""250203"" PostTypeId=""1"" CreationDate=""2017-11-14T10:08:43.963"" Score=""1"" ViewCount=""992"" Body=""&lt;p&gt;I need to help the user to fill a set of fields in a content type form, this way :&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The users start to fill one of the concerned fields: They click on a button that will open a modal form. The modal form will propose some choices depending on the filled fields; when users choose a proposition, the modal form closes and the fields of the original form get updated with the chosen proposition.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have tested 2 methods to open the modal form and I have issues with both.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;With the first method, I can open and close the modal form, but I can't transmit field values from the form 1 to the modal form; with the second method, I can pass the field values to the modal form, but I fail closing this modal form.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can I update the fields from the first form when I close the modal form?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is my .module file. Read the comments for details.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;use Drupal\Core\Url;&#xA;use Drupal\Core\Ajax\AjaxResponse;&#xA;use Drupal\Core\Ajax\OpenModalDialogCommand;&#xA;use Drupal\Core\Ajax\CloseModalDialogCommand;&#xA;&#xA;&#xA;/**&#xA; * Implements hook_form_FORM_ID_alter().&#xA; */&#xA;function my_test_module_form_node_article_form_alter(&amp;amp;$form, &amp;amp;$form_state, $form_id)  {&#xA;&#xA;    $form['#attached']['library'][] = 'core/drupal.dialog.ajax';&#xA;&#xA;    $form['my_fieldset'] = array (&#xA;            '#type' =&amp;gt; 'fieldset',&#xA;            '#title' =&amp;gt; t ( 'My fieldset' ),&#xA;            '#collapsible' =&amp;gt; TRUE,&#xA;            '#collapsed' =&amp;gt; FALSE,&#xA;            '#tree' =&amp;gt; TRUE&#xA;    );&#xA;    $form['my_fieldset']['my_field_1'] = array(&#xA;        '#type' =&amp;gt; 'textfield',&#xA;        '#title' =&amp;gt; t('Field 1'),&#xA;    );&#xA;    $form['my_fieldset']['my_field_2'] = array(&#xA;            '#type' =&amp;gt; 'textfield',&#xA;            '#title' =&amp;gt; t('Field 2'),&#xA;    );&#xA;    // METHOD 1&#xA;    // Problem : it doesn't allow to transmit my field values (from the $form_state) to the modal Form&#xA;    $form['my_fieldset']['open_modal1'] = array(&#xA;            '#type' =&amp;gt; 'link',&#xA;            '#title' =&amp;gt; t('Open modal 1'),&#xA;            '#url' =&amp;gt; Url::fromRoute('my_test_module.modal_form'),&#xA;            '#attributes' =&amp;gt; array(&#xA;                    'class' =&amp;gt; array('button', 'use-ajax'),&#xA;                    'data-dialog-type' =&amp;gt; 'modal',&#xA;            ),&#xA;    );&#xA;    // METHOD 2&#xA;    // Problem : The modal form can't be closed&#xA;    $form['my_fieldset']['open_modal2'] = array(&#xA;            '#type' =&amp;gt; 'submit',&#xA;            '#value' =&amp;gt; t('Open modal 2'),&#xA;            '#ajax' =&amp;gt; array(&#xA;                    'callback' =&amp;gt;  'my_test_module_open_modal_form',&#xA;                    'event' =&amp;gt; 'click',&#xA;            ),&#xA;    );&#xA;}&#xA;&#xA;/**&#xA; * Ajax Callback for the form - it opens the modal form&#xA; *&#xA; */&#xA;function my_test_module_open_modal_form($form, $form_state) {&#xA;&#xA;    $values = $form_state-&amp;gt;getValues(); &#xA;&#xA;    // Get the modal form&#xA;    $modal_form = \Drupal::formBuilder()-&amp;gt;getForm('Drupal\my_test_module\Form\MyModalForm',$values['my_fieldset']['my_field_1'],$values['my_fieldset']['my_field_2']);&#xA;    // Add an AJAX command to open a modal dialog with the form as the content.&#xA;    $response = new AjaxResponse();&#xA;    $response-&amp;gt;addCommand(new OpenModalDialogCommand(t('My Modal'), $modal_form, ['width' =&amp;gt; '555']));  &#xA;    return $response;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The modal form class I use is the following one.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/**&#xA;* @file&#xA;* Contains \Drupal\my_test_module\Form\MyModalForm.&#xA;*/&#xA;&#xA;namespace Drupal\my_test_module\Form;&#xA;&#xA;use Drupal\Core\Form\FormBase;&#xA;use Drupal\Core\Form\FormStateInterface;&#xA;use Drupal\Core\Ajax\AjaxResponse;&#xA;use Drupal\Core\Ajax\CloseModalDialogCommand;&#xA;&#xA;/**&#xA; * This class restitutes the modal form&#xA; *&#xA; */&#xA;class MyModalForm extends FormBase {&#xA;&#xA;    /**&#xA;    * {@inheritdoc}&#xA;    */&#xA;    public function getFormId() {&#xA;        return 'MyModalForm';&#xA;    }&#xA;&#xA;    public function buildForm(array $form, FormStateInterface $form_state, $field_1 = NULL, $field_2 = NULL) {&#xA;&#xA;        $form['m1'] = array(&#xA;                '#markup' =&amp;gt; 'Field 1 : ' . $field_1,&#xA;        );&#xA;        $form['m2'] = array(&#xA;                '#markup' =&amp;gt; 'Field 2 : ' . $field_2,&#xA;        );&#xA;&#xA;        $form['results'] = array (&#xA;                '#type' =&amp;gt; 'table',&#xA;                '#header' =&amp;gt; array('Field 1', 'Field 2',''),&#xA;        );&#xA;&#xA;&#xA;        $form['results'][0]['field_1'] = array(&#xA;                '#markup' =&amp;gt; 'AAAA',&#xA;        );&#xA;        $form['results'][0]['field_2'] = array(&#xA;                '#markup' =&amp;gt; 'BBBB',&#xA;        );&#xA;        $form['results'][0]['submit0'] = array(&#xA;                '#type' =&amp;gt; 'submit',&#xA;                '#value' =&amp;gt; 'Choose',&#xA;                'name' =&amp;gt; '0',&#xA;                '#attributes' =&amp;gt; [&#xA;                        'class' =&amp;gt; [&#xA;                                'use-ajax',&#xA;                        ],&#xA;                ],&#xA;                '#ajax' =&amp;gt; array(&#xA;                        'callback' =&amp;gt; '::ajaxCloseModal',&#xA;                        'event' =&amp;gt; 'click',&#xA;                ),&#xA;        );&#xA;&#xA;        $form['results'][1]['field_1'] = array(&#xA;                '#markup' =&amp;gt; 'AAAA',&#xA;        );&#xA;        $form['results'][1]['field_2'] = array(&#xA;                '#markup' =&amp;gt; 'BBBB',&#xA;        );&#xA;        $form['results'][1]['submit1'] = array(&#xA;                '#type' =&amp;gt; 'submit',&#xA;                '#value' =&amp;gt; 'Choose',&#xA;                'name' =&amp;gt; '1',&#xA;                '#attributes' =&amp;gt; [&#xA;                        'class' =&amp;gt; [&#xA;                                'use-ajax',&#xA;                        ],&#xA;                ],&#xA;                '#ajax' =&amp;gt; array(&#xA;                        'callback' =&amp;gt; '::ajaxCloseModal',&#xA;                        'event' =&amp;gt; 'click',&#xA;                ),&#xA;        );&#xA;        return $form;&#xA;&#xA;    }&#xA;&#xA;    /**&#xA;    * {@inheritdoc}&#xA;    */&#xA;    public function validateForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;    }&#xA;&#xA;    /**&#xA;    * {@inheritdoc}&#xA;    */&#xA;    public function submitForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;    }&#xA;&#xA;    public function ajaxCloseModal(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;        $response = new AjaxResponse();&#xA;        $response-&amp;gt;addCommand(new CloseModalDialogCommand());&#xA;        //Get the triggering element, then replace the field_1 and field_2 values in the original form&#xA;        return $response;&#xA;&#xA;    }&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""70263"" LastEditorUserId=""199"" LastEditDate=""2017-11-14T11:07:36.963"" LastActivityDate=""2017-11-14T11:42:34.043"" Title=""Interactions between a form and a modal form"" Tags=""&lt;8&gt;&lt;forms&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""286317"" PostTypeId=""1"" CreationDate=""2019-09-13T04:27:18.830"" Score=""0"" ViewCount=""87"" Body=""&lt;p&gt;What I want to achieve is:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;A form with a number of selects / textfields&lt;/li&gt;&#xA;&lt;li&gt;A div external to the form that contains information pertinent to the form's current input (i.e. not contained in the form element)&lt;/li&gt;&#xA;&lt;li&gt;Updating of the external div when the form input changes&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;The scenario is makes and models for part 1, products available for part 2. The important part is that the product list output is not contained in the form because the add to cart ajax functionality of the parts fail if inside the form itself (I haven't found an answer for that one either).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've implemented this with hook_entity_extra_field_info() which ultimately returns &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;\Drupal::formBuilder() -&amp;gt; getForm('Drupal\my_module\Form\PartProductsForm', $tid)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Everything in the form works well but I really have no idea how to get the product list into the external div. Well actually, I have managed it but it seems like a really bad way to do it!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not sure there's much point pasting my code here as it's not achieving what I want. Almost certainly plenty of bad practices in there too (my first D8 module) but FWIW, here's the code for displaying the form:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;      // Get the term ID&#xA;  $tid = $entity -&amp;gt; get('tid') -&amp;gt; value;      &#xA;  // Pass the parameter to the form&#xA;  $form['form'] = \Drupal::formBuilder() -&amp;gt; getForm('Drupal\p4b_mods\Form\PartProductsForm', $tid);&#xA;  // Create the content too&#xA;  $form['parts_list'] = \Drupal::formBuilder() -&amp;gt; getForm('Drupal\p4b_mods\Form\PartProductsForm', $tid, true)['part_products'];&#xA;  $build = $form;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And the form with the current hacky code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class PartProductsForm extends FormBase {&#xA;  public function getFormId() {&#xA;    return 'part_products_form';&#xA;  }&#xA;&#xA;  protected $termStorage;&#xA;  protected $tid = 0;&#xA;  protected $manufacturer = 0;&#xA;  protected $model = 0;&#xA;&#xA;  public function __construct(EntityTypeManagerInterface $entity_type_manager) {&#xA;    $this -&amp;gt; termStorage = $entity_type_manager -&amp;gt; getStorage('taxonomy_term');&#xA;  }&#xA;&#xA;  public static function create(ContainerInterface $container) {&#xA;    return new static(&#xA;      $container-&amp;gt;get('entity_type.manager')&#xA;    );&#xA;  }&#xA;&#xA;  public function buildForm(array $form, FormStateInterface $form_state, $tid = NULL, $dataOnly = false) {&#xA;    if ($this -&amp;gt; tid == 0) $this -&amp;gt; tid = $tid;&#xA;    if ($dataOnly == true) return $this -&amp;gt; buildFormData();&#xA;&#xA;// Functionality for changing the manufacturer/model&#xA;$element = $form_state -&amp;gt; getTriggeringElement();&#xA;if ($element != NULL) {&#xA;  // What changed?&#xA;  switch ($element['#title']) {&#xA;    case 'Manufacturer':&#xA;&#xA;      // ...etc&#xA;&#xA;  }&#xA;}&#xA;&#xA;// Add the manufacturer text box, use autocomplete&#xA;$form['manufacturer'] = [&#xA;  '#type' =&amp;gt; 'textfield',&#xA;  '#title' =&amp;gt; 'Manufacturer',&#xA;  '#autocomplete_route_name' =&amp;gt; 'my_module.autocomplete.manufacturer',&#xA;  '#ajax' =&amp;gt; [&#xA;    'event' =&amp;gt; 'autocompleteclose',&#xA;    'callback' =&amp;gt; [$this, 'updateManufacturer'],&#xA;    'wrapper' =&amp;gt; 'model-select',&#xA;    'disable_refocus' =&amp;gt; true,&#xA;  ],&#xA;];&#xA;&#xA;// Ajax div so we can ajax in the model&#xA;$form['model_div'] = [&#xA;  '#type' =&amp;gt; 'html_tag',&#xA;  '#tag' =&amp;gt; 'div',&#xA;  '#attributes' =&amp;gt; [&#xA;    'id' =&amp;gt; ['model-select'],&#xA;  ],&#xA;];&#xA;&#xA;// Add the model autocomplete, pass the manufacturer ID in the autocomplete so it only returns models&#xA;// for the current manufacturer&#xA;$form['model_div']['model'] = [&#xA;  '#type' =&amp;gt; 'textfield',&#xA;  '#title' =&amp;gt; 'Model',&#xA;  '#autocomplete_route_name' =&amp;gt; 'my_module.autocomplete.model',&#xA;  '#autocomplete_route_parameters' =&amp;gt; [&#xA;    'manufacturerId' =&amp;gt; $this -&amp;gt; manufacturer,&#xA;  ],&#xA;  '#ajax' =&amp;gt; [&#xA;    'event' =&amp;gt; 'autocompleteclose',&#xA;    'callback' =&amp;gt; [$this, 'updateModel'],&#xA;    'wrapper' =&amp;gt; 'year-select',&#xA;    'disable_refocus' =&amp;gt; true,&#xA;  ],&#xA;];&#xA;&#xA;    return $form;&#xA;  }&#xA;&#xA;&#xA;/* Build the renderable array of the parts list for the term */&#xA;  public function buildFormData() {&#xA;    // Placeholder for the products &#xA;    $renderArray['part_products'] = [&#xA;      '#type' =&amp;gt; 'html_tag',&#xA;      '#tag' =&amp;gt; 'div',&#xA;      '#attributes' =&amp;gt; [&#xA;        'id' =&amp;gt; ['part-products-data'],&#xA;      ],&#xA;    ];    &#xA;    // Now we've got our filters, get the list of actual products that match&#xA;    $connection = \Drupal::database();&#xA;&#xA;    // Query the database &#xA;    $query = $connection -&amp;gt; select('commerce_product', 'product');&#xA;&#xA;    // ...etc...&#xA;&#xA;    $result = $query -&amp;gt; distinct() -&amp;gt; execute();&#xA;    foreach ($result as $record) {&#xA;      // Load the commerce product &#xA;      $entity = \Drupal::entityTypeManager() -&amp;gt; getStorage('commerce_product') -&amp;gt; load($record -&amp;gt; product_id);&#xA;      // Get the view builder for the entity&#xA;      $viewBuilder = \Drupal::entityTypeManager() -&amp;gt; getViewBuilder('commerce_product');&#xA;      // Get the list view&#xA;      $preRender = $viewBuilder -&amp;gt; view($entity, 'list');&#xA;      // Add to the form&#xA;      $renderArray['part_products'][$record -&amp;gt; product_id] = $preRender;&#xA;    }&#xA;    return $renderArray;&#xA;&#xA;  }&#xA;&#xA;  public function validateForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;  }&#xA;&#xA;  public function submitForm(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;  }&#xA;&#xA;  public function updateManufacturer(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;    $response = new AjaxResponse();&#xA;    $form['model_div']['model']['#value'] = '- All -';&#xA;    $this -&amp;gt; addSectionResponse($response, $form['model_div'], '#model-select');&#xA;    $formData = $this -&amp;gt; buildFormData();&#xA;    $this -&amp;gt; addSectionResponse($response, $formData, '#part-products-data');&#xA;    return $response;&#xA;  }&#xA;&#xA;  public function updateModel(array &amp;amp;$form, FormStateInterface $form_state) {&#xA;    $response = new AjaxResponse();&#xA;    $formData = $this -&amp;gt; buildFormData();&#xA;    $this -&amp;gt; addSectionResponse($response, $formData, '#part-products-data');&#xA;    return $response;    &#xA;  }&#xA;&#xA;&#xA;  private function addSectionResponse(AjaxResponse $response, array $formSection, $selector) {&#xA;    $renderer = \Drupal::service('renderer');&#xA;    $rendered = $renderer -&amp;gt; render($formSection);&#xA;    $data = BubbleableMetadata::createFromRenderArray($formSection);&#xA;    $attachments = $data -&amp;gt; getAttachments();&#xA;    $response -&amp;gt; addAttachments($attachments);  &#xA;    $response -&amp;gt; addCommand(new ReplaceCommand($selector, $rendered));&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""96300"" LastActivityDate=""2019-09-13T04:27:18.830"" Title=""How to Create a Form with Ajax Output External to the Form?"" Tags=""&lt;forms&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""297257"" PostTypeId=""1"" AcceptedAnswerId=""297258"" CreationDate=""2020-10-07T07:23:42.643"" Score=""5"" ViewCount=""1767"" Body=""&lt;p&gt;First I am not very good in JavaScript so maybe I do not know some very basics... I apologize in advance.&lt;/p&gt;&#xA;&lt;p&gt;I created a form where I want to save every change in single fields directly without the need to submit the form each time. Therefore I created a custom route which returns an AjaxResponse on successfull database savings as well as on any errors on the Drupal side.&lt;/p&gt;&#xA;&lt;p&gt;But I want to be aware of any errors which may appear on the client side as well. &lt;code&gt;$.ajax()&lt;/code&gt; has the function &lt;code&gt;.fail()&lt;/code&gt; and &lt;code&gt;.done()&lt;/code&gt; where I can do different things in my JavaScript when something went wrong. These methods are missing for &lt;code&gt;Drupal.ajax()&lt;/code&gt;. Is there any way to react on errors when using &lt;code&gt;Drupal.ajax()&lt;/code&gt;?&lt;/p&gt;&#xA;&lt;p&gt;I tried&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;try {&#xA;  Drupal.ajax({url: path}).execute();&#xA;}&#xA;catch (e) {&#xA;  alert(e.name + &amp;quot;: &amp;quot; + e.message);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;and built in some errors on my controller but all that happens is that the browsers console lists Ajax errors - no alert is shown to the client.&lt;/p&gt;&#xA;"" OwnerUserId=""28126"" LastActivityDate=""2020-10-07T07:57:51.680"" Title=""Error handling with Drupal.ajax()"" Tags=""&lt;8&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\drupal.stackexchange.com\Posts.xml,"  <row Id=""316072"" PostTypeId=""1"" CreationDate=""2023-06-14T19:58:16.393"" Score=""0"" ViewCount=""32"" Body=""&lt;p&gt;I am on Drupal 9.3.x&lt;/p&gt;&#xA;&lt;p&gt;I just discovered that File Field in node entity form which is marked as required, not showing client side validation fail message. Rather it submitting the form and then showing the validation fail message.&lt;/p&gt;&#xA;&lt;p&gt;This is causing issue for my modal form. I am loading the entity form's custom form mode into modal. The file field is marked as required, actually its a media field which is linked with a field field. So when user submitting the form, its not validating that, file is not uploaded and submitting the form, getting out of modal window and showing the validation fail message.&lt;/p&gt;&#xA;&lt;p&gt;Searched in the net a lot, getting no clue. The following things tried:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Added an another test file field (not media field), its the same results&lt;/li&gt;&#xA;&lt;li&gt;Added a custom managed file field using hook_form_alter, its the same results&lt;/li&gt;&#xA;&lt;li&gt;Tried to submit the form through ajax, I see no form error reported for media field field&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;I am not sure if the as designed by Drupal or if there is any fix for it.&lt;/p&gt;&#xA;&lt;p&gt;One more thing, field is added inside commerce product and field is showing inside inline entity form in simple mode.&lt;/p&gt;&#xA;&lt;p&gt;Please help. :(&lt;/p&gt;&#xA;"" OwnerUserId=""34476"" LastActivityDate=""2023-07-20T16:20:04.030"" Title=""File Field client side validation not working"" Tags=""&lt;commerce&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\expressionengine.stackexchange.com\Posts.xml,"  <row Id=""23672"" PostTypeId=""1"" AcceptedAnswerId=""23727"" CreationDate=""2014-06-12T21:41:20.263"" Score=""1"" ViewCount=""2046"" Body=""&lt;p&gt;But not a javascript error, I think its something internal to EE?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Bear with me as this is a strange error I'm seeing.  I have a few pages in EE that are set type XML and they output XML dynamically using EE tags.  I can click View Template next these pages and the XML loads great in a browser window.  I validated the XML and it comes back with it not being valid XML.  It does seem that there is a ton of blank space at the top of my outputted XML file after the xml declaration line.  So, the fact that it is not validating might be the issue. (But let's not stop there with the details.)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there something special i need to remove the whitespace from the xml files?  It does seem excessive.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Loading in a web browser works fine - check!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Loading via jquery.ajax shows an error when I am using Chrome and I look at the Response tab.  So something odd is going on there.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Other details are when the page initial loads, the first xml page loads fine.  Then i have these tabs on the page and when i click through them, the other pages fail to load.  That's kind of odd.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This system of XML and jquery works fine on v2.5.2.  We have now moved to v2.7.3.  And for whatever reason, this stopped working.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;We do use VZ Address, jQuery v1.11.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The other odd thing is that I dont get any javascript errors.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Anyone have any suggestions for settings that I should check?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;&#xA;I found this thread on the &lt;a href=&quot;http://ellislab.com/forums/viewthread/237658/P15/&quot; rel=&quot;nofollow&quot;&gt;EE forums&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Essentially, what it says is that each form that is submitted needs to send a XID.  If you have a form you would want to add this line of code to your form.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&quot;hidden&quot; name=&quot;XID&quot; value=&quot;{XID_HASH}&quot; /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have a few forms that I'm going to add this too.  But my main issue is adding it to the jQuery.ajax call and I guess I need to send it through to xml pages where i am loading xml  data via ajax.  I'll report back if this fixes my issue.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;UPDATE #2&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I wrote a function in js to get the XID value from my webpage, but this did not fix the problem.  I still receive an error message when my jquery.ajax calls tries to load the XML data.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is what I added to the javascript to get the XID value:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getXID(show) {&#xA;  var myxid = document.getElementById(&quot;xid&quot;).value;&#xA;  return myxid;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And then I call this function later on inside of another function:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;params['XID'] = getXID(true);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It gets added as one of the params which is later passed to the jquery.ajax call.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I checked and I can see the XID param being sent to the jquery.ajax by looking in chrome network panel, i can see the query string it builds.  So we are good there.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is my jQuery ajax call.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery.ajax({&#xA;    url: url,&#xA;    type: 'POST',&#xA;    dataType: 'xml',&#xA;    data: params,&#xA;    success: callback&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update #3&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Did some digging and I saw that its possible to disable csrf_protection by adding this line to the config.php file.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$config['disable_csrf_protection'] = 'y';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, my config.php already had this line in it, which is similar.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$config['csrf_protection'] = FALSE;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Uploaded the config.php file and this made no difference.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I also added this to my config.php file and this did the trick:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$config['secure_forms'] = &quot;n&quot;;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But I don't want to disable secure forms on my website because security is especially important on the website I am working on.  Does it matter if the whole site is running under SSL?  Our domain runs under SSL for the whole site.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update #4&lt;/strong&gt;&#xA;Picking at straws here now.  I had read that XIDs in EE2.7.3 are single use.  So, i made a page template that generates a unique XID and i'm doing a &quot;GET&quot; to grab that XID value and i'm putting that in my function.  So i get a fresh XID each time the function runs.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getXID(show) {&#xA;// var myxid = document.getElementById(&quot;xid&quot;).value;&#xA;//return myxid;&#xA;$.get( &quot;/?/Site/unique-xid&quot;, function( data ) {&#xA;var myxid = data;&#xA;    console.log(myxid);&#xA;&#xA;    return myxid; &#xA;&#xA;});&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This still doesnt work.  What is problem here?  Why doesnt this work?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Am I missing something here?  Feeling defeated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update #5&lt;/strong&gt;&#xA;We got this fixed running in Chrome and Firefox.  IE, you silly fool, why won't you work right?  So, here is the solution I have so far.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In EE, I made a template to output a valid XID.  That page template looks like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php header(&quot;Cache-Control: no-cache, must-revalidate&quot;); ?&amp;gt;&#xA;&amp;lt;?php echo trim(XID_SECURE_HASH); ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Then in my JS file, i update the function I had listed above to this code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getXID(show) {&#xA;&#xA;    var myxid = null;&#xA;  var scriptUrl = &quot;/?/Site/unique-xid&quot;;&#xA;     $.ajax({&#xA;        url: scriptUrl,&#xA;        type: 'GET',&#xA;        dataType: 'text',&#xA;        async: false,&#xA;        success: function(data) {&#xA;            myxid = data;&#xA;        } &#xA;     });&#xA;     return myxid;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Then inside of another function I have this code, which run the function above and grabs that XID number and assigns it to the params array which is then sent to a $.ajax POST.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var params = {};&#xA;&#xA;params['XID'] = getXID(true);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So, as far as i can see this solution works great in Chrome and Firefox.  IE 11 is sort of random if it works or not.  I installed the Telerik control and when i run that program everything in IE works great.  When i exit Telerik and try the website, it sometimes crashes the browser and then IE stops responding.  Not gonna lie there is alot going on here.  The tabs trigger the functions which also load points into a Google Map.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So i read that IE has problems with AJAX &quot;GET&quot; requests and cache'ing problems.  So i added that no-cache header in the XID template to correct that.  I see in Fiddler i am getting that header i am sending.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It didnt solve the problem though.  IE still flakes out.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Completed&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Turns out the update #5 solution worked in all browsers.  On my dev site there were some images that were trying to be loaded over https that it can't find and that was creating a delay for the points load.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I fixed these broken image issues on the preview site and then everything was running much faster.  This was all inherited code so we are trying to fix this little by little.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I now have the solution running on our live site and appears to be working across the board in a variety of browsers.  All good news.&lt;/p&gt;&#xA;"" OwnerUserId=""1711"" LastEditorUserId=""1711"" LastEditDate=""2014-06-16T17:59:48.757"" LastActivityDate=""2014-06-16T18:25:01.857"" Title=""Load XML via jquery.ajax causes an error"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;xid&gt;&lt;secureforms&gt;&lt;csrf&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\expressionengine.stackexchange.com\Posts.xml,"  <row Id=""32508"" PostTypeId=""1"" CreationDate=""2015-08-03T10:47:25.447"" Score=""0"" ViewCount=""841"" Body=""&lt;p&gt;I have created a basic submission form using expression engine's plugin free form. From the CMS side of things my data is being submitted into the EE CMS. However after i have submitted my details, rather than receiving a success message i receive the following message on my form &lt;code&gt;object object&lt;/code&gt;. &lt;code&gt;&amp;lt;div id=&quot;form-messages&quot; class=&quot;success&quot;&amp;gt;[object Object]&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am assuming this has something to do with my jquery As the function was working when i was validating the submission through php.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Below is a snippet of my code. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var form = $('#ajax-contact');&#xA;var formMessages = $('#form-messages');&#xA;&#xA;$(form).submit(function(e) {&#xA;&#xA;e.preventDefault();&#xA;var formData = $(form).serialize();&#xA;&#xA;// Submit the form using AJAX.&#xA;$.ajax({&#xA;    type: 'POST',&#xA;    url: $(form).attr('action'),&#xA;    data: formData&#xA;})&#xA;.done(function(response) {&#xA;    //  formMessages div has the 'success' class.&#xA;    $(formMessages).removeClass('error');&#xA;    $(formMessages).addClass('success');&#xA;&#xA;    // Set the message text.&#xA;    $(formMessages).text(response);&#xA;&#xA;    // Clear the form.&#xA;    $('#name').val('');&#xA;    $('#email').val('');&#xA;})&#xA;.fail(function(data) {&#xA;    // Make sure that the formMessages div has the 'error' class.&#xA;    $(formMessages).removeClass('success');&#xA;    $(formMessages).addClass('error');&#xA;&#xA;    // Set the message text.&#xA;    if (data.responseText !== '') {&#xA;        $(formMessages).text(data.responseText);&#xA;    } else {&#xA;        $(formMessages).text('Oops! An error occured and your message could not be sent.');&#xA;    }&#xA;});&#xA;&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;HTML &#xA;    &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;exp:freeform:form &#xA;            form_id=&quot;1&quot;&#xA;            admin_notify=&quot;me@email.com&quot;&#xA;            form:class=&quot;main-contact submit-fade ajax-form&quot;&#xA;            form:id=&quot;ajax-contact&quot;&#xA;&#xA;&#xA;        }&#xA;&#xA;            &amp;lt;ul class=&quot;small-block-grid-2 medium-block-grid-2 hide-form&quot;&amp;gt;&#xA;               &amp;lt;li&amp;gt;&#xA;                  &amp;lt;label for=&quot;name&quot;&amp;gt;Name&amp;lt;/label&amp;gt;&#xA;                  {freeform:field:first_name&#xA;                      attr:class=&quot;form-control&quot; &#xA;                      attr:placeholder=&quot;First Name&quot; &#xA;                      attr:class=&quot;required&quot;&#xA;                  }&#xA;&#xA;                &amp;lt;/li&amp;gt;&#xA;&#xA;                &amp;lt;li&amp;gt;&#xA;                  &amp;lt;label for=&quot;email&quot;&amp;gt;Email&amp;lt;/label&amp;gt;&#xA;                  {freeform:field:email&#xA;                      attr:class=&quot;form-control&quot; &#xA;                      attr:placeholder=&quot;Email&quot; &#xA;                      attr:class=&quot;required&quot;&#xA;                  }&#xA;                 &amp;lt;/li&amp;gt;&#xA;              &amp;lt;/ul&amp;gt;&#xA;              &amp;lt;input type=&quot;submit&quot; class=&quot;btn btn-success&quot;&amp;gt;&#xA;&#xA;        {/exp:freeform:form}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""459"" LastActivityDate=""2015-08-03T17:14:54.830"" Title=""Jquery Freeform AJAX submission form error"" Tags=""&lt;solspace-freeform&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\expressionengine.stackexchange.com\Posts.xml,"  <row Id=""32607"" PostTypeId=""1"" CreationDate=""2015-08-10T18:15:11.760"" Score=""0"" ViewCount=""184"" Body=""&lt;p&gt;Not sure if this is an XID issue or what, but occasionally it will be successful but 99% of time it fails.  I want someone to seamlessly turn on &quot;vacation mode&quot; by just checking radio button without submit button or refresh... it goes and just sets a variable in database and spits out &quot;success or fail&quot;.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm using same custom ajax code throughout site and it works except this one page.  I'm sending a hidden XID, and tried stripping it down as much as possible.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Error it spits out for me (which i have no clue what that means):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{!-- ra:000000007029234a0000000076a13fa1 --}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here's my form basically:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form name=&quot;vacationModeForm&quot; class=&quot;clearfix vacationModeForm&quot; id=&quot;vacationModeForm&quot; action=&quot;{site_url}ajax/set_vacation_mode&quot; method=&quot;POST&quot; data-postback='vacationPostback' &amp;gt;    &#xA;&#xA;&amp;lt;input type=&quot;radio&quot; name=&quot;wk{embed:selectedWeek}_Active&quot; value=&quot;0&quot; onchange=&quot;$('.vacationModeForm').submit();&quot; {if wk{embed:selectedWeek}_Active == 0} checked='checked' {/if} &amp;gt; OF&amp;lt;input type=&quot;radio&quot; name=&quot;wk{embed:selectedWeek}_Active&quot; value=&quot;1&quot; onchange=&quot;$('.vacationModeForm').submit();&quot; {if wk{embed:selectedWeek}_Active == 1} checked='checked' {/if} &amp;gt; ON&#xA;&amp;lt;input type=&quot;hidden&quot; name=&quot;XID&quot; value=&quot;{XID_HASH}&quot; /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the simple ajax template setting a variable (I've stripped down as much as i could and even hardcoded) &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ee()-&amp;gt;db-&amp;gt;update('pc_users',&#xA;    array(&#xA;        'wk2_Active'  =&amp;gt; '1'&#xA;    ),&#xA;    array(&#xA;        'member_id' =&amp;gt; '1618'&#xA;    )&#xA;);  &#xA;&#xA;if ( (ee()-&amp;gt;db-&amp;gt;affected_rows()) &amp;gt; 0) {&#xA;    echo 'Success...';&#xA;}&#xA;else {&#xA;    echo &quot;Failed&quot;;&#xA;    ee()-&amp;gt;db-&amp;gt;error();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here's the custom ajax call used throughout.  it gets to the ajax template fine (I removed all the other classes for the .on, as I'm using this on every form throughout site and it works great on at least 10 diff. ajax calls/forms&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('body').on(&quot;submit&quot;, &quot;.vacationModeForm&quot;, function(e){&#xA;    e.preventDefault();&#xA;    var form = $(this);&#xA;    var postback = form.attr('data-postback');&#xA;    // only submit filled in fields so you don't get php undefined&#xA;    var fields = $(this).find(&quot;:input&quot;).filter(function () {&#xA;        return $.trim(this.value).length &amp;gt; 0;&#xA;    }).serialize();&#xA;    console.log('ajax form submitting to: '+form.attr('action'));&#xA;    $.ajax({&#xA;        type:&quot;POST&quot;,&#xA;        url:form.attr('action'),&#xA;        data:fields,&#xA;        dataType:&quot;html&quot;,&#xA;        beforeSend: function() {&#xA;            $('.'+postback+'').show().html('&amp;lt;span class=&quot;fa fa-spinner fa-pulse fa-3x fa-fw&quot;&amp;gt;&amp;lt;/span&amp;gt;');&#xA;        },&#xA;        success: function(response){ &#xA;            $('.'+postback+'').show().html(response);&#xA;            console.log(fields);&#xA;        },&#xA;        error: function(xhr, status, error) {&#xA;          alert(xhr.responseText);&#xA;        }&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""6553"" LastEditorUserId=""6553"" LastEditDate=""2015-08-10T19:07:55.103"" LastActivityDate=""2015-08-10T19:07:55.103"" Title=""Ajax xid form errors without refreshing page"" Tags=""&lt;ajax&gt;&lt;php-errors&gt;&lt;xid&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""3828"" PostTypeId=""1"" CreationDate=""2016-02-07T21:29:02.947"" Score=""2"" ViewCount=""1234"" Body=""&lt;p&gt;Tengo un problema al retornar un dato desde un &lt;code&gt;Controllers/registro&lt;/code&gt; en &lt;code&gt;php&lt;/code&gt; a un &lt;code&gt;Ajax&lt;/code&gt;. El controller recibe un dato desde un &lt;code&gt;Model/registro.php&lt;/code&gt;, pero el mismo no retorna al &lt;code&gt;Ajax&lt;/code&gt; ese dato que recibe.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Cuál pordría ser el motivo por el cual &lt;code&gt;Controller/registro.php&lt;/code&gt; no retorna ningún dato al &lt;code&gt;Ajax&lt;/code&gt;, a pesar de que sí realiza el insert en el &lt;code&gt;Model/registro.php&lt;/code&gt;?&lt;/p&gt;&#xA;&#xA;&lt;h3&gt;Model/registro.php&lt;/h3&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function registrar($username, $email, $password, $confirm_password)&#xA;{                                 &#xA;    try&#xA;    { &#xA;        $this-&amp;gt;has = crypt($password);&#xA;        $this-&amp;gt;has_con = crypt($confirm_password);&#xA;        $p= &quot;soy diferente de uno&quot;;&#xA;&#xA;        $registro = $this-&amp;gt;conexion-&amp;gt;conexion-&amp;gt;query(&quot;insert into registro_por (nombre, correo, pass, conf_pass) values( '$username', '$email', '$this-&amp;gt;has', '$this-&amp;gt;has_con')&quot;);&#xA;&#xA;        if ($registro)&#xA;        {&#xA;            return $p;                            &#xA;        }&#xA;        else&#xA;        {&#xA;            throw new Exception(&quot;Fallos la ejecución&quot;);                     &#xA;        }&#xA;&#xA;&#xA;    }&#xA;    catch (Exception $e)&#xA;    {&#xA;        echo 'Message: '.$e-&amp;gt;getMessage();&#xA;    }         &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h3&gt;Controllers/registro.php&lt;/h3&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require_once(&quot;../Model/registro.php&quot;);&#xA;&#xA;$username = $_POST[&quot;username&quot;];&#xA;$email = $_POST[&quot;email&quot;];&#xA;$password = $_POST[&quot;password&quot;];&#xA;$confirm_password = $_POST[&quot;confirm_password&quot;];      &#xA;&#xA;$reg = new Registro();&#xA;$t = $reg-&amp;gt;registrar($username, $email, $password, $confirm_password);  &#xA;&#xA;var_dump($t);&#xA;&#xA;if ($t != 1)&#xA;{&#xA;    //return &quot;ok&quot;;&#xA;    //echo &quot;es difenrete de uno&quot;;&#xA;    return $t;&#xA;}&#xA;else&#xA;{&#xA;    return $t;&#xA;    //echo &quot;fail&quot;;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h3&gt;JavaScript&lt;/h3&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;Ajax&lt;/code&gt; &lt;code&gt;jQuery&lt;/code&gt; recibe el data del controlador:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#register-submit').click(function () {      &#xA;&#xA;    var data = $('#register-form').serialize();&#xA;&#xA;    $.ajax({&#xA;        beforeSend: function () {&#xA;            console.log(data);&#xA;        },&#xA;        type: 'POST',&#xA;        url: '../Controllers/registro.php',&#xA;        data: data,&#xA;        success: function (data) {&#xA;            console.log('nanananana');&#xA;            console.log(&quot;soy data&quot;+data);&#xA;        }&#xA;    });&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""807"" LastEditorUserId=""30870"" LastEditDate=""2017-05-05T12:34:04.637"" LastActivityDate=""2019-04-15T14:02:05.403"" Title=""Error al retornar un data desde Controller php a un Ajax en jQuery"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""9183"" PostTypeId=""1"" AcceptedAnswerId=""9186"" CreationDate=""2016-05-05T15:10:27.363"" Score=""3"" ViewCount=""969"" Body=""&lt;p&gt;Quiero actualizar los datos de un formulario mediante AJAX (jQuery 1.10.2) y la respuesta pasa por el error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form name=&quot;formulario&quot;&amp;gt;&#xA;  &amp;lt;p id=&quot;identificador&quot;&amp;gt;9&amp;lt;/p&amp;gt;&#xA;  &amp;lt;input id=&quot;opcion-1&quot; type=&quot;radio&quot; name=&quot;opcion&quot; value=&quot;1&quot;&amp;gt;Opción uno&#xA;  &amp;lt;input id=&quot;opcion-2&quot; type=&quot;radio&quot; name=&quot;opcion&quot; value=&quot;2&quot;&amp;gt;Opción dos&#xA;  &amp;lt;input id=&quot;opcion-3&quot; type=&quot;radio&quot; name=&quot;opcion&quot; value=&quot;3&quot;&amp;gt;Opción tres&#xA;  &amp;lt;textarea id=&quot;texto&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;  &amp;lt;button onclick=&quot;update()&quot;&amp;gt;Update&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JavaScript&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Variables&#xA;var form   = document.formulario;&#xA;var id     = document.getElementById('identificador');&#xA;var radio  = document.getElementsByName('opcion');&#xA;var text   = document.getElementById('texto');&#xA;&#xA;&#xA;// Devolvemos la hora&#xA;function getUpdatedAt() {&#xA;&#xA;  var d = new Date();&#xA;  var day = d.getDate();&#xA;  var month = d.getMonth() + 1; //Months are zero based&#xA;  var year = d.getFullYear();&#xA;  var hour = d.getHours();&#xA;  var minutes = d.getMinutes();&#xA;  var seconds = d.getSeconds();&#xA;&#xA;  return year + &quot;-&quot; + month + &quot;-&quot; + day + &quot; &quot; + hour + &quot;:&quot; + minutes + &quot;:&quot; + seconds;&#xA;&#xA;}&#xA;&#xA;&#xA;// Gestionamos el UPDATE&#xA;function update() {&#xA;&#xA;  // Guardamos los valores que vamos a enviar&#xA;  var valor_1 = parseInt( id.textContent );&#xA;  for(var i=0; i&amp;lt;2; i++) { // radio.length = 2&#xA;    if (form.radio[i].checked) {&#xA;      var valor_2 = parseInt( form.radio[i].getAttribute('value') );&#xA;    }&#xA;  }&#xA;  var valor_3 = text.value;&#xA;  var valor_4 = getUpdatedAt();&#xA;&#xA;  // Mandamos los datos al servidor&#xA;  $.ajax({&#xA;    url: 'classes/update.php',&#xA;    type: 'post',&#xA;    dataType: 'json',&#xA;    data: { id: valor_1, opcion: valor_2, texto: valor_3, updatedAt: valor_4 },&#xA;    success: function(response) { console.log('success'); },&#xA;    error: function(response) { console.log('error'); }&#xA;  });&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Nos conectamos&#xA;$db_connection = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME, DB_PORT) or die(&quot;Error de conexión&quot;);&#xA;&#xA;// cambiamos el juego de caracteres a UTF-8&#xA;$db_connection-&amp;gt;set_charset(&quot;utf8&quot;);&#xA;&#xA;$data = array();&#xA;&#xA;// Hacemos el UPDATE de el input radio 'opcion' y el textarea 'texto' relacionados con el id N&#xA;$sql = &quot;UPDATE nombre_tabla SET opciones = &quot;.$_POST[&quot;opcion&quot;].&quot;, textos = &quot;.$_POST[&quot;texto&quot;].&quot;, updated_at = &quot;.$_POST[&quot;updatedAt&quot;].&quot; WHERE ids = &quot;.$_POST[&quot;id&quot;].&quot;&quot;;&#xA;&#xA;// pon el resultado en la variable result&#xA;$result = $db_connection -&amp;gt; query($sql);&#xA;&#xA;$row_goal_detail = mysqli_fetch_assoc($result);&#xA;&#xA;$data[] = $row_goal_detail;&#xA;&#xA;echo json_encode($data); //devolvemos los datos&#xA;&#xA;&#xA;$db_connection-&amp;gt;close();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El código que está descrito en la pregunta es un código simplificado para hacerlo más legible. A continuación está la respuesta que pinta la consola del código sin simplificar:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;console.log(response)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Object {&#xA;  readyState: 4,&#xA;  responseText: &quot;&amp;lt;br /&amp;gt;↵&amp;lt;font size='1'&amp;gt;&amp;lt;table class='xdebug-error x… 11.759 alunos na Educação de joven' à la ligne 1&quot;,&#xA;  status: 200,&#xA;  statusText: &quot;OK&quot;}&#xA;  abort: (e)&#xA;  always: ()&#xA;  complete: ()&#xA;  done: ()&#xA;  error: ()&#xA;  fail: ()&#xA;  getAllResponseHeaders: ()&#xA;  getResponseHeader: (e)&#xA;  overrideMimeType: (e)&#xA;  pipe: ()&#xA;  progress: ()&#xA;  promise: (e)&#xA;  readyState: 4&#xA;  responseText: &quot;&amp;lt;br /&amp;gt;↵&amp;lt;font size='1'&amp;gt;&amp;lt;table class='xdebug-error xe-warning' dir='ltr' border='1' cellspacing='0' cellpadding='1'&amp;gt;↵&amp;lt;tr&amp;gt;&amp;lt;th align='left' bgcolor='#f57900' colspan=&quot;5&quot;&amp;gt;&amp;lt;span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'&amp;gt;( ! )&amp;lt;/span&amp;gt; Warning: mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given in C:\wamp\www\new-g\classes\update.php on line &amp;lt;i&amp;gt;24&amp;lt;/i&amp;gt;&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;↵&amp;lt;tr&amp;gt;&amp;lt;th align='left' bgcolor='#e9b96e' colspan='5'&amp;gt;Call Stack&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;↵&amp;lt;tr&amp;gt;&amp;lt;th align='center' bgcolor='#eeeeec'&amp;gt;#&amp;lt;/th&amp;gt;&amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Time&amp;lt;/th&amp;gt;&amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Memory&amp;lt;/th&amp;gt;&amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Function&amp;lt;/th&amp;gt;&amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Location&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;↵&amp;lt;tr&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;1&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;0.0000&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='right'&amp;gt;144312&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec'&amp;gt;{main}(  )&amp;lt;/td&amp;gt;&amp;lt;td title='C:\wamp\www\new-g\classes\update.php' bgcolor='#eeeeec'&amp;gt;..\update.php &amp;lt;b&amp;gt;:&amp;lt;/b&amp;gt;0&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;↵&amp;lt;tr&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;2&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;0.0010&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec' align='right'&amp;gt;152720&amp;lt;/td&amp;gt;&amp;lt;td bgcolor='#eeeeec'&amp;gt;&amp;lt;a href='http://www.php.net/function.mysqli-fetch-assoc' target='_new'&amp;gt;mysqli_fetch_assoc&amp;lt;/a&amp;gt;↵(  )&amp;lt;/td&amp;gt;&amp;lt;td title='C:\wamp\www\new-g\classes\update.php ' bgcolor='#eeeeec'&amp;gt;..\update.php &amp;lt;b&amp;gt;:&amp;lt;/b&amp;gt;24&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;↵&amp;lt;/table&amp;gt;&amp;lt;/font&amp;gt;↵[null]Erreur de syntaxe près de 'o fim de março de 2014 foram matriculados  11.759 alunos na Educação de joven' à la ligne 1&quot;&#xA;  setRequestHeader: (e,t)&#xA;  state: ()&#xA;  status: 200&#xA;  statusCode: (e)&#xA;  statusText: &quot;OK&quot;&#xA;  success: ()&#xA;  then: ()&#xA;  __proto__: Object&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""3539"" LastEditorUserId=""3539"" LastEditDate=""2016-05-05T18:57:45.680"" LastActivityDate=""2016-05-05T18:57:45.680"" Title=""Problema UPDATE con AJAX"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""25788"" PostTypeId=""1"" AcceptedAnswerId=""25847"" CreationDate=""2016-10-01T23:34:26.443"" Score=""1"" ViewCount=""788"" Body=""&lt;p&gt;Tengo el siguiente &lt;strong&gt;controller&lt;/strong&gt; : &lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;public function indexAction(Request $request)&#xA;    {&#xA;        if (!$request-&amp;gt;isXmlHttpRequest())&#xA;        {&#xA;            $this-&amp;gt;denyAccessUnlessGranted('ROLE_ESP_NAC', null, 'Imposible acceder a este recurso !!');&#xA;&#xA;            $repositoryRiesgos = $this-&amp;gt;getDoctrine()-&amp;gt;getRepository('AppBundle:Riesgo');&#xA;&#xA;&#xA;            $listado = $repositoryRiesgos-&amp;gt;findAll(); //findByPages($request-&amp;gt;get('page', 1));&#xA;            return $this-&amp;gt;render('AppBundle:CodifRiesgos:index.html.twig', array('riesgos' =&amp;gt; $listado));&#xA;        } else&#xA;        {&#xA;            try&#xA;            {&#xA;                $this-&amp;gt;denyAccessUnlessGranted('ROLE_ESP_NAC', null, 'Imposible acceder a este recurso !!');&#xA;            } catch (AccessDeniedException $denyExc)&#xA;            {&#xA;                return new Response($denyExc-&amp;gt;getMessage(), 403);&#xA;            }&#xA;&#xA;            $repositoryRiesgos = $this-&amp;gt;getDoctrine()-&amp;gt;getRepository('AppBundle:Riesgo');&#xA;            $listado = $repositoryRiesgos-&amp;gt;findAll();&#xA;&#xA;            return $this-&amp;gt;render('AppBundle:CodifRiesgos:tablaRiesgos.html.twig', array('riesgos' =&amp;gt; $listado));&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Incluso en el controller prácticamente repetí el código tanto para la petición vía AJAX como la normal.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora bien la &lt;strong&gt;plantilla &lt;code&gt;index.html.twig&lt;/code&gt;&lt;/strong&gt; es la siguiente:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{% extends &quot;::base.html.twig&quot; %}&#xA;&#xA;{% block title %} PAMI - Codificadores {% endblock %}&#xA;&#xA;{% block principal %}    &#xA;    &amp;lt;br/&amp;gt;&#xA;    &amp;lt;div class=&quot;breadcrumb&quot;&amp;gt;        &#xA;        &amp;lt;a href=&quot;{{ path('app_homepage') }}&quot;&amp;gt;Inicio&amp;lt;span class=&quot;glyphicon glyphicon-chevron-right&quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;amp;nbsp;&#xA;        Riesgos&amp;lt;a class=&quot;lnkRecargarRiesgos&quot; href=&quot;{{ path('riesgos_listado') }}&quot;&amp;gt; &amp;lt;span class=&quot;glyphicon glyphicon-refresh&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;               &#xA;    &amp;lt;/div&amp;gt;           &#xA;&#xA;    &amp;lt;div id=&quot;tablaDatos&quot;&amp;gt;&#xA;        &amp;lt;table id=&quot;tablaRiesgos&quot; class=&quot;table table-condensed table-hover table-responsive&quot;&amp;gt;&#xA;            &amp;lt;thead&amp;gt;&#xA;                {% if app.user and is_granted('ROLE_ESP_NAC') %}&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;th colspan=&quot;5&quot;&amp;gt;&amp;lt;a id=&quot;lnkRegistrarRiesgo&quot; href=&quot;{{ path('riesgos_registrar_nuevo') }}&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-plus&quot;&amp;gt;&amp;lt;/span&amp;gt; Nuevo&amp;lt;/a&amp;gt;&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;               &#xA;                {% endif %}&#xA;                &amp;lt;tr&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Nombre&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Descripci&amp;amp;oacute;n&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Alto&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Editar&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Eliminar&amp;lt;/th&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&#xA;            &amp;lt;/thead&amp;gt;&#xA;            &amp;lt;tbody&amp;gt;&#xA;                {% for riesgo in riesgos%}&#xA;                    &amp;lt;tr id=&quot;filaRiesgo_{{ riesgo.id }}&quot;&amp;gt;&#xA;                        &amp;lt;td&amp;gt;{{ riesgo.nombre }}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;{{ riesgo.descripcion }}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;&#xA;                            {% if riesgo.calificaComoAltoRiesgo %}&#xA;                                &amp;lt;span class=&quot;glyphicon glyphicon-hand-up&quot;&amp;gt;&amp;lt;/span&amp;gt;&#xA;                            {% endif %}&#xA;                        &amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;&amp;lt;a class=&quot;lnkEditarRiesgo&quot; href=&quot;{{ path('riesgos_editar', {'id':riesgo.id}) }}&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-edit&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;&amp;lt;a class=&quot;lnkEliminarRiesgo&quot; href=&quot;{{ path('riesgos_eliminar', {'id':riesgo.id}) }}&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-remove&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                {% endfor %}&#xA;            &amp;lt;/tbody&amp;gt;            &#xA;        &amp;lt;/table&amp;gt;   &#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;{% endblock %}&#xA;&#xA;{% block javascripts %}&#xA;    {{ parent() }}&#xA;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;        $(document).ready(function(){&#xA;&#xA;            $('a.lnkRecargarRiesgos').on('click', function(e) {&#xA;                    e.preventDefault();&#xA;                    var url = $(this).attr('href');&#xA;                    $.ajax({&#xA;                        'datatypes': 'html',&#xA;                        'type': 'GET',&#xA;                        'url': url,&#xA;                        beforeSend: function() {&#xA;                            $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;                        }&#xA;                    }).done(function(data) {&#xA;                        $('#tablaDatos').html(data);&#xA;                    }).fail(function(jqXHR) {&#xA;                        $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;                    }).always(function() {&#xA;                        $('#indicador').fadeOut('slow', function() {&#xA;                            $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                        });&#xA;                    });&#xA;                });           &#xA;&#xA;&#xA;                $('#tablaRiesgos tbody tr a.lnkEliminarRiesgo').on('click', function(e) {&#xA;                    e.preventDefault();&#xA;                    var idRiesgo = $(this).attr('id');&#xA;                    var url=$(this).attr('href');&#xA;                    var trPadre=$(this).parents('tr');&#xA;                    $.ajax({&#xA;                        'datatypes': 'html',&#xA;                        'type': 'GET',&#xA;                        'url': url,&#xA;                        beforeSend: function() {&#xA;                            $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;                        }&#xA;                    }).done(function(data) {&#xA;                        $(trPadre).remove();&#xA;                        $('#indicador').html(data);&#xA;                    }).fail(function(jqXHR) {&#xA;                        $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;                    }).always(function() {&#xA;                        $('#indicador').fadeOut(4900, function() {&#xA;                            $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                        });&#xA;                    });&#xA;                });&#xA;        });&#xA;    &amp;lt;/script&amp;gt;&#xA;{% endblock %}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El problema es el siguiente:  &lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Cuando la plantilla es cargada inicialmente, el evento &lt;code&gt;onclick&lt;/code&gt; asociado al &lt;code&gt;a.lnkEliminarRiesgo&lt;/code&gt; funciona correctamente.&lt;/li&gt;&#xA;&lt;li&gt;Luego, al hacer click en el &lt;code&gt;a.lnkRecargarRiesgos&lt;/code&gt;, recargo la misma información actualizada (mediante AJAX) en &lt;code&gt;div#tablaDatos&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Pero ahora, como se volvió a generar el &lt;code&gt;a.lnkEliminarRiesgo&lt;/code&gt;, &lt;strong&gt;no se dispara el evento &lt;code&gt;.on('click',...&lt;/code&gt; que había asociado originalmente&lt;/strong&gt;. En cambio, se sigue el enlace del &lt;code&gt;href&lt;/code&gt; porque no se ejecutó &lt;code&gt;e.preventDefault()&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;Yo quiero que el evento on click siga funcionando igual que al inicio.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;No sé si es que mi enfoque del trabajo con las plantillas en Symfony2 es incorrecto o me falta algo o no estoy enfocando bien el uso de las llamadas asíncronas, o la forma en que estoy incluyendo el JavaScript.&lt;/p&gt;&#xA;"" OwnerUserId=""14272"" LastEditorUserId=""12864"" LastEditDate=""2017-06-24T05:49:22.367"" LastActivityDate=""2017-06-24T05:49:22.367"" Title=""No se dispara el evento click luego de recargar el contenido mendiante una petición AJAX en Symfony2"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;eventos&gt;"" AnswerCount=""3"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""32990"" PostTypeId=""1"" CreationDate=""2016-11-10T16:17:24.327"" Score=""0"" ViewCount=""145"" Body=""&lt;p&gt;actualmente tengo la siguiente función asociada al evento &lt;code&gt;‘click’&lt;/code&gt; de una etiqueta &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; con &lt;code&gt;id=&quot;lnkRecargaRegistros&quot;&lt;/code&gt;, esta función siempre que se utiliza actualiza el &lt;code&gt;tbody&lt;/code&gt;  de una tabla con &lt;code&gt;id=&quot;tablaDatos&quot;&lt;/code&gt;, con el contenido del recurso &lt;code&gt;href&lt;/code&gt;  de la etiqueta &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt;.&lt;br&gt;&#xA;Para usarla en una vista, incluyo una etiqueta &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; de la siguiente manera:  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;a id=&quot;lnkRecargaRegistros&quot; href=&quot;{{ path('embarazada_recargarListadoNodo', {'nodoId':estructuraOrganizativa.id}) }}&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-refresh&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el handler del evento click:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#vistas').on('click', '#lnkRecargaRegistros', function(e) {&#xA;    e.preventDefault();&#xA;    var url = $(this).attr('href');&#xA;    $.ajax({&#xA;        'datatypes': 'html',&#xA;        'type': 'GET',&#xA;        'url': url,&#xA;        beforeSend: function() {&#xA;            $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;        }&#xA;    }).done(function(data) {&#xA;        $('#tablaDatos tbody').html(data);&#xA;    }).fail(function(jqXHR) {&#xA;        $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;    }).always(function(jqXHR, status) {&#xA;        if (status !== 'success') {&#xA;            $('#indicador').fadeOut(5500, function() {&#xA;                $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;            });&#xA;        } else {&#xA;            $('#indicador').fadeOut('fast', function() {&#xA;                $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;            });&#xA;        }&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;De esta forma funciona perfecto para recargar el &lt;code&gt;tbody&lt;/code&gt; de la tabla con &lt;code&gt;id=&quot;tablaDatos&quot;&lt;/code&gt;.&lt;br&gt;&#xA;Ahora bien, para recargar el contenido de una vista completa he tenido que implementar otro handler muy similar al anterior, con la única diferencia que en el &lt;code&gt;.done&lt;/code&gt; de la llamada AJAX,   simplemente he cambiado el id del elemento a actualizar.   &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y cada vez que necesito actualizar una vista completa utilizo entonces una etiqueta &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; pero con &lt;code&gt;id=&quot;lnkCargarVista&quot;&lt;/code&gt;  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi duda es como hacer un handler genérico para el evento &lt;code&gt;´click´&lt;/code&gt; de una etiqueta &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; de manera tal que me recargue un elemento pasado por parámetro  o establecido como atributo de la etiqueta.&lt;br&gt;&#xA;Es que necesito que mi fichero de scripts.js sea lo más mínimo posible y básicamente estoy repitiendo código para hacer casi lo mismo, actualizar un determinada región de la página.  &lt;/p&gt;&#xA;"" OwnerUserId=""14272"" LastEditorUserId=""14272"" LastEditDate=""2016-11-10T16:26:55.267"" LastActivityDate=""2016-11-11T03:11:27.990"" Title=""Función para recargar cualquier región de la vista, pasando id como parametro"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""35080"" PostTypeId=""1"" AcceptedAnswerId=""35082"" CreationDate=""2016-11-21T17:11:02.113"" Score=""3"" ViewCount=""1029"" Body=""&lt;p&gt;Tengo un formulario en el que intento agregar una categoria por medio de ajax y siempre que intento crear una categoria me salta error POST 405, y nunca llega a  Categoria controller y obviamente no introduce nada en la base de datos&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Uso windows 7 y Xampp y todo esto es en localhost&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mis datos&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Route::resource('categorias','categoriaController');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CREACATEGORIAS&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{!! Form::open(['route' =&amp;gt; 'admin.categorias.store','method' =&amp;gt;'POST','class'=&amp;gt;'form-horizontal']) !!}&#xA;&#xA;                                    {{ csrf_field() }}&#xA;&#xA;                                   &amp;lt;div  class=&quot;form-group&quot;&amp;gt;&#xA;                                          {!! Form::label('categoria', 'Categoria', ['class' =&amp;gt; 'col-md-4 control-label']) !!}&#xA;                                        &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xA;&#xA;                                         {!! Form::text('categoria', '', ['Crea una categoria','class'=&amp;gt;'form-control']) !!}&#xA;&#xA;&#xA;                                        &amp;lt;/div&amp;gt;&#xA;                                    &amp;lt;/div&amp;gt;&#xA;&#xA;                                      &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                                        &amp;lt;div class=&quot;col-md-6 col-md-offset-4&quot;&amp;gt;&#xA;                                            &amp;lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; id=&quot;bsubmit&quot;&amp;gt;&#xA;                                                &amp;lt;i class=&quot;fa fa-btn fa-user&quot;&amp;gt;&amp;lt;/i&amp;gt; Crea tu categoria&#xA;                                            &amp;lt;/button&amp;gt;&#xA;                                        &amp;lt;/div&amp;gt;&#xA;                                    &amp;lt;/div&amp;gt;&#xA;{!! Form::close() !!}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;FUNCION AJAX&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;&#xA;&#xA;    $('#bsubmit').click(function(e){&#xA;        e.preventDefault();&#xA;        var valorCategoria = $('input[name=&quot;categoria&quot;]').val();&#xA;        //var rutaCompleta = window.location.pathname+'/create';&#xA;    var rutaCompleta = window.location.pathname;&#xA;&#xA;        $.ajax({&#xA;            url: rutaCompleta,&#xA;            method: 'POST',&#xA;            dataType: 'json',&#xA;            data: {'categoria': valorCategoria},&#xA;            headers: { 'X-CSRF-TOKEN': $('meta[name=&quot;_token&quot;]').attr('content') },&#xA;        })&#xA;        .done(function() {&#xA;            console.log(&quot;success&quot;);&#xA;                    var estilo = 'style=&quot;background : green; height : 30px; text-align:center; color:white; margin-top:20px &quot;';&#xA;                    var msgnotificacion =   '&amp;lt;div class=&quot;alert alert-success&quot;&amp;gt;';&#xA;                        msgnotificacion+=   '&amp;lt;a href=&quot;#&quot; class=&quot;close&quot; data-dismiss=&quot;alert&quot; aria-label=&quot;close&quot;&amp;gt;&amp;amp;times;&amp;lt;/a&amp;gt;';&#xA;                        msgnotificacion+=   '&amp;lt;strong&amp;gt;REGISTRO '+valorCategoria+' CREADO CORRECTAMENTE&amp;lt;/strong&amp;gt;';&#xA;                        msgnotificacion+=   '&amp;lt;/div&amp;gt;';&#xA;&#xA;                     $('#labelnombre').after(msgnotificacion);&#xA;                     $('#bsubmit').after('&amp;lt;p '+estilo+'&amp;gt;Categoria..:: '+valorCategoria+' ::.. &amp;lt;/p&amp;gt;');&#xA;&#xA;        })&#xA;        .fail(function(erroz) {&#xA;            console.log(&quot;error_&quot;+erroz.status);&#xA;        })&#xA;        .always(function() {&#xA;            console.log(&quot;complete&quot;);&#xA;        });&#xA;&#xA;&#xA;&#xA;&#xA;    })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Los metas que tengo en la vista&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;&amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;_token&quot; content=&quot;{!!csrf_token()!!}&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CategoriaController (metodo store)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  public function store(Request $request)&#xA;    {&#xA;&#xA;        dd($request-&amp;gt;all());&#xA;         if ($request-&amp;gt;ajax()) :&#xA;            \App\modelos\categoria::create($request-&amp;gt;all());&#xA;&#xA;        endif;&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""4725"" LastEditorUserId=""73"" LastEditDate=""2017-05-01T18:51:08.520"" LastActivityDate=""2017-05-01T18:51:08.520"" Title=""error 405 POST ajax laravel MethodNotAllowedHttpException"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;bootstrap&gt;&lt;laravel&gt;&lt;laravel-5&gt;"" AnswerCount=""1"" CommentCount=""2"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""36809"" PostTypeId=""1"" CreationDate=""2016-11-30T11:59:08.400"" Score=""1"" ViewCount=""401"" Body=""&lt;p&gt;Llevo unos dias intentando resolver esto y no lo consigo,&#xA;Estoy haciendo la logica para eliminar por ajax registros pero no me funciona, si me voy al apartado del firefox para desarrolladores, en la pestaña red, una vez hago la peticion, no hace nada, no envia ningun tipo de peticion POST, he probado si esta bien enlazado y efectivamente funciona el jquery en esa pagina , pero con ajax no acaba de funcionar, pienso que puede ser de dos cosas, una es de la ruta&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;url: 'http://localhost/ficheros/laravel_escuelait/public/admin/categorias/'+valorIdCategoria,&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;que funciona perfectamente, es decir valorIdCategoria coge el valor que tiene que coger y es la ruta que a la que hay que enviar en las peticiones &quot;delete&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El otro factor que pienso que puede fallar son los datos, es decir&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;data: {'_method':'DELETE','id': valorIdCategoria},&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si lo pruebo asi,  errorThrown del metodo fail me arroja esto&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;error 500 _ Internal Server Error&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;sin embargo si lo pongo asi&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;data: {id: valorIdCategoria}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;, o asi&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;data: {'id': valorIdCategoria},&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;me arroja este error&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;error 405 _ Method Not Allowed&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pongo el resto del codigo&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CONTROLADOR CATEGORIAS (NO LLEGA NUNCA AL CONTROLADOR)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   public function destroy($id,Request $request)&#xA;    {&#xA;&#xA;        if($request-&amp;gt;ajax()):&#xA;                $delCat = \App\modelos\categoria::find($request-&amp;gt;$id);&#xA;                $delCat-&amp;gt;delete();&#xA;        endif;&#xA;&#xA;        return redirect()-&amp;gt;to('/admin/categorias');&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CODIGO DE LA VISTA&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;table class=&quot;table table-bordered table-hover&quot; id=&quot;listadopost&quot;&amp;gt;&#xA;                        &amp;lt;thead&amp;gt;&#xA;&#xA;                            &amp;lt;tr class=&quot;text-uppercase&quot;&amp;gt;&#xA;&#xA;                                &amp;lt;th&amp;gt;Categorias&amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt;Editar&amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt;Eliminar&amp;lt;/th&amp;gt;&#xA;&#xA;                            &amp;lt;/tr&amp;gt;&#xA;&#xA;                        &amp;lt;/thead&amp;gt;&#xA;                        &amp;lt;tbody&amp;gt;&#xA;&#xA;                            @foreach($listacat as $cat)&#xA;                            &amp;lt;tr&amp;gt;&#xA;&#xA;                                &amp;lt;td class=&quot;text-capitalize nombrecatx&quot;&amp;gt;{{$cat-&amp;gt;nombrecat}}&amp;lt;/td&amp;gt;&#xA;&#xA;&#xA;                                &amp;lt;td&amp;gt;&amp;lt;a href=&quot;{{route('admin.categorias.edit',array($cat-&amp;gt;id))}}&quot; class=&quot;btn btn-warning&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-edit&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;                                &amp;lt;td&amp;gt;&#xA;&#xA;&#xA;                                    {!! Form::open(array('route' =&amp;gt;array('admin.categorias.destroy',$cat-&amp;gt;id),'method'=&amp;gt;'DELETE')) !!}&#xA;                                    {!! Form::hidden('catid', $cat-&amp;gt;id, []) !!}&#xA;                                    &amp;lt;input type=&quot;submit&quot;  class=&quot;btn btn-danger glyphicon glyphicon-trash eliminarcategoria&quot; value =&quot;DEL&quot; &amp;gt;&#xA;                                    {!! Form::close() !!}&#xA;                                &amp;lt;/td&amp;gt;&#xA;                            &amp;lt;/tr&amp;gt;&#xA;&#xA;                        @endforeach&#xA;                        &amp;lt;/tbody&amp;gt;&#xA;                    &amp;lt;/table&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;LAS RUTAS &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Route::group(['prefix' =&amp;gt; 'admin','middleware' =&amp;gt; 'auth'], function() {&#xA;&#xA;    Route::resource('categorias','categoriaController');&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;LA FUNCION AJAX, CARGADA EN LA VISTA&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;    $('.eliminarcategoria',this).click(function(e){&#xA;        e.preventDefault();&#xA;&#xA;&#xA;    var fila = $(this).parents('tr');&#xA;    var valorIdCategoria = fila.find('input[name=&quot;catid&quot;]').val();&#xA;    var valorCategoria = String(fila.find('td.nombrecatx').text()); &#xA;    var color = fila.css({'background-color':'maroon',&#xA;                        'font-size':'1.5em',&#xA;                        'color':'white',&#xA;&#xA;                        });&#xA;&#xA;&#xA;&#xA;                    $.ajax({&#xA;                                url: 'http://localhost/ficheros/laravel_escuelait/public/admin/categorias/'+valorIdCategoria,&#xA;                                method: 'POST',&#xA;                                dataType: 'json',&#xA;                                //data: {'id': valorIdCategoria},&#xA;                                data: {'_method':'DELETE','id': valorIdCategoria},&#xA;                                headers: { 'X-CSRF-TOKEN': $('meta[name=&quot;_token&quot;]').attr('content') },&#xA;                            })&#xA;                            .done(function(data) {&#xA;                                console.log(&quot;success&quot;);&#xA;&#xA;                            $('#panelposts').before(notificacion('success','El registro se ha eliminado correctamente desde ajax'));&#xA;                            })&#xA;                            .fail(function(ex, errorThrown) {&#xA;                                console.log(&quot;error &quot;+ex.status+' _ '+errorThrown);&#xA;                                $('#panelposts').before(notificacion('danger','ERROR FATAL'+errorThrown));&#xA;                            })&#xA;                            .always(function() {&#xA;                                console.log(&quot;complete&quot;);&#xA;                            });&#xA;&#xA;    })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;No se muy bien cual es el motivo por el que no manda ninguna clase de peticion, en otros proyectos que he hecho usando ajax aunque me podia dar algun tipo de error al menos mandaba la peticion POST, erronea eso si, pero la mandaba.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Alguna idea de que puede ser?&lt;/p&gt;&#xA;"" OwnerUserId=""4725"" LastEditorUserId=""4725"" LastEditDate=""2016-12-01T10:42:12.877"" LastActivityDate=""2019-08-04T17:33:40.177"" Title=""no envia ningun tipo de peticion al borrar registro por ajax (jquery) y laravel"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;laravel-5&gt;"" AnswerCount=""3"" CommentCount=""1"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""39113"" PostTypeId=""1"" AcceptedAnswerId=""39133"" CreationDate=""2016-12-14T11:05:31.013"" Score=""1"" ViewCount=""118"" Body=""&lt;p&gt;Tengo un codigo que aunque es funcional, veo que puede mejorarse bastante y asi ahorrarnos unas lineas.&#xA;¿Como puedo hacerlo?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;    $('#bsubmit').click(function(e){&#xA;&#xA;&#xA;&#xA;        e.preventDefault();&#xA;        var valorCategoria1 = $('input[name=&quot;categoria1&quot;]').val();&#xA;        var valorCategoria2 = $('input[name=&quot;categoria2&quot;]').val();&#xA;        var valorCategoria3 = $('input[name=&quot;categoria3&quot;]').val();&#xA;        var valorCategoria4 = $('input[name=&quot;categoria4&quot;]').val();&#xA;        var valorCategoria5 = $('input[name=&quot;categoria5&quot;]').val();&#xA;&#xA;        var rutaCompleta = 'http://localhost/ficheros/laravel_escuelait/public/admin/categorias';&#xA;&#xA;        if(valorCategoria1 == '' || valorCategoria2 == '' || valorCategoria3 == '' || valorCategoria4 == '' || valorCategoria5 == '')&#xA;        {&#xA;&#xA;                     $('.jumbotron').before(notificacion('danger','TIENES QUE INTRODUCIR UNA CATEGORIA'));  &#xA;&#xA;                        return false;&#xA;        }&#xA;        else if(valorCategoria1.length &amp;lt; 3 || valorCategoria2.length &amp;lt; 3 || valorCategoria3.length &amp;lt; 3 || valorCategoria4.length &amp;lt; 3 || valorCategoria5.length &amp;lt; 3)&#xA;        {&#xA;                 $('.jumbotron').before(notificacion('danger','MINIMO POR CATEGORIA, 3 CARACTERES'));&#xA;                return false;&#xA;        }&#xA;        else&#xA;        {&#xA;                $.ajax({&#xA;                    url: rutaCompleta,&#xA;                    method: 'POST',&#xA;                  data: {'categoria1': valorCategoria1,&#xA;                            'categoria2': valorCategoria2,&#xA;                            'categoria3': valorCategoria3,&#xA;                            'categoria4': valorCategoria4,&#xA;                            'categoria5': valorCategoria5,&#xA;                            },&#xA;                    headers: { 'X-CSRF-TOKEN': $('meta[name=&quot;_token&quot;]').attr('content') },&#xA;                })&#xA;                .done(function() {&#xA;                    console.log(&quot;success&quot;);&#xA;                        $('.jumbotron').before(notificacion('success','REGISTRO ..:: '+valorCategoria1+' ::.. CREADO CORRECTAMENTE'));&#xA;                        $('.jumbotron').before(notificacion('success','REGISTRO ..:: '+valorCategoria2+' ::.. CREADO CORRECTAMENTE'));&#xA;                        $('.jumbotron').before(notificacion('success','REGISTRO ..:: '+valorCategoria3+' ::.. CREADO CORRECTAMENTE'));&#xA;                        $('.jumbotron').before(notificacion('success','REGISTRO ..:: '+valorCategoria4+' ::.. CREADO CORRECTAMENTE'));&#xA;                        $('.jumbotron').before(notificacion('success','REGISTRO ..:: '+valorCategoria5+' ::.. CREADO CORRECTAMENTE'));&#xA;                    })&#xA;                .fail(function(erroz) {&#xA;                    console.log(&quot;error_&quot;+erroz.status);&#xA;                })&#xA;                .always(function() {&#xA;                    console.log(&quot;complete&quot;);&#xA;                });&#xA;&#xA;&#xA;&#xA;            }&#xA;&#xA;&#xA;    })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""4725"" LastEditorUserId=""2027"" LastEditDate=""2016-12-14T14:48:05.330"" LastActivityDate=""2016-12-14T14:48:05.330"" Title=""¿Como mejorar (refactorizar) este codigo de JQUERY Y AJAX?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;revisión-de-código&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""40221"" PostTypeId=""1"" CreationDate=""2016-12-20T18:47:15.000"" Score=""1"" ViewCount=""292"" Body=""&lt;p&gt;Tengo una aplicación web que genera un CSV a partir de una consulta a una BD, el cual quiero descargar, estoy llamando a la ruta que genera el archivo mediante una petición Ajax, pero no tengo idea de como hacer la descarga de dicho archivo.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    type: 'POST',&#xA;    url: direccion() + 'descargas/exportar',&#xA;    dataType: '//Que tipo deberia poner¿?'&#xA;}).done(function () {&#xA;    //Aqui se debería guardar el archivo&#xA;}).fail(function (xhr, status, error) {&#xA;    alert('Error ' + xhr.status + '. ' + error + ': ' + xhr.responseText);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""25697"" LastEditorUserId=""25697"" LastEditDate=""2016-12-20T18:56:00.643"" LastActivityDate=""2016-12-20T18:56:00.643"" Title=""F3 - Descargar CSV generado con PHP en AJAX"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ClosedDate=""2016-12-20T20:45:47.447"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""41960"" PostTypeId=""1"" AcceptedAnswerId=""41964"" CreationDate=""2017-01-02T14:18:21.417"" Score=""1"" ViewCount=""1104"" Body=""&lt;p&gt;Busco la manera de desplegar un listado que contenga la cantidad de estudiantes por salón es decir:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ej:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;   &amp;lt;select class=&quot;form-control&quot; name=&quot;selecgrupo&quot; id=&quot;selecgrupo&quot;&amp;gt;&#xA;     &amp;lt;option&amp;gt;Seleccione Grupo&amp;lt;/option&amp;gt;&#xA;   &amp;lt;/select&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;br&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JQUERY&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    url: 'list_group',&#xA;    type: 'POST',&#xA;})&#xA;.done(function(answer)&#xA;{&#xA;    var result = $.parseJSON(answer);&#xA;&#xA;    for (var i = result.length - 1; i &amp;gt;= 0; i--)&#xA;    {                   &#xA;        $(&quot;#selecgrupo&quot;).append(&quot;&amp;lt;option value='&quot; + result[i].id_grupo+ &quot;'&amp;gt;&quot; + result[i].grupo +  &quot;&amp;lt;/option&amp;gt;&quot;);&#xA;    }&#xA;})      &#xA;.fail(function(){&#xA;    console.log(&quot;error&quot;);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Retorna en JSON el &lt;strong&gt;answer&lt;/strong&gt; y con append listo el id y el grupo y en HTML muestro esa lista...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CONTROLLER&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function list_group(){&#xA;   $response = $this-&amp;gt;list_group_model-&amp;gt;list_group();&#xA;   echo json_encode($response);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;MODEL&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function list_group(){&#xA;   $sql= $this-&amp;gt;db-&amp;gt;conn_id-&amp;gt;execute(&quot;&#xA;     SELECT id_group, group&#xA;     FROM grupos&#xA;     ORDER BY group DESC&quot;);   &#xA;&#xA;   return $sql;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ej:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;GRUPO A&#xA;GRUPO B&#xA;GRUPO C&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Se necesita listar ese lista con la cantidad de estudiantes:&lt;br&gt;&#xA;&lt;strong&gt;Ej:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;GRUPO A      20&#xA;GRUPO B      11&#xA;GRUPO C      30&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""26367"" LastEditorUserId=""16597"" LastEditDate=""2017-01-02T15:09:41.793"" LastActivityDate=""2017-01-02T15:12:35.043"" Title=""badge en un select para mostrar un contador"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""8"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""44797"" PostTypeId=""1"" AcceptedAnswerId=""44809"" CreationDate=""2017-01-18T22:22:57.313"" Score=""0"" ViewCount=""123"" Body=""&lt;p&gt;No manejo mucho el &lt;code&gt;DataTables&lt;/code&gt; por el cual e intentado varias formas de poder convertir un resultado de &lt;code&gt;ajax&lt;/code&gt; que son números y convertirlos en salario, pero como lo estoy manejando de una forma diferente al &lt;code&gt;DataTables&lt;/code&gt; de pronto se me va la idea.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agradeceria que pudieran resolver mi problema.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HTML:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;table id=&quot;tabla_salario&quot; class=&quot;display&quot; cellspacing=&quot;0&quot; width=&quot;100%&quot;&amp;gt;&#xA;  &amp;lt;thead&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;       &amp;lt;th&amp;gt;salario&amp;lt;/th&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;  &amp;lt;/thead&amp;gt;&#xA;  &amp;lt;tbody&amp;gt;                                            &#xA;  &amp;lt;/tbody&amp;gt;    &#xA;&amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JQUERY/AJAX:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var tabla = $('#tabla_salario').DataTable({&#xA;&#xA;                        &quot;columnDefs&quot;: [&#xA;                               {&#xA;                                  &quot;targets&quot;: [ 0 ],&#xA;                                  &quot;visible&quot;: true&#xA;                               },   &#xA;                            ],&#xA;                         }); &#xA;&#xA;&#xA;listar_datos();&#xA;&#xA;function listar_datos()&#xA;{   &#xA;    $.ajax({&#xA;          url: 'listar_salario',&#xA;          type: 'POST'&#xA;        })&#xA;        .done(function(data)&#xA;        {&#xA;            var dato = $.parseJSON(data);&#xA;&#xA;            for (var i = dato.length - 1; i &amp;gt;= 0; i--) &#xA;            {&#xA;                var rowNode = tabla&#xA;               .row.add([ dato[i].salario, ])&#xA;               .draw()&#xA;               .node();&#xA;            }&#xA;        })&#xA;        .fail(function() {&#xA;            console.log(&quot;error&quot;);&#xA;        });  &#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""26367"" LastEditorDisplayName=""user13558"" LastEditDate=""2017-05-31T19:30:07.917"" LastActivityDate=""2017-05-31T19:30:07.917"" Title=""Salario DataTables jQuery"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;html5&gt;&lt;ajax&gt;&lt;datatables&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""49731"" PostTypeId=""1"" AcceptedAnswerId=""49758"" CreationDate=""2017-02-15T20:32:30.820"" Score=""0"" ViewCount=""2364"" Body=""&lt;p&gt;He creado un &lt;em&gt;formulario de contacto&lt;/em&gt; y cada vez que le doy a enviar con todos los &lt;em&gt;campos rellenados&lt;/em&gt;, aparece el &lt;em&gt;siguiente error&lt;/em&gt;:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/CcMEY.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/CcMEY.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;contact-form&quot; method=&quot;POST&quot; action=&quot;&quot;&amp;gt;&#xA;&amp;lt;input type=&quot;text&quot; id=&quot;form-name&quot; name=&quot;form-name&quot; placeholder=&quot;Nombre&quot; required&amp;gt;&#xA;&amp;lt;input type=&quot;email&quot; id=&quot;form-email&quot; name=&quot;form-email&quot; placeholder=&quot;Email&quot; required&amp;gt;&#xA;&amp;lt;textarea id=&quot;form-message&quot; name=&quot;form-message&quot; placeholder=&quot;Mensaje&quot; required&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;&amp;lt;button type=&quot;submit&quot; id=&quot;contact-btn&quot; class=&quot;contact-btn btn&quot;&amp;gt;Enviar&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JQUERY | AJAX&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    var form = $('#contact-form');&#xA;    var formMessages = $('#error-text');&#xA;&#xA;    $(form).submit(function(event) {&#xA;        event.preventDefault();&#xA;        var formData = $(form).serialize();&#xA;&#xA;        $.ajax({&#xA;            type: 'POST',&#xA;            url: 'include/php/contact.php',&#xA;            data: formData&#xA;        }).done(function(response) {&#xA;            $(formMessages).text(response);&#xA;            $('#error-alert').removeClass('closed');&#xA;            setTimeout(function(){ $('#error-alert').addClass('closed'); },5000);&#xA;&#xA;            $('#form-name').val('');&#xA;            $('#form-email').val('');&#xA;            $('#form-message').val('');&#xA;        }).fail(function(data) {&#xA;            $(formMessages).text(response);&#xA;            $('#error-alert').removeClass('closed');&#xA;            setTimeout(function(){ $('#error-alert').addClass('closed'); },5000);&#xA;&#xA;            if (data.responseText !== '') {&#xA;                $(formMessages).text(data.responseText);&#xA;            } else {&#xA;                $(formMessages).text('&amp;lt;p&amp;gt;Oops! Ocurrió un error y tu mensaje no pudo ser enviado...&amp;lt;/p&amp;gt;');&#xA;            }&#xA;        });&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {&#xA;    $name = strip_tags(trim($_POST[&quot;form-name&quot;]));&#xA;    $name = str_replace(array(&quot;\r&quot;,&quot;\n&quot;),array(&quot; &quot;,&quot; &quot;),$name);&#xA;    $email = filter_var(trim($_POST[&quot;form-email&quot;]), FILTER_SANITIZE_EMAIL);&#xA;    $message = trim($_POST[&quot;form-message&quot;]);&#xA;&#xA;    if (empty($name) OR empty($message) OR !filter_var($email, FILTER_VALIDATE_EMAIL)) {&#xA;        http_response_code(400);&#xA;        echo &quot;&amp;lt;p&amp;gt;Oops! Hubo un problema con tu envío. Por favor, completa el formulario e inténtalo otra vez...&amp;lt;/p&amp;gt;&quot;;&#xA;        exit;&#xA;    }&#xA;&#xA;    $recipient = &quot;info@antoniobuenog.com&quot;;&#xA;    $subject = &quot;Nuevo mensaje de $name&quot;;&#xA;&#xA;    $email_content = &quot;Nombre: $name\n&quot;;&#xA;    $email_content .= &quot;Email: $email\n\n&quot;;&#xA;    $email_content .= &quot;Mensaje:\n$message\n&quot;;&#xA;&#xA;    $email_headers = &quot;De: $name &amp;lt;$email&amp;gt;&quot;;&#xA;&#xA;    if (mail($recipient, $subject, $email_content, $email_headers)) {&#xA;        http_response_code(200);&#xA;        echo &quot;&amp;lt;p&amp;gt;¡Gracias! Tu mensaje ha sido enviado&amp;lt;/p&amp;gt;&quot;;&#xA;    } else {&#xA;        http_response_code(500);&#xA;        echo &quot;&amp;lt;p&amp;gt;Oops! Hubo un problema y no pudimos enviar tu mensaje. Por favor, inténtalo más tarde...&amp;lt;/p&amp;gt;&quot;;&#xA;    }&#xA;} else {&#xA;    http_response_code(403);&#xA;    echo &quot;&amp;lt;p&amp;gt;Hubo un problema con tu envío. Por favor, inténtalo otra vez...&amp;lt;/p&amp;gt;&quot;;&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Dice que la variable &lt;code&gt;response&lt;/code&gt; no está definida...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;em&gt;Muchas gracias por vuestra ayuda&lt;/em&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""24624"" LastActivityDate=""2017-02-15T22:25:40.447"" Title=""Error 500 (Internal Server Error) con PHP AJAX | Formulario de contacto"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;contact-form-7&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""53504"" PostTypeId=""1"" AcceptedAnswerId=""53506"" CreationDate=""2017-03-06T20:31:10.960"" Score=""1"" ViewCount=""86"" Body=""&lt;p&gt;Tengo la tabla &lt;code&gt;país&lt;/code&gt; y &lt;code&gt;ciudad&lt;/code&gt;, la ciudad depende del país, por lo cual decidí dinamicamente que cuando yo seleccione el país me haga un &lt;code&gt;change&lt;/code&gt; tomando el &lt;code&gt;value&lt;/code&gt;, en este caso el id_pais y que haga un envió por &lt;code&gt;ajax&lt;/code&gt; para que me liste las ciudades que dependen de ese país...&#xA;&lt;p&gt;&#xA;el problema es que me esta enviando lo siguiente: &lt;code&gt;(id_pais=5)&lt;/code&gt; y no me esta enviando unicamente el &lt;strong&gt;5&lt;/strong&gt; &lt;code&gt;(que es el id del pais)&lt;/code&gt;...&#xA;&lt;p&gt;&#xA;Agradecería el interes y la intención de poder colaborarme...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;p&gt;&#xA;&lt;strong&gt;CODIGO&lt;/strong&gt;&#xA;&lt;P&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;        url: 'paises',&#xA;        type: 'POST',&#xA;    })&#xA;    .done(function(answer){&#xA;        var result= $.parseJSON(answer);&#xA;&#xA;            $('#pais').append('&amp;lt;option disabled selected&amp;gt;-- Seleccione Pais -- &amp;lt;/option&amp;gt;');&#xA;        for(var i = result.length - 1; i &amp;gt;= 0; i--)&#xA;        {&#xA;            $('#pais').append('&amp;lt;option value=&quot;' + result[i].id_pais + '&quot;&amp;gt;' + result[i].nombre_pais+ '&amp;lt;/option&amp;gt;');&#xA;&#xA;        }&#xA;    })&#xA;    .fail(function() {&#xA;        console.log(&quot;error&quot;);&#xA;    });&#xA;&#xA;    $('#paises').change(function() {&#xA;&#xA;        var id_pais= $(this).serialize();&#xA;        console.log(id_pais);&#xA;        $.ajax({&#xA;            url: 'ciudades',&#xA;            type: 'POST',&#xA;            data: {'id_pais' : id_pais},&#xA;        })&#xA;        .done(function(respuesta) {&#xA;            console.log(respuesta);&#xA;        })&#xA;        .fail(function() {&#xA;            console.log(&quot;error&quot;);&#xA;        })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""26367"" LastActivityDate=""2017-03-06T20:38:30.597"" Title=""¿Como tomar el valor neto de un select en un change JQUERY?"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""55754"" PostTypeId=""1"" CreationDate=""2017-03-16T13:23:48.553"" Score=""0"" ViewCount=""1312"" Body=""&lt;p&gt;Tengo una tabla &lt;code&gt;(Datatables)&lt;/code&gt; con un boton editar, al dar click en dicho boton paso los valores a un id &lt;code&gt;$('#nombre').val(data[1]);&lt;/code&gt; para que me los 'pinte' en el formulario, el problema es que este usuario tiene un país y una ciudad y si realizo lo siguiente:&#xA;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#pais').append('&amp;lt;option value=&quot;'+ data[3]+'&quot; selected=&quot;selected&quot;&amp;gt;' + data[4] + '&amp;lt;/option&amp;gt;');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#ciudad').append('&amp;lt;option value=&quot;'+ data[5]+'&quot; selected=&quot;selected&quot;&amp;gt;' + data[6] + '&amp;lt;/option&amp;gt;');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;br&gt;&#xA;Se me pintan los datos &lt;code&gt;(pais Y ciudad)&lt;/code&gt; de manera correcta...&#xA;&lt;p&gt;&#xA;&lt;strong&gt;EL PROBLEMA&lt;/strong&gt;&#xA;&lt;BR&gt;&#xA;Es que necesito que aparte de mostrar el pais y la ciudad del usuario, tambien me liste los paises y ciudades por si depronto el usuario no pertenecia a ese pais sino que era de otro.&#xA;&lt;P&gt;&#xA;Agradeceria grandamente el interes ya que he intentando varias formas pero no he podido...&#xA;&lt;p&gt;&#xA;&lt;strong&gt;CODIGO&lt;/strong&gt;&#xA;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;/* MUESTRO LOS DATOS EN FORMULARIO PARA EDITAR EMPLEADO */&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#db_usuario tbody').on('click','#editar',function()&#xA;    {   &#xA;        var data =  db_usuarios.row( $(this).parents(' tr ') ).data();&#xA;        var pais = $.trim(data[3]);         &#xA;&#xA;        $('#cedula_usuario').val(data[1]);&#xA;        $('#nombre').val(data[1]);&#xA;        $('#apellido').val(data[2]);&#xA;&#xA;        $(&quot;#pais&quot;).empty();&#xA;&#xA;        for (var i = 0; i &amp;lt; paises.length; i++)&#xA;        {&#xA;            var pais_id_comparativo = paises[i]pais_id;&#xA;&#xA;            if(pais_id_comparativo == pais)&#xA;            {&#xA;                $(&quot;#pais&quot;).append(&#xA;                '&amp;lt;option value=&quot;'+ pais_id_comparativo +'&quot; selected=&quot;selected&quot;&amp;gt;' + data[4] + '&amp;lt;/option&amp;gt;');&#xA;            }&#xA;            else&#xA;            {&#xA;                $(&quot;#pais&quot;).append($('&amp;lt;option&amp;gt;',&#xA;                {&#xA;                    value: pais_id_comparativo,&#xA;                    text: paises[i].pais_descripcion,&#xA;                }));&#xA;            }     &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;/* LISTO PAISES */&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    url: 'listar_pais',&#xA;    type: 'GET',&#xA;    dataType: 'json',&#xA;})&#xA;.done(function(respuesta) &#xA;{&#xA;    try&#xA;    {&#xA;        var resultado = respuesta;&#xA;        paises = resultado;     &#xA;&#xA;        for(var i = resultado.length - 1; i &amp;gt;= 0; i--)&#xA;        {&#xA;            $('#pais').append('&amp;lt;option value=&quot;'+ resultado[i].pais_id +'&quot;&amp;gt;' + resultado[i].pais_descripcion + '&amp;lt;/option&amp;gt;');&#xA;        }&#xA;    }&#xA;    catch(e)&#xA;    {&#xA;        console.info(e);&#xA;    }       &#xA;})&#xA;.fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;p&gt;&#xA;La idea es la sgte:&#xA;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;cedula: 13456789 // esto es un input=&quot;text&quot;&#xA;Nombre: Pepito  // esto es un input=&quot;text&quot;&#xA;Apellido: Perez // esto es un input=&quot;text&quot;&#xA;Pais: CHILE // esto es un select&#xA;ciudad: SANTIAGO DE CHILE // esto es un select&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;p&gt;&#xA;Resulta que Pepito no es de &lt;code&gt;CHILE&lt;/code&gt; sino de &lt;code&gt;ARGENTINA&lt;/code&gt; &#xA;&lt;p&gt;&#xA;Entonces donde dice &lt;code&gt;pais&lt;/code&gt; deberia de ser asi:&#xA;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;pais: CHILE //este es el pais que corresponde a ese usuario&#xA;      ARGENTINA&#xA;      COLOMBIA&#xA;      PERU&#xA;      ETC.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;p&gt;&#xA;De igual manera con las ciudades:&#xA;&lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ciudad: SANTIAGO DE CHILE //esta es la ciudad que pertenece al usuario y a ese pais&#xA;        VALPARAISO&#xA;        LA SERENA&#xA;ETC. (CIUDADES QUE CORRESPONDAN A ESE PAIS)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""26367"" LastEditorUserId=""29967"" LastEditDate=""2017-03-16T17:45:52.070"" LastActivityDate=""2018-10-22T10:00:36.620"" Title=""¿Cómo listar país y ciudad correspondiente a un usuario con Ajax?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""58514"" PostTypeId=""1"" AcceptedAnswerId=""58516"" CreationDate=""2017-03-28T14:19:23.543"" Score=""0"" ViewCount=""61"" Body=""&lt;p&gt;Estoy aprendiendo y experimentando, y necesito ayuda en este problema para mi..&lt;/p&gt;&#xA;&#xA;&lt;p&gt;No soy bueno en Js, &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy usando las variables &lt;strong&gt;consuKey&lt;/strong&gt; y &lt;strong&gt;consuSecr&lt;/strong&gt; para agregarlas en el &lt;strong&gt;GET ajax&lt;/strong&gt;. donde esta el &lt;strong&gt;consumer_key=&lt;/strong&gt; y &lt;strong&gt;consumer_secret=&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Cómo podría hacerlo?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    var consuKey = &quot;ck_xxxxxx&quot;;&#xA;    var consuSecr = &quot;cs_xxxxxx&quot;;&#xA;&#xA;    //LAST WEEK GET&#xA;&#xA;    function callurl() {&#xA;    $.ajax({&#xA;    url: 'https://domain.com/wc-api/v2/reports/sales?filter[period]=last_week&amp;amp;consumer_key=&amp;amp;consumer_secret=',&#xA;    type: &quot;GET&quot;,&#xA;    dataType: &quot;json&quot;&#xA;    })&#xA;    .done(function(data){&#xA;    JsonpCallback(data.orders)&#xA;    })&#xA;    .fail(function(data){&#xA;    console.log(&quot;no&quot;);&#xA;    })&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""29899"" LastEditorUserId=""29620"" LastEditDate=""2017-03-28T14:22:30.363"" LastActivityDate=""2017-03-28T14:50:59.643"" Title=""Métodos Get ApiRest"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""58574"" PostTypeId=""1"" AcceptedAnswerId=""58643"" CreationDate=""2017-03-28T16:36:36.120"" Score=""2"" ViewCount=""92"" Body=""&lt;p&gt;Tengo un problema con esta api. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;esto esta en html&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;summary&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;esto esta en JS&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var consuKey = &quot;ck_b04aa6f288ee9a5495dee9c5db0a6b136350e005&quot;;&#xA;var consuSecr = &quot;cs_1f98d389d0f9b47cd3200023864cf9b7cba50574&quot;;&#xA;&#xA;function callurl() {&#xA;$.ajax({&#xA;   url: 'https://test.juand.org/wc-api/v2/reports/sales?',&#xA;   data:{&#xA;        filter: {period: &quot;last_week&quot;},&#xA;        consumer_key: consuKey,&#xA;        consumer_secret: consuSecr&#xA;    },&#xA;type: &quot;GET&quot;,&#xA;dataType: &quot;json&quot;&#xA;})&#xA;.done(function(data){&#xA;JsonpCallback(data.reports)&#xA;})&#xA;.fail(function(data){&#xA;console.log(&quot;no&quot;);&#xA;})&#xA;}&#xA;&#xA;function JsonpCallback(json) {&#xA;for (var i = 0; i &amp;lt; json.length; i++) {&#xA;$('#summary').append('&amp;lt;b&amp;gt;Descripción:&amp;lt;/b&amp;gt; ' + json[i].total_sales + '&amp;lt;br /&amp;gt;');&#xA;$('#summary').append('&amp;lt;hr /&amp;gt;');&#xA;}&#xA;}&#xA;&#xA;callurl();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Tengo el siguiente error&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Uncaught TypeError: Cannot read property 'length' of undefined&#xA;    at JsonpCallback (VM2284:68)&#xA;    at Object.&amp;lt;anonymous&amp;gt; (VM2284:60)&#xA;    at fire (VM2283 jquery-2.2.4.js:3187)&#xA;    at Object.fireWith [as resolveWith] (VM2283 jquery-2.2.4.js:3317)&#xA;    at done (VM2283 jquery-2.2.4.js:8757)&#xA;    at XMLHttpRequest.&amp;lt;anonymous&amp;gt; (VM2283 jquery-2.2.4.js:9123)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;la idea es que de el resultado del json ( &lt;strong&gt;total_sales&lt;/strong&gt; )&#xA;pero aun no entiendo porque me da el error, si llamo a &#xA;&lt;strong&gt;JsonpCallback(data.reports)&lt;/strong&gt;&#xA;si uso &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JsonpCallback(data.sales)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;no da ningun resultado..&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Me puedes ayudar a buscar una solicion, Gracias!!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;pueden ver mi codigo aca&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://jsfiddle.net/JDLA1/a84v2x9w/2/&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://jsfiddle.net/JDLA1/a84v2x9w/2/&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""29899"" LastActivityDate=""2017-03-28T19:59:14.367"" Title=""Cannot read property apiRest"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;json&gt;&lt;api&gt;&lt;woocommerce&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""59722"" PostTypeId=""1"" AcceptedAnswerId=""59832"" CreationDate=""2017-04-01T15:43:04.080"" Score=""0"" ViewCount=""869"" Body=""&lt;p&gt;Estoy usando jsTree (3.3.2) para mostrar una estructura jerárquica de entidades. La forma en que lo tengo configurado es para que cargue el json con la estructura completa tomando como nodo raíz el nodo al que pertenece el usuario autenticado, pero realmente no me es funcional; del lado del servidor mediante una función recursiva genero el json que implica efectuar múltiples consultas a la base de datos.&#xA;Necesito su ayuda para configurar la función de forma que pueda diferenciar la carga del nodo raíz, de la llamada a la carga de los nodos hijos (directos al nodo raíz). He visto implementaciones en la página del pluggin, pero hacen la diferenciación del nodo raíz estableciendo el valor del id='#' y no creo me sirva, ya que necesito tener el id de cada uno de los nodos para completar el resto de las vistas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es mi código actual, he quitado la sección de configuración del menú contextual.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#arbol').jstree({&#xA;        'core': {&#xA;            'strings': {&#xA;                'Loading ...': 'Cargando ...'&#xA;            },&#xA;            'force_text': true,&#xA;            'themes': {&#xA;                'responsive': true,&#xA;                'variant': 'small',&#xA;                'stripes': false&#xA;            },&#xA;            'multiple': false,&#xA;            'animation': 135,&#xA;            'expand_selected_onload': false,&#xA;            'worker': true,&#xA;            'dblclick_toggle': true,&#xA;            'data': {&#xA;                'url': Routing.generate('app_renderArbol')&#xA;            },&#xA;            'check_callback': function(o, n, p, i, m) {&#xA;                // Esta funcion chequea el tipo de nodo seleccionado para evitar se convierta en draggable&#xA;            },&#xA;        },&#xA;        'plugins': [&quot;state&quot;, &quot;dnd&quot;, &quot;contextmenu&quot;],&#xA;        'state': {'key': 'arbol_state'},&#xA;        'dnd': {inside_pos: &quot;last&quot;}&#xA;    }).on('move_node.jstree', function(e, data) {&#xA;        e.preventDefault();&#xA;        $.ajax({&#xA;            datatypes: 'GET',&#xA;            method: 'JSON',&#xA;            url: Routing.generate('estructuraOrganizativa_moverCMF', {'cmf': data.node.id, 'gbt': data.parent}),&#xA;            beforeSend: function() {&#xA;                $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;            }&#xA;        }).done(function(data) {&#xA;            $('#indicador').html(data.message);&#xA;        }).fail(function(jqXHR) {&#xA;            $('#indicador').addClass('cargando-error').html(jqXHR.responseText);&#xA;            data.instance.refresh();&#xA;        }).always(function(jqXHR, type) {&#xA;            if (type !== 'success') {&#xA;                $('#indicador').fadeOut(5500, function() {&#xA;                    $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            } else {&#xA;                $('#indicador').fadeOut(4500, function() {&#xA;                    $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            }&#xA;        });&#xA;    }).on('select_node.jstree', function(event, data) {&#xA;        event.preventDefault();&#xA;        if (data &amp;amp;&amp;amp; data.selected &amp;amp;&amp;amp; data.selected.length) {&#xA;            var nodo = data.instance.get_selected(true)[0];&#xA;&#xA;            cargarVistaCentral(nodo); // esta trae de vuelta la vista central de la app basándose en el nodo seleccionado&#xA;&#xA;        } else {&#xA;            return false;&#xA;        }&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Estas son las funciones en el controlador para devolver el arreglo json (un action y una función recursiva). Por supuesto en caso de poder implementar adecuadamente el js, el controlador sería mucho más simple: obtener el nodo raíz a partir de los datos del usuario autenticado, y el resto de los nodos hijos (hijos directos) más simple de obtener: &lt;code&gt;$nodo-&amp;gt;getChildren(true)&lt;/code&gt;, bueno ya es parte del modelo.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function renderArbolAction(Request $request)&#xA;    {&#xA;        if ($request-&amp;gt;isXmlHttpRequest())&#xA;        {&#xA;            $estructuraOrganizativa = $this-&amp;gt;getUser()-&amp;gt;getEstructuraOrganizativa();&#xA;&#xA;            $arbol[] = array(&#xA;                'id' =&amp;gt; $estructuraOrganizativa-&amp;gt;getId(),&#xA;                'text' =&amp;gt; $estructuraOrganizativa-&amp;gt;getTitle(),&#xA;                'icon' =&amp;gt; 'icon-sitemap', // \AppBundle\Utils\UI::getIconForTreeNode($estructuraOrganizativa)&#xA;                'data' =&amp;gt; array(&#xA;                    'tipoEstructura' =&amp;gt; array(&#xA;                        'id' =&amp;gt; $estructuraOrganizativa-&amp;gt;getTipoEstructuraOrganizativa()-&amp;gt;getId(),&#xA;                        'nombre' =&amp;gt; $estructuraOrganizativa-&amp;gt;getTipoEstructuraOrganizativa()-&amp;gt;getNombre(),&#xA;                    ),&#xA;                    'parent_id' =&amp;gt; '#',&#xA;                    'rol_id' =&amp;gt; $this-&amp;gt;getUser()-&amp;gt;getRol()-&amp;gt;getId(),&#xA;                ),&#xA;                'state' =&amp;gt; array(&#xA;                    'opened' =&amp;gt; true,&#xA;                    'selected' =&amp;gt; false&#xA;                ),&#xA;                'li_attr' =&amp;gt; array(&#xA;                    'title' =&amp;gt; $estructuraOrganizativa-&amp;gt;getTitle(),&#xA;                ),&#xA;                ' a_attr' =&amp;gt; array(&#xA;                    'href' =&amp;gt; '#',&#xA;                ),&#xA;                'children' =&amp;gt; $this-&amp;gt;BuildChildsRecursive($estructuraOrganizativa),&#xA;            );&#xA;&#xA;            $response = new Response(json_encode($arbol));&#xA;            $response-&amp;gt;headers-&amp;gt;set('Content-Type', 'application/json');&#xA;&#xA;            return $response;&#xA;        } else&#xA;        {&#xA;            throw $this-&amp;gt;createNotFoundException(&quot;Recurso no encontrado&quot;);&#xA;        }&#xA;    }&#xA;&#xA;private function BuildChildsRecursive(EstructuraOrganizativa $nodo)&#xA;    {&#xA;        $nodosParaJSON = array();&#xA;        $repositoryEstructuraOrganizativa = $this-&amp;gt;getDoctrine()-&amp;gt;getRepository('AppBundle:EstructuraOrganizativa');&#xA;        $cantidadHijos = $repositoryEstructuraOrganizativa-&amp;gt;childCount($nodo, true);&#xA;&#xA;        if ($cantidadHijos === 0)&#xA;        {&#xA;            return array();&#xA;        } else&#xA;        {&#xA;            $hijos = $repositoryEstructuraOrganizativa-&amp;gt;children($nodo, true);&#xA;&#xA;            foreach ($hijos as $hijo)&#xA;            {&#xA;                if (in_array($hijo-&amp;gt;getTipoEstructuraOrganizativa()-&amp;gt;getId(), array(7, 8)))&#xA;                {&#xA;                    if (!$this-&amp;gt;get('security.authorization_checker')-&amp;gt;isGranted(array('ROLE_ESP_NAC', 'ROLE_ESP_PROV', 'ROLE_CONS_NAC', 'ROLE_CONS_PROV')))&#xA;                    {&#xA;                        continue;&#xA;                    }&#xA;                }&#xA;                $nodosParaJSON[] = array(&#xA;                    'id' =&amp;gt; $hijo-&amp;gt;getId(),&#xA;                    'text' =&amp;gt; $hijo-&amp;gt;getTitle(),&#xA;                    'icon' =&amp;gt; \AppBundle\Utils\UI::getIconForTreeNode($hijo),&#xA;                    'data' =&amp;gt; array(&#xA;                        'tipoEstructura' =&amp;gt; array(&#xA;                            'id' =&amp;gt; $hijo-&amp;gt;getTipoEstructuraOrganizativa()-&amp;gt;getId(),&#xA;                            'nombre' =&amp;gt; $hijo-&amp;gt;getTipoEstructuraOrganizativa()-&amp;gt;getNombre(),&#xA;                        ),&#xA;                        'parent_id' =&amp;gt; $hijo-&amp;gt;getParent()-&amp;gt;getId(),&#xA;                        'rol_id' =&amp;gt; $this-&amp;gt;getUser()-&amp;gt;getRol()-&amp;gt;getId(),&#xA;                    ),&#xA;                    'state' =&amp;gt; array(&#xA;                        'opened' =&amp;gt; false,&#xA;                        'selected' =&amp;gt; false&#xA;                    ),&#xA;                    'li_attr' =&amp;gt; array(&#xA;                        'title' =&amp;gt; $hijo-&amp;gt;getTitle(),&#xA;                    ),&#xA;                    ' a_attr' =&amp;gt; array(&#xA;                        'href' =&amp;gt; '#',&#xA;                    ),&#xA;                    'children' =&amp;gt; $this-&amp;gt;BuildChildsRecursive($hijo),&#xA;                );&#xA;            }&#xA;&#xA;            return $nodosParaJSON;&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""14272"" LastEditorUserId=""14272"" LastEditDate=""2017-04-01T16:07:43.340"" LastActivityDate=""2018-05-04T14:36:00.593"" Title=""jsTree, como cargar nodos hijos bajo demanda"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;symfony2&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""60825"" PostTypeId=""1"" AcceptedAnswerId=""60831"" CreationDate=""2017-04-05T20:40:43.033"" Score=""8"" ViewCount=""16870"" Body=""&lt;p&gt;Tengo un formulario que con un botón se &quot;duplica&quot; tantas veces quiera el usuario.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;div id=&quot;productosTotal&quot;&amp;gt;&#xA;                        &amp;lt;div id=&quot;producto&quot;&amp;gt;&#xA;                          &amp;lt;label&amp;gt;Nombre del producto *&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;input type=&quot;text&quot; name=&quot;NombreProducto&quot; class=&quot;md-input&quot; id=&quot;NombreProducto&quot; required class=&quot;md-input&quot; /&amp;gt;&#xA;                          &amp;lt;br/&amp;gt;&#xA;                          &amp;lt;label&amp;gt;Observaciones del producto como manejo, empaquetado, etc.&amp;lt;/label&amp;gt;&#xA;                          &amp;lt;textarea rows=&quot;1&quot; cols=&quot;50&quot; name=&quot;observaciones&quot; id=&quot;observaciones&quot; class=&quot;md-input selecize_init&quot; placeholder=&quot;&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                          &amp;lt;br&amp;gt;&#xA;                          &amp;lt;div class=&quot;uk-grid&quot;&amp;gt;&#xA;                            &amp;lt;div class=&quot;uk-width-medium-1-2&quot;&amp;gt;&#xA;                              &amp;lt;div class=&quot;uk-input-group&quot;&amp;gt;&#xA;                                &amp;lt;span class=&quot;uk-input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;material-icons md-36&quot;&amp;gt;&amp;amp;#xE3DA;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;  &#xA;                                &amp;lt;label&amp;gt;Cantidad *&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;input type=&quot;number&quot; name=&quot;cantidad&quot; id=&quot;cant&quot; class=&quot;md-input&quot; value=&quot;1&quot; steps=&quot;1&quot; min=&quot;1&quot; max=&quot;10&quot; required class=&quot;md-input&quot; /&amp;gt;&#xA;                              &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;div class=&quot;uk-width-medium-1-2&quot;&amp;gt;&#xA;                              &amp;lt;div class=&quot;uk-input-group&quot;&amp;gt;&#xA;                                &amp;lt;span class=&quot;uk-input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;material-icons md-36&quot;&amp;gt;&amp;amp;#xE263;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;  &#xA;                                &amp;lt;label&amp;gt;Precio Unitario *&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;input class=&quot;md-input masked_input label-fixed&quot; id=&quot;precioU&quot; name=&quot;precioU&quot; type=&quot;text&quot; data-inputmask=&quot;'alias': 'currency', 'groupSeparator': '.', 'autoGroup': true, 'digits': 2, 'digitsOptional': false, 'prefix': '$ ', 'placeholder': '0'&quot; data-inputmask-showmaskonhover=&quot;false&quot; style=&quot;text-align: right;&quot; onKeyPress=&quot;return justNumbers(event);&quot;&amp;gt;&#xA;                              &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;                              &#xA;                          &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;&#xA;                      &amp;lt;/div&amp;gt;&amp;lt;!--fin del Div a duplicar--&amp;gt;&#xA;                      &amp;lt;button class=&quot;md-btn md-btn-wave waves-effect waves-button&quot; id=&quot;button&quot; onClick=&quot;duplicar()&quot;&amp;gt; Agregar otro producto &amp;lt;/button&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Éste de arriba es el formulario. Abajo pongo la función que lo duplica&lt;/p&gt;&#xA;&#xA;&lt;p&gt;var original = document.getElementById('producto');&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; function duplicar()&#xA;  {&#xA;&#xA;    var clone = original.cloneNode(true); &#xA;      clone.id= &quot;producto&quot; + ++k;&#xA;      original.parentNode.appendChild(clone);&#xA;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y éste formulario calcula el subtotal multiplicando el precio unitario por la cantidad y va sumando éstos. Para obtener los datos de este formulario, declaré de manera global una variable llamada productosHTML que inicializo vacía en la función llamada &quot;calcular&quot;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; productosHTML=&quot;&quot;;&#xA;    var sub1=0;&#xA;    for(var c=0; c&amp;lt;=k; c++)&#xA;    {&#xA;&#xA;&#xA;  if(c==0){&#xA;      var divProducto= $(&quot;#producto&quot;); //este es el div de producto principal &#xA;&#xA;  }else{&#xA;      var divProducto= $('#producto'+c);//este ya es el que creas de duplicar&#xA;  }&#xA;&#xA;NombreProducto = divProducto.find('input[id=&quot;NombreProducto&quot;]').val()&#xA;observaciones = divProducto.find('input[id=&quot;observaciones&quot;]').val() &#xA; cant = divProducto.find('input[id=&quot;cant&quot;]').val() // aqui se obtine el valor de input de cantidad del div antes definido &#xA; precioU = divProducto.find('input[id=&quot;precioU&quot;]').val()&#xA;&#xA;    //var prod =document.getElementById(&quot;producto :cantidad&quot;);&#xA;    //var productosHMTL=&quot;&quot;;&#xA;//   productosHTML+='&amp;lt;tr align=&quot;center&quot;&amp;gt;&amp;lt;td width=&quot;160&quot; style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label &amp;gt;' + NombreProducto + '&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;260&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;' + observaciones + '&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;60&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;'+ cant +'&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;70&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;'+ precioU +'&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;';&#xA;    //prueba&#xA;&#xA;    productosHTML=productosHTML.concat('&amp;lt;tr align=&quot;center&quot;&amp;gt;&amp;lt;td width=&quot;160&quot; style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label &amp;gt;'+NombreProducto +'&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;260&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;' + observaciones + '&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;60&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;'+ cant +'&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;td width=&quot;70&quot; valign=&quot;top&quot;  style=&quot;font-size: 14px;&quot;&amp;gt;&amp;lt;label&amp;gt;'+ precioU +'&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;');&#xA;    //Productos para duplicar&#xA;    cantidad=cant;&#xA;    unitario=precioU;&#xA;    sub1+=cantidad*unitario;&#xA;&#xA;&#xA;    }&#xA;&#xA;**El cálculo lo hace bien, lo muestra en pantalla correctamente. Pero los detalles de éste formulario lo debo enviar a un correo con ésta función:**&#xA;&#xA;function pedir()&#xA;{&#xA;&#xA;//var productosHTML = &quot;&quot;; &#xA;    //Inicia validaci?n&#xA;var orgv=document.getElementById(&quot;org&quot;).value;&#xA;var desv=document.getElementById(&quot;des&quot;).value;&#xA;var NombreCompradorv=document.getElementById(&quot;NombreComprador&quot;).value;&#xA;var CelDesv=document.getElementById(&quot;CelDes&quot;).value;&#xA;var NombreRemitentev=document.getElementById(&quot;NombreRemitente&quot;).value;&#xA;var MailRemitentev=document.getElementById(&quot;MailRemitente&quot;).value;&#xA;var CelRemv=document.getElementById(&quot;CelRem&quot;).value;&#xA;var NombreProductov=document.getElementById(&quot;NombreProducto&quot;).value;&#xA;var cantidadv=document.getElementById(&quot;cant&quot;).value;&#xA;var PrecioUv=document.getElementById(&quot;precioU&quot;).value;&#xA;var datev=document.getElementById(&quot;date&quot;).value;&#xA;var horariov=document.getElementById(&quot;horario&quot;).value;&#xA;var pagov = $('input[name=&quot;pago&quot;]:checked').val();&#xA;&#xA;&#xA;&#xA;    if (orgv===&quot;&quot; || desv===&quot;&quot; || NombreCompradorv===&quot;&quot; || CelDesv===&quot;&quot; || NombreRemitentev === &quot;&quot; || MailRemitentev===&quot;&quot; || CelRemv===&quot;&quot; ||  NombreProductov===&quot;&quot; || cantidadv===&quot;&quot; || PrecioUv&amp;lt;0 || datev===&quot;&quot; || horariov===&quot;&quot; || pagov===&quot;&quot;)&#xA;    {&#xA;        alert(&quot;Ingresar campos obligatorios marcados con *&quot;);&#xA;        return false;&#xA;    }&#xA;    else&#xA;    { //Si se completa la condici�n, mostrar...&#xA;&#xA;    //Ingresamos un mensaje a mostrar&#xA;    UIkit.modal.confirm(&quot;Si los datos son correctos, presione Ok&quot;, function()&#xA;    {&#xA;&#xA;&#xA;//variables&#xA;var org=document.getElementById(&quot;org&quot;).value;&#xA;var des=document.getElementById(&quot;des&quot;).value;&#xA;var referencias=document.getElementById(&quot;referencias&quot;).value;&#xA;var NombreComprador=document.getElementById(&quot;NombreComprador&quot;).value;&#xA;var TelDes=document.getElementById(&quot;TelDes&quot;).value;&#xA;var CelDes=document.getElementById(&quot;CelDes&quot;).value;&#xA;var NombreRemitente=document.getElementById(&quot;NombreRemitente&quot;).value;&#xA;var MailRemitente=document.getElementById(&quot;MailRemitente&quot;).value;&#xA;var TelRem=document.getElementById(&quot;TelRem&quot;).value;&#xA;var CelRem=document.getElementById(&quot;CelRem&quot;).value;&#xA;var NombreProducto=document.getElementById(&quot;NombreProducto&quot;).value;&#xA;var observaciones=document.getElementById(&quot;observaciones&quot;).value;&#xA;var cantidad=document.getElementById(&quot;cant&quot;).value;&#xA;var PrecioU=document.getElementById(&quot;precioU&quot;).value;&#xA;var date=document.getElementById(&quot;date&quot;).value;&#xA;var horario=document.getElementById(&quot;horario&quot;).value;&#xA;var pago = $('input[name=&quot;pago&quot;]:checked').val();&#xA;//&#xA;//var productosHTML=&quot; &quot;;&#xA;//Resultados de cotizaci?n&#xA;&#xA;&#xA;//Ajax&#xA;$.ajax({&#xA;method:&quot;POST&quot;,&#xA;dataType:&quot;json&quot;,&#xA;url:&quot;./enviarcorreo.php&quot;,&#xA;data:{&#xA;org:org,&#xA;des:des,&#xA;referencias:referencias,&#xA;NombreComprador:NombreComprador,&#xA;TelDes:TelDes,&#xA;CelDes:CelDes,&#xA;NombreRemitente:NombreRemitente,&#xA;MailRemitente:MailRemitente,&#xA;TelRem:TelRem,&#xA;CelRem:CelRem,&#xA;//NombreProducto:NombreProducto,&#xA;//observaciones:observaciones,&#xA;//cantidad:cantidad,&#xA;//PrecioU:PrecioU,&#xA;productosHTML:productosHTML,&#xA;date:date,&#xA;horario:horario,&#xA;pago:pago, &#xA;//cotizaciones&#xA;costo:costo,&#xA;subtotal:subtotal,&#xA;total:total&#xA;&#xA;}}) //fin de datos&#xA;    .done(function(msg2)&#xA;    {&#xA;    console.log(&quot;pagos&quot;);&#xA;&#xA;    }) //fin del done&#xA;    .fail(function( jqXHR, textStatus ) {  console.log(&quot;fail jqXHR::&quot;+jqXHR+&quot; textStatus::&quot;+textStatus);})&#xA;  .always(function(){  console.log(&quot;always&quot;);});&#xA;    //console.log(productosHTML);&#xA;    //location.reload(true);&#xA;   console.log(productosHTML);&#xA;&#xA;&#xA;    //alert(&quot;Pedido realizado. Espera respuesta pronto&quot;);&#xA;&#xA;}, function ()&#xA;{&#xA;console.log(&quot;Rejected&quot;)&#xA;&#xA;&#xA;    //console.log(&quot;hola &quot; + pago);&#xA;&#xA;&#xA;&#xA;}); //fin mensaje&#xA;&#xA;} //Fin de validaci?n&#xA;&#xA;&#xA;} //fin pedir&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al momento de imprimir en consola o bien, de enviarlo al correo, me aparecen todas las variables que se mandaron imprimir MENOS la de &quot;observaciones&quot; que es un text área. Me aparece como undefined y no entiendo por qué&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Aquí una foto del sitio y su impresión en consola&#xA;&lt;a href=&quot;https://i.stack.imgur.com/GvI5D.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/GvI5D.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Muchas gracias por sus colaboraciones.&lt;/p&gt;&#xA;"" OwnerUserId=""35401"" LastEditorUserId=""24137"" LastEditDate=""2017-04-05T21:04:34.813"" LastActivityDate=""2022-02-22T22:44:17.407"" Title=""Obtener valor de textarea por javascript"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""61852"" PostTypeId=""1"" AcceptedAnswerId=""61905"" CreationDate=""2017-04-10T06:29:56.367"" Score=""1"" ViewCount=""9804"" Body=""&lt;p&gt;Estoy intentando cargar un DataTable dinamicamente, he intentado seguir unos cuantos tutoriales y adaptarlo a lo que tengo pero no me funciona, espero puedan ayudarme.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En una vista pido un rango de fechas y un almacen que se escoge de un select, esto lo envio al controlador y me regresa un response con la consulta, hasta aqui todo lo tengo bien.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Controlador:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function consultaProd2(Request $request)&#xA;{&#xA;    $almacenes = Almacen::lists('nombre', 'id');&#xA;&#xA;    $fechas = explode(' ', $request['RangoFecha']);&#xA;    $fechaInicial = $fechas[0].' 00:00:00';&#xA;    $fechaFinal = $fechas[2].' 23:59:59';&#xA;&#xA;    $productos = Producto::whereBetween('created_at', [$fechaInicial, $fechaFinal])&#xA;                         -&amp;gt;where('almacen_id', '=', $request['Almacen'])&#xA;                         -&amp;gt;get();&#xA;&#xA;    return response()-&amp;gt;json($productos);&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Mi problema viene siendo en el JQuery, aquí tengo lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Script&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    function llenar(response, index, value)&#xA;    {&#xA;        $('#example1').DataTable({&#xA;            &quot;destroy&quot;: true,&#xA;            &quot;columns&quot;:[&#xA;                {&quot;data&quot;:&quot;response.nombre&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;},&#xA;                {&quot;data&quot;:&quot;response.codigo&quot;}&#xA;            ]&#xA;        });&#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    function consultaProducto(){&#xA;        var tablaDatos = $('#datos');&#xA;        var token = $(&quot;#token&quot;).val();&#xA;        var route = '&amp;lt;?= url('producto/consultaProducto') ?&amp;gt;'&#xA;        var data = {};&#xA;        data.Almacen = $('select[name=Almacen]').val();&#xA;        data.RangoFecha = $('input[name=RangoFecha]').val();&#xA;        if(data.Almacen != null || data.Almacen !== 'undefined'){&#xA;            if(data.RangoFecha != null || data.RangoFecha !== 'undefined'){&#xA;                $.ajax({&#xA;                    url: route,&#xA;                    headers: {'X-CSRF-TOKEN': token},&#xA;                    data: data,&#xA;                    method: 'POST',&#xA;                    statusCode: {&#xA;                        400: function() {&#xA;                            /*success: function(){&#xA;&#xA;                            }*/&#xA;                        }&#xA;                    }&#xA;                }).done(function(response){&#xA;                    $.each(response, function(index, value){&#xA;                        llenar(response, index, value);&#xA;                        /*tablaDatos.append(&quot;&amp;lt;tr&amp;gt;&quot;);&#xA;                        tablaDatos.append(&quot;&amp;lt;td&amp;gt;&quot;+response[index].nombre+&quot;&amp;lt;/td&amp;gt;&quot;);&#xA;                        tablaDatos.append(&quot;&amp;lt;td&amp;gt;&quot;+response[index].codigo+&quot;&amp;lt;/td&amp;gt;&quot;);&#xA;                        tablaDatos.append(&quot;&amp;lt;/tr&amp;gt;&quot;);*/&#xA;                    });&#xA;&#xA;                }).fail(function(response){&#xA;                }); &#xA;            }else{&#xA;                alert(&quot;Debes seleccionar un rango de fecha&quot;);&#xA;            }&#xA;        }else{&#xA;            alert(&quot;Debes seleccionar un almacen&quot;);&#xA;        }&#xA;        return false;&#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si imprimo dentro de &lt;code&gt;done&lt;/code&gt; con &lt;code&gt;console.log(response)&lt;/code&gt;, me trae el JSON de la manera correcta.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/FviYm.png&quot; alt=&quot;a busy cat&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Especificamente la función de llenar es la que no estoy seguro que este funcionando y no me marca error alguno al momento de cargar la vista e interactuar con ella. Gracias por su ayuda.&lt;/p&gt;&#xA;"" OwnerUserId=""32417"" LastActivityDate=""2017-04-10T14:06:31.767"" Title=""Cargar DataTable con Jquery"" Tags=""&lt;ajax&gt;&lt;laravel-5&gt;&lt;datatables&gt;"" AnswerCount=""1"" CommentCount=""2"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""62105"" PostTypeId=""1"" CreationDate=""2017-04-10T21:19:13.137"" Score=""0"" ViewCount=""105"" Body=""&lt;p&gt;Tengo el siguiente &lt;em&gt;ajax&lt;/em&gt;, para la creación de una tarjeta de crédito, el script funciona perfectamente en Chrome, pero en IE no lo hace, me lanza un error &lt;code&gt;InvalidAccessError&lt;/code&gt;, el sitio está sobre HTTPS.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/EkKKA.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/EkKKA.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$('.js-payment-form').on('submit', function () {&#xA;    $('.js-payment-form-btn').prop('disabled', true);&#xA;&#xA;    var valid = false;&#xA;    var key = $(this).data('public-key');&#xA;&#xA;    $.ajax({&#xA;        url: $(this).data('api-url'),&#xA;        method: 'POST',&#xA;        data: JSON.stringify({&#xA;            primaryAccountNumber: $('#id_number').val(),&#xA;            expirationMonth: $('#id_expiration_month').val(),&#xA;            expirationYear: $('#id_expiration_year').val(),&#xA;            cvc: $('#id_cvv').val(),&#xA;            cardHolderName: $(this).data('user-name').substring(0, 25)&#xA;        }),&#xA;        dataType: 'json',&#xA;        contentType: 'application/json',&#xA;        cache: false,&#xA;        username: key,&#xA;        headers: {'Authorization': &amp;quot;Basic &amp;quot; + btoa(key + ':')}&#xA;    }).done(function(response) {&#xA;        $('#id_token').val(response.token);&#xA;        valid = true;&#xA;    }).fail(function(response) {&#xA;        console.log(response);&#xA;        alert('Tarjeta no valida, por favor intenta con una diferente.');&#xA;        $('.js-payment-form-btn').removeAttr('disabled');&#xA;    });&#xA;&#xA;    return valid;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;¿Alguien tiene idea de por qué pasa esto?&lt;/p&gt;&#xA;"" OwnerUserId=""2402"" LastEditorUserId=""21"" LastEditDate=""2021-05-02T16:51:01.393"" LastActivityDate=""2021-05-02T16:51:01.393"" Title=""InvalidAccessError Internet Explorer"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;internet-explorer&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""69480"" PostTypeId=""1"" CreationDate=""2017-05-12T13:41:25.443"" Score=""1"" ViewCount=""2450"" Body=""&lt;p&gt;Tengo el siguiente código que básicamente muestra una ventana modal y en la misma se carga un fragmento de vista correspondiente a un formulario básandose en el atributo &lt;code&gt;href&lt;/code&gt; del elemento al que se le asocia el evento &lt;code&gt;click&lt;/code&gt;. En diferentes vistas de la aplicación hago uso de la función, y esta sucediendo que en algunas de ellas al presionar Enter se está haciendo el submit del formulario y en otras nop, el comportamiento deseado debería ser que no se realice el submit, de hecho el botón es un &lt;code&gt;input&lt;/code&gt; de tipo &lt;code&gt;button&lt;/code&gt; y no de tipo &lt;code&gt;submit&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#vistas').on('click', '#lnkNuevoRegistro', function(e) {&#xA;        e.preventDefault();&#xA;        var elemento = $(this);&#xA;        var titulo = elemento.attr('title');&#xA;        var cerrarDialogo = elemento.attr('data-cerrar-dialogo');&#xA;        $(document.body).find('#modalCaptura').remove();&#xA;        $.ajax({&#xA;            url: elemento.attr('href'),&#xA;            beforeSend: function() {&#xA;                $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;            }&#xA;        }).done(function(data) {&#xA;            $(document.body).append(&quot;&amp;lt;div id='modalCaptura' class='modal fade' tabindex='-1'  role='dialog'&amp;gt;&amp;lt;div class='modal-dialog'&amp;gt;&amp;lt;div class='modal-content'&amp;gt;&amp;lt;div class='modal-header'&amp;gt;&amp;lt;button type='button' class='close' data-dismiss='modal' aria-label='Cerrar'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;h5 class='modal-title' id='myModalLabel'&amp;gt;&amp;lt;/h5&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class='modal-body'&amp;gt;&amp;lt;div id='contenedorForm' class='container-fluid'&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class='modal-footer'&amp;gt;&amp;lt;button type='button' class='btn btn-default' data-dismiss='modal'&amp;gt;Cerrar&amp;lt;/button&amp;gt;&amp;lt;button id='btnSalvar' type='submit' class='btn btn-primary'&amp;gt;Salvar&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&quot;);&#xA;            if (titulo === undefined) {&#xA;                $(&quot;.modal-title&quot;).html(&quot;&amp;lt;strong&amp;gt;Nuevo registro&amp;lt;/strong&amp;gt;&quot;);&#xA;            } else {&#xA;                $(&quot;.modal-title&quot;).html('&amp;lt;strong&amp;gt;' + titulo + '&amp;lt;/strong&amp;gt;');&#xA;            }&#xA;            $(&quot;#contenedorForm&quot;).html(data);&#xA;            $('#modalCaptura').modal({&#xA;                keyboard: false,&#xA;                backdrop: 'static'&#xA;            }).on('shown.bs.modal', function(e) {&#xA;                e.preventDefault();&#xA;                var dialogo = $(this);&#xA;                $(&quot;#btnSalvar&quot;).on('click', function(e) {&#xA;                    e.preventDefault();&#xA;                    var btn = $(this);&#xA;                    if (!btn.hasClass('disabled')) {&#xA;                        $.ajax({&#xA;                            type: 'POST',&#xA;                            url: $(&quot;#modalCaptura&quot;).find(&quot;form&quot;).attr('action'),&#xA;                            data: $(&quot;#modalCaptura&quot;).find(&quot;form&quot;).serialize(),&#xA;                            beforeSend: function() {&#xA;                                btn.addClass('disabled');&#xA;                                $('#indicador').addClass('cargando-satisfactorio').fadeIn('fast');&#xA;                            }&#xA;                        }).done(function(data) {&#xA;                            if (cerrarDialogo === &quot;1&quot;) {&#xA;                                $(dialogo).modal('hide');&#xA;                                $('#indicador').html(data);&#xA;                            } else {&#xA;                                $(dialogo).find('#contenedorForm').html(data);&#xA;                            }&#xA;                            $('#vistas').find('#lnkRecargaRegistros').trigger('click');&#xA;                        }).fail(function(jqXHR) {&#xA;                            if (jqXHR.status === 401) {&#xA;                                window.location = _HOMEPAGE;&#xA;                            } else if (jqXHR.status === 406) {&#xA;                                $(document.body).find(&quot;div[class='datepicker datepicker-dropdown dropdown-menu']&quot;).remove();&#xA;                                $(dialogo).find('#contenedorForm').html(jqXHR.responseText);&#xA;                            } else {&#xA;                                $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;                            }&#xA;                        }).always(function(status) {&#xA;                            btn.removeClass('disabled');&#xA;                            if (cerrarDialogo === &quot;1&quot;) {&#xA;                                if (status !== 'success') {&#xA;                                    $('#indicador').fadeOut(5500, function() {&#xA;                                        $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                                    });&#xA;                                } else {&#xA;                                    $('#indicador').fadeOut(4000, function() {&#xA;                                        $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                                    });&#xA;                                }&#xA;                            }&#xA;                            $('#indicador').fadeOut('fast', function() {&#xA;                                $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                            });&#xA;                        });&#xA;                    } else {&#xA;                        return false;&#xA;                    }&#xA;                });&#xA;            }).on('hidden.bs.modal', function(e) {&#xA;                e.preventDefault();&#xA;                $(document.body).find(&quot;div[class='datepicker datepicker-dropdown dropdown-menu']&quot;).remove();&#xA;                $(document.body).find('#modalCaptura').remove();&#xA;&#xA;            });&#xA;        }).fail(function(jqXHR) {&#xA;            if (jqXHR.status === 401) {&#xA;                window.location = _HOMEPAGE;&#xA;            } else {&#xA;                $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;            }&#xA;        }).always(function(status) {&#xA;            if (status !== 'success') {&#xA;                $('#indicador').fadeOut(5500, function() {&#xA;                    $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            } else {&#xA;                $('#indicador').fadeOut('fast', function() {&#xA;                    $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            }&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este un fragmento de vista &lt;code&gt;twig&lt;/code&gt; que si se fijan no tiene nada del otro mundo, como ese tengo varios en diferentes modulos, con algunos se hace el submit, con otros nop. Incluso, cuando cargo fragmentos de vista muchos más personalizados los campos (o más bien las grillas donde se muestran los widgets), tampoco sucede el submit.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;col-lg-12 col-md-12 col-sm-12 col-xs-12&quot;&amp;gt;&#xA;        {{ form_start(form) }}        &#xA;        {{ form_errors(form) }}        &#xA;        {{ form_widget(form) }}&#xA;        {{ form_end(form) }}&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este el es resultado html del fragmento de vista anterior:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;col-lg-12 col-md-12 col-sm-12 col-xs-12&quot;&amp;gt;&#xA;        &amp;lt;form name=&quot;consejo_popular&quot; method=&quot;post&quot; action=&quot;/app_dev.php/registrar-nuevo-consejo-popular/19&quot; class=&quot;form-horizontal&quot;&amp;gt;        &#xA;&#xA;        &amp;lt;div id=&quot;consejo_popular&quot;&amp;gt;    &amp;lt;div class=&quot;form-group&quot;&amp;gt;&amp;lt;label class=&quot;col-sm-4 control-label required&quot; for=&quot;consejo_popular_nombre&quot;&amp;gt;Nombre&amp;lt;/label&amp;gt;&amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&amp;lt;input type=&quot;text&quot; id=&quot;consejo_popular_nombre&quot; name=&quot;consejo_popular[nombre]&quot; required=&quot;required&quot; maxlength=&quot;255&quot; class=&quot;form-control&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&amp;lt;input type=&quot;hidden&quot; id=&quot;consejo_popular__token&quot; name=&quot;consejo_popular[_token]&quot; value=&quot;4S-avYTM6GHSTV6xuK80zVZT7fepNL2cEm75W50wix8&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Anh, el submit al presionar Enter se realiza cuando el formulario tiene el campo con valor, vacío no lo hace.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;************* Editando ***************&lt;/p&gt;&#xA;&#xA;&lt;p&gt;He cambiado el evento click del botón por el submit del formulario, y el propio botón por un input de tipo submit, ahora en algunos formularios al presionar Enter si los campos están llenos, se realiza el submit pero se pierde el evento click del botón (o input de tipo submit). En resumen deseo mantener el evento click para ejecutar el envío del formulario, pero que al presionar enter no se realice el submit como está sucediendo en algunos casos; se efectúa el submit como petición tradicional y el controlador está programado para responder solo a peticiones vía AJAX.&#xA;He estado pensando en programar el evento submit del formulario de manera tal que prevenga el comportamiento por defecto y no se responda al mismo, no se si tenga efecto, probaré: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#contenedorForm form').on('submit', function(e){&#xA;    e.preventDefault();&#xA;    return false;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""14272"" LastEditorUserId=""14272"" LastEditDate=""2017-05-13T01:09:45.263"" LastActivityDate=""2017-07-08T05:18:09.040"" Title=""Por qué el formulario hace submit al presionar Enter en algunos casos?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;symfony2&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""69730"" PostTypeId=""1"" AcceptedAnswerId=""69734"" CreationDate=""2017-05-13T19:08:32.580"" Score=""0"" ViewCount=""494"" Body=""&lt;p&gt;No he dado con la verdad en cuanto a cómo mostrar el mensaje indicador de la petición AJAX de manera tal de que si existe error en la misma, el indicador se mantenga visible durante un tiempo prudencial que le permita al usuario leerlo. En caso de que la petición haya sido satisfactoria, el mensaje desaparecería mucho más rápido. Pero aún no sé cómo jugar con los eventos &lt;code&gt;fail&lt;/code&gt; y &lt;code&gt;always&lt;/code&gt; de AJAX.&#xA;El siguiente código es una función a la que se llama una vez seleccionado un nodo, como resultado debe mostrar la vista central de la app asociada al nodo seleccionado.&#xA;El elemento con &lt;code&gt;id=”indicador”&lt;/code&gt; sirve para mostrar el estado de la petición, inicialmente tiene una clase asociada que lo mantiene oculto y su contenido html es un glyphicon y el texto Cargando…&#xA;La idea es que si se devuelve la vista correctamente, desaparezca el mensaje indicador rápidamente, pero si ocurriese un error, es decir la petición cae en &lt;code&gt;fail&lt;/code&gt;, el mensaje indicador además de cambiar la clase, y el texto del mismo pasa a ser el resultado de jqXHR.responseText, debería mantenerse durante un periodo de tiempo prudencial que permita al usuario leerlo.&#xA;Y finalmente he intentado en el &lt;code&gt;always&lt;/code&gt; restaurar el contenido de indicador para que esté disponible para cualquier otra llamada AJAX.&#xA;Erróneamente pues he estado usando el parámetro de &lt;code&gt;always&lt;/code&gt; para compararlo con ´success´ pero esto no es cierto, si ocurre un error, &lt;code&gt;always&lt;/code&gt; tiene como parámetro a &lt;code&gt;jqXHR&lt;/code&gt;, pero si la petición es satisfactoria, simplemente &lt;code&gt;always&lt;/code&gt; recibe el contenido devuelto por el servidor.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;***** Agregando solución **************&#xA;function cargarVistaCentral(nodo) {&#xA;        $.ajax({&#xA;            dataType: 'html',&#xA;            type: 'GET',&#xA;            url: Routing.generate('app_renderVistaCentral', {'id_estructura': nodo.id}),&#xA;            beforeSend: function() {&#xA;                $('#indicador').addClass('cargando-satisfactorio').slideDown('fast');&#xA;            }&#xA;        }).done(function(data) {&#xA;            $('#vistas').html(data);&#xA;        }).fail(function(jqXHR) {&#xA;            if (jqXHR.status === 401) {&#xA;                window.location = _HOMEPAGE;&#xA;            } else {&#xA;                $('#indicador').removeClass('cargando-satisfactorio').addClass('cargando-error').html(jqXHR.responseText);&#xA;            }&#xA;        }).always(function() {&#xA;            if (!$('#indicador').hasClass(&quot;cargando-satisfactorio&quot;)) {&#xA;                $('#indicador').fadeOut(5500, function() {&#xA;                    $(this).removeClass('cargando-error').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            } else {&#xA;                $('#indicador').fadeOut('fast', function() {&#xA;                    $(this).removeClass('cargando-satisfactorio').html(&quot;&amp;lt;span class='glyphicon glyphicon-time'&amp;gt;&amp;lt;/span&amp;gt; Cargando...&quot;);&#xA;                });&#xA;            }&#xA;        });&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Anh, las clases cargando-satisfactorio y cargando-error básicamente lo que hacen es aplicarle un color de fondo verde o rojo al indicador respectivamente, por eso es que trato de jugar con el addClass y removeClass para poner y quitar una u otra en dependencia del resultado de la petición. Y siempre tratando de quitarlas al final para que el indicador una vez iniciada otra petición no las tenga aplicadas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Exactamente, chequeando si existe la clase &lt;code&gt;cargando-satisfactorio&lt;/code&gt; en el &lt;code&gt;always&lt;/code&gt; del AJAX se puede aplicar más o menos tiempo al fadeOut del indicador.&lt;/p&gt;&#xA;"" OwnerUserId=""14272"" LastEditorUserId=""14272"" LastEditDate=""2017-05-13T21:07:03.450"" LastActivityDate=""2017-05-14T18:59:02.820"" Title=""¿Cómo mostrar mensaje indicador durante un tiempo que permita leerlo, si ocurre un error?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""69986"" PostTypeId=""1"" AcceptedAnswerId=""70111"" CreationDate=""2017-05-15T10:23:28.340"" Score=""1"" ViewCount=""1328"" Body=""&lt;p&gt;Estoy desarrollando una aplicación con &lt;em&gt;Phonegap&lt;/em&gt;. Me gustaría que al iniciar sesión, comprobara si existe en la base de datos. En el caso que exista que guarde la dirección del correo electrónico (&lt;code&gt;email&lt;/code&gt;) en el &lt;code&gt;localStorage&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código &lt;em&gt;HTML&lt;/em&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;login_container&quot;&amp;gt;&#xA;&#xA;    &amp;lt;form id=&quot;login-form&quot; method=&quot;POST&quot; name=&quot;login_form&quot;&amp;gt;&#xA;        &amp;lt;input class=&quot;input_email_login&quot; type=&quot;email&quot; placeholder=&quot;Email&quot; name=&quot;email&quot; required&amp;gt;&#xA;        &amp;lt;input class=&quot;input_password_login&quot; type=&quot;password&quot; placeholder=&quot;Password&quot; name=&quot;password&quot; required&amp;gt;&#xA;&#xA;        &amp;lt;p&amp;gt;Forgot your password?&amp;lt;/p&amp;gt;&amp;lt;span&amp;gt;Click here&amp;lt;/span&amp;gt;&#xA;&#xA;        &amp;lt;button id=&quot;submit_login&quot; type=&quot;submit&quot;&amp;gt;Login&amp;lt;/button&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Código &lt;em&gt;PHP&lt;/em&gt; (alojado en el servidor):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$email = $_POST[&quot;email&quot;];&#xA;$pas = $_POST[&quot;password&quot;];&#xA;&#xA;require_once(&quot;../connect.php&quot;);&#xA;&#xA;$db = new Conexion();&#xA;&#xA;$dbTable='r_users'; &#xA;&#xA;$consult = &quot;SELECT COUNT(*) FROM $dbTable WHERE email=:log AND password=:pas&quot;; &#xA;$result = $db-&amp;gt;prepare($consult);&#xA;$result-&amp;gt;execute(array(&quot;:log&quot; =&amp;gt; $email, &quot;:pas&quot; =&amp;gt; md5($pas)));&#xA;$total = $result-&amp;gt;fetchColumn();&#xA;&#xA;if($total==1){&#xA;    $consult = &quot;SELECT * FROM $dbTable WHERE email=:log AND password=:pas&quot;; &#xA;    $result = $db-&amp;gt;prepare($consult);&#xA;    $result-&amp;gt;execute(array(&quot;:log&quot; =&amp;gt; $email, &quot;:pas&quot; =&amp;gt; md5($pas)));&#xA;&#xA;    if (!$result) { &#xA;        print &quot;&amp;lt;p&amp;gt;Error.&amp;lt;/p&amp;gt;\n&quot;;&#xA;    }else{&#xA;        return $email;&#xA;        return $pas;&#xA;        echo $email;&#xA;        echo $pas;&#xA;    }&#xA;}else{&#xA;    return false;&#xA;}?&amp;gt; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Código &lt;em&gt;jQuery&lt;/em&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    $('#submit_login').on('click', function() {&#xA;        var data_login = $(&quot;#login-form&quot;).serialize();&#xA;        var email = $('.input_email_login').val();&#xA;        var password = $(&quot;.input_password_login&quot;).val();&#xA;        $.ajax({&#xA;            data: data_login,&#xA;            type: &quot;POST&quot;,&#xA;            url: &quot;http://urlservidor.com/validate_user.php&quot;&#xA;        })&#xA;        .done(function(){&#xA;            alert (&quot;Done &quot; + email + password);&#xA;            localStorage.setItem(&quot;Email&quot;, JSON.stringify(email));&#xA;            window.location.replace(&quot;../index.html&quot;);&#xA;        })&#xA;        .fail(function(){&#xA;            alert (&quot;No&quot;);&#xA;            window.location.replace(&quot;../login.html&quot;);&#xA;        })&#xA;        return false;&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El caso es que al intentar iniciar sesión siempre me da &lt;code&gt;Done&lt;/code&gt;, me muestra correctamente la dirección del correo electrónico y la contraseña que he introducido. Tanto si el usuario es correcto como si es falso.&lt;/p&gt;&#xA;"" OwnerUserId=""39246"" LastEditorDisplayName=""user13558"" LastEditDate=""2017-05-15T10:38:39.910"" LastActivityDate=""2017-06-05T08:08:39.897"" Title=""Login MySQL, PHP y AJAX"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""72158"" PostTypeId=""1"" CreationDate=""2017-05-22T20:13:11.487"" Score=""0"" ViewCount=""262"" Body=""&lt;p&gt;Estoy intentando renderizar un select en dependencia del valor seleccionado en otro select.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;myform&quot; action=&quot;#&quot; th:action=&quot;@{/actionRequest}&quot; th:object=&quot;${myModel}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-xs-4 div-form-input-bottom&quot;&amp;gt;&#xA;           &amp;lt;label class=&quot;&quot; for=&quot;&quot;&amp;gt;Select 1:&amp;lt;/label&amp;gt;&#xA;           &amp;lt;select th:field=&quot;*{selectedValue}&quot; class=&quot;&quot;&amp;gt;&#xA;               &amp;lt;option th:each=&quot;type : ${source}&quot; th:value=&quot;${type.val}&quot; th:text=&quot;${type.valor}&quot;&amp;gt;val&amp;lt;/option&amp;gt;&#xA;           &amp;lt;/select&amp;gt;&#xA;           &amp;lt;span class=&quot;error&quot; th:each=&quot;err : ${#fields.errors('selectedValue')}&quot; th:text=&quot;${err}&quot;&amp;gt;error&amp;lt;/span&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;&quot;&amp;gt;&#xA;           &amp;lt;label class=&quot;label-form&quot; for=&quot;&quot;&amp;gt;Select 2:&amp;lt;/label&amp;gt;&#xA;          &amp;lt;select th:field=&quot;*{valueRendered}&quot; class=&quot;&quot;&amp;gt;&#xA;               &amp;lt;option th:each=&quot;type : ${sourceRendered}&quot; th:value=&quot;${type.val}&quot; th:text=&quot;${type.valor}&quot;&amp;gt;val&amp;lt;/option&amp;gt;&#xA;           &amp;lt;/select&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El script sería el siguiente&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script th:inline=&quot;javascript&quot; type=&quot;text/javascript&quot;&amp;gt;&#xA;/*&amp;lt;![CDATA[*/&#xA;var url = /*[[@{/loadDynamic}]]*/;&#xA;$(document).ready(function(){&#xA;  $(&quot;#selectedValue&quot;).change(function(){&#xA;    var optionSelected = $(this);&#xA;    //Sending ajax request&#xA;        $.ajax({&#xA;            url: url,&#xA;            method: 'POST',&#xA;            data: {&#xA;              optionSelected: optionSelected.val()&#xA;            }&#xA;        }).done(function (data) {&#xA;            $(&quot;#valueRendered&quot;).html(data);&#xA;        }).fail(function (xhr, ajaxOptions, thrownError) {&#xA;            console.log(&quot;ERROR&quot;);&#xA;        });&#xA;  });&#xA;});&#xA;/*]]&amp;gt;*/&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El controller es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@Controller&#xA;public class DynamicTestController {&#xA;&#xA;    @RequestMapping(value = &quot;/loadDynamic&quot;, method = RequestMethod.POST)&#xA;    @ResponseBody&#xA;    public String dynamicSelect(MyModel myModel, Model model, @RequestParam(&quot;optionSelected&quot;) String optionSelected,&#xA;    HttpServletRequest request, HttpServletResponse response){&#xA;       try {&#xA;          /*&#xA;           * // Code here&#xA;           */&#xA;          return &quot;/design/DynamicTest&quot;;     &#xA;       } catch (Exception e) {&#xA;          e.printStackTrace();&#xA;       }&#xA;       return null;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La consola me arroja el error&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;&quot;NetworkError: 403  - &lt;a href=&quot;http://localhost:8090/MyProject/loadDynamic&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://localhost:8090/MyProject/loadDynamic&lt;/a&gt;&quot;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Alguna idea de como solucionar esto ?&lt;/p&gt;&#xA;"" OwnerUserId=""44084"" LastEditorUserId=""41695"" LastEditDate=""2017-05-22T21:22:42.417"" LastActivityDate=""2021-08-27T14:22:38.577"" Title=""Error en llamada Ajax (jQuery) con Thymeleaf"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;thymeleaf&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""75702"" PostTypeId=""1"" CreationDate=""2017-06-04T08:40:51.997"" Score=""0"" ViewCount=""31"" Body=""&lt;p&gt;Estoy tratando de crear un &lt;code&gt;Scroll&lt;/code&gt; infinito, pero al momento de correrlo me aparece un error de referencia en el &lt;code&gt;GET&lt;/code&gt; &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;jquery.js:8706 GET &lt;a href=&quot;http://localhost/loadMoreData.php?last_id=9&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://localhost/loadMoreData.php?last_id=9&lt;/a&gt; 404 (Not Found)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;el codigo de mi &lt;code&gt;Script&lt;/code&gt; es:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    $(window).scroll(function() { &amp;lt;-- linea donde me marca error&#xA;        if($(window).scrollTop() + $(window).height() &amp;gt;= $(document).height()) {&#xA;            var last_id = $(&quot;.post-id:last&quot;).attr(&quot;id&quot;);&#xA;            loadMoreData(last_id);&#xA;        }&#xA;    });&#xA;&#xA;    function loadMoreData(last_id){&#xA;      $.ajax(&#xA;            {&#xA;                url: '/loadMoreData.php?last_id=' + last_id,&#xA;                type: &quot;get&quot;,&#xA;                beforeSend: function()&#xA;                {&#xA;                    $('.ajax-load').show();&#xA;                }&#xA;            })&#xA;            .done(function(data)&#xA;            {&#xA;                $('.ajax-load').hide();&#xA;                $(&quot;#post-data&quot;).append(data);&#xA;            })&#xA;            .fail(function(jqXHR, ajaxOptions, thrownError)&#xA;            {&#xA;                  alert('server not responding...');&#xA;            });&#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el codigo que tengo en &lt;code&gt;loadMoreData:&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$conexion = conexion($bd_config);&#xA;&#xA;$qry = &quot;SELECT * FROM publications WHERE id &amp;lt; $_GET['last_id'] ORDER BY id DESC LIMIT 8&quot;; &#xA;$result = $conexion-&amp;gt;query($qry);&#xA;&#xA;$json = include('views/empleos.php');&#xA;&#xA;echo json_encode($json);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y este es mi codigo donde se muestran los &lt;code&gt;post&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php while ($post = $result -&amp;gt; fetch(PDO::FETCH_ASSOC)){ ?&amp;gt;&#xA;&#xA;    &amp;lt;div class=&quot;box-list&quot; id=&quot;post-data&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;item&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;              &amp;lt;p class=&quot;post-id&quot; id=&quot;&amp;lt;?php echo $post['id']; ?&amp;gt;&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;col-md-1 hidden-sm hidden-xs&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;img-item&quot;&amp;gt;&amp;lt;img src=&quot;&amp;lt;?php echo OTRA; ?&amp;gt;/images/&amp;lt;?php echo $post['thumb']; ?&amp;gt;&quot; alt=&quot;&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;col-md-11&quot;&amp;gt;&#xA;                    &amp;lt;h3 class=&quot;no-margin-top&quot;&amp;gt;&amp;lt;a href=&quot;single.php?id=&amp;lt;?php echo $post['id']; ?&amp;gt;&quot;&amp;gt;&amp;lt;?php echo $post['titulo']; ?&amp;gt; &amp;lt;i class=&quot;fa fa-link color-white-mute font-1x&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&#xA;                    &amp;lt;h5&amp;gt;&amp;lt;span class=&quot;color-black&quot;&amp;gt;&amp;lt;?php echo $post['company']; ?&amp;gt;&amp;lt;/span&amp;gt; - &amp;lt;span class=&quot;color-white-mute&quot;&amp;gt;&amp;lt;?php echo $post['locacion']; ?&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/h5&amp;gt;&#xA;                    &amp;lt;p class=&quot;text-truncate &quot;&amp;gt;&amp;lt;?php echo $post['extracto']; ?&amp;gt;&amp;lt;/p&amp;gt;&#xA;                    &amp;lt;div&amp;gt;&#xA;                    &amp;lt;span class=&quot;color-white-mute&quot;&amp;gt;&amp;lt;?php echo fecha($post['fecha']); ?&amp;gt;&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;pero si esta trayendo todo de la base de datos, no se que pasa, apenas comence a usar ajax&lt;/p&gt;&#xA;"" OwnerUserId=""40111"" LastEditorUserId=""40111"" LastEditDate=""2017-06-04T09:48:09.907"" LastActivityDate=""2017-06-04T09:48:09.907"" Title=""Error al crear Scroll infinito"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;scroll&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""76409"" PostTypeId=""1"" CreationDate=""2017-06-06T18:10:11.187"" Score=""0"" ViewCount=""48"" Body=""&lt;p&gt;Antes que Hola &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tengo este Codigo para un chat y lo que pasa es que cada vez que abro un chat nuevo conserva los otros anteriores ya he buscado el error pero no lo veo si hay alguien que pueda ver que me ayude. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CODE BOTTON&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;a data-toggle=&quot;modal&quot; data-target=&quot;#view-modal&quot; data-id=&quot;11&quot; id=&quot;getUser&quot; class=&quot;chat__friend&quot; info=&quot;This is some information for our tooltip.&quot;&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/a&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CODE MODAL&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        &amp;lt;div id=&quot;view-modal&quot; class=&quot;modal_fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;myModalLabel&quot; aria-hidden=&quot;true&quot; style=&quot;display: none;&quot;&amp;gt;&#xA;             &amp;lt;div class=&quot;modal-dialog&quot;&amp;gt; &#xA;                  &amp;lt;div class=&quot;modal-content&quot;&amp;gt; &#xA;&#xA;                      &amp;lt;button type=&quot;button&quot; class=&quot;close_modal_chat&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&amp;gt;×&amp;lt;/button&amp;gt; &#xA;&#xA;                       &amp;lt;div class=&quot;modal-body&quot;&amp;gt; &#xA;&#xA;                           &amp;lt;div id=&quot;modal-loader&quot;  &amp;gt;&#xA;                            &amp;lt;img class=&quot;img_modal&quot; src=&quot;./img/loading_data.gif&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;                            &amp;lt;br&amp;gt;&#xA;                            &amp;lt;button type=&quot;button&quot; class=&quot;btn_modal&quot; data-dismiss=&quot;modal&quot;&amp;gt;Close&amp;lt;/button&amp;gt;  &#xA;                           &amp;lt;/div&amp;gt;&#xA;&#xA;                           &amp;lt;!-- content will be load here --&amp;gt;                          &#xA;                           &amp;lt;div id=&quot;dynamic-content&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;                        &amp;lt;/div&amp;gt; &#xA;                 &amp;lt;/div&amp;gt; &#xA;              &amp;lt;/div&amp;gt;&#xA;       &amp;lt;/div&amp;gt;&amp;lt;!-- /.modal --&amp;gt;    &#xA;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;$(document).ready(function(){&#xA;&#xA;    $(document).on('click', '#getUser', function(e){&#xA;&#xA;        e.preventDefault();&#xA;&#xA;        var uid = $(this).data('id');   // it will get id of clicked row&#xA;&#xA;        $('#dynamic-content').html(''); // leave it blank before ajax call&#xA;        $('#modal-loader').show();      // load ajax loader&#xA;&#xA;        $.ajax({&#xA;            url: 'http://localhost/new/chat_user.php',&#xA;            type: 'POST',&#xA;            data: 'id='+uid,&#xA;            dataType: 'html'&#xA;        })&#xA;        .done(function(data){&#xA;            console.log(data);  &#xA;            $('#dynamic-content').html('');    &#xA;            $('#dynamic-content').html(data); // load response &#xA;            $('#modal-loader').hide();        // hide ajax loader   &#xA;        })&#xA;        .fail(function(){&#xA;            $('#dynamic-content').html('&amp;lt;i class=&quot;glyphicon glyphicon-info-sign&quot;&amp;gt;&amp;lt;/i&amp;gt; Something went wrong, Please try again...');&#xA;            $('#modal-loader').hide();&#xA;        });&#xA;&#xA;    });&#xA;&#xA;});&#xA;&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CODE CHAT&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;    require_once 'conectarbd.php';&#xA;    require (&quot;function.php&quot;);&#xA;     if(isset($_POST[&quot;id&quot;]))  &#xA; {  &#xA;      $output = '';  &#xA;      $query = &quot;SELECT * FROM user WHERE userID='&quot;.$_POST[&quot;id&quot;].&quot;'&quot;;  &#xA;      $result = mysql_query($query);  &#xA;      while($data = mysql_fetch_array($result))  &#xA;      {  &#xA;            $user_id = $data['userID'];&#xA;&#xA;           $output = '  &#xA;            &amp;lt;div class=&quot;all_content_chat&quot;&amp;gt;                  &#xA;                &amp;lt;div class=&quot;wall_messages_content_user&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;div class=&quot;name_user_post_modal&quot;&amp;gt; &#xA;                        &amp;lt;img class=&quot;modal_img&quot; src=&quot;./img/avatar_default.png&quot; alt=&quot;&quot;&amp;gt;   &#xA;                        &amp;lt;div&amp;gt;  &#xA;                            &amp;lt;p class=&quot;friend__name&quot;&amp;gt;'.$user_id.'&amp;lt;/p&amp;gt;  &#xA;                        &amp;lt;/div&amp;gt;  &#xA;                    &amp;lt;/div&amp;gt;&#xA;&#xA;                    &amp;lt;div class=&quot;wall_messages_content_chat&quot; id=&quot;messages_private_chat&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;wall_messages_user_text&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;messages_chat_box&quot;&amp;gt;&#xA;                        &amp;lt;input class=&quot;input_messages_chat_user&quot; id=&quot;messages&quot; type=&quot;text&quot; placeholder=&quot;Type Message Hit Enter&quot;&amp;gt;&amp;lt;/input&amp;gt;&#xA;                        &amp;lt;a class=&quot;message__send&quot; onclick=&quot;&quot;&amp;gt;&amp;lt;/a&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;            &amp;lt;/div&amp;gt;  &#xA;&#xA;           ';  &#xA;      }  &#xA;      echo $output;  &#xA; }  &#xA; // '.get_emoticons_messages().'&#xA;?&amp;gt;  &#xA;&#xA;&#xA;    &amp;lt;!-- **Javascript jquery, ajax Of chat** --&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;&#xA;    ////////////////// scroll a messages new &#xA;&#xA;            $(document).ready(function(){&#xA;                var out, isScrolledToBottom;&#xA;&#xA;                out = document.getElementById(&quot;messages_private_chat&quot;); // outer container of messages&#xA;&#xA;&#xA;                // initial load of chat                     ////**Chat post id&#xA;                $('#messages_private_chat').load(&quot;messages_private_load.php?id=&amp;lt;?php echo $user_id; ?&amp;gt;&quot;, function() {&#xA;                  out = document.getElementById(&quot;messages_private_chat&quot;); // re-reference after a jQuery .load() as it removes the original dom element and add a new one&#xA;                  scrollToBottom(true);&#xA;                });&#xA;&#xA;&#xA;                // check for chatter every second&#xA;                setInterval(function() {&#xA;&#xA;                    isScrolledToBottom = checkIfScrolledBottom();&#xA;&#xA;                    $('#messages_private_chat').load(&quot;messages_private_load.php?id=&amp;lt;?php echo $user_id; ?&amp;gt;&quot;, function() {&#xA;                      out = document.getElementById(&quot;messages_private_chat&quot;); // re-reference after a jQuery .load() as it removes the original dom element and add a new one&#xA;                      scrollToBottom(isScrolledToBottom);&#xA;                    });&#xA;&#xA;                },1000);&#xA;&#xA;                function checkIfScrolledBottom() {&#xA;                    // allow for 1px inaccuracy by adding 1&#xA;                    return out.scrollHeight - out.clientHeight &amp;lt;= out.scrollTop + 1;&#xA;                }&#xA;&#xA;                function scrollToBottom(scrollDown) {&#xA;                    if (scrollDown)&#xA;                    out.scrollTop = out.scrollHeight - out.clientHeight;&#xA;                }&#xA;                //setTimeout(function() { $(&quot;#chat-feed&quot;).scrollTop($(&quot;#chat-feed&quot;)[0].scrollHeight);}, 1200);&#xA;            });&#xA;&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/lfMVU.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/lfMVU.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""29516"" LastEditorUserId=""29516"" LastEditDate=""2017-06-07T19:19:14.667"" LastActivityDate=""2017-06-07T19:19:14.667"" Title=""Error con un Chat en un Modal conserva la consultas anteriores"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""78251"" PostTypeId=""1"" AcceptedAnswerId=""78265"" CreationDate=""2017-06-13T16:27:06.823"" Score=""0"" ViewCount=""182"" Body=""&lt;p&gt;Según si el &lt;strong&gt;form&lt;/strong&gt; es válido o no deberían aparecer &quot;&lt;strong&gt;success&lt;/strong&gt;&quot; o &quot;&lt;strong&gt;some errors&lt;/strong&gt;&quot; en un &lt;strong&gt;div&lt;/strong&gt; con &lt;strong&gt;id=&quot;results&quot;&lt;/strong&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El problema surge cuando el &lt;strong&gt;form&lt;/strong&gt; no es válido.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En la función &quot;&lt;strong&gt;fail&lt;/strong&gt;&quot; de Ajax solo se ejecuta el &quot;&lt;strong&gt;alert&lt;/strong&gt;&quot; y no lee el Json de respuesta enviado desde &lt;strong&gt;Django&lt;/strong&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En la función &quot;&lt;strong&gt;done&lt;/strong&gt;&quot; todo funciona correctamente. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy usando &quot;&lt;strong&gt;Firebug&lt;/strong&gt;&quot; para ver si desde la view se envia correctamente la información y  aparentemente no hay problemas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Dejo los códigos usados. Gracias de antemano.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Ajax.js&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;$('#form').submit( function(event) {&#xA;event.preventDefault();&#xA;$.ajax({&#xA;    data: $(this).serialize(),&#xA;    type : 'POST',&#xA;    dataType: 'json',&#xA;    url:'/wind/buildings',&#xA;})&#xA; .done(function(data) {&#xA;    $(&quot;#result&quot;).html(data.result);&#xA;    $('html,body').animate({&#xA;    scrollTop: $(&quot;#result&quot;).offset().top},&#xA;    'slow');&#xA;    alert('success');&#xA;})&#xA;.fail(function(data) {&#xA;    $(&quot;#result&quot;).html(data.result);&#xA;    alert('error');&#xA;});&#xA;});&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Django View&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;def buildings(request):&#xA;    if request.POST and request.is_ajax():&#xA;        s_form = BuildingForm(request.POST)&#xA;        if s_form.is_valid():&#xA;            return JsonResponse({'result': 'success'})&#xA;        else:&#xA;            return JsonResponse({'result': 'some errors'}, status=400)&#xA;    else:&#xA;        s_form = BuildingForm()&#xA;        return render(request, 'wind/buildings.html', {'s_form': s_form})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""26026"" LastEditorUserId=""22381"" LastEditDate=""2017-06-13T16:33:20.103"" LastActivityDate=""2017-06-13T17:10:25.083"" Title=""Funcion &quot;fail&quot; de Ajax no lee Json de respuesta"" Tags=""&lt;ajax&gt;&lt;json&gt;&lt;django&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""78386"" PostTypeId=""1"" AcceptedAnswerId=""78510"" CreationDate=""2017-06-13T22:46:02.740"" Score=""1"" ViewCount=""1454"" Body=""&lt;p&gt;Tengo tres días tratando de concretar este código, ¿alguién me puede decir qué estoy haciendo mal?: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Controller&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;[HttpPost]&#xA;public ActionResult Index(Empleado empleado)&#xA;{&#xA;    if (ModelState.IsValid)&#xA;    {&#xA;        _db.Empleados.Add(empleado);&#xA;        _db.SaveChanges();&#xA;&#xA;        return Json(empleado);&#xA;    }&#xA;&#xA;    return Json(null);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Model&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public class Empleado&#xA;{&#xA;    [Key]&#xA;    public int Id { get; set; }&#xA;&#xA;    [Required]&#xA;    public string Nombre { get; set; }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;View&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@model WebApplication1.Models.Empleado&#xA;&#xA;@{&#xA;    ViewBag.Title = &quot;Home Page&quot;;&#xA;}&#xA;&#xA;&amp;lt;form id=&quot;formulario&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;form-horizontal&quot;&amp;gt;&#xA;        @Html.TextBoxFor(model =&amp;gt; model.Nombre, new { @class = &quot;form-control&quot;, @placeholder = &quot;Nombre&quot; })&#xA;        &amp;lt;input type=&quot;submit&quot; value=&quot;Confirmar&quot; class=&quot;btn btn-success&quot; id=&quot;btnConfirmar&quot; /&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&#xA;&amp;lt;div id=&quot;resultado&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;@section Scripts{&#xA;@Scripts.Render(&quot;~/bundles/jqueryval&quot;)&#xA;        &amp;lt;script&amp;gt;&#xA;            $(document).ready(function () {&#xA;                $('#btnConfirmar').click(function () {&#xA;                    var data = $('#formulario').serialize();&#xA;                    var url = &quot;@Url.Action(&quot;Index&quot;, &quot;Home&quot;)&quot;;&#xA;&#xA;                    $.post(url, data).done(function () {&#xA;                        $('#resultado').html(&quot;Guardado&quot;);&#xA;                    })&#xA;                    .fail(function () {&#xA;                        $('#resultado').html(&quot;Error&quot;);&#xA;                    });&#xA;                });&#xA;            });&#xA;&#xA;        &amp;lt;/script&amp;gt;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cabe resaltar que también lo intenté con el metodo &lt;code&gt;$.ajax({})&lt;/code&gt; pero tampoco me funcionó.&lt;/p&gt;&#xA;"" OwnerUserId=""47553"" LastEditorUserId=""16841"" LastEditDate=""2017-06-14T21:07:10.983"" LastActivityDate=""2017-06-14T21:09:46.653"" Title=""¿Cómo insertar datos en una base de datos mediante ajax-jquey en ASP.NET MVC 5?"" Tags=""&lt;c#&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;asp.net&gt;&lt;mvc&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""78672"" PostTypeId=""1"" CreationDate=""2017-06-14T20:44:55.990"" Score=""1"" ViewCount=""552"" Body=""&lt;p&gt;Tengo este ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $.ajax:{&#xA;        type:'GET',               &#xA; url:&quot;https://empresa1.sharepoint.com/teams/dev/plataforma1212/_api/web/lists/GetByTitle('Comprardores')/items&quot;,&#xA;                        async: false,&#xA;                        headers:{ &#xA;                            &quot;accept&quot;: &quot;application/json&quot;,&#xA;&#xA;                        },&#xA;                    }).done(function(response){&#xA;                        debugger&#xA;                    }).fail(function(response){&#xA;                        debugger&#xA;                        console.log(&quot;error&quot;);&#xA;                    }); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El cual me debe trar un json de una lista de &lt;code&gt;SharePoint Online&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero me sale el siguiente error &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;code&#xA;:&#xA;&quot;-2147024891, System.UnauthorizedAccessException&quot;&#xA;message&#xA;:&#xA;{lang: &quot;es-ES&quot;,…}&#xA;lang&#xA;:&#xA;&quot;es-ES&quot;&#xA;value&#xA;:&#xA;&quot;Acceso denegado. No tiene el permiso necesario para realizar esta acción o tener acceso a este recurso.&quot; &#xA;mira el error&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;¿Que me puede estar generando este error?&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""33834"" LastEditorUserId=""2429"" LastEditDate=""2017-06-14T20:49:19.720"" LastActivityDate=""2017-08-29T11:27:34.110"" Title=""Acceso denegado en Ajax"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;sharepoint&gt;&lt;sharepoint-online&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""81324"" PostTypeId=""1"" AcceptedAnswerId=""81327"" CreationDate=""2017-06-24T22:59:39.570"" Score=""0"" ViewCount=""310"" Body=""&lt;p&gt;Buenas tardes, tengo los siguientes 3 códigos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mediante el codigo javascript con ajax realizó la petición y se efectúa correctamente, esta es el inicio de sesión de un usuario, en caso de ser correctos los datos te dice &quot;Bienvenido&quot; en caso contrario &quot;No hay usuarios registrados con esos datos&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi duda sería es posible evaluar lo que te regresa el método ajax? para que en caso de que el incio de sesion sea correcta, la pagina que es el index se muestre, y en caso de ser erróneo el logueo del usuario este se mantenga en esa misma ventana de login.&#xA;Como puedo interactuar con &quot;data&quot; que es lo que me regresa la petición al servidor con ajax.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Por su atención, gracias.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código javascript&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function() {&#xD;&#xA;&#xD;&#xA;	$('#boton').click(function(event) {&#xD;&#xA;		event.preventDefault();&#xD;&#xA;		var1 = $('#usuario').val();&#xD;&#xA;		var2 = $('#pass').val();&#xD;&#xA;&#xD;&#xA;		$.ajax({&#xD;&#xA;			url: 'Controlador/login.php',&#xD;&#xA;			type: 'POST',&#xD;&#xA;			data: {var1, var2},&#xD;&#xA;			beforeSend:function(){&#xD;&#xA;				console.log(&quot;Se esta procesando tu peticion&quot;);&#xD;&#xA;			}&#xD;&#xA;		})&#xD;&#xA;		.done(function(data) {&#xD;&#xA;			console.log(&quot;success&quot;);&#xD;&#xA;			alert(data);&#xD;&#xA;		})&#xD;&#xA;		.fail(function() {&#xD;&#xA;			console.log(&quot;error&quot;);&#xD;&#xA;		})&#xD;&#xA;		.always(function() {&#xD;&#xA;			console.log(&quot;complete&quot;);&#xD;&#xA;		});&#xD;&#xA;	});&#xD;&#xA;	&#xD;&#xA;&#xD;&#xA;	&#xD;&#xA;	$('#loguearse').click(function(event) {	&#xD;&#xA;		$('#ve').load('login.html');&#xD;&#xA;		$('#general').hide();		&#xD;&#xA;	});&#xD;&#xA;	&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código PHP&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;	require_once('../Modelo/class.conexion.php');&#xD;&#xA;	require_once('../Modelo/class.consultas.php');&#xD;&#xA;&#xD;&#xA;	$mensaje = null;&#xD;&#xA;&#xD;&#xA;	$usuario = $_POST['var1'];&#xD;&#xA;	$pass = $_POST['var2'];&#xD;&#xA;&#xD;&#xA;	if(strlen($usuario) &amp;gt; 0 &amp;amp;&amp;amp; strlen($pass) &amp;gt; 0){&#xD;&#xA;		$consultas = new Consultas();&#xD;&#xA;		$mensaje = $consultas-&amp;gt;verificarUsuario($usuario, $pass);	&#xD;&#xA;	}else{&#xD;&#xA;		echo &quot;Por favor rellena ambos campos&quot;;&#xD;&#xA;	}&#xD;&#xA;&#xD;&#xA;	echo $mensaje;&#xD;&#xA;&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Metodo verificarUsuario&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;public function verificarUsuario($nombre_usuario,$password_usuario){&#xD;&#xA;				$modelo = new Conexion();&#xD;&#xA;				$conexion = $modelo-&amp;gt;get_conexion();&#xD;&#xA;				$sql = &quot;select nombre_usuario, password_usuario&#xD;&#xA;						from usuarios&#xD;&#xA;						where nombre_usuario = :nombre_usuario &#xD;&#xA;						and password_usuario = :password_usuario&quot;;&#xD;&#xA;				$statement = $conexion-&amp;gt;prepare($sql);				&#xD;&#xA;				$statement-&amp;gt;bindParam(':nombre_usuario', $nombre_usuario);&#xD;&#xA;				$statement-&amp;gt;bindParam(':password_usuario', $password_usuario);&#xD;&#xA;				if(!$statement){&#xD;&#xA;					return &quot;No hay usuario registrado con esos datos&quot;;&#xD;&#xA;				}else{&#xD;&#xA;					$statement-&amp;gt;execute();&#xD;&#xA;					if($statement-&amp;gt;rowCount() &amp;gt; 0){				 		&#xD;&#xA;						return &quot;Bienvenido&quot;;&#xD;&#xA;					}else{&#xD;&#xA;						return &quot;no hay usuarios con registrados con esos datos&quot;;&#xD;&#xA;					}	&#xD;&#xA;				}		&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""48554"" LastActivityDate=""2017-06-24T23:25:45.540"" Title=""Evaluar variable recibida con peticion al servidor con ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""87623"" PostTypeId=""1"" AcceptedAnswerId=""87670"" CreationDate=""2017-07-18T00:05:40.410"" Score=""0"" ViewCount=""45"" Body=""&lt;p&gt;La respuesta es true si el usuario existe en la db, pero no sé cómo cambiar el valor del final de manera asíncrona.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#login_form&quot;).submit(function(){&#xA;    let final = false;&#xA;    let object = {&#xA;        data: {&#xA;            'user': $(&quot;#user_login&quot;).val(),&#xA;            'pass': $(&quot;#pass_login&quot;).val(),&#xA;            'type': true,&#xA;        },&#xA;        url: 'login.php',&#xA;        type: 'POST'&#xA;    }&#xA;    ajax(object).then(function resolve(response){&#xA;        if(!response){&#xA;            errorDiv(&quot;#user_login&quot;, &quot;#C62828&quot;);&#xA;            errorDiv(&quot;#pass_login&quot;, &quot;#C62828&quot;);&#xA;        }else{&#xA;            final = true;&#xA;        }&#xA;    }, function reject(){&#xA;        console.log(&quot;Error&quot;);&#xA;    });&#xA;    return final;&#xA;});&#xA;&#xA;function ajax (object){&#xA;    return new Promise(function(resolve, reject){&#xA;        $.ajax(object).done(resolve).fail(reject);&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""26755"" LastEditorUserId=""83"" LastEditDate=""2017-07-18T10:28:28.547"" LastActivityDate=""2017-07-18T10:28:28.547"" Title=""¿Cómo hacer para que el return se ejecute después de completarse la petición ajax?"" Tags=""&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""88104"" PostTypeId=""1"" AcceptedAnswerId=""88125"" CreationDate=""2017-07-19T20:26:47.997"" Score=""0"" ViewCount=""721"" Body=""&lt;p&gt;tengo el siguiente codigo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function GET_URLAsync(strUrl, aParm) {&#xA;&#xA;    var response = $.ajax({&#xA;        type: &quot;POST&quot;,&#xA;        url: &quot;../Paginas/&quot; + strUrl,&#xA;        data: JSON.stringify(aParm),&#xA;        contentType: &quot;application/json; charset=utf-8&quot;,&#xA;        dataType: 'json',&#xA;    });&#xA;    response.always(function (data) {&#xA;        //replace to complete&#xA;    });&#xA;    response.done(function (data) {//replace to success&#xA;        var registros = data.d;&#xA;        if ($.type(registros) != &quot;null&quot;) {&#xA;            //dataReturn = registros;&#xA;            return registros&#xA;        } else {&#xA;            console.log(&quot;Data NULL del servidor &quot;);&#xA;            return [];&#xA;        }&#xA;    });&#xA;    response.then(function (data) {&#xA;        //Incorporates the functionality of the .done() and .fail() methods&#xA;    });&#xA;    response.fail(function (data) { //replace to error&#xA;        // handle request failures&#xA;        swal(&quot;Error petición GET&quot;);&#xA;    });&#xA;    return response;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Es una funcion estandar que hace llamadas al servidor. la forma como la utilizo es la siguiente.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    //Llamada al servidor de manera Asincrona. :D&#xA;    GET_URLAsync(strUrl, aParm).done(function (periodos) {&#xA;        console.log(periodos)&#xA;        f_LlenarListaPeriodosAlumnos(periodos);&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El problema es que al hacer &lt;code&gt;console.log(periodos)&lt;/code&gt;. me sale un objeto, y para recuperar mi lista tengo que poner nuevamente el &lt;code&gt;.d&lt;/code&gt;(&lt;code&gt;periodos.d&lt;/code&gt;).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Como podría hacer para que el &lt;code&gt;.done&lt;/code&gt; anterior de la función estándar me retorne la la lista limpia y ya no tenga que poner &lt;code&gt;.d&lt;/code&gt;. Algo asi como:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({})&#xA;.done(function(){&#xA;return &quot;hola &quot;&#xA;})&#xA;.done(function(dataHola){&#xA;return dataHola+&quot; Vitmar&quot;&#xA;})&#xA;.done(function (dataHolaVitmar){&#xA;console.log(dataHolaVitmar)&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Sera posible? Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""13277"" LastActivityDate=""2017-07-19T21:38:31.033"" Title=""Retornar cadena de .done s en una respuesta Ajax de Jquery"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;promesas&gt;&lt;asincronismo&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""89903"" PostTypeId=""1"" CreationDate=""2017-07-23T15:29:37.317"" Score=""0"" ViewCount=""6119"" Body=""&lt;p&gt;Tengo un formulario el cual contiene campo de texto  y un campo file para subir imágenes los cuales envío mediante AJAX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Cómo puedo serializar tanto el input file como el input text para enviar los dos datos a la vez?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;He serializado el campo de texto y también el  FormData para el input fil,  pero solo me permite enviar 1 archivo, o el texto o el input file.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto es lo que he intentado:&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;form&quot;).on(&quot;submit&quot;,function(e){&#xA;&#xA;               var form = $(this).serialize();&#xA;               var imagen = new FormData($(&quot;#formdata&quot;)[0]);&#xA;&#xA;                $.ajax({&#xA;&#xA;                    type:'post', &#xA;                    url:'enviar.php',&#xA;                    data:imagen,&#xA;                    contentType:false,&#xA;                    processData:false&#xA;&#xA;                })&#xA;                .done(function(valor){&#xA;&#xA;                    alert(valor);&#xA;&#xA;                })&#xA;                .fail(function(data){&#xA;&#xA;                    alert(&quot;Error&quot;);&#xA;                })&#xA;&#xA;&#xA;&#xA;&#xA;               e.preventDefault();&#xA;           });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form action=&quot;enviar.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;  id=&quot;formdata&quot;&amp;gt;&#xA;&#xA;        &amp;lt;table border=&quot;1px&quot;&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;Titulo&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;titulo&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;Contenido&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&amp;lt;textarea name=&quot;mensaje&quot; id=&quot;&quot; cols=&quot;30&quot; rows=&quot;10&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;Insertar Imagen&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&amp;lt;input type=&quot;file&quot; name=&quot;archivo&quot; /&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;/table&amp;gt;&#xA;        &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;        &amp;lt;table border=&quot;1px&quot;&amp;gt;&#xA;            &amp;lt;thead&amp;gt;&#xA;                &amp;lt;th&amp;gt;ID&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;Nombre&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;Actualizar&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;Eliminar&amp;lt;/th&amp;gt;&#xA;            &amp;lt;/thead&amp;gt;&#xA;            &amp;lt;tbody&amp;gt;&#xA;                &amp;lt;tr&amp;gt;&#xA;                    &amp;lt;td&amp;gt;1&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;Nombre&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&amp;lt;a href=&quot;actualizar.php&quot;&amp;gt;Actualizar&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&amp;lt;a href=&quot;eliminar.php&quot;&amp;gt;Eliminar&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&#xA;            &amp;lt;/tbody&amp;gt;&#xA;        &amp;lt;/table&amp;gt;&#xA;        &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;        &amp;lt;input type=&quot;submit&quot; value=&quot;Insertar&quot; /&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""48395"" LastEditorUserId=""4163"" LastEditDate=""2017-07-23T19:58:15.940"" LastActivityDate=""2023-08-10T12:01:57.053"" Title=""Serializar y enviar texto e imagen mediante AJAX"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""91066"" PostTypeId=""1"" AcceptedAnswerId=""91077"" CreationDate=""2017-07-27T18:15:31.140"" Score=""1"" ViewCount=""7522"" Body=""&lt;p&gt;&lt;strong&gt;&lt;em&gt;Código:&lt;/em&gt;&lt;/strong&gt; tengo 2 variables&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;code.jquery.com/jquery-3.2.1.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script&amp;gt;&#xA; var var1 = $(&quot;#var1&quot;).val(); var var2 = $(&quot;#var2&quot;).val(); &#xA;$.ajax({ &#xA;url:'recibo.php', &#xA;data:{var1:var1,var2:var2}, &#xA;type:'POST', &#xA;datatype:'json' &#xA;})&#xA;&amp;lt;/script&amp;gt; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;mi intención es enviarlas por la url &lt;strong&gt;&lt;em&gt;OCULTAS O ENCRIPTADAS&lt;/em&gt;&lt;/strong&gt; o si existe alguna otra forma para enviarlas bien sea por &lt;strong&gt;JQUERY O AJAX&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Mi intencion es enviar los valores a otra pagina&lt;/strong&gt; con el siguiente codigo..&#xA;&lt;strong&gt;&lt;em&gt;Pagina Ejemplo.php&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;?php&#xA;    $var1=1;&#xA;    $var2=2;&#xA;    echo &quot;&amp;lt;div class='inner arriba' id='for'&amp;gt;&#xA;     &amp;lt;a href='#'&amp;gt;&amp;lt;input type='text' name='var1' id='var1' value='$var1'&amp;gt;      &amp;lt;input type='text' name='var2' id='var2' value='$var2'&amp;gt;&amp;lt;/a&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&quot;;&#xA;     ?&amp;gt;&#xA;     &amp;lt;html&amp;gt;&#xA;&#xA;     &amp;lt;head&amp;gt;&#xA;&#xA;     &amp;lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;     &amp;lt;script&amp;gt;&#xA;         var var1 = $(&quot;#var1&quot;).val();&#xA;         var var2 = $(&quot;#var2&quot;).val();&#xA;         $.ajax({&#xA;          url:'recibo.php',&#xA;          data:{var1:var1,var2:var2},&#xA;         type:'POST',&#xA;         datatype:'json'&#xA;     })&#xA;&#xA;         var jqxhr = $.ajax( &quot;recibo.php&quot; )&#xA;         .done(function() {&#xA;          alert(&quot;Succes&quot;);&#xA;     })&#xA;         .fail(function() {&#xA;          alert( &quot;error&quot; );&#xA;      })&#xA;         .always(function() {&#xA;          alert( &quot;complete&quot; );&#xA;      });&#xA;&#xA;        jqxhr.always(function() {&#xA;       alert( &quot;second complete&quot; );&#xA;    });&#xA;    &amp;lt;/script&amp;gt;&#xA;    &amp;lt;/head&amp;gt;&#xA;      &amp;lt;body&amp;gt;&#xA;     &amp;lt;/body&amp;gt;&#xA;     &amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Pagina emjemplo2.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;aqui deseo recibir los valores enviados, estoy investigando como recibirla con json ya que el metodo de envio que utilizo es &lt;strong&gt;&lt;em&gt;datatype:'json'&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php &#xA;     echo $resultado = $_POST['var1'] + $_POST['var2']; &#xA;      echo $ca=$_POST['var1'];&#xA;      echo $ca2=$_POST['var2'];&#xA;    ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""53483"" LastEditorUserId=""822"" LastEditDate=""2017-07-28T01:20:24.053"" LastActivityDate=""2017-07-28T01:20:24.053"" Title=""Enviar Parametros por URL"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""91157"" PostTypeId=""1"" CreationDate=""2017-07-27T22:35:06.253"" Score=""-1"" ViewCount=""2856"" Body=""&lt;p&gt;buenas amigos tengo uan enorme duda al momento de &lt;strong&gt;enviar los parametros y redireccionar a otra pagina&lt;/strong&gt; aqui esta mi codigo&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Pagina Ejemplo1.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;?php&#xA;     $var1=1;&#xA;     $var2=2;&#xA;      echo &quot;&amp;lt;a id='anclka'&amp;gt;&#xA;          &amp;lt;input type='text' name='var1' id='var1' value='$var1'&amp;gt;&#xA;          &amp;lt;input type='text' name='var2' id='var2' value='$var2'&amp;gt;&#xA;      Irme a otra pagina&amp;lt;/a&amp;gt;&quot;;&#xA;   ?&amp;gt;&#xA;&#xA;      &amp;lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.2.1.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;     &amp;lt;script&amp;gt;&#xA;       $(&quot;#anclka&quot;).click(function () {&#xA;        var var1 = $(&quot;#var1&quot;).val();&#xA;        var var2 = $(&quot;#var2&quot;).val();&#xA;          $.ajax({&#xA;          url:'recibo.php',&#xA;          data:{var1:var1,var2:var2},&#xA;          type:'POST',&#xA;          datatype:'json'&#xA;&#xA;        }).done(function(data, textStatus, jqXHR) {&#xA;&#xA;         console.log( &quot;La solicitud se ha completado correctamente.&quot; );&#xA;&#xA;        })&#xA;         .fail(function(jqXHR, textStatus, errorThrown) {&#xA;         console.log( &quot;La solicitud a fallado: &quot; +  textStatus)&#xA;         })&#xA;&#xA;      });&#xA;     &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""53483"" LastActivityDate=""2018-10-26T08:01:01.923"" Title=""Enviar Parametros y Redireccionar a otra pagina con Ajax o Jquery"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""5"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""91375"" PostTypeId=""1"" AcceptedAnswerId=""91407"" CreationDate=""2017-07-28T19:41:24.800"" Score=""1"" ViewCount=""978"" Body=""&lt;p&gt;Anteriormente seguí un ejemplo para poner en practica el rellenado de inputs a partir de un input padre y a funcionado correctamente, pero al momento de implementarlo en mi aplicación fracaso en mi intento y no me trae nada de la base de datos, y en consola no me marca ningun error.  El input nombre es con el que se debe de identificar. Estoy usando &lt;em&gt;PHP 7&lt;/em&gt; y el &lt;em&gt;Admin LTE&lt;/em&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;$(function() {&#xD;&#xA;  /* Ponemos evento blur a la escucha sobre id nombre en id cliente. */&#xD;&#xA;  $('#cliente').on('blur', '#nombre', function() {&#xD;&#xA;    /* Obtenemos el valor del campo */&#xD;&#xA;    var valor=this.value;&#xD;&#xA;    /* Si la longitud del valor es mayor a 2 caracteres.. */&#xD;&#xA;    if(valor.length&amp;gt;=3) {&#xD;&#xA;      /* Cambiamos el estado.. */&#xD;&#xA;      $('#estado').html('Cargando datos de servidor...');&#xD;&#xA;      /* Hacemos la consulta ajax */&#xD;&#xA;      var consulta=$.ajax( {&#xD;&#xA;        type:'POST', url:'cliente.php', data: {&#xD;&#xA;          nombre: valor&#xD;&#xA;        }&#xD;&#xA;        , dataType:'JSON'&#xD;&#xA;      }&#xD;&#xA;      );&#xD;&#xA;      /* En caso de que se haya retornado bien.. */&#xD;&#xA;      consulta.done(function(data) {&#xD;&#xA;        if(data.error!==undefined) {&#xD;&#xA;          $('#estado').html('Ha ocurrido un error: '+data.error);&#xD;&#xA;          return false;&#xD;&#xA;        }&#xD;&#xA;        else {&#xD;&#xA;          if(data.destino!==undefined) {&#xD;&#xA;            $('#nombre #destino').val(data.destino);&#xD;&#xA;          }&#xD;&#xA;          if(data.viatico!==undefined) {&#xD;&#xA;            $('#nombre #viatico').val(data.viatico);&#xD;&#xA;          }&#xD;&#xA;          if(data.casetas!==undefined) {&#xD;&#xA;            $('#nombre #casetas').val(data.casetas);&#xD;&#xA;          }&#xD;&#xA;          if(data.extras!==undefined) {&#xD;&#xA;            $('#nombre #extras').val(data.extras);&#xD;&#xA;          }&#xD;&#xA;          if(data.diesel!==undefined) {&#xD;&#xA;            $('#nombre #diesel').val(data.diesel);&#xD;&#xA;          }&#xD;&#xA;          if(data.desgaste!==undefined) {&#xD;&#xA;            $('#nombre #desgaste').val(data.desgaste);&#xD;&#xA;          }&#xD;&#xA;          if(data.utilidad!==undefined) {&#xD;&#xA;            $('#nombre #utilidad').val(data.utilidad);&#xD;&#xA;          }&#xD;&#xA;          if(data.total!==undefined) {&#xD;&#xA;            $('#nombre #total').val(data.total);&#xD;&#xA;          }&#xD;&#xA;          $('#estado').html('Datos cargados..');&#xD;&#xA;          return true;&#xD;&#xA;        }&#xD;&#xA;      }&#xD;&#xA;      );&#xD;&#xA;      /* Si la consulta ha fallado.. */&#xD;&#xA;      consulta.fail(function() {&#xD;&#xA;        $('#estado').html('Ha habido un error contactando el servidor.');&#xD;&#xA;        return false;&#xD;&#xA;      }&#xD;&#xA;      );&#xD;&#xA;    }&#xD;&#xA;    else {&#xD;&#xA;      /* Mostrar error */&#xD;&#xA;      $('#estado').html('El nombre tener una longitud mayor a 2 caracteres...');&#xD;&#xA;      return false;&#xD;&#xA;    }&#xD;&#xA;  }&#xD;&#xA;  );&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;);&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;form name=&quot;formulario&quot; id=&quot;formulario&quot; method=&quot;POST&quot;&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;hidden&quot; name=&quot;idventa&quot; id=&quot;idventa&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Numero de viaje:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;num_viaje&quot; id=&quot;num_viaje&quot; maxlength=&quot;256&quot; placeholder=&quot;Número de viaje&quot; required&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Cliente:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;nombre&quot; id=&quot;nombre&quot; maxlength=&quot;256&quot; placeholder=&quot;Cliente&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Destino:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;destino&quot; id=&quot;destino&quot; maxlength=&quot;256&quot; placeholder=&quot;Destino&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Operador:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;operador&quot; id=&quot;operador&quot; maxlength=&quot;256&quot; placeholder=&quot;Operador&quot; required&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Número de operador:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;idoperador&quot; id=&quot;idoperador&quot; maxlength=&quot;256&quot; placeholder=&quot;Numero de operador&quot; required&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Tipo de operación:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;tipoOperacion&quot; id=&quot;tipoOperacion&quot; maxlength=&quot;256&quot; placeholder=&quot;Tipo de operación&quot; required&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Viatico:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;viatico&quot; id=&quot;viatico&quot; maxlength=&quot;256&quot; placeholder=&quot;Viatico&quot; required onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Caseta:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;casetas&quot; id=&quot;casetas&quot; maxlength=&quot;256&quot; placeholder=&quot;Casetas&quot; required onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Extras:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;extras&quot; id=&quot;extras&quot; maxlength=&quot;256&quot; placeholder=&quot;Extras&quot; required onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Cantidad en Diesel:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;diesel&quot; id=&quot;diesel&quot; maxlength=&quot;256&quot; placeholder=&quot;Diesel&quot; required onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Desgaste 5%:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;desgaste&quot; id=&quot;desgaste&quot; maxlength=&quot;256&quot; placeholder=&quot;Desgaste 5%&quot; onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Utilidad:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;utilidad&quot; id=&quot;utilidad&quot; maxlength=&quot;256&quot; placeholder=&quot;Utilidad&quot; onchange=&quot;sumar(this.value);&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;label&amp;gt;Inversión total:&amp;lt;/label&amp;gt;&#xD;&#xA;    &amp;lt;span id=&quot;spTotal&quot;&amp;gt;&amp;lt;/span&amp;gt;&#xD;&#xA;    &amp;lt;input readonly type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;total&quot; id=&quot;total&quot; maxlength=&quot;256&quot; placeholder=&quot;Total&quot;&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div id=&quot;estado&quot;&amp;gt;Esperando input.&amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;form-group col-lg-12 col-md-12 col-sm-12 col-xs-12&quot;&amp;gt;&#xD;&#xA;    &amp;lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot; id=&quot;btnGuardar&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-save&quot;&amp;gt;&amp;lt;/i&amp;gt; Guardar&amp;lt;/button&amp;gt;&#xD;&#xA;&#xD;&#xA;    &amp;lt;button class=&quot;btn btn-danger&quot; onclick=&quot;cancelarform()&quot; type=&quot;button&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-arrow-circle-left&quot;&amp;gt;&amp;lt;/i&amp;gt; Cancelar&amp;lt;/button&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;/* Conectar a una base de datos de MySQL invocando al controlador */&#xA;$dsn = 'mysql:dbname=dbsistema;host=localhost';&#xA;$usuario = 'root';&#xA;$contraseña = '';&#xA;&#xA;try {&#xA;    $gbd = new PDO($dsn, $usuario, $contraseña);&#xA;} catch (PDOException $e) {&#xA;    echo 'Falló la conexión: ' . $e-&amp;gt;getMessage();&#xA;}&#xA;&#xA;if(!empty($_POST['nombre'])){ &#xA;&#xA;$nombre = $_POST['nombre'];&#xA;&#xA;$sql = &quot;SELECT * FROM clientes WHERE nombre = '$nombre'&quot;;  &#xA;$stmt = $gbd-&amp;gt;prepare($sql);&#xA;$stmt -&amp;gt;execute();&#xA;$arrDatos = $stmt-&amp;gt;fetchAll(PDO::FETCH_ASSOC);&#xA;var_dump($arrDatos);&#xA;  if($arrDatos){&#xA;    foreach ($arrDatos as $row) {&#xA;      if ($nombre = $row['nombre']) {&#xA;        $return = array (&#xA;            'destino'=&amp;gt;$row['destino'],&#xA;            'viatico'=&amp;gt;$row['viatico'],&#xA;            'casetas'=&amp;gt;$row['casetas'],&#xA;            'extras'=&amp;gt;$row['extras'],&#xA;            'diesel'=&amp;gt;$row['diesel'], &#xA;            'desgaste'=&amp;gt;$row['desgaste'],&#xA;            'utilidad'=&amp;gt;$row['utilidad'],&#xA;            'total'=&amp;gt;$row['total']&#xA;        );&#xA;      }      &#xA;    }&#xA;  } else {&#xA;    $return = array('error'=&amp;gt;'El nombre no esta guardado en la base de datos');&#xA;  }&#xA;  die(json_encode($return));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""50080"" LastEditorUserId=""46532"" LastEditDate=""2017-07-28T20:03:49.680"" LastActivityDate=""2017-07-28T21:12:05.387"" Title=""Completar el resto del formulario según el valor de un input"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""95296"" PostTypeId=""1"" AcceptedAnswerId=""95323"" CreationDate=""2017-08-16T01:15:25.200"" Score=""1"" ViewCount=""4401"" Body=""&lt;p&gt;Tengo una página que consume la API de Wikipedia para obtener artículos relacionados con lo que sea que el usuario coloque en un cuadro de texto, todo esto lo realiza perfecto, el problema esta en que solo estoy mostrando el último artículo encontrado debido a voy reemplazando el contenido en el mismo div.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Debería crear diversos divs dinámicamente dependiendo de cuantos artículos encuentre, el problema es que donde almaceno el contenido de los artículos son muchos divs dentro de otros, para darle el estilo que quiero y no logro crearlos con los métodos append, prepend, appendTo, etc.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;BODY&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;h1 class=&quot;text-light text-center&quot;&amp;gt;Wikisearch&amp;lt;/h1&amp;gt;&#xA;&amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;row top-space&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-lg-6&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xA;              &amp;lt;input id=&quot;txt-box&quot; type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Search for...&quot; aria-label=&quot;Search for...&quot;&amp;gt;&#xA;              &amp;lt;span class=&quot;input-group-btn&quot;&amp;gt;&#xA;                &amp;lt;button class=&quot;btn btn-secondary&quot; type=&quot;button&quot; id=&quot;search&quot;&amp;gt;Search!&amp;lt;/button&amp;gt;&#xA;              &amp;lt;/span&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;col&quot;&amp;gt;&#xA;            &amp;lt;a href=&quot;https://en.wikipedia.org/wiki/Special:Random&quot; target=&quot;_blank&quot; class=&quot;text-light&quot;&amp;gt;See a random article&amp;lt;/a&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;container top-space&quot; id=&quot;contenedor&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;card text-white bg-danger mb-3&quot; style=&quot;max-width: 50rem;&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;card-header&quot;&amp;gt;Result of search&amp;lt;/div&amp;gt;&#xA;              &amp;lt;div class=&quot;card-body&quot;&amp;gt;&#xA;                &amp;lt;h4 class=&quot;card-title&quot; id=&quot;wiki_title&quot;&amp;gt;&amp;lt;/h4&amp;gt;&#xA;                &amp;lt;p class=&quot;card-text&quot; id=&quot;wiki_content&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;JS&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;    $('#search').click(function () {&#xA;        var txt = $('#txt-box').val();&#xA;        var title = convert_case(txt);&#xA;&#xA;        $.ajax({&#xA;            url: &quot;https://en.wikipedia.org/w/api.php?action=query&amp;amp;prop=extracts&amp;amp;list=search&amp;amp;continue=&amp;amp;srsearch=&quot;+title+&quot;&amp;amp;format=json&quot;,&#xA;            dataType: 'jsonp',&#xA;            type: 'POST',&#xA;            headers: { 'Api-User-Agent': 'Example/1.0' },&#xA;        }).done(update).fail(handleErr);&#xA;    });&#xA;});&#xA;&#xA;function update(response) {&#xA;    console.log(response);&#xA;&#xA;    $.each(response.query.search, function(i, item) {&#xA;        // Trato de crear nuevos divs con clases similares a las del html original&#xA;        var topCard = $('&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;').addClass(&quot;card text-white bg-danger mb-3&quot;);&#xA;        var cardHeader = $('&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;').addClass(&quot;card-header top-space&quot;).appendTo($(topCard));&#xA;        var cardBody = $('&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;').addClass(&quot;card-body&quot;);&#xA;        var h4Title = $('&amp;lt;h4 id=&quot;wiki_title&quot;&amp;gt;&amp;lt;/h4&amp;gt;').addClass(&quot;card-title&quot;).html(item.title);&#xA;        var pContent = $('&amp;lt;p id=&quot;wiki_content&quot;&amp;gt;&amp;lt;/p&amp;gt;').addClass(&quot;card-text&quot;).html(item.snippet);&#xA;&#xA;        $('#contenedor').prepend($(cardHeader));&#xA;&#xA;        $('#wiki_title').html(item.title);&#xA;        if (item.snippet == undefined || item.snippet == &quot;&quot;) {&#xA;            $('#wiki_content').html(&quot;Not information&quot;);&#xA;        }&#xA;        else {&#xA;            $('#wiki_content').html(item.snippet);&#xA;        }&#xA;    });&#xA;}&#xA;&#xA;function handleErr(jqxhr, textStatus, err) {&#xA;    console.log(&quot;Request Failed: &quot; + textStatus + &quot;, &quot; + err);&#xA;}&#xA;&#xA;function convert_case(str) {&#xA;    var lower = str.toLowerCase();&#xA;    return lower.replace(/(^| )(\w)/g, function(x) {&#xA;        return x.toUpperCase();&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Intente añadirlos uno por uno pero no logro que queden bien, con appendTo casi lo logro pero se repetía mucho el contenido.&lt;/p&gt;&#xA;"" OwnerUserId=""51440"" LastEditorUserId=""9562"" LastEditDate=""2017-08-16T06:35:48.340"" LastActivityDate=""2017-08-16T06:35:48.340"" Title=""Crear múltiples div dinámicamente"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""97780"" PostTypeId=""1"" CreationDate=""2017-08-27T22:44:48.710"" Score=""0"" ViewCount=""136"" Body=""&lt;p&gt;Estoy mostrando en un select los cursos en los que no esta inscrito el alumno, esto es para inscribir al alumno en otro curso.&lt;/p&gt;&#xA;&lt;p&gt;Este select lo relleno a través de una consulta, el problema es que cuando hago clic en agregar curso para que me muestre el formulario con el select que contenga los cursos en los que no esta inscrito ese alumno, el dato en el select al momento de que carga la pagina aparece y desaparece en cuestión de 1 segundo. No da ningún error en consola ni nada. Le he dado vueltas y vueltas pero no logro saber porque.&lt;/p&gt;&#xA;&lt;p&gt;Dejare el código PHP y JS:&lt;/p&gt;&#xA;&lt;p&gt;Aqui mi consulta para ver los cursos no inscritos por el estudiante&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function form_agg_curso_student(){&#xA;&#xA; $id=$_GET['id_students'];&#xA;&#xA; $query = &amp;quot;SELECT id,curso FROM cursos_abiertos WHERE cursos_abiertos.id&#xA; NOT IN ( SELECT inscritos.id_curso FROM inscritos WHERE &#xA; inscritos.id_student = '$id')&amp;quot;;&#xA; $sql = $mysqli-&amp;gt;query($query);&#xA;&#xA;    &amp;lt;select name=&amp;quot;cursos&amp;quot; id=&amp;quot;cursos&amp;quot; class=&amp;quot;selectpicker form-control&amp;quot;&amp;gt;';&#xA;&#xA;    while($row = $sql-&amp;gt;fetch_assoc()){&#xA;      $form.='&amp;lt;option value=&amp;quot;'.$row['id'].'&amp;quot;&amp;gt;'.$row['curso'].'&amp;lt;/option&amp;gt;';&#xA;    }&#xA;&#xA;    $form.='&amp;lt;/select&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA; &amp;lt;/form&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;';&#xA; return $form;&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y esta es mi petición con AJAX&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; $(document).ready(function(){&#xA;  $('#cursos').on('change',function(){&#xA;    var id = $(&amp;quot;#cursos&amp;quot;).val()&#xA;    $.ajax({&#xA;        type: 'POST',&#xA;        url:'ver_monto.php',&#xA;        data:{'id':id}&#xA;    })&#xA;    .done(function(listas_cursos){&#xA;        $(&amp;quot;#fecha&amp;quot;).val(listas_cursos)&#xA;    })&#xA;    .fail(function(){&#xA;        alert('error')&#xA;    })&#xA;  })&#xA; });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como ya les he dicho el dato aparece y desaparece en cuestión de 1 segundo en el select, al que me pueda socorrer con este problema muchas gracias. Vease:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/NMdIV.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/NMdIV.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Ese es el select que debe listar los cursos, pero el dato aparece y desaparece en cuestion de un segundo&lt;/p&gt;&#xA;"" OwnerUserId=""57520"" LastEditorUserId=""-1"" LastEditDate=""2020-06-11T10:54:57.430"" LastActivityDate=""2017-08-28T12:32:20.257"" Title=""Error al rellenar select con datos de una consulta, el dato aparece y desaparece!"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""100170"" PostTypeId=""1"" CreationDate=""2017-09-05T21:13:54.510"" Score=""0"" ViewCount=""170"" Body=""&lt;p&gt;Saludos, de nuevo por aquí. Tengo un login que valida por tipos de usuario mediante AJAX la cual hace la petición a PHP, al momento de introducir tanto username como password que existan en la tabla usuarios, no hay problema, se loguea bien.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El problema surge cuando alguno de los dos datos es invalido, osea que el usuario no existe con alguno de los dos datos, el login esta hecho de manera que cuando eso pase me muestre un div con una alerta de que los datos son inválidos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero resulta que eso no pasa, cuando hay algún dato invalido el login se queda &quot;Validando&quot; y no hace nada, no muestra la alerta. Se queda pegado validando y no me hace nada. No consigo el error por ningún lado, esta es la petición con AJAX:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  jQuery(document).on('submit','#login', function(event){&#xA;  event.preventDefault();&#xA;&#xA;  jQuery.ajax({&#xA;  url:'login.php',&#xA;  type: 'POST',&#xA;  dataType: 'json',&#xA;  data: $(this).serialize(),&#xA;  beforeSend: function(){&#xA;    $('#boton').val('Validando...');&#xA;  }&#xA; })&#xA; .done(function(respuesta){&#xA;  console.log(respuesta);&#xA;  if(!respuesta.error){&#xA;    if(respuesta.tipo == 'Admin'){&#xA;      location.href = 'admin/admin.php';&#xA;    }else if(respuesta.tipo == 'Limitado'){&#xA;      location.href = 'limitado/limitado.php';&#xA;  }else{&#xA;    $('#alerta').slideDown('slow');&#xA;    setTimeout(function(){&#xA;      $('#alerta').slideUp('slow');&#xA;    },3000);&#xA;    $('#boton').val('Iniciar Sesión');&#xA;  }&#xA; }&#xA; })&#xA; .fail(function(resp){&#xA;  console.log(resp);&#xA; })&#xA; .always(function(){&#xA;  console.log(&quot;completo&quot;);&#xA; });&#xA; });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y este es el PHP: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;?php&#xA;&#xA; if(!empty($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;amp;&amp;amp; &#xA; strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest'){&#xA; require('lib/conexion.php');&#xA; sleep(1);&#xA;  session_start();&#xA;&#xA;  $mysqli-&amp;gt;set_charset('utf8');&#xA;&#xA;  $usuario = $mysqli-&amp;gt;real_escape_string($_POST['nick']);&#xA;  $pass = $mysqli-&amp;gt;real_escape_string($_POST['password']);&#xA;&#xA;  if($new_consulta = $mysqli-&amp;gt;prepare(&quot;SELECT nick,tipo_usuario FROM usuarios&#xA;  WHERE nick = ? AND password = ?&quot;)){&#xA;  $new_consulta-&amp;gt;bind_param('ss',$usuario,$pass);&#xA;&#xA;  $new_consulta-&amp;gt;execute();&#xA;&#xA;  $result = $new_consulta-&amp;gt;get_result();&#xA;&#xA;  if($result-&amp;gt;num_rows == 1){&#xA;    $datos = $result-&amp;gt;fetch_assoc();&#xA;    $_SESSION['usuario'] = $datos;&#xA;    echo json_encode(array('error'=&amp;gt;false,'tipo'=&amp;gt;$datos['tipo_usuario']));&#xA;  }else{&#xA;    echo json_encode(array('error'=&amp;gt;true));&#xA;  }&#xA;  $new_consulta-&amp;gt;close();&#xA;}&#xA;}&#xA;$mysqli-&amp;gt;close();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Tengo rato buscando el error, pero no consigo cual sea el problema. Gracias de antemano quien me ayude.!&lt;/p&gt;&#xA;"" OwnerUserId=""57520"" LastActivityDate=""2017-09-05T21:13:54.510"" Title=""Problema en login, si los datos son invalidos no muestra la alerta de error de usuario"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""7"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""100463"" PostTypeId=""1"" AcceptedAnswerId=""100478"" CreationDate=""2017-09-06T22:44:34.073"" Score=""3"" ViewCount=""13876"" Body=""&lt;p&gt;Estoy tomando base de una la pregunta&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;a href=&quot;https://es.stackoverflow.com/questions/24230/c%C3%B3mo-enviar-los-datos-que-alamacena-una-variable-en-jquery-mediante-ajax-a-un-p/24247#24247&quot;&gt;&amp;#191;C&amp;#243;mo enviar los datos que alamacena una variable en jQuery mediante AJAX a un PHP y guardar en la base de datos con MySQLi?&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Pero el problema es que para mis datos no me funciona.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy haciendo una página en el que un estudiante ingresa con el usuario y contraseña, el usuario queda almacenado hasta que cierra sesión, por ende todo lo que haga dentro queda con su usuario.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo que estoy tratando de hacer es poner una pregunta y que ellos elijan una de las 5 opciones, y que apenas elijan la opción lo suba automáticamente a la base de datos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Aquí el código de lo que estoy tratando de hacer&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;1) Las opciones de pregunta que vienen en &lt;code&gt;example.php&lt;/code&gt; junto con el array POST&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;LA CAPITAL DE ESPAÑA ES:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Barcelona: &amp;lt;input type=&quot;radio&quot; id=&quot;p1&quot; name=&quot;n1&quot; value=&quot;Opción 1&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;Atenas: &amp;lt;input type=&quot;radio&quot; id=&quot;p2&quot; name=&quot;n2&quot; value=&quot;Opción 2&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;Berlin: &amp;lt;input type=&quot;radio&quot; id=&quot;p3&quot; name=&quot;n3&quot; value=&quot;Opción 3&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;Madrid: &amp;lt;input type=&quot;radio&quot; id=&quot;p4&quot; name=&quot;n4&quot; value=&quot;Opción 4&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;Bogota: &amp;lt;input type=&quot;radio&quot; id=&quot;p5&quot; name=&quot;n4&quot; value=&quot;Opción 4&quot;&amp;gt;&amp;lt;br&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Acá la parte del array POST&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;$(function() {&#xA;          $(':radio').click(function() {&#xA;            $(':radio').prop(&quot;disabled&quot;, true);&#xA;            valor= $(this).val();&#xA;            /*Desde aquí se invoca la función que agrega a la BD&#xA;              y se pasa el valor del radio seleccionado&#xA;              Ejemplo: agregarDatos(valor);*/&#xA;            //agregarDatos(valor);&#xA;            console.log(&quot;Aquí se envía a la base de datos el valor de : &quot;+valor); &#xA;        });&#xA;&#xA;        //console.log(datos);&#xA;&#xA;        function agregarDatos(valor)&#xA;            { &#xA;            //console.log(&quot;Aquí envías a la BD: &quot;+valor); &#xA;            /*Desde esta función se puede implementar una llamada a Ajax &#xA;                que enviará la información del radio seleccionado a la BD*/ &#xA;&#xA;            /*La petición Ajax sería algo así*/ &#xA;            usuario= '&amp;lt;?php echo $_SESSION[&quot;usuario&quot;]; ?&amp;gt;'; &#xA;            datos={usuario: usuario, respuesta: valor}; &#xA;            console.log(datos); &#xA;&#xA;            /*comentado temporalmente*/&#xA;            var request = $.ajax({ &#xA;                url: &quot;agregar.php&quot;, //Archivo de servidor que inserta en la BD &#xA;                method: &quot;POST&quot;, &#xA;                data: datos, &#xA;                dataType: &quot;json&quot; &#xA;            }); &#xA;&#xA;            request.done(function( data ) { &#xA;                console.log(&quot;Se agregaron los datos: &quot;+data); &#xA;            }); &#xA;&#xA;            request.fail(function( jqXHR, textStatus ) { &#xA;                alert( &quot;Error petición Ajax: &quot; + textStatus ); &#xA;            }); &#xA;            }&#xA;        });&#xA;&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;2) En &lt;code&gt;agregar.php&lt;/code&gt; viene la conexión a la base de datos&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;&#xA;if (isset($_POST['usuario']) &amp;amp;&amp;amp; !empty($_POST['usuario']) &amp;amp;&amp;amp; isset($_POST['respuesta']) &amp;amp;&amp;amp; !empty($_POST['respuesta'])) &#xA;    {&#xA;    $usuario = $_POST['usuario'];&#xA;    $respuesta = implode(', ', $_POST['respuesta']);&#xA;&#xA;    //Datos de conexión a la base de datos&#xA;    $host       = &quot;localhost&quot;;&#xA;    $usuario    = &quot;root&quot;;&#xA;    $clave      = &quot;&quot;;&#xA;    $basedatos  = &quot;evaluacion&quot;;&#xA;    $tabla      = &quot;pregunta&quot;;&#xA;&#xA;    // Conectar a la base&#xA;    //  la variable $myslqi contendrá el objeto con la conexión&#xA;    $mysqli = mysqli_connect($host, $usuario, $clave, $basedatos);&#xA;    if (mysqli_connect_errno($mysqli)) &#xA;        {&#xA;        die( &quot;Error al conectar a MySQL: &quot; . mysqli_connect_error() );&#xA;        }&#xA;&#xA;    // insert en la base&#xA;    $sentencia = $mysqli-&amp;gt;prepare(&quot;INSERT INTO $tabla (usuario, respuesta) VALUES (?, ?)&quot;);&#xA;    $sentencia-&amp;gt;bind_param(&quot;is&quot;, $usuario, $respuesta );&#xA;    $sentencia-&amp;gt;execute();&#xA;&#xA;    // Cerrar la conexión&#xA;    $sentencia = null;&#xA;    $mysqli = null;&#xA;&#xA;    // Devolver una respuesta a JavaScript&#xA;    echo &quot;Se grabó el usuario = $usuario, con respuesta = $respuesta&quot;;&#xA;    }&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""55427"" LastActivityDate=""2017-09-07T16:03:48.363"" Title=""¿Cómo insertar datos en la base de datos mediante Ajax y jQuery?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""101036"" PostTypeId=""1"" AcceptedAnswerId=""103482"" CreationDate=""2017-09-08T23:16:28.573"" Score=""0"" ViewCount=""9206"" Body=""&lt;p&gt;Buenas tardes, tengo el siguiente escenario. Este mi &lt;code&gt;login.html&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xD;&#xA;&amp;lt;html&amp;gt;&#xD;&#xA;&amp;lt;head&amp;gt;&#xD;&#xA;	&amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;&#xD;&#xA;	&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;estilos/estilos.css&quot;/&amp;gt;&#xD;&#xA;	&amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xD;&#xA;&amp;lt;/head&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;body&amp;gt;&#xD;&#xA;&#xD;&#xA;   &amp;lt;div id=&quot;popup&quot;&amp;gt;&#xD;&#xA;     &amp;lt;div id=&quot;formulario&quot;&amp;gt;&#xD;&#xA;	&amp;lt;h1 id=&quot;header&quot; align=&quot;center&quot;&amp;gt;Ingresar&amp;lt;/h1&amp;gt;	&#xD;&#xA;	&amp;lt;br&amp;gt;&#xD;&#xA;	&amp;lt;hr&amp;gt;					&#xD;&#xA;	&amp;lt;br&amp;gt;					&#xD;&#xA;	&amp;lt;form action=&quot;Controlador/login.php&quot; method=&quot;post&quot; id=&quot;formlogin&quot;&amp;gt;&#xD;&#xA;		&amp;lt;table&amp;gt;&#xD;&#xA;   			&amp;lt;tr&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;Usuario:&amp;lt;/td&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;usuario&quot; id=&quot;usuario&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   			&amp;lt;/tr&amp;gt;&#xD;&#xA;   			&amp;lt;tr&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;Password:&amp;lt;/td&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;&amp;lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;pass&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   			&amp;lt;/tr&amp;gt;&#xD;&#xA;   			&amp;lt;tr&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&#xD;&#xA;   				&amp;lt;td&amp;gt;&amp;lt;input id=&quot;botonl&quot; type=&quot;submit&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   			&amp;lt;/tr&amp;gt;&#xD;&#xA;   			&amp;lt;tr&amp;gt;&#xD;&#xA;   		            &amp;lt;td colspan=&quot;2&quot; align=&quot;right&quot;&amp;gt;&amp;lt;a id=&quot;botonRegistrarse&quot;&amp;gt;¡Registrate!&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   			&amp;lt;/tr&amp;gt;&#xD;&#xA;   			&amp;lt;/table&amp;gt;&#xD;&#xA;   		&amp;lt;/form&amp;gt;&#xD;&#xA;   	&amp;lt;/div&amp;gt;&#xD;&#xA;   &amp;lt;/div&amp;gt;&#xD;&#xA;   &amp;lt;script src=&quot;js/jquery-3.2.1.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!--Utilizar libreria JQUERY--&amp;gt;&#xD;&#xA;   &amp;lt;script src=&quot;js/codigo.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!--TODO lo que utilize JQUERY deberá ser referenciado 										despues de la libreria.--&amp;gt;&#xD;&#xA;&amp;lt;/body&amp;gt;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este manda las variables usuario y password a &lt;code&gt;Controlador/login.php&lt;/code&gt; que es donde, enviadas las 2 variables se procesan para comprobar el ingreso exitoso del usuario.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;	require_once('../Modelo/class.conexion.php');&#xD;&#xA;	require_once('../Modelo/class.consultas.php');&#xD;&#xA;&#xD;&#xA;	$usuario = $_POST['usuario'];&#xD;&#xA;	$pass = $_POST['password'];&#xD;&#xA;&#xD;&#xA;	if(strlen($usuario) &amp;gt; 0 &amp;amp;&amp;amp; strlen($pass) &amp;gt; 0){&#xD;&#xA;		$consultas = new Consultas();&#xD;&#xA;		$mensaje = $consultas-&amp;gt;verificarUsuario($usuario, $pass);&#xD;&#xA;			if (is_string($mensaje)) {&#xD;&#xA;				echo $mensaje;&#xD;&#xA;			}else{			&#xD;&#xA;				session_start();&#xD;&#xA;				foreach ($mensaje as $resultado) {&#xD;&#xA; 		   			$user = $resultado['nickname'];&#xD;&#xA; 		   			$rango = $resultado['rango'];&#xD;&#xA;				}&#xD;&#xA; 				$_SESSION['usuario'] = $user;&#xD;&#xA; 	     	        	$_SESSION['rango'] = $rango;&#xD;&#xA;&#xD;&#xA; 	    		        if ($_SESSION['rango']=='Administrador'){&#xD;&#xA;                                         echo &quot;Administrador&quot;;&#xD;&#xA;					//echo &quot;header('Location: ../manga.html');&quot;; &#xD;&#xA;				}elseif ($_SESSION['rango']=='starter') {&#xD;&#xA;					header(&quot;Location: ../login.html&quot;);&#xD;&#xA;				}elseif ($_SESSION['rango']=='Viper') {&#xD;&#xA;					header(&quot;Location: ../index.html&quot;);&#xD;&#xA;				}&#xD;&#xA;			}			&#xD;&#xA;		}else{&#xD;&#xA;		echo &quot;Por favor rellena ambos campos&quot;;&#xD;&#xA;	}		&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El método &lt;code&gt;verificarUsuario&lt;/code&gt; , es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;public function verificarUsuario($nombre_usuario,$password_usuario){&#xD;&#xA;	$modelo = new Conexion();&#xD;&#xA;   		$conexion = $modelo-&amp;gt;get_conexion();&#xD;&#xA;	$sql = &quot;select nickname, password, idUsuario, rango&#xD;&#xA;			from usuarios&#xD;&#xA;			where nickname = :nombre_usuario &#xD;&#xA;			and password = :password_usuario&quot;;&#xD;&#xA;	$statement = $conexion-&amp;gt;prepare($sql);				&#xD;&#xA;	$statement-&amp;gt;bindParam(':nombre_usuario', $nombre_usuario);&#xD;&#xA;	$statement-&amp;gt;bindParam(':password_usuario', $password_usuario);&#xD;&#xA;	if(!$statement){&#xD;&#xA;		return &quot;Error verifique parametros&quot;;&#xD;&#xA;	}else{&#xD;&#xA;		$statement-&amp;gt;execute();&#xD;&#xA;		if($statement-&amp;gt;rowCount() &amp;gt; 0){							&#xD;&#xA;			return $statement-&amp;gt;fetchAll(PDO::FETCH_ASSOC);&#xD;&#xA;		}else{&#xD;&#xA;			return &quot;no hay usuarios con registrados con esos datos&quot;;&#xD;&#xA;		}	&#xD;&#xA;	}		&#xD;&#xA;   }&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Hasta ahí todo bien, ahora como mi &lt;code&gt;login.html&lt;/code&gt; tiene esa referencia a mi archivo &lt;code&gt;JS&lt;/code&gt; donde con &lt;code&gt;JQuery&lt;/code&gt; y &lt;code&gt;Ajax&lt;/code&gt; intento hacer que dependiendo del rango de usuario logueado lo mande a una pagina u otra.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Teniendo el siguiente fragmento de código &lt;code&gt;JS&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$('#botonl').click(function(event) {&#xD;&#xA;		event.preventDefault();&#xD;&#xA;		usuario = $('#usuario').val();&#xD;&#xA;		password = $('#pass').val();&#xD;&#xA;&#xD;&#xA;		$.ajax({&#xD;&#xA;			url: 'Controlador/login.php',&#xD;&#xA;			type: 'POST',&#xD;&#xA;			data: {usuario, password},&#xD;&#xA;			beforeSend:function(){&#xD;&#xA;				console.log(&quot;Se esta procesando tu peticion&quot;);&#xD;&#xA;			}&#xD;&#xA;		})&#xD;&#xA;		.done(function(data) {&#xD;&#xA;			console.log(&quot;success&quot;);&#xD;&#xA;                         alert(data);&#xD;&#xA;		 if (data == 'Administrador') {&#xD;&#xA;		 	document.location.href = &quot;manga.html&quot;;&#xD;&#xA;		 	alert(data);&#xD;&#xA;		 }&#xD;&#xA;		 else{&#xD;&#xA;		 	alert(&quot;ERROR POR QUE TE ODIO&quot;);&#xD;&#xA;		 }&#xD;&#xA;		 }&#xD;&#xA;		})&#xD;&#xA;		.fail(function() {&#xD;&#xA;			console.log(&quot;error&quot;);&#xD;&#xA;		})&#xD;&#xA;		.always(function() {&#xD;&#xA;			console.log(&quot;complete&quot;);&#xD;&#xA;		});&#xD;&#xA;	});	&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El código no funciona correctamente, por ejemplo, si ingreso como un usuario Administrador, me manda el &lt;code&gt;alert&lt;/code&gt; con el mensaje &quot;Administrador&quot; mas sin embargo en el &lt;code&gt;if&lt;/code&gt; entra al &lt;code&gt;else&lt;/code&gt; y me manda el &lt;code&gt;alert&lt;/code&gt; &quot;ERROR PORQUE TE ODIO&quot;, por lo tanto no me redirige hacia donde se tiene establecido, y con los otros casos, en el &lt;code&gt;alert&lt;/code&gt; me trae todo el código &lt;code&gt;html&lt;/code&gt; de dichas páginas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Cualquier ayuda u observación será bien recibida, muchas gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""48554"" LastEditorUserId=""48554"" LastEditDate=""2017-09-12T12:05:42.580"" LastActivityDate=""2017-09-19T21:39:25.553"" Title=""Obtener valor que regresa una petición AJAX"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;login&gt;"" AnswerCount=""2"" CommentCount=""7"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""101880"" PostTypeId=""1"" AcceptedAnswerId=""101986"" CreationDate=""2017-09-13T02:50:14.557"" Score=""0"" ViewCount=""56"" Body=""&lt;pre&gt;&lt;code&gt;function cargaPagina(pagina)&#xA;    {&#xA;      var desde = pagina * itemsPorPagina;&#xA;      $.ajax({&#xA;        data:{&quot;param1&quot;:&quot;dame&quot;,&quot;limit&quot;:itemsPorPagina,&quot;offset&quot;:desde},&#xA;        type:&quot;GET&quot;,&#xA;        dataType:&quot;json&quot;,&#xA;        url:&quot;Conexion_Contacto.php&quot;&#xA;      }).done(function(data,textStatus,jqXHR){&#xA;&#xA;        var lista = data.lista;&#xA;&#xA;        $(&quot;#miTabla&quot;).html(&quot;&quot;);&#xA;&#xA;        $.each(lista, function(ind, elem){&#xA;&#xA;&#xA;          $(&quot;&amp;lt;tr&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td &amp;gt;&quot;+elem.id_contacto_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+elem.nombre_contacto_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+elem.telefono_contacto_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+elem.correo_contacto_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+elem.razon_social_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+'&amp;lt;button data-toggle=&quot;modal&quot; data-target=&quot;#modalEdicion&quot; class=&quot;btn btn-primary modalEdicion&quot;&amp;gt;Editar&amp;lt;/button&amp;gt; '+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;            &quot;&amp;lt;td&amp;gt;&quot;+'&amp;lt;button class=&quot;btn btn-danger remove-item&quot;&amp;gt;Eliminar&amp;lt;/button&amp;gt;'+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;&#xA;&#xA;            &quot;&amp;lt;/tr&amp;gt;&quot;).appendTo($(&quot;#miTabla&quot;));&#xA;&#xA;        });     &#xA;&#xA;&#xA;      }).fail(function(jqXHR,textStatus,textError){&#xA;        alert(&quot;Error al realizar la peticion dame&quot;.textError);&#xA;&#xA;      });&#xA;&#xA;       /* Remove Item */&#xA;      $(&quot;body&quot;).on(&quot;click&quot;,&quot;.remove-item&quot;,function(){&#xA;&#xA;        confirm('Eliminar Datos', '¿Esta seguro de eliminar este registro?');&#xA;        var id = $(this).parent(&quot;td&quot;).data('idpersona');&#xA;        var c_obj = $(this).parents(&quot;tr&quot;);&#xA;&#xA;        $.ajax({&#xA;          dataType: 'json',&#xA;          type:'POST',&#xA;          url: url + 'eliminar_contacto_empresa.php',&#xA;          data:{id:id}&#xA;        }).done(function(data){&#xA;          c_obj.remove();&#xA;          toastr.success('Item Deleted Successfully.', 'Success Alert', {timeOut: 5000});&#xA;          getPageData();&#xA;        });&#xA;&#xA;      });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""59490"" LastEditorUserId=""57040"" LastEditDate=""2017-09-13T15:36:55.093"" LastActivityDate=""2017-09-13T15:36:55.093"" Title=""Eliminar registros que tengo en la bbdd"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;&lt;modal&gt;"" AnswerCount=""1"" CommentCount=""6"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""102493"" PostTypeId=""1"" AcceptedAnswerId=""102545"" CreationDate=""2017-09-15T03:28:50.130"" Score=""0"" ViewCount=""1470"" Body=""&lt;pre&gt;&lt;code&gt;function cargaPagina(pagina)&#xA;    {&#xA;      var desde = pagina * itemsPorPagina;&#xA;      $.ajax({&#xA;        data:{&quot;param1&quot;:&quot;dame&quot;,&quot;limit&quot;:itemsPorPagina,&quot;offset&quot;:desde},&#xA;        type:&quot;GET&quot;,&#xA;        dataType:&quot;json&quot;,&#xA;        url:&quot;Conexion_Contacto.php&quot;&#xA;      }).done(function(data,textStatus,jqXHR){&#xA;&#xA;        var lista = data.lista;&#xA;&#xA;        $(&quot;#miTabla&quot;).html(&quot;&quot;);&#xA;&#xA;        $.each(lista, function(ind, elem){&#xA;&#xA;&#xA;          $(&quot;&amp;lt;tr&amp;gt;&quot;+&#xA;&#xA;            '&amp;lt;td&amp;gt;'+elem.nombre_contacto_empresa+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td&amp;gt;'+elem.telefono_contacto_empresa+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td&amp;gt;'+elem.correo_contacto_empresa+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td&amp;gt;'+elem.razon_social_empresa+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td data-idpersona=&quot;'+elem.id_contacto_empresa+'&quot;&amp;gt;' +&#xA;            '&amp;lt;button class=&quot;btn btn-primary modalEdicion&quot;data-toggle=&quot;modal&quot; data-target=&quot;#modalEdicion&quot;&amp;gt;EDITAR&amp;lt;/button&amp;gt; '+&#xA;            '&amp;lt;button class=&quot;btn btn-danger remove-item&quot;&amp;gt;ELIMINAR&amp;lt;/button&amp;gt;'+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;/tr&amp;gt;').appendTo($(&quot;#miTabla&quot;));&#xA;&#xA;        });     &#xA;&#xA;&#xA;      }).fail(function(jqXHR,textStatus,textError){&#xA;        alert(&quot;Error al realizar la peticion dame&quot;.textError);&#xA;&#xA;      });&#xA;&#xA;&#xA;&#xA;    $(&quot;body&quot;).on(&quot;click&quot;,&quot;.remove-item&quot;,function(){&#xA;&#xA;        confirm('Eliminar Datos de la bbdd , ¿Esta seguro de eliminar este registro?');&#xA;        var idpersona = $(this).parent(&quot;td&quot;).data('data-idpersona');&#xA;        var c_obj = $(this).parents(&quot;tr&quot;);&#xA;&#xA;        $.ajax({&#xA;          dataType: &quot;json&quot;,&#xA;          type:&quot;POST&quot;,&#xA;          url: url + 'eliminar_contacto_empresa.php',&#xA;          data:{idpersona:idpersona}&#xA;        }).done(function(data){&#xA;          c_obj.remove();&#xA;          toastr.success('Item Deleted Successfully.', 'Success Alert', {timeOut: 5000});&#xA;          getPageData();&#xA;        });&#xA;&#xA;      });&#xA;&#xA;&#xA;&amp;lt;?php&#xA;&#xA;require 'Conectar_bbdd.php';&#xA;&#xA; $id = $_POST[&quot;data-idpersona&quot;];&#xA;&#xA; echo &quot;string&quot;.$id;&#xA;&#xA;&#xA; $sql = &quot;DELETE FROM contacto_empresa WHERE id_contacto_empresa =  '&quot;.$id.&quot;'&quot;;&#xA;&#xA; $result = $mysqli-&amp;gt;query($sql);&#xA;&#xA; echo json_encode([$id]);&#xA;&#xA;?&amp;gt;  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""59490"" LastEditorUserId=""73"" LastEditDate=""2017-09-15T03:30:59.993"" LastActivityDate=""2017-09-15T13:26:15.470"" Title=""Uncaught ReferenceError: url is not defined en la linea url: url + 'eliminar_contacto_empresa.php',"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;&lt;botón&gt;"" AnswerCount=""2"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""102850"" PostTypeId=""1"" AcceptedAnswerId=""102858"" CreationDate=""2017-09-17T02:13:01.293"" Score=""0"" ViewCount=""30"" Body=""&lt;pre&gt;&lt;code&gt;function cargaPagina(pagina)&#xA;{&#xA;  var desde = pagina * itemsPorPagina;&#xA;&#xA;  $.ajax({&#xA;    data:{&quot;param1&quot;:&quot;dame&quot;,&quot;limit&quot;:itemsPorPagina,&quot;offset&quot;:desde},&#xA;    type:&quot;GET&quot;,&#xA;    dataType:&quot;json&quot;,&#xA;    url:&quot;Conexion_Mostrar_Solicitud_Pedido.php&quot;&#xA;  }).done(function(data,textStatus,jqXHR){&#xA;&#xA;    var lista = data.lista;&#xA;&#xA;    $(&quot;#miTabla&quot;).html(&quot;&quot;);&#xA;&#xA;    $.each(lista, function(ind, elem){&#xA;&#xA;      $(&quot;&amp;lt;tr&amp;gt;&quot;+&#xA;&#xA;        &quot;&amp;lt;td&amp;gt;&quot;+elem.id_solicitud_pedido+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;        &quot;&amp;lt;td&amp;gt;&quot;+elem.nombre_contacto_empresa+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;        &quot;&amp;lt;td&amp;gt;&quot;+elem.empresa_solicitud_pedido+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;        &quot;&amp;lt;td&amp;gt;&quot;+elem.archivo_solicitud_pedido + &quot;&amp;lt;/td&amp;gt;&quot;+&#xA;        &quot;&amp;lt;td&amp;gt;&quot;+elem.fecha_solicitud_pedido+&quot;&amp;lt;/td&amp;gt;&quot;+&#xA;        &quot;&amp;lt;/tr&amp;gt;&quot;).appendTo($(&quot;#miTabla&quot;));&#xA;&#xA;&#xA;    });     &#xA;&#xA;&#xA;  }).fail(function(jqXHR,textStatus,textError){&#xA;    alert(&quot;Error al realizar la peticion dame&quot;.textError);&#xA;&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""59490"" LastEditorUserId=""59490"" LastEditDate=""2017-09-17T03:43:57.467"" LastActivityDate=""2017-09-17T03:43:57.467"" Title=""Ayuda, mi idea es presionar sobre una fila el archivo solicitud y que eso me habra o direccione cargandose el archivo"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""104207"" PostTypeId=""1"" AcceptedAnswerId=""104219"" CreationDate=""2017-09-22T03:31:34.810"" Score=""2"" ViewCount=""1038"" Body=""&lt;p&gt;Se me presenta el siguiente escenario, tengo en mi &lt;code&gt;HTML&lt;/code&gt; un &lt;code&gt;&amp;lt;textarea&amp;gt;&lt;/code&gt; en el cual el usuario va ingresar una consulta, como si de la línea de comando se tratase, ejemplo, puedo ingresar:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;SELECT * FROM usuarios;&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;SELECT * FROM paises;&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;SELECT email, nickname, rango FROM usuarios WHERE idUsuario = 1;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Con una petición &lt;code&gt;AJAX&lt;/code&gt; mando la consulta que quiera, esta me regresa un &lt;code&gt;JSON&lt;/code&gt; que contiene los registros de la consulta.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Por ejemplo para la primera consulta de arriba el JSON generado es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;http://jsoneditoronline.org/?id=1c469eec2dc1381345b18269ea9a6824&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsoneditoronline.org/?id=1c469eec2dc1381345b18269ea9a6824&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y para la segunda consulta es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;http://jsoneditoronline.org/?id=80fda2c410a0f56520f14746729b25f8&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsoneditoronline.org/?id=80fda2c410a0f56520f14746729b25f8&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Cómo puedo recorrer estos JSON? Obteniendo los encabezados y sus registros, para así generar una tabla &lt;code&gt;HTML&lt;/code&gt; con los datos obtenidos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto es lo que tengo en mi archivo &lt;code&gt;JS&lt;/code&gt; logro obtener los registros y crear las tablas, pero sin sus correspondientes encabezados.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function() {&#xD;&#xA;	$('#realizarQuery').click(function(event) {&#xD;&#xA;		event.preventDefault();&#xD;&#xA;		var valorTextArea = $('#valorTextArea').val();&#xD;&#xA;		$.ajax({&#xD;&#xA;			url: 'realizarQuery.php',&#xD;&#xA;			type: 'POST',&#xD;&#xA;			dataType: 'JSON',&#xD;&#xA;			data: {valorTextArea},&#xD;&#xA;		})&#xD;&#xA;		.done(function(data) {&#xD;&#xA;			console.log(&quot;success&quot;);&#xD;&#xA;			console.log(data);&#xD;&#xA;			console.log(typeof data);&#xD;&#xA;			$.each(data, function(index, val) {&#xD;&#xA;			 if (val == '¡Escribe tu query!') {&#xD;&#xA;			 	$('#texto').html('¡ESCRIBE TU QUERY!').css('font-size', '20px').css('color', '#D50000');&#xD;&#xA;			 	$(&quot;#registrosIntermedios&quot;).html('').hide();&#xD;&#xA;			 }else if( val == '¡Verifique su sentencia SQL!'){&#xD;&#xA;			 	$('#texto').html('¡VERIFIQUE SU SENTENCIA SQL!').css('font-size', '20px').css('color', '#D50000');&#xD;&#xA;			 	$(&quot;#registrosIntermedios&quot;).html('').hide();&#xD;&#xA;			 }else{&#xD;&#xA;			 		var tbl_body = &quot;&quot;;&#xD;&#xA;					var odd_even = false;&#xD;&#xA;					$.each(data, function() {&#xD;&#xA;    					var tbl_row = &quot;&quot;;&#xD;&#xA;    					$.each(this, function(k , v) {&#xD;&#xA;        				tbl_row += &quot;&amp;lt;td&amp;gt;&quot;+v+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;    				})&#xD;&#xA;    				tbl_body += &quot;&amp;lt;tr class=\&quot;&quot;+( odd_even ? &quot;odd&quot; : &quot;even&quot;)+&quot;\&quot;&amp;gt;&quot;+tbl_row+&quot;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;    				odd_even = !odd_even;               &#xD;&#xA;					})&#xD;&#xA;&#xD;&#xA;					$('#texto').html('LOS REGISTROS QUE CONTIENE SU CONSULTA SON LOS SIGUIENTES').css('font-size', '20px').css('color', '#2E7D32');&#xD;&#xA;					$(&quot;#registrosIntermedios&quot;).html(tbl_body).show();&#xD;&#xA;					&#xD;&#xA;			 }&#xD;&#xA;		});&#xD;&#xA;		})&#xD;&#xA;		.fail(function() {&#xD;&#xA;			console.log(&quot;error&quot;);&#xD;&#xA;		})&#xD;&#xA;		.always(function() {&#xD;&#xA;			console.log(&quot;complete&quot;);&#xD;&#xA;		}, 'json');&#xD;&#xA;		&#xD;&#xA;	});&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Por cualquier aportación, gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""48554"" LastEditorUserId=""48554"" LastEditDate=""2017-09-23T19:21:49.877"" LastActivityDate=""2017-09-23T19:21:49.877"" Title=""Recorrer JSON en JavaScript"" Tags=""&lt;php&gt;&lt;sql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""104350"" PostTypeId=""1"" AcceptedAnswerId=""104486"" CreationDate=""2017-09-22T18:20:02.500"" Score=""1"" ViewCount=""11886"" Body=""&lt;p&gt;Quería saber cómo puedo hacer una consulta Mysql &lt;strong&gt;a una hora concreta&lt;/strong&gt; con este reloj que tengo en Javascript. Tengo entendido que hay que usar Ajax, pero he intentado incluir la parte de Ajax dentro del if de la hora que deseo, y todo deja de funcionar (el reloj y la consulta). ¿Alguna ayuda?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Muchas gracias por adelantado.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        &amp;lt;!DOCTYPE html&amp;gt;&#xA;      &amp;lt;html&amp;gt;&#xA;       &amp;lt;head&amp;gt;&#xA;         &amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&amp;gt;&#xA;         &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&amp;gt;&#xA;         &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;         &amp;lt;script&amp;gt;&#xA;&#xA;    function clock(id){ //El parametro id es donde se escribirá la hora&#xA;&#xA;    var seeTime = &quot;2017-10-02 13:42:20&quot;; //fecha y hora de gatillamiento de evento&#xA;    var clock = document.getElementById(id); //Asignamos una variable al elemento del documento donde escribiremos la hora&#xA;&#xA;    var Digital=new Date(); //Creamos el objeto Date para obtener la fecha completa&#xA;    var h = Digital.getHours(); //hora&#xA;    var m = Digital.getMinutes(); //mins&#xA;    var s = Digital.getSeconds(); //segs&#xA;    var year = Digital.getFullYear(); //año&#xA;    var month = Digital.getMonth()+1; //mes, +1 ya que este metodo da de 0-11 en vez de 1-12&#xA;    var day = Digital.getDate(); //dia&#xA;&#xA;&#xA;    //Agregamos los 0 si son menores a 10&#xA;    if(month &amp;lt; 10){ month = &quot;0&quot;+month; }&#xA;    if(day &amp;lt; 10){ day = &quot;0&quot;+day; }&#xA;    if(h &amp;lt; 10){ h = &quot;0&quot;+h; }&#xA;    if(m &amp;lt; 10){ m = &quot;0&quot;+m; }&#xA;    if(s &amp;lt; 10){ s = &quot;0&quot;+s; }&#xA;&#xA;    var myTime = year+&quot;-&quot;+month+&quot;-&quot;+day+&quot; &quot;+h+&quot;:&quot;+m+&quot;:&quot;+s; //Esta variable es para obtener la fecha completa en formato &quot;YYYY-mm-dd HH:mm:ss&quot; PARA GATILLAR EVENTO&#xA;&#xA;    h = parseInt(h); //Volvemos a hacer numerico la hora, ya que concatenmos arriba&#xA;    var hs = &quot;PM&quot;; //Damos la premisa que es PM. &quot;hs&quot; de hour system&#xA;    if(h &amp;gt; 12){ //Si la hora es mayor que 12.... &#xA;    h -= 12; //Quitamos 12 horas de modo que las 16hr es 16-12=4&#xA;    }&#xA;    else{ //De no ser así dejamos tal cual y decimos que es AM&#xA;    hs = &quot;AM&quot;;&#xA;    }&#xA;&#xA;    var showTime = h+&quot;:&quot;+m+&quot;:&quot;+s+&quot; &quot;+hs; //Obtenemos la hora a mostrar &quot;HH:mm:ss AM/PM&quot;&#xA;    clock.innerHTML = showTime; //Escribimos hora&#xA;&#xA;        if(myUnixTime(myTime) == myUnixTime(seeTime)){ //Si myTime == seeTime gatillamos evento &#xA;        //Gatillamos evento&#xA;&#xA;         $(function() { //usamos function porque document.ready es deprecated desde jQuery 3&#xA;&#xA;        //Guardamos una variable timer para poder pararla si ocurre error&#xA;        var timer = setInterval(update, 1000);&#xA;&#xA;        function update() &#xA;        { &#xA;            //Almacenamos la petición ajax en la variable request&#xA;            var request = $.ajax&#xA;                ({&#xA;                    url: &quot;copia de consulta.php&quot;,&#xA;                    method: &quot;POST&quot;,&#xA;                    dataType: &quot;json&quot;&#xA;                });&#xA;&#xA;&#xA;                //Usamos request y evaluamos usando done y fail, es lo recomendado por jQuery&#xA;                //done se lanzará cuando la petición Ajax tenga éxito&#xA;                request.done(function( datos ) &#xA;                {&#xA;                    console.log(datos);&#xA;&#xA;                    // Creamos una variable y evaluamos datos&#xA;                    var txtHTML;&#xA;                    if (!datos.error)&#xA;                    {&#xA;                       //Si se espera más de una fila hay que leer datos en un bucle&#xA;                        /*txtHTML=datos.ID+&quot;&amp;lt;br /&amp;gt;&quot;+datos.nombre;*/&#xA;&#xA;                        $.each(datos, function(key, value) &#xA;                            { &#xA;                                txtHTML +=key + &quot;: &quot; + value; &#xA;                            });&#xA;&#xA;                     }else{&#xA;                        txtHTML=datos.error;&#xA;                        clearInterval(timer); //paramos el timer&#xA;                     }&#xA;                     $('#contenedor').text(txtHTML);&#xA;                });&#xA;&#xA;                //fail se lanzará cuando la petición Ajax falle      &#xA;                request.fail(function( jqXHR, textStatus ) &#xA;                {&#xA;                    alert( &quot;Falló la petición Ajax: &quot; + textStatus );&#xA;                    //Paramos el timer&#xA;                    clearInterval(timer); &#xA;                });&#xA;&#xA;            }&#xA;&#xA;    });&#xA;&#xA;        //document.getElementById('liveclock').innerHTML = &quot;Hello World!&quot;;&#xA;&#xA;        }&#xA;    }&#xA;&#xA;&#xA;    function myUnixTime(d){ //Esta funcion obtiene los segundos de una fecha dada en formato &quot;YYYY-mm-dd HH:mm:ss&quot; en este caso la fecha es el parametro &quot;d&quot;&#xA;    var mArr = [31,28,31,30,31,30,31,31,30,31,30,31]; //Cantidad dias de c/mes&#xA;&#xA;    var spl = d.split(&quot; &quot;); //Separamos la fecha de la hora spl[0] = fecha, spl[1] = hora&#xA;    var date = spl[0].split(&quot;-&quot;); //Separamos los datos de la fecha date[0] = año, date[1] = mes, date[2] = dia&#xA;&#xA;    // Es necesario usar parseInt() para obtener el valor numerico de los datos&#xA;    var y = parseInt(date[0])*365*24*60*60; //Agregamos los segundos que tiene un año&#xA;    var m = parseInt(date[1]); //Obtenemos el mes, lo usaremos luego&#xA;    var d = parseInt(date[2])*24*60*60; //Obtenemos los segundos de un dia&#xA;&#xA;    //Aqui lo que haremos es sumar la cantidad de dias de los meses que han pasado &#xA;    var mAdd = 0; //Los dias se agregaran en esta variable&#xA;    for(var k=0;k&amp;lt;m;k++){ //Partimos desde el indice 0 de mArr (cantidad dias/mes) hasta el mes en el que estamos&#xA;    mAdd += mArr[k]; //Agregamos a mAdd la cantidad de dias de dias del mes con indice k&#xA;    }&#xA;&#xA;    m = mAdd*24*60*60; //Obtenemos la cantidad de segundos del total de meses transcurridos&#xA;&#xA;    var time = spl[1].split(&quot;:&quot;); //Separamos los datos de la hora time[0] = hora, time[1] = mins, time[2] = seg&#xA;&#xA;    var h = parseInt(time[0])*60*60; //Agregamos segundos en 1 hora&#xA;    var m = parseInt(time[1])*60; //Agregamos segundos en 1 min&#xA;    var s = parseInt(time[2]); //...&#xA;&#xA;    return y+m+d+h+m+s; //retornamos la suma de todos los segundos obtenidos&#xA;    }&#xA;&#xA;&#xA;    window.onload=function(){ //Cuando la ventana cargue...&#xA;    setInterval(&quot;clock('liveclock')&quot;,1000); //Creamos un intervalo de 1000ms a la funcion myClock, ms= mili segundos, 1000ms = 1s&#xA;    };&#xA;&#xA;    &amp;lt;/script&amp;gt;&#xA;    &amp;lt;div class=&quot;reloj&quot;&amp;gt;&#xA;              &amp;lt;br&amp;gt;&amp;lt;span class=&quot;clock&quot; id=&quot;liveclock&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&#xA;         &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;&#xA;        &amp;lt;/script&amp;gt;&#xA;&#xA;    &amp;lt;/head&amp;gt;&#xA;    &amp;lt;body&amp;gt;&#xA;&#xA;     &amp;lt;section class=&quot;content&quot;&amp;gt;&#xA;      &amp;lt;p&amp;gt;CONSULTA BASE DE DATOS CADA SEGUNDO&amp;lt;/p&amp;gt;&#xA;      &amp;lt;p&amp;gt;&amp;lt;div id=&quot;contenedor&quot;&amp;gt;0&amp;lt;/div&amp;gt;&#xA;     &amp;lt;/section&amp;gt;&#xA;&#xA;    &amp;lt;/body&amp;gt;&#xA;    &amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El archivo &quot;copia de consulta.php&quot;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $mysqli = new mysqli(&quot;localhost&quot;, &quot;usuario&quot;, &quot;contraseña&quot;, &quot;nombre bd&quot;);&#xA;    // verificar la conexión &#xA;&#xA;    if ($mysqli-&amp;gt;connect_errno) {&#xA;        $arrRespuesta=array(&quot;error&quot;=&amp;gt;&quot;Conexión fallida: &quot;.$mysqli-&amp;gt;connect_error);&#xA;&#xA;    }else{&#xA;&#xA;         $consulta = &quot;SELECT * FROM productos&quot;;&#xA;&#xA;         if ($resultado = $mysqli-&amp;gt;query($consulta)) {&#xA;            // obtener un array asociativo &#xA;            $arrRespuesta=array();&#xA;&#xA;            while ($fila = $resultado-&amp;gt;fetch_assoc()) {&#xA;                $arrRespuesta[]=$fila;&#xA;            } &#xA;&#xA;            // liberar el conjunto de resultados &#xA;            $resultado-&amp;gt;free();&#xA;         }else{&#xA;            $arrRespuesta=array(&quot;error&quot;=&amp;gt;&quot;Hubo un problema con la consulta&quot;);&#xA;&#xA;         }&#xA;        // cerrar la conexión &#xA;        $mysqli-&amp;gt;close();&#xA;    }&#xA;&#xA;&#xA;    //Al final de todo imprimimos el JSON que será recogido en la petición //Ajax/jQuery&#xA;    $json = json_encode($arrRespuesta);&#xA;    header('Content-Type: application/json');&#xA;    echo $json;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""49096"" LastEditorUserId=""49096"" LastEditDate=""2017-10-02T12:32:01.040"" LastActivityDate=""2018-05-03T18:10:43.653"" Title=""Consulta Mysql desde Javascript con Ajax"" Tags=""&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""9"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""105279"" PostTypeId=""1"" CreationDate=""2017-09-26T21:45:42.350"" Score=""0"" ViewCount=""1228"" Body=""&lt;p&gt;Saludos a todos, tengo este problema con una tabla Datatable la cual en mi archivo .JS la declaro al inicio de esta manera:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var table;&#xA;$(document).ready(function(){&#xA;     table = $('#example').DataTable({&#xA;        data: &quot;&quot;,&#xA;        'rowsGroup': [0,1,3],&#xA;        'scrollY': &quot;200px&quot;,&#xA;        'scrollCollapse': true,&#xA;        'paging': false,&#xA;        'scrollX': true,&#xA;        language: {&#xA;            url: 'js/Spanish.json'&#xA;        }&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El punto es que luego, dentro de una función la cual va a ocuparse repetidas veces quiero vaciar esta tabla, cargarla de datos con un array llamado myData2 y luego recargar la tabla, pero no sé como hacer que esto funcione... el código comentado dentro del resultado de la funcion es el que antes usaba para cargarlo de una sola vez y funciona correctamente, pero no sé cómo hacerlo para cuando quiero recargar los datos de la tabla del mismo array con diferentes datos:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   function cargarTabla(am){&#xA;    $(&quot;#cargando&quot;).dialog(&quot;open&quot;);&#xA;    $.ajax({&#xA;        type: &quot;GET&quot;, &#xA;        url: &quot;PruebaController.php&quot;,&#xA;        data: { accion: 1, am: am }&#xA;    }).done(function(data) {&#xA;        try {&#xA;            var obj = $.parseJSON(data);&#xA;            if (obj.error == 0) {&#xA;                myData2 = [];&#xA;                $.each(obj.arreglo, function(value) { myData2.push(this)});&#xA;                $(document).ready(function(){&#xA;&#xA;&#xA;                    // ESTAS 3 LINEAS DE CÓDIGO SON LAS QUE QUIERO CORREGIR Y HACER FUNCIONAR //&#xA;&#xA;                    table.clear();&#xA;                    table.rows.add(myData2);&#xA;                    table.ajax.reload();&#xA;                    // var table = $('#example').DataTable({&#xA;                    //  data: myData2,&#xA;                    //  'rowsGroup': [0,1,3],&#xA;                    //  'scrollY': &quot;200px&quot;,&#xA;                 //        'scrollCollapse': true,&#xA;                 //        'paging': false,&#xA;                 //        'scrollX': true,&#xA;                 //        language: {&#xA;                    //         url: 'js/Spanish.json'&#xA;                    //     }&#xA;                    // });&#xA;                });&#xA;                $(&quot;#cargando&quot;).dialog(&quot;close&quot;);&#xA;            } else {&#xA;                $(&quot;#cargando&quot;).dialog(&quot;close&quot;);&#xA;                mostrarError(obj.msg);&#xA;            }&#xA;        } catch(err) {&#xA;            console.log(err);&#xA;            $(&quot;#cargando&quot;).dialog(&quot;close&quot;);&#xA;            mostrarError(msg.err1);&#xA;        }&#xA;    }).fail(function(jqXHR, textStatus) {&#xA;        $(&quot;#cargando&quot;).dialog(&quot;close&quot;);&#xA;        if (jqXHR.status === 0) mostrarError(msg.err0);&#xA;        else if (textStatus === 'timeout') mostrarError(msg.err99);&#xA;        else mostrarError(msg.err1);&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""49414"" LastEditorUserId=""22381"" LastEditDate=""2017-09-26T23:56:59.510"" LastActivityDate=""2023-11-29T23:04:40.630"" Title=""Problemas al recargar Datatable"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;json&gt;&lt;datatable&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""106332"" PostTypeId=""1"" CreationDate=""2017-10-01T03:08:56.313"" Score=""1"" ViewCount=""873"" Body=""&lt;p&gt;Buenas noches;&#xA;Espero puedan ayudarme, tengo un pequeño problema al mostrar los datos dentro de un datatable, los datos si se muestran en el index pero no dentro del datatable.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el código JS dentro de mi index.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;    $.ajax({&#xA;                url: 'getjson.php',&#xA;                dataType: 'json',&#xA;            })&#xA;&#xA;    .done(function(data){&#xA;        console.log(data);&#xA;        $.each(data.datos, function(i,post){&#xA;        var newRow =&#xA;        &quot;&amp;lt;tbody&amp;gt;&quot;&#xA;        +&quot;&amp;lt;tr&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.login+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.email+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.nombre+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.apellido+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.cargo+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.direccion+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.gerencia+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.jefatura+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;td&amp;gt;&quot;+post.jefe_inmediato+&quot;&amp;lt;/td&amp;gt;&quot;&#xA;        +&quot;&amp;lt;/tr&amp;gt;&quot;&#xA;        +&quot;&amp;lt;/tbody&amp;gt;&quot;;&#xA;        $(newRow).appendTo(&quot;#json-data&quot;);&#xA;    })&#xA;    .fail(function(){&#xA;        alert('Error');&#xA;    })&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero al ser llamado desde el la tabla con el id=&quot;json-data&quot; los datos lo carga fuera del datatable.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;este es mi archivo getjson.php en el cual obtengo los datos de la bd&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;    require_once 'dbconfig.php';&#xA;&#xA;    $posts = array();&#xA;    $query = (&quot;SELECT * FROM user &quot;);&#xA;&#xA;    $stmt = $db_con-&amp;gt;prepare($query);&#xA;    $stmt-&amp;gt;execute();&#xA;&#xA;    while($row=$stmt-&amp;gt;fetch(PDO::FETCH_ASSOC)) {&#xA;&#xA;        //$posts['datos'][] = $row;&#xA;        $posts['datos'][] = array_map(&quot;utf8_encode&quot;, $row);&#xA;    }&#xA;&#xA;    echo json_encode($posts);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y por ultimo este es el el codigo de la tabla&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;table id=&quot;json-data&quot; class=&quot;table table-striped table-bordered&quot; &amp;gt;&#xA;                        &amp;lt;thead&amp;gt;&#xA;                            &amp;lt;tr&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Login &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Email &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Nombre &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Apellidos &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Cargo &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Dirección &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Gerencia &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Jefatura &amp;lt;/th&amp;gt;&#xA;                                &amp;lt;th&amp;gt; Jefe Inmediato &amp;lt;/th&amp;gt;&#xA;                            &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;/thead&amp;gt;&#xA;                        &amp;lt;tbody&amp;gt;&#xA;&#xA;                        &amp;lt;/tbody&amp;gt;&#xA;                    &amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;espero me puedan ayudar.&lt;/p&gt;&#xA;"" OwnerUserId=""60333"" LastActivityDate=""2017-10-01T09:27:40.723"" Title=""Mostrar datos de json a un datatable en php"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;json&gt;&lt;datatables&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""106875"" PostTypeId=""1"" AcceptedAnswerId=""106889"" CreationDate=""2017-10-03T15:25:27.760"" Score=""2"" ViewCount=""252"" Body=""&lt;p&gt;Estoy intentando mostrar botones (agregar, editar y eliminar) en lugar de los TAGS en un TreeView:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/cAoZZ.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/cAoZZ.png&quot; alt=&quot;Treeview&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Todo bien hasta ahí pero, al hacer click en el botón de eliminar me devuelve un código totalmente diferente.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/VTviz.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/VTviz.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Alguien que me ayude por favor, o ¿hay otro modo de hacerlo?.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Aquí mi codigo JS(AJAX):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getModalEliminarContabilidad(codigo) {&#xA;$.ajax({&#xA;    url: url_contabilidad,&#xA;    type: 'POST',&#xA;    dataType: 'html',&#xA;    data: {&#xA;        opcion: 'modalEliminar',&#xA;        codigo: codigo&#xA;    },&#xA;})&#xA;.done(function(data) {&#xA;    $('#srv_contabilidad_modal_eliminar_contenido').html(data);&#xA;})&#xA;.fail(function() {&#xA;})&#xA;.always(function() {&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Aquí mi código PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;case 'modalEliminar':&#xA;            if (isset($_POST['codigo'])) {&#xA;                $codigo = $_POST['codigo'];&#xA;                ?&amp;gt;&#xA;                &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&#xA;                        &amp;lt;span aria-hidden=&quot;true&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;/button&amp;gt;&#xA;                    &amp;lt;h5 class=&quot;modal-title&quot; id=&quot;modalTitle&quot;&amp;gt;Cuenta Contable: &amp;lt;strong&amp;gt;&amp;lt;?= $codigo ?&amp;gt;&amp;lt;/strong&amp;gt;&amp;lt;/h5&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;                    &amp;lt;h4 class=&quot;title&quot;&amp;gt;¿Seguro que quieres eliminar esta Cuenta Contable?&amp;lt;/h4&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;                    &amp;lt;div id=&quot;srv_contabilidad_eliminar_alert&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-times&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/i&amp;gt; No&amp;lt;/button&amp;gt;&#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-success&quot; onclick=&quot;&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-check&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/i&amp;gt; Si&amp;lt;/button&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;?php&#xA;            }&#xA;            break;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Esto genera el Treeview:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;case 'treeview':&#xA;            $cuenta = $_POST['cuenta'];&#xA;            $cta = $_POST['cta'];&#xA;            $m = $_POST['m'];&#xA;&#xA;            if ($m == 1) $treeview = $contabilidad-&amp;gt;searchContabilidadTreeView($cuenta, $cta);&#xA;            elseif ($m == 0 &amp;amp;&amp;amp; empty($cuenta)) $treeview = $contabilidad-&amp;gt;getContabilidadTreeView();&#xA;&#xA;            $data = array();&#xA;            foreach($treeview as $row) {&#xA;                $codigo     = $row['codigo'];&#xA;                $cta        = $row['cta'];&#xA;                $sub_cta    = $row['sub_cta'];&#xA;                $div        = $row['div'];&#xA;                $sub_div    = $row['sub_div'];&#xA;                $analitica1 = $row['analitica1'];&#xA;                $analiticam = $row['analiticam'];&#xA;                $analitica2 = $row['analitica2'];&#xA;                $nivel      = $row['nivel'];&#xA;                $fin        = $row['fin'];&#xA;                $descripcion = utf8_encode($row['descripcion']);&#xA;&#xA;                if ($nivel == 2) $descripcion = $cta . ' - ' . $descripcion;&#xA;                elseif ($nivel == 3) $descripcion = $cta . $sub_cta . ' - ' . $descripcion;&#xA;                elseif ($nivel == 4) $descripcion = $cta . $sub_cta . $div . ' - ' . $descripcion;&#xA;                elseif ($nivel == 5) $descripcion = $cta . $sub_cta . $div . $sub_div . ' - ' . $descripcion;&#xA;                elseif ($nivel == 6) $descripcion = $cta . $sub_cta . $div . $sub_div . $analitica1 . ' - ' . $descripcion;&#xA;                elseif ($nivel == 7) $descripcion = $cta . $sub_cta . $div . $sub_div . $analitica1 . $analiticam . ' - ' . $descripcion;&#xA;                elseif ($nivel == 8) $descripcion = $cta . $sub_cta . $div . $sub_div . $analitica1 . $analiticam . $analitica2 . ' - ' . $descripcion;&#xA;&#xA;                $tmp = array();&#xA;                $tmp['id']         = $row['codigo'];&#xA;                $tmp['text']       = $descripcion;&#xA;                $tmp['parent_id']  = $row['ref_id_pcge'];&#xA;                $tmp['nivel']      = $nivel;&#xA;                $tmp['cta']        = $cta;&#xA;                $tmp['tags']       = [&#xA;                    '&amp;lt;span title=&quot;Eliminar&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot;&amp;gt;&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-danger btn-xs&quot; data-toggle=&quot;modal&quot; data-target=&quot;#srv_contabilidad_modal_eliminar&quot; onclick=&quot;getModalEliminarContabilidad('. $codigo .');&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-trash&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;/span&amp;gt;',&#xA;                    '&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-primary btn-xs&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-pencil-square-o&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;',&#xA;                    '&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-success btn-xs&quot; data-toggle=&quot;modal&quot; data-target=&quot;#srv_contabilidad_modal_guardar&quot; onclick=&quot;getModalSave();&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-plus-circle&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;'&#xA;                    ];&#xA;                array_push($data, $tmp);&#xA;            }&#xA;&#xA;            foreach($data as $key =&amp;gt; &amp;amp;$value) {&#xA;                $output[$value['id']] = &amp;amp;$value;&#xA;            }&#xA;            foreach($data as $key =&amp;gt; &amp;amp;$value) {&#xA;                if($value['parent_id'] &amp;amp;&amp;amp; isset($output[$value['parent_id']]))&#xA;                    $output[$value['parent_id']]['nodes'][] = &amp;amp;$value;&#xA;            }&#xA;            foreach($data as $key =&amp;gt; &amp;amp;$value) {&#xA;                if($value['parent_id'] &amp;amp;&amp;amp; isset($output[$value['parent_id']]))&#xA;                    unset($data[$key]);&#xA;            }&#xA;&#xA;            echo json_encode($data, JSON_PRETTY_PRINT);&#xA;            break;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""24053"" LastActivityDate=""2017-10-03T16:56:00.923"" Title=""¿Por qué AJAX me devuelve un valor diferente?"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""112662"" PostTypeId=""1"" CreationDate=""2017-10-26T22:06:07.540"" Score=""0"" ViewCount=""1134"" Body=""&lt;p&gt;Hola a todos bien quisiera saber si es posible mantener seleccionado un dato de un combobox anidado y que al mismo tiempo este dato que se selecciono mande a traer a los demas datos automaticamente, cabe alaclarar que ya tengo el combobox anidado solo quiero que los demas datos salgan automaticamente. sin necesidad que yo este seleccionando el dato aqui el codigo y las imagenes, El que quiero qu salga automaticamente es el que dice Municipio y de ahi los demas  &lt;a href=&quot;https://i.stack.imgur.com/vf0tW.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/vf0tW.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora muestro el codigo de mi php de municipio, de el js y de donde tengo alojada la variable en el formulario    &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Primero de municipio&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php&#xA;require_once 'conexions.php';&#xA;&#xA;function getMunicipio(){&#xA;  $mysqli = getConn();&#xA;  $query = &quot;SELECT * FROM Municipio&quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;  $listas = '&amp;lt;option value=&quot;0&quot;&amp;gt;Elige una opción&amp;lt;/option&amp;gt;';&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;    $listas .= &quot;&amp;lt;option value='$row[id]'&amp;gt;$row[nombre]&amp;lt;/option&amp;gt;&quot;;&#xA;  }&#xA;  return $listas;&#xA;}&#xA;&#xA;echo getMunicipio();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;luego de el js &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'cargar_municipio.php'&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    $('#lista_municipio').html(listas_rep)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Hubo un errror al cargar los municipos')&#xA;  })&#xA;&#xA;  $('#lista_municipio').on('change', function(){&#xA;    var id = $('#lista_municipio  ').val()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'cargar_categoria.php',&#xA;      data: {'id': id}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $('#lista_categoria').html(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al cargar las categorias')&#xA;    })&#xA;&#xA;    var id_lista = $('#lista_categoria').val()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'cargar_subcategoria.php',&#xA;      data: {'id': id}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $('#lista_subcategoria').html(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al cargar los segundo')&#xA;    })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y ahora el apartado del formulario donde tengo la variable por si quieren saber cual es &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;&#xA;                      &amp;lt;label id=&quot;f1&quot; for=&quot;Fuente&quot;&amp;gt;Municipio:&amp;lt;/label&amp;gt;&#xA;                      &amp;lt;select  id=&quot;lista_municipio&quot; name=&quot;Ubicacion&quot; class=&quot;form-control&quot;&amp;gt;&#xA;                      &amp;lt;/select&amp;gt;&#xA;&#xA;&#xA;&#xA;                    &amp;lt;label id=&quot;f1&quot; for=&quot;Fuente&quot;&amp;gt;Categoria:&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select id=&quot;lista_categoria&quot; name=&quot;Categoria&quot; class=&quot;form-control&quot;&amp;gt;&#xA;                    &amp;lt;/select&amp;gt;&#xA;&#xA;&#xA;&#xA;                      &amp;lt;label id=&quot;f1&quot; for=&quot;Fuente&quot;&amp;gt;Subcategoria:&amp;lt;/label&amp;gt;&#xA;                      &amp;lt;select id=&quot;lista_subcategoria&quot; name=&quot;Subcategoria&quot; class=&quot;form-control&quot;&amp;gt;&#xA;                      &amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""64131"" LastActivityDate=""2017-10-26T22:22:50.953"" Title=""¿Como mantener seleccionado un dato combobox anidado al recargar la pagina?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;combobox&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""114598"" PostTypeId=""1"" AcceptedAnswerId=""117549"" CreationDate=""2017-11-03T21:44:09.720"" Score=""0"" ViewCount=""142"" Body=""&lt;pre&gt;&lt;code&gt;introducir el código aquí&#xA;&#xA;    &amp;lt;style type=&quot;text/css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&#xA;.APROBADO{&#xA;    background-color: red;         &#xA;}&#xA;&#xA;.RECHAZADO{&#xA;    background-color: red;          &#xA;}&#xA;&amp;lt;/style&amp;gt;&#xA;&#xA;function cargaPagina(pagina)&#xA;{&#xA;    var desde = pagina * itemsPorPagina;&#xA;    $.ajax({&#xA;        data:{&quot;param1&quot;:&quot;dame&quot;,&quot;limit&quot;:itemsPorPagina,&quot;offset&quot;:desde},&#xA;        type:&quot;GET&quot;,&#xA;        dataType:&quot;json&quot;,&#xA;        url:&quot;Conexion_Tabla_Cotizacion.php&quot;&#xA;    }).done(function(data,textStatus,jqXHR){&#xA;&#xA;        var lista = data.lista;&#xA;&#xA;        $(&quot;#miTabla&quot;).html(&quot;&quot;);&#xA;&#xA;        var colorsStyle = [&#xA;        &quot;APROVADO&quot;, &quot;RECHAZADO&quot;        &#xA;        ]&#xA;&#xA;&#xA;        $.each(lista, function(ind, elem){&#xA;&#xA;//Obtengo la fecha del elemento actual en la iteración&#xA;var fecha_str = elem.estado_orden_compra_venta.toString();&#xA;//Obtengo el número del mes, y le resto 1 para poder asociarlo al arreglo ya que este comienza en el índice 0 y el primer mes es el &#xA;var classs = colorsStyle[fecha_str];&#xA;&#xA;&#xA;$(&quot;&amp;lt;tr&amp;gt;&quot;+&#xA;&#xA;    '&amp;lt;td&amp;gt;'+elem.razon_social_empresa+'&amp;lt;/td&amp;gt;'+&#xA;    '&amp;lt;td&amp;gt;&amp;lt;a target=&quot;_blank&quot; href=&quot;Mostrar_PDF.php?id='+elem.id_solicitud_pedido+'&quot;&amp;gt;'+elem.archivo_solicitud_pedido+'&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;'+&#xA;&#xA;             //cotizacion//&#xA;&#xA;&#xA;             '&amp;lt;td&amp;gt;&amp;lt;a target=&quot;_blank&quot; href=&quot;Mostrar_PDF_Cotizacion.php?id='+elem.id_solicitud_pedido+'&quot;&amp;gt;'+elem.archivo_solicitud_cotizacion+'&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;'+&#xA;             '&amp;lt;td idpersona =&quot;'+elem.id_solicitud_pedido+'&quot;&amp;gt;' +&#xA;             '&amp;lt;button class=&quot;btn btn-primary&quot; onclick=&quot;abrir('+elem.id_solicitud_pedido+')&quot;&amp;gt;Modificar&amp;lt;/button&amp;gt; '+&#xA;&#xA;             //Orden de compra o venta//P&#xA;&#xA;             '&amp;lt;td&amp;gt;&amp;lt;a target=&quot;_blank&quot; href=&quot;Mostrar_PDF_Orden_Compra_Venta.php?id='+elem.id_solicitud_pedido+'&quot;&amp;gt;'+elem.archivo_orden_compra_venta+'&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;'+&#xA;&#xA;             '&amp;lt;td&amp;gt;'+elem.estado_orden_compra_venta+'&amp;lt;/td&amp;gt;'+&#xA;             '&amp;lt;td idpersona =&quot;'+elem.id_solicitud_pedido+'&quot;&amp;gt;' +&#xA;             '&amp;lt;button class=&quot;btn btn-primary&quot; onclick=&quot;abrir1('+elem.id_solicitud_pedido+')&quot;&amp;gt;Ingresar&amp;lt;/button&amp;gt; '+&#xA;&#xA;            //Factura//&#xA;            '&amp;lt;td&amp;gt;&amp;lt;a target=&quot;_blank&quot; href=&quot;Mostrar_PDF_Factura.php?id='+elem.id_solicitud_pedido+'&quot;&amp;gt;'+elem.archivo_factura+'&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td idpersona =&quot;'+elem.id_solicitud_pedido+'&quot;&amp;gt;' +&#xA;            '&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;abrir3('+elem.id_solicitud_pedido+')&quot;&amp;gt;Ingresar&amp;lt;/button&amp;gt; '+'&amp;lt;/td&amp;gt;'+ &#xA;&#xA;            // Estado Cotizacion&#xA;&#xA;            '&amp;lt;td&amp;gt;&amp;lt;a target=&quot;_blank&quot; href=&quot;Mostrar_PDF_Estado_Cotizacion.php?id='+elem.id_solicitud_pedido+'&quot;&amp;gt;'+elem.archivo_estado_cotizacion+'&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td&amp;gt;'+elem.fecha_pago_estado+'&amp;lt;/td&amp;gt;'+&#xA;            '&amp;lt;td idpersona =&quot;'+elem.id_solicitud_pedido+'&quot;&amp;gt;'+&#xA;            '&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;abrir4('+elem.id_solicitud_pedido+')&quot;&amp;gt;Ingresar&amp;lt;/button&amp;gt; '+'&amp;lt;/td&amp;gt;'+ &#xA;&#xA;            '&amp;lt;/tr&amp;gt;').appendTo($(&quot;#miTabla&quot;));&#xA;&#xA;    });     &#xA;&#xA;&#xA;    }).fail(function(jqXHR,textStatus,textError){&#xA;        alert(&quot;Error al realizar la peticion dame&quot;.textError);&#xA;&#xA;      });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/P9YHg.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/P9YHg.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""61574"" LastEditorUserId=""61574"" LastEditDate=""2018-01-04T14:02:19.197"" LastActivityDate=""2018-01-04T14:02:19.197"" Title=""¿Como puedo colocar color a una columna segunda la condicion si es APROBADA O RECHAZADA?"" Tags=""&lt;php&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;dom&gt;"" AnswerCount=""2"" CommentCount=""8"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""115533"" PostTypeId=""1"" AcceptedAnswerId=""115575"" CreationDate=""2017-11-07T20:51:00.000"" Score=""1"" ViewCount=""5951"" Body=""&lt;ul&gt;&#xA;&lt;li&gt;Carpeta contenedora:&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Carpeta js&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Sub-Carpeta &lt;code&gt;ajax&lt;/code&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Archivo JS &lt;code&gt;ajaxlogin.js&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&lt;/li&gt;&#xA;&lt;li&gt;Carpeta &lt;code&gt;php&lt;/code&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Archivo PHP &lt;code&gt;consultas.PHP&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&lt;/li&gt;&#xA;&lt;li&gt;Archivo HTML &lt;code&gt;index.html&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Mi código es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;index.html&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html lang=&quot;ES-MX&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;&amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;&#xA;&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, Initial-scale=1&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.css&quot;&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/estilo.css&quot;&amp;gt;&#xA;&#xA;&amp;lt;title&amp;gt;Login HTML,JS,PHP y MySQL &amp;lt;/title&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;&#xA;&amp;lt;header class=&quot;card-header text-center&quot;&amp;gt;&#xA;    &amp;lt;h1&amp;gt;&amp;lt;strong&amp;gt;Ejemplo Login&amp;lt;/strong&amp;gt;&amp;lt;/h1&amp;gt;&#xA;    &amp;lt;h5&amp;gt;HTML, JS, PHP y MySQL&amp;lt;/h5&amp;gt;      &#xA;&amp;lt;/header&amp;gt;&#xA;&amp;lt;section class=&quot;container&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;row justify-content-center row-login&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;col-5 form_login bg-light&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;row bg-primary text-white justify-content-center&quot;&amp;gt;&amp;lt;h3 class=&quot;text-center&quot;&amp;gt;Iniciar Sesión&amp;lt;/h3&amp;gt;&amp;lt;/div&amp;gt;&#xA;                &amp;lt;div id=&quot;warning-div&quot; class=&quot;row bg-warning justify-content-center display-none&quot;&amp;gt;&#xA;                    &amp;lt;small id=&quot;warning-text&quot; class=&quot;text-center&quot;&amp;gt;           &#xA;                    &amp;lt;/small&amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;&quot;&amp;gt;&#xA;                    &amp;lt;form action=&quot;&quot;&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;label for=&quot;login&quot;&amp;gt;Usuario:&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;input type=&quot;text&quot; name=&quot;txtUsuario&quot; class=&quot;form-control&quot; placeholder=&quot;Usuario&quot; id=&quot;loginUsuario&quot;&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;label for=&quot;login_con&quot;&amp;gt;Contraseña:&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;input type=&quot;text&quot; name=&quot;txtContraseña&quot; class=&quot;form-control&quot; placeholder=&quot;Contraseña&quot; id=&quot;loginContrasena&quot;&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;btnAceptar&quot; onclick=&quot;login()&quot;&amp;gt;Aceptar&amp;lt;/button&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/form&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/section&amp;gt;&#xA;&amp;lt;footer class=&quot;card-footer bg-dark text-white text-center &quot;&amp;gt;Copyright 2017&amp;lt;/footer&amp;gt;&#xA;&amp;lt;script src=&quot;js/ajax/ajaxlogin.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;js/bootstrap.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;js/bootstrap.bundle.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;js/jquery-3.2.1.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;consultas.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;include(&quot;bd/conexionbd.php&quot;);&#xA;$usuario=$_POST['Usuario'];&#xA;$contrasena=$_POST['Password'];&#xA;&#xA;$cmd= $conn-&amp;gt;prepare('SELECT usuario, rol_usuario.nombre_Rol FROM usuario inner join rol_usuario on usuario.id_Rol=rol_usuario.id_Rol where Usuario=? AND Contrasena=?');&#xA;$cmd-&amp;gt;bind_param('ss',$nom_usuario, $usuario_cont);&#xA;$nom_usuario=$usuario;&#xA;$usuario_cont=md5($contrasena);&#xA;$cmd-&amp;gt;execute();&#xA;&#xA;/*Se vincula las variables al resultado*/&#xA;$cmd-&amp;gt;bind_result($user,$rol);&#xA;/*Almacenar el resultado*/&#xA;$cmd-&amp;gt;store_result();&#xA;/*Se comprueba si hay resultados*/&#xA;if ($cmd-&amp;gt;num_rows&amp;gt;0) {&#xA;echo'hay resultados';&#xA;$cmd-&amp;gt;fetch();&#xA;echo &quot;$user&quot;.&quot; &quot;.$rol;&#xA;}else{&#xA;echo 'no hay resultados';&#xA;}&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajaxlogin.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function login(){&#xA;if ($('#loginUsuario').val()===&quot;&quot;|| $('#loginContrasena').val()===&quot;&quot;) {&#xA;    $('#warning-div').css({&#xA;        'display': 'block'&#xA;    }); &#xA;    $('#warning-div').addClass('row bg-danger justify-content-center text-center');&#xA;    $('#warning-text').addClass('text-white');&#xA;    document.getElementById('warning-text').innerHTML='Hay Campos Vacios';  &#xA;}else{&#xA;&#xA;    var usuario= $('#loginUsuario').val();&#xA;    var password =$('#loginContrasena').val();&#xA;&#xA;        ajaxLogin(usuario,password);&#xA;&#xA;    }&#xA;}&#xA;&#xA;function ajaxLogin(usuario,password){&#xA;alert('Entraste al ajax');&#xA;&#xA;$.ajax({&#xA;    url: '../../php/consultas.php',&#xA;    type: 'POST',&#xA;    dataType: 'html',&#xA;    data: &quot;Usuario=&quot;+usuario+&quot;&amp;amp;Password=&quot;+password,&#xA;    beforeSend: function(){&#xA;        $('#warning-div').css({&#xA;        'display': 'block'&#xA;    }); &#xA;    $('#warning-div').addClass('row bg-warning justify-content-center text-center');&#xA;    $('#warning-text').addClass('text-white');&#xA;    document.getElementById('warning-text').innerHTML='Iniciando Sesión...';    &#xA;    },&#xA;})&#xA;.done(function() {&#xA;    console.log(&quot;success&quot;);&#xA;})&#xA;.fail(function() {&#xA;    console.log('Error');   })&#xA;.always(function() {&#xA;    console.log(&quot;complete&quot;);&#xA;});&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;La idea es:&lt;/strong&gt; Obtener las &lt;strong&gt;&lt;em&gt;dos columnas&lt;/em&gt;&lt;/strong&gt; de la &lt;code&gt;consulta MySQL&lt;/code&gt; mediante la funcion &lt;code&gt;ajax()&lt;/code&gt; y redireccionar según el valor de la columna rol (usuario o administrador). El problema es que el ajax no funciona.&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastActivityDate=""2017-11-07T23:17:55.227"" Title=""Ajax no funciona"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""119611"" PostTypeId=""1"" AcceptedAnswerId=""119628"" CreationDate=""2017-11-23T10:50:18.417"" Score=""0"" ViewCount=""92"" Body=""&lt;p&gt;mi caso es:&#xA;Estoy realizando un login y quiero comprobar si el usuario existe ya en la base de datos, va bien, hasta que lo hace 8 veces (el usuario es un email, así que hay que escribir mas de 8 veces), después el método $.post deja de funcionar.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function () {&#xA;            $(&quot;#email&quot;).on(&quot;keyup&quot;, function () {&#xA;                console.log(&quot;entro en el keyUp&quot;);&#xA;                $.post(&quot;&amp;lt;c:url value='/RegistroLogin'/&amp;gt;&quot;, {&#xA;                    datoEmail: $(&quot;#email&quot;).val()&#xA;                }, function (respuesta) {&#xA;                    if (respuesta == &quot;true&quot;) {&#xA;                        console.log(&quot;usuario encontrado&quot;);&#xA;                        $(&quot;#enUso&quot;).html(&quot;&amp;lt;p class='bg-danger'&amp;gt;Usuario en uso&amp;lt;/p&amp;gt;&quot;);&#xA;                    } else {&#xA;                        console.log(&quot;usuario no encontrado&quot;);&#xA;                        $(&quot;#enUso&quot;).html(&quot;&amp;lt;p class='bg-success'&amp;gt;Usuario disponible&amp;lt;/p&amp;gt;&quot;);&#xA;                    }&#xA;                }).fail(function () {&#xA;                    console.log(&quot;FALLO&quot;);&#xA;                });&#xA;            });&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Estoy usando jsp, servlets y MySQL.&#xA;He de decir que CREO que lo que peta es el navegador, ya que si ejecuto la aplicación con otro navegador ajax responde perfectamente, hasta la 8a consulta(de nuevo).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Es mi primera pregunta, si faltan detalles avisarme, muchas gracias.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDITO: añado la pestaña network en chrome y firefox&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Lklq0.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Lklq0.png&quot; alt=&quot;Network Firefox Developer Edition&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/R3fsu.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/R3fsu.png&quot; alt=&quot;Network Chrome&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""61452"" LastEditorUserId=""61452"" LastEditDate=""2017-11-23T11:46:43.110"" LastActivityDate=""2017-11-23T13:04:20.950"" Title=""El navegador deja de formular peticiones ajax tras 8 peticiones"" Tags=""&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""121646"" PostTypeId=""1"" AcceptedAnswerId=""121648"" CreationDate=""2017-11-30T21:50:23.593"" Score=""0"" ViewCount=""25"" Body=""&lt;p&gt;Buenas.&lt;br&gt;Estoy intentando hacer un programa que mire si la contraseña de un formulario está en un archivo.txt.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El archivo está línea por línea de esta manera:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;000&lt;br&gt;010&lt;br&gt;001&lt;br&gt;...&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Sigue así con muchísimas contraseñas pero es para que os hagais a la idea.&lt;br&gt;&lt;br&gt;Mí &lt;em&gt;código&lt;/em&gt; de &lt;strong&gt;AJAX&lt;/strong&gt; donde  $(&quot;#pass&quot; sería donde está la contraseña):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $(&quot;#pass&quot;).on(&quot;change&quot;,function(){&#xA;        var data = $(&quot;#pass&quot;);&#xA;        var request = $.ajax({&#xA;            url:'egiaztatuPosta.php',&#xA;            data: data,&#xA;            dataType:'html'&#xA;        });&#xA;        request.done(function(data){&#xA;            echo(&quot;No está dentro&quot;);&#xA;        });&#xA;        request.fail(function(data){&#xA;            echo(&quot;Está dentro&quot;);&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;br&gt;&lt;br&gt;&#xA;Mí código &lt;strong&gt;PHP&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$pasahitzak = fopen('../DATUAK/toppasswords1.txt','r');&#xA;$aurk=false;&#xA;$zenb=0;&#xA;while($linea = fgets($pasahitzak)){&#xA;    $aux[] = $linea;&#xA;     echo &quot;&amp;lt;script&amp;gt;console.log( 'Pasahitza: &quot; . &quot;$_REQUEST[pasahitza]&quot; . &quot;' );&amp;lt;/script&amp;gt;\n&quot;;&#xA;     echo &quot;&amp;lt;script&amp;gt;console.log( 'Lerroa: &quot; . $linea . &quot;' );&amp;lt;/script&amp;gt;\n&quot;;&#xA;    if(&quot;$_REQUEST[pasahitza]&quot;==$linea){&#xA;        $aurk=true;&#xA;    }&#xA;    echo &quot;&amp;lt;script&amp;gt;console.log( 'Finala: &quot; . $ald . &quot;' );&amp;lt;/script&amp;gt;&quot;;&#xA;}&#xA;&#xA;fclose($pasahitzak);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Lo que quiero saber es si hay algún modo de que el AJAX haga la función de fail cuando $aurk es igual a true($aurk=true).&lt;br&gt;Creo que con esos dos cachos de código es suficiente para exponer mí duda. Si necesitáis algo más de código porque no es suficiente ponedlo en los comentarios.&lt;br&gt; No he encontrado nada útil y por eso pregunto.Saludos.&lt;/p&gt;&#xA;"" OwnerUserId=""49930"" LastActivityDate=""2017-11-30T21:58:29.613"" Title=""¿Como hago que el archivo de PHP haga que AJAX haga fail?"" Tags=""&lt;php&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""122030"" PostTypeId=""1"" AcceptedAnswerId=""122041"" CreationDate=""2017-12-02T14:40:31.333"" Score=""1"" ViewCount=""642"" Body=""&lt;p&gt;En la página principal &lt;strong&gt;index.php&lt;/strong&gt; tengo varia información obtenida por medio de sesiones, por ejemplo el &lt;code&gt;id&lt;/code&gt; del usuario, entre otros datos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora tengo un formulario con un solo campo (&lt;code&gt;input&lt;/code&gt;)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;tck&quot; method=&quot;POST&quot; action=&quot;employee.php&quot;&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; name=&quot;ticket&quot; maxlength=&quot;10&quot;&amp;gt;&#xA;    &amp;lt;button type=&quot;submit&quot;&amp;gt;ticket&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cómo puedo enviar más datos a la petición &lt;code&gt;ajax&lt;/code&gt; sin añadir más campos al formulario.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Necesito poder recibir de la petición &lt;code&gt;ajax&lt;/code&gt; el &lt;code&gt;id&lt;/code&gt; del usuario &lt;strong&gt;(id_usuario)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    $(function() { //document.ready es obsoleto desde jQuery 3&#xA;&#xA;        $('.dismiss').click(function () {&#xA;            $('.response').fadeOut(500);&#xA;        });&#xA;&#xA;        $('#tck').on('submit', function(e) {&#xA;            e.preventDefault();     &#xA;&#xA;            var data = $(this).serialize();&#xA;&#xA;            var request = $.ajax({&#xA;                url: $(this).prop(&quot;action&quot;),&#xA;                method: $(this).prop('method'),&#xA;                data: data,&#xA;                dataType: &quot;html&quot;&#xA;            });&#xA;&#xA;            request.done(function(response) {&#xA;                console.log(response);&#xA;                    $('.response').html(response);&#xA;                    $(&quot;.response&quot;).fadeIn(200);&#xA;                    window.setTimeout(function () {&#xA;                        $('.response').fadeOut(500);&#xA;                    }, 6000);&#xA;&#xA;            });&#xA;&#xA;            request.fail(function(jqXHR, textStatus) {&#xA;                alert('Hubo un error: ' + textStatus);&#xA;            });         &#xA;&#xA;        });&#xA;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""67955"" LastActivityDate=""2017-12-02T15:43:05.893"" Title=""¿Cómo enviar más datos a una petición ajax?"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""122225"" PostTypeId=""1"" AcceptedAnswerId=""124698"" CreationDate=""2017-12-03T19:10:39.910"" Score=""0"" ViewCount=""200"" Body=""&lt;p&gt;Tengo este servidor SOAP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    //nusoap gehitu&#xA;require_once('../NUSOAP/lib/nusoap.php');&#xA;require_once('../NUSOAP/lib/class.wsdlcache.php');&#xA;&#xA;//zerbitzaria sortu&#xA;$server = new soap_server;&#xA;&#xA;//funtzioa inplementatu&#xA;function passEg($pass){&#xA;    $aurk = false;&#xA;    $lineas = file(&quot;../DATUAK/toppasswords1.txt&quot;);&#xA;&#xA;    foreach($lineas as $linea){&#xA;        if (strstr($linea,$pass)){&#xA;            $aurk = true;&#xA;        }&#xA;    }&#xA;    return $aurk;&#xA;}&#xA;&#xA;$server-&amp;gt;register(&quot;passEg&quot;);&#xA;&#xA;//service metodoari deitu&#xA;$HTTP_RAW_POST_DATA = isset($HTTP_RAW_POST_DATA) ? $HTTP_RAW_POST_DATA : '';&#xA;$server-&amp;gt;service($HTTP_RAW_POST_DATA);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y tengo este cliente que usa ese servidor:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require_once('../NUSOAP/lib/nusoap.php');&#xA;require_once('../NUSOAP/lib/class.wsdlcache.php');&#xA;&#xA;//bezeroa sortu eta zerbitzaria atzitu&#xA;$soapclient = new nusoap_client('http://localhost/lab7/PHP/egiaztatuPasahitza.php?wsdl',false);&#xA;&#xA;//funtzioari deitu&#xA;if (isset($_POST['pasahitza'])){&#xA;    $pasahitza = $_POST['pasahitza'];&#xA;    echo $soapclient-&amp;gt;call('passEg',array(&quot;pass&quot;=&amp;gt;$pasahitza));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Esta es la función que llama a AJAX:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        function egiaztatuPasahitza(){&#xA;        var frm = $(&quot;#galderenF&quot;);&#xA;        var data=frm.serialize();&#xA;        var request = $.ajax({&#xA;            url:'passEg.php',&#xA;            method: frm.prop('method'),&#xA;            data: data,&#xA;            dataType:'html'&#xA;        });&#xA;        request.done(function(data){&#xA;            alert(data);&#xA;            if(data == true) {&#xA;                alert(&quot;Pasahitza hori ezin duzu sartu.&quot;);&#xA;             } else {&#xA;               alert(&quot;Pasahitza hori sar dezakezu.&quot;);&#xA;            }&#xA;        });&#xA;        request.fail(function(data){&#xA;            alert(&quot;Errorea&quot;);&#xA;        });&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Lo que pasa es que me da el siguiente error y no recoge bien el resultado:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Array to string conversion in &lt;b&gt;C:\xaaamp\htdocs\lab7\PHP\passEg.php&lt;/b&gt; on line &lt;b&gt;12&lt;/b&gt;&lt;br /&gt;&#xA;  Array&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;En varios ejemplos que he visto no tienen la necesidad de convertir a string el valor y no sé la razón de ese error.&lt;br&gt;Saludos.&lt;/p&gt;&#xA;"" OwnerUserId=""49930"" LastEditorDisplayName=""user22539"" LastEditDate=""2017-12-03T19:33:57.793"" LastActivityDate=""2017-12-14T04:53:24.400"" Title=""¿Como devolver a AJAX el valor una función SOAP?"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;soap&gt;"" AnswerCount=""1"" CommentCount=""0"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""126294"" PostTypeId=""1"" AcceptedAnswerId=""126301"" CreationDate=""2017-12-21T04:13:12.270"" Score=""1"" ViewCount=""942"" Body=""&lt;p&gt;La estructura de mi proyecto es la siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/2FQks.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/2FQks.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y tengo el siguiente código:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Login_inicio.html&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html lang=&quot;&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;    &amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;    &amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&amp;gt;&#xA;    &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap-grid.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap-reboot.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/fa-brands.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/fa-regular.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/fa-solid.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/fontawesome.css&quot;&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&amp;gt;&#xA;    &amp;lt;title&amp;gt;Iniciar Sesión&amp;lt;/title&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;    &amp;lt;header id=&quot;header-login&quot; class=&quot;card-header justify-content-center&quot;&amp;gt;&#xA;        &amp;lt;h1 class=&quot;text-center&quot;&amp;gt;Login Form&amp;lt;/h1&amp;gt;&#xA;        &amp;lt;h3 class=&quot;text-center&quot;&amp;gt;&amp;lt;small&amp;gt;Bootstrap e ImageICon&amp;lt;/small&amp;gt;&amp;lt;/h3&amp;gt;&#xA;    &amp;lt;/header&amp;gt;&#xA;    &amp;lt;section id=&quot;login-inicio&quot; class=&quot; container text-center&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;row-form-inicio row justify-content-center&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;form-login-inicio col-6&quot;&amp;gt;   &#xA;                &amp;lt;div class=&quot;row bg-white titulo-login justify-content-center&quot;&amp;gt;&#xA;                    &amp;lt;h2 id=&quot;Titulo-login&quot;&amp;gt;Iniciar Sesión&amp;lt;/h2&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;form&amp;gt;&#xA;                    &amp;lt;div class=&quot;input-group input-div-login-user&quot;&amp;gt;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&#xA;                            &amp;lt;i class=&quot;fas fa-user&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;/span&amp;gt;&#xA;                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;correo-usuario&quot; id=&quot;correo-usuario&quot; placeholder=&quot;Correo&quot;&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;div class=&quot;input-group input-div-login-password&quot;&amp;gt;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&#xA;                            &amp;lt;i class=&quot;fas fa-lock&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                        &amp;lt;/span&amp;gt;&#xA;                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;password-login&quot; id=&quot;password-login&quot; placeholder=&quot;Contraseña&quot;&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;div class=&quot;row justify-content-center btn-div-login&quot;&amp;gt;&#xA;                        &amp;lt;button class=&quot;btn btn-outline-primary&quot; name=&quot;btn-login&quot; id=&quot;btn-login&quot; onclick=&quot;login()&quot;&amp;gt;Iniciar Sesión&amp;lt;/button&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/form&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;              &#xA;        &amp;lt;/div&amp;gt;          &#xA;    &amp;lt;/section&amp;gt;  &#xA;    &amp;lt;footer id=&quot;footer-login&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;row row-footer justify-content-center align-items-center&quot;&amp;gt;&#xA;            &amp;lt;h3&amp;gt;Administración &amp;lt;small&amp;gt;2016-2018&amp;lt;/small&amp;gt;&amp;lt;/h3&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/footer&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-3.2.1.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/ajax/ajaxlogin.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajaxlogin.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function login(){&#xA;if ($('#correo-usuario').val()===&quot;&quot;|| $('#password-login').val()===&quot;&quot;) {&#xA;    alert(&quot;Hay campos vacios&quot;);&#xA;&#xA;}else{&#xA;&#xA;    var correo= $('#correo-usuario').val();&#xA;    var password =$('#password-login').val();&#xA;    alert(correo+&quot; &quot;+password)  &#xA;&#xA;        ajaxLogin(correo,password)  ;&#xA;    }&#xA;}&#xA;&#xA;function ajaxLogin(correo,password){&#xA;$.ajax({&#xA;url: 'php/consultas.php',&#xA;type: 'POST',&#xA;/*En el data se define los datos que se mandaran y como, en este ejemplo se envian los datos como tipo JSON*/&#xA;data: {Correo: correo, Password: password},&#xA;/*El beforSend se ejecuta hasta que se reciba una respuesta del servidor, mientras tanto mostrara el mensaje &quot;Cargando...&quot;*/&#xA;beforeSend: function(){&#xA;    //Hay que modificar esto&#xA;    document.getElementById('Titulo-login').innerHTML='Cargando...';    &#xA;}&#xA;})&#xA;/*Si la consulta se realizo con exito*/&#xA;.done(function(data) {&#xA;console.log(&quot;success&quot;);&#xA;&#xA;&#xA;&#xA;})&#xA;/*Si la consulta Fallo*/&#xA;.fail(function() {&#xA;alert(&quot;Fallo&quot;);&#xA;})&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;consultas.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;sleep(3);&#xA;session_start();&#xA;include(&quot;bd/conexionbd.php&quot;);&#xA;$correo=$_POST['Correo'];&#xA;$contrasena=$_POST['Password'];&#xA;&#xA;$cmd= $conn-&amp;gt;prepare('SELECT CONCAT(empleados.nombre_empleado,&quot; &quot;,empleados.apellido_paterno,&quot; &quot;, empleados.apellido_materno) as NombreEmpleado, tipo_usuario.rol FROM tipo_usuario inner join usuarios on tipo_usuario.id_tipousuario=usuarios.id_tipo_usuario inner join empleados on usuarios.id_empleado=empleados.id_empleado inner join estado on empleados.id_estado=estado.id_estado where estado.estado=1 and correo=? and contraseña=?');&#xA;$cmd-&amp;gt;bind_param('ss',$correo_usuario, $usuario_cont);&#xA;$correo_usuario=$correo;&#xA;$usuario_cont=$contrasena;&#xA;$cmd-&amp;gt;execute();&#xA;&#xA;/*Vinculamos las variables al resultado*/&#xA;$cmd-&amp;gt;bind_result($user,$rol);&#xA;/*Almacenar el resultado*/&#xA;$cmd-&amp;gt;store_result();&#xA;/*Se comprueba si hay resultados*/&#xA;if ($cmd-&amp;gt;num_rows&amp;gt;0) {&#xA;/*Se obtienen los resultados guardados*/&#xA;$cmd-&amp;gt;fetch();&#xA;//Seteamos el header de &quot;content-type&quot; como &quot;JSON&quot; para que jQuery lo reconozca como tal&#xA;  header('Content-Type: application/json');&#xA;  /*Se llena el aray con los resultados*/&#xA;  $datos = array('Usuario' =&amp;gt; $user, 'Rol' =&amp;gt; $rol);&#xA;  /*Se crea el objeto JSON y se agregan los datos del Array*/&#xA;  echo json_encode($datos,JSON_FORCE_OBJECT);&#xA;  /*Se crea la session*/&#xA;  $_SESSION['usuario']=$user;&#xA;}else{&#xA;echo 'no hay resultados';&#xA;}&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El problema es que el &lt;code&gt;ajax&lt;/code&gt; no ejecuta el código php y siempre me muestra la leyenda &lt;strong&gt;&lt;em&gt;fallo&lt;/em&gt;&lt;/strong&gt; y después de revisarlo varias veces no encuentro el error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Debuggeando me muestra el  siguiente mensaje:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/T1zRr.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/T1zRr.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta misma estructura la había utilizado en otros proyectos y no había tenido problemas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Dentro de la función ajax puse un alert que sirviera de bandera y me muestra que los datos &lt;strong&gt;correo&lt;/strong&gt; y &lt;strong&gt;password&lt;/strong&gt; de la funcion &lt;code&gt;ajaxLogin&lt;/code&gt; si se asignaron, el problema esta entre el data del ajax y el php consultas&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastEditorUserId=""19533"" LastEditDate=""2017-12-21T05:00:36.080"" LastActivityDate=""2017-12-21T05:32:42.017"" Title=""Ajax no se ejecuta correctamente"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""127249"" PostTypeId=""1"" AcceptedAnswerId=""128189"" CreationDate=""2017-12-27T03:40:16.563"" Score=""7"" ViewCount=""3472"" Body=""&lt;p&gt;Tengo realizado un pequeño script de un popup modal box jQuery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero observó que en la nueva versión jQuery existen nuevos cambios, código que ya está obsoleto, cómo puedo actualizar &lt;code&gt;jQuery 2.1&lt;/code&gt; a la versión &lt;code&gt;jQuery 3.2.1&lt;/code&gt; utilizando los nuevos métodos de respuesta ajax &lt;code&gt;done&lt;/code&gt; y &lt;code&gt;fail&lt;/code&gt; en vez del antiguo uso &lt;code&gt;success&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora en mi código tengo problemas en editar los datos del usuario, cuando edito los datos del usuario en vez de actualizar los datos del usuario editado lo que hace es agregar un nuevo usuario en vez de actualizarlo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/3xcDB.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/3xcDB.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;h1&gt;Código ajax Popup Modal Box&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code snippet-currently-hidden&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(function() {&#xD;&#xA;  //----- OPEN&#xD;&#xA;  $('[data-modal-open]').on('click', function(e)  {&#xD;&#xA;    $('#insert_form')[0].reset();&#xD;&#xA;    var targeted_modal_class = jQuery(this).attr('data-modal-open');&#xD;&#xA;&#xD;&#xA;    $('[data-modal=&quot;' + targeted_modal_class + '&quot;]').fadeIn(350);&#xD;&#xA;    e.preventDefault();&#xD;&#xA;  });&#xD;&#xA;&#xD;&#xA;  //----- CLOSE&#xD;&#xA;  $('[data-modal-close]').on('click', function(e)  {&#xD;&#xA;    var targeted_modal_class = jQuery(this).attr('data-modal-close');&#xD;&#xA;    $('[data-modal=&quot;' + targeted_modal_class + '&quot;]').fadeOut(350);&#xD;&#xA;&#xD;&#xA;    e.preventDefault();&#xD;&#xA;  });&#xD;&#xA;});&#xD;&#xA;  $(document).ready(function(){  &#xD;&#xA;      $('#add').click(function(){  &#xD;&#xA;&#xD;&#xA;                     $('#employee_id').val(&quot;&quot;);&#xD;&#xA;           $('#insert_form')[0].reset();  &#xD;&#xA;      });  &#xD;&#xA;      $(document).on('click', '.edit_data', function(){ &#xD;&#xA;&#xD;&#xA;           var employee_id = $(this).attr(&quot;id&quot;);  &#xD;&#xA;           $.ajax({  &#xD;&#xA;                url:&quot;fetch.php&quot;,  &#xD;&#xA;                method:&quot;POST&quot;,  &#xD;&#xA;                data:{employee_id:employee_id},  &#xD;&#xA;                dataType:&quot;json&quot;,  &#xD;&#xA;                success:function(data){  &#xD;&#xA;                     $('#name').val(data.name);  &#xD;&#xA;                     $('#address').val(data.address);  &#xD;&#xA;                     $('#gender').val(data.gender);  &#xD;&#xA;                     $('#designation').val(data.designation);  &#xD;&#xA;                     $('#age').val(data.age);  &#xD;&#xA;                     $('#employee_id').val(data.id);  &#xD;&#xA;                     $('#insert').val(&quot;Update&quot;);  &#xD;&#xA;                     $('[data-modal=&quot;add_data_modal&quot;]').fadeIn(350);&#xD;&#xA;&#xD;&#xA;      &#xD;&#xA;                }  &#xD;&#xA;           });  &#xD;&#xA;      });  &#xD;&#xA;      $('#insert_form').on(&quot;submit&quot;, function(event){  &#xD;&#xA;           event.preventDefault();  &#xD;&#xA;&#xD;&#xA;            $('[data-modal=&quot;add_data_modal&quot;]').fadeOut(350);&#xD;&#xA;      &#xD;&#xA;           if($('#name').val() == &quot;&quot;)  &#xD;&#xA;           {  &#xD;&#xA;                alert(&quot;Name is required&quot;);  &#xD;&#xA;           }  &#xD;&#xA;           else if($('#address').val() == '')  &#xD;&#xA;           {  &#xD;&#xA;                alert(&quot;Address is required&quot;);  &#xD;&#xA;           }  &#xD;&#xA;           else if($('#designation').val() == '')  &#xD;&#xA;           {  &#xD;&#xA;                alert(&quot;Designation is required&quot;);  &#xD;&#xA;           }  &#xD;&#xA;           else if($('#age').val() == '')  &#xD;&#xA;           {  &#xD;&#xA;                alert(&quot;Age is required&quot;);  &#xD;&#xA;           }  &#xD;&#xA;           else  &#xD;&#xA;           {  &#xD;&#xA;                $.ajax({  &#xD;&#xA;                     url:&quot;insert.php&quot;,  &#xD;&#xA;                     method:&quot;POST&quot;,  &#xD;&#xA;                     data:$('#insert_form').serialize(),  &#xD;&#xA;                     beforeSend:function(){  &#xD;&#xA;                          $('#insert').val(&quot;Inserting&quot;);  &#xD;&#xA;                     },  &#xD;&#xA;                     success:function(data){  &#xD;&#xA;                         &#xD;&#xA;                          $('#insert_form')[0].reset();  &#xD;&#xA;                              $('[data-modal=&quot;add_data_modal&quot;]').fadeOut(350);&#xD;&#xA;&#xD;&#xA;                          $('#employee_table').html(data);  &#xD;&#xA;                     }  &#xD;&#xA;                });  &#xD;&#xA;           }  &#xD;&#xA;      });  &#xD;&#xA;      $(document).on('click', '.view_data', function(){  &#xD;&#xA;           var employee_id = $(this).attr(&quot;id&quot;);  &#xD;&#xA;           if(employee_id != '')  &#xD;&#xA;           {  &#xD;&#xA;                $.ajax({  &#xD;&#xA;                     url:&quot;select.php&quot;,  &#xD;&#xA;                     method:&quot;POST&quot;,  &#xD;&#xA;                     data:{employee_id:employee_id},  &#xD;&#xA;                     success:function(data){&#xD;&#xA;                            $('[data-modal=&quot;empdetail&quot;]').fadeIn(350);&#xD;&#xA;                            $('#employee_detail').html(data);  &#xD;&#xA;      &#xD;&#xA;                     }  &#xD;&#xA;                });  &#xD;&#xA;           }            &#xD;&#xA;      });  &#xD;&#xA; });&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;.content {&#xD;&#xA;	max-width:800px;&#xD;&#xA;	width:100%;&#xD;&#xA;	margin:0px auto;&#xD;&#xA;	margin-bottom:60px;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;/* Outer */&#xD;&#xA;.modal {&#xD;&#xA;	width:100%;&#xD;&#xA;	height:100%;&#xD;&#xA;	display:none;&#xD;&#xA;	position:fixed;&#xD;&#xA;	top:0px;&#xD;&#xA;	left:0px;&#xD;&#xA;	right: 0;&#xD;&#xA;	bottom: 0;&#xD;&#xA;	background: rgba(0,0,0,0.2);&#xD;&#xA;  z-index: 99999;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;/* Inner */&#xD;&#xA;.modal-inner {&#xD;&#xA;	width: 500px;&#xD;&#xA;	position: relative;&#xD;&#xA;	margin: 10% auto;&#xD;&#xA;	-webkit-border-radius: 5px;&#xD;&#xA;	-moz-border-radius: 5px;&#xD;&#xA;	border-radius: 5px;&#xD;&#xA;	background: #fff;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;/* Close Button */&#xD;&#xA;.modal-close {&#xD;&#xA;	width:30px;&#xD;&#xA;	height:30px;&#xD;&#xA;	padding-top:4px;&#xD;&#xA;	display:inline-block;&#xD;&#xA;	position:absolute;&#xD;&#xA;	top:0px;&#xD;&#xA;	right:0px;&#xD;&#xA;	transition:ease 0.25s all;&#xD;&#xA;	-webkit-transform:translate(50%, -50%);&#xD;&#xA;	transform:translate(50%, -50%);&#xD;&#xA;	border-radius:1000px;&#xD;&#xA;	background:rgba(0,0,0,0.8);&#xD;&#xA;	font-family:Arial, Sans-Serif;&#xD;&#xA;	font-size:20px;&#xD;&#xA;	text-align:center;&#xD;&#xA;	line-height:100%;&#xD;&#xA;	color:#fff;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;.modal-close:hover {&#xD;&#xA;	-webkit-transform:translate(50%, -50%) rotate(180deg);&#xD;&#xA;	transform:translate(50%, -50%) rotate(180deg);&#xD;&#xA;	background:rgba(0,0,0,1);&#xD;&#xA;	text-decoration:none;&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;container&quot; style=&quot;width:700px;&quot;&amp;gt;  &#xD;&#xA;                &amp;lt;h3 align=&quot;center&quot;&amp;gt;PHP Ajax Update MySQL Data Through Bootstrap Modal&amp;lt;/h3&amp;gt;  &#xD;&#xA;                &amp;lt;br /&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;table-responsive&quot;&amp;gt;  &#xD;&#xA;                     &amp;lt;div align=&quot;right&quot;&amp;gt;  &#xD;&#xA;                          &amp;lt;button type=&quot;button&quot; name=&quot;add&quot; id=&quot;add&quot; data-toggle=&quot;modal&quot; data-modal-open=&quot;add_data_modal&quot; class=&quot;btn btn-warning&quot;&amp;gt;Add&amp;lt;/button&amp;gt;  &#xD;&#xA;                     &amp;lt;/div&amp;gt;  &#xD;&#xA;                     &amp;lt;br /&amp;gt;  &#xD;&#xA;                     &amp;lt;div id=&quot;employee_table&quot;&amp;gt;  &#xD;&#xA;                          &amp;lt;table class=&quot;table table-bordered&quot;&amp;gt;  &#xD;&#xA;                               &amp;lt;tr&amp;gt;  &#xD;&#xA;                                    &amp;lt;th width=&quot;70%&quot;&amp;gt;Employee Name&amp;lt;/th&amp;gt;  &#xD;&#xA;                                    &amp;lt;th width=&quot;15%&quot;&amp;gt;Edit&amp;lt;/th&amp;gt;  &#xD;&#xA;                                    &amp;lt;th width=&quot;15%&quot;&amp;gt;View&amp;lt;/th&amp;gt;  &#xD;&#xA;                               &amp;lt;/tr&amp;gt;  &#xD;&#xA;                                &amp;lt;?php  &#xD;&#xA;                               while ($stmt-&amp;gt;fetch()) {&#xD;&#xA;                               ?&amp;gt;  &#xD;&#xA;                               &amp;lt;tr&amp;gt;  &#xD;&#xA;                                    &amp;lt;td&amp;gt;&amp;lt;?php echo $name; ?&amp;gt;&amp;lt;/td&amp;gt;  &#xD;&#xA;                                    &amp;lt;td&amp;gt;&amp;lt;input type=&quot;button&quot; name=&quot;edit&quot; value=&quot;Edit&quot; id=&quot;&amp;lt;?php echo $id; ?&amp;gt;&quot; class=&quot;btn btn-info btn-xs edit_data&quot; /&amp;gt;&amp;lt;/td&amp;gt;  &#xD;&#xA;                                    &amp;lt;td&amp;gt;&amp;lt;input type=&quot;button&quot; name=&quot;view&quot; value=&quot;view&quot; id=&quot;&amp;lt;?php echo $id; ?&amp;gt;&quot; class=&quot;btn btn-info btn-xs view_data&quot; /&amp;gt;&amp;lt;/td&amp;gt;  &#xD;&#xA;                               &amp;lt;/tr&amp;gt;  &#xD;&#xA;                               &amp;lt;?php  &#xD;&#xA;                               }  &#xD;&#xA;                               ?&amp;gt;    &#xD;&#xA;                          &amp;lt;/table&amp;gt;  &#xD;&#xA;                     &amp;lt;/div&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;           &amp;lt;/div&amp;gt;  &#xD;&#xA;      &amp;lt;/body&amp;gt;  &#xD;&#xA; &amp;lt;/html&amp;gt;  &#xD;&#xA;  &#xD;&#xA;&amp;lt;div id=&quot;dataModal&quot; class=&quot;modal&quot; data-modal=&quot;empdetail&quot;&amp;gt;  &#xD;&#xA;      &amp;lt;div class=&quot;modal-inner&quot;&amp;gt;  &#xD;&#xA;           &amp;lt;div class=&quot;modal-content&quot;&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-header&quot;&amp;gt;  &#xD;&#xA;                      &amp;lt;a class=&quot;modal-close&quot; data-modal-close=&quot;empdetail&quot; href=&quot;#&quot;&amp;gt;x&amp;lt;/a&amp;gt;&#xD;&#xA;                     &amp;lt;h4 class=&quot;modal-title&quot;&amp;gt;Employee Details&amp;lt;/h4&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-body&quot; id=&quot;employee_detail&quot;&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;  &#xD;&#xA;                     &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-modal-close=&quot;empdetail&quot;&amp;gt;Close&amp;lt;/button&amp;gt; &#xD;&#xA;&#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;           &amp;lt;/div&amp;gt;  &#xD;&#xA;      &amp;lt;/div&amp;gt;  &#xD;&#xA; &amp;lt;/div&amp;gt;  &#xD;&#xA; &amp;lt;div id=&quot;add_data_Modal&quot; class=&quot;modal&quot;  data-modal=&quot;add_data_modal&quot;&amp;gt;  &#xD;&#xA;      &amp;lt;div class=&quot;modal-inner&quot;&amp;gt;  &#xD;&#xA;           &amp;lt;div class=&quot;modal-content&quot;&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-header&quot;&amp;gt;  &#xD;&#xA;                      &amp;lt;a class=&quot;modal-close&quot; data-modal-close=&quot;add_data_modal&quot; href=&quot;#&quot;&amp;gt;x&amp;lt;/a&amp;gt;&#xD;&#xA;&#xD;&#xA;                     &amp;lt;h4 class=&quot;modal-title&quot;&amp;gt;PHP Ajax Update MySQL Data Through Bootstrap Modal&amp;lt;/h4&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-body&quot;&amp;gt;  &#xD;&#xA;                     &amp;lt;form method=&quot;post&quot; id=&quot;insert_form&quot;&amp;gt;  &#xD;&#xA;                          &amp;lt;label&amp;gt;Enter Employee Name&amp;lt;/label&amp;gt;  &#xD;&#xA;                          &amp;lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; class=&quot;form-control&quot; /&amp;gt;  &#xD;&#xA;                          &amp;lt;br /&amp;gt;  &#xD;&#xA;                          &amp;lt;label&amp;gt;Enter Employee Address&amp;lt;/label&amp;gt;  &#xD;&#xA;                          &amp;lt;textarea name=&quot;address&quot; id=&quot;address&quot; class=&quot;form-control&quot;&amp;gt;&amp;lt;/textarea&amp;gt;  &#xD;&#xA;                          &amp;lt;br /&amp;gt;  &#xD;&#xA;                          &amp;lt;label&amp;gt;Select Gender&amp;lt;/label&amp;gt;  &#xD;&#xA;                          &amp;lt;select name=&quot;gender&quot; id=&quot;gender&quot; class=&quot;form-control&quot;&amp;gt;  &#xD;&#xA;                               &amp;lt;option value=&quot;Male&quot;&amp;gt;Male&amp;lt;/option&amp;gt;  &#xD;&#xA;                               &amp;lt;option value=&quot;Female&quot;&amp;gt;Female&amp;lt;/option&amp;gt;  &#xD;&#xA;                          &amp;lt;/select&amp;gt;  &#xD;&#xA;                          &amp;lt;br /&amp;gt;  &#xD;&#xA;                          &amp;lt;label&amp;gt;Enter Designation&amp;lt;/label&amp;gt;  &#xD;&#xA;                          &amp;lt;input type=&quot;text&quot; name=&quot;designation&quot; id=&quot;designation&quot; class=&quot;form-control&quot; /&amp;gt;  &#xD;&#xA;                          &amp;lt;br /&amp;gt;  &#xD;&#xA;                          &amp;lt;label&amp;gt;Enter Age&amp;lt;/label&amp;gt;  &#xD;&#xA;                          &amp;lt;input type=&quot;text&quot; name=&quot;age&quot; id=&quot;age&quot; class=&quot;form-control&quot; /&amp;gt;  &#xD;&#xA;                          &amp;lt;br /&amp;gt;  &#xD;&#xA;                          &amp;lt;input type=&quot;hidden&quot; name=&quot;employee_id&quot; id=&quot;employee_id&quot; /&amp;gt;  &#xD;&#xA;                          &amp;lt;input type=&quot;submit&quot; name=&quot;insert&quot; id=&quot;insert&quot; value=&quot;Insert&quot; class=&quot;btn btn-success&quot; /&amp;gt;  &#xD;&#xA;                     &amp;lt;/form&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;                &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;  &#xD;&#xA;                     &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-modal-close=&quot;add_data_modal&quot; href=&quot;#&quot;&amp;gt;Close&amp;lt;/button&amp;gt;  &#xD;&#xA;                &amp;lt;/div&amp;gt;  &#xD;&#xA;           &amp;lt;/div&amp;gt;  &#xD;&#xA;      &amp;lt;/div&amp;gt;  &#xD;&#xA; &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""68448"" LastEditorUserId=""68448"" LastEditDate=""2018-01-01T20:47:16.350"" LastActivityDate=""2018-01-04T15:45:59.257"" Title=""¿Cómo actualizar código jQuery a la nueva versión y solucionar error en editar usuario - ajax?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;&lt;css3&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""127701"" PostTypeId=""1"" AcceptedAnswerId=""127795"" CreationDate=""2017-12-29T03:38:37.347"" Score=""1"" ViewCount=""3094"" Body=""&lt;p&gt;Intento llenar una &lt;strong&gt;tabla&lt;/strong&gt; en &lt;code&gt;html&lt;/code&gt; desde una consulta &lt;code&gt;ajax&lt;/code&gt; y &lt;code&gt;php&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Problema:&lt;/strong&gt; Quiero obtener las dependencias de una tabla de &lt;code&gt;MySQL&lt;/code&gt; (Solo tengo una agregada). Pero en php ingreso un array para que me lo devuelva en el ajax.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;clases.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;if ($num_rows&amp;gt;=1) {&#xA;            //Se obtienen los resultados de la consulta&#xA;            while ($this-&amp;gt;consulta-&amp;gt;fetch()) {&#xA;                if($id_Estado == 1){&#xA;                    //Se guardan los datos en un arreglo&#xA;                $datos_json = array(&quot;Id_Dependencia&quot;=&amp;gt;$id_dependencia ,&quot;Nombre_Dependencia&quot;=&amp;gt;$nombre_dependencia, &quot;Id_Estado&quot;=&amp;gt; $id_Estado, &quot;Estado&quot;=&amp;gt;&quot;Activo&quot;);&#xA;                }else{&#xA;                    $datos_json = array(&quot;Id_Dependencia&quot;=&amp;gt;$id_dependencia,&quot;Nombre_Dependencia&quot;=&amp;gt;$nombre_dependencia, &quot;Id_Estado&quot;=&amp;gt; $id_Estado, &quot;Estado&quot;=&amp;gt;&quot;Inactivo&quot;);&#xA;                }&#xA;            }&#xA;            header('Content-type: application/json; charset=utf-8');&#xA;            //Se devuelve el array pasado a JSON como objeto&#xA;            echo json_encode($datos_json, JSON_FORCE_OBJECT);               &#xA;        }&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al momento de recibir los datos en el &lt;code&gt;ajax&lt;/code&gt; se hace correctamente, pero cuando quiero llenar algún campo de mi tabla tengo el siguiente problema:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Como nota adicional estoy utilizando la funcion &lt;code&gt;.each&lt;/code&gt; de &lt;code&gt;JQuery&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajax.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function todasLasDependencias(){&#xA;$.ajax({&#xA;    url: '../../php/instancias.php',&#xA;    type: 'POST',&#xA;    data: {Funcion: 'Dependencias-todas'},&#xA;})&#xA;.done(function(data) {&#xA;&#xA;    var tbHtml='';&#xA;&#xA;    //Esta funcion recorre el array JSON devuelto por la consulta&#xA;    $.each(data.Nombre_Dependencia, function(index, val) {&#xA;        //Se asigna en una variable lo que sera nuestra tabla&#xA;        tbHtml +=&quot;&amp;lt;tr&amp;gt;&amp;lt;th scope='row'&amp;gt;&quot;+data.Nombre_Dependencia[index]+&quot;&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;    });&#xA;&#xA;    $('#bodyTable-ND').append(tbHtml);&#xA;})&#xA;.fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;});&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El &lt;strong&gt;resultado&lt;/strong&gt; es el siguiente:&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Uaxyy.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Uaxyy.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Problema Caso #2:&lt;/strong&gt; Si hago unas modificaciones en el &lt;code&gt;script&lt;/code&gt; donde tengo el ajax :&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Código modificado ajax.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function todasLasDependencias(){&#xA;$.ajax({&#xA;    url: '../../php/instancias.php',&#xA;    type: 'POST',&#xA;    data: {Funcion: 'Dependencias-todas'},&#xA;})&#xA;.done(function(data) {&#xA;&#xA;    var tbHtml='';&#xA;&#xA;    //Esta funcion recorre el array JSON devuelto por la consulta&#xA;    $.each(data, function(index, val) {&#xA;        //Se asigna en una variable lo que sera nuestra tabla&#xA;        tbHtml +=&quot;&amp;lt;tr&amp;gt;&amp;lt;th scope='row'&amp;gt;&quot;+data.Nombre_Dependencia[index]+&quot;&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;    });&#xA;&#xA;    $('#bodyTable-ND').append(tbHtml);&#xA;})&#xA;.fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;});&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Modifiqué los parametros de la funcion &lt;strong&gt;&lt;code&gt;.each()&lt;/code&gt;&lt;/strong&gt; agregando solamente &lt;code&gt;data&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Yo solo quiero obtener los datos sin que se cuatripliquen.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El &lt;strong&gt;resultado es el siguiente&lt;/strong&gt;: &#xA;&lt;a href=&quot;https://i.stack.imgur.com/0zdqg.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/0zdqg.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La estructura del &lt;code&gt;objeto json&lt;/code&gt; es la siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Cv6H9.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Cv6H9.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastEditorUserId=""19533"" LastEditDate=""2017-12-29T16:12:27.823"" LastActivityDate=""2020-01-03T20:05:04.407"" Title=""Pasar datos mediante ajax y php a una tabla HTML"" Tags=""&lt;php&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""129093"" PostTypeId=""1"" CreationDate=""2018-01-05T15:42:38.010"" Score=""0"" ViewCount=""185"" Body=""&lt;p&gt;Estimados tengo un un ajax que me trae datos desde la base de datos con php a una tabla el codigo es el siguiente&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#selplan').change(function(){&#xA;    var idplan = $('#selplan').val();&#xA;&#xA;    var consulta = $.ajax({&#xA;        type: 'Post',&#xA;        url: '../Model/buscarplan.php',&#xA;        data: {plan: idplan},&#xA;        dataType: 'JSON'&#xA;    });&#xA;&#xA;&#xA;    consulta.done(function (data) {&#xA;        if ( data &amp;amp;&amp;amp;  data.error !== undefined) {&#xA;            $('#estado').html('Ha ocurrido un error: ' + data.error);&#xA;            return false;&#xA;        } else {&#xA;            if (data.Minutos !== undefined) {&#xA;                $('#datosplan #txtMinutos').val(data.Minutos);&#xA;            }&#xA;            if (data.Datos !== undefined) {&#xA;                $('#datosplan #txtDatos').val(data.Datos);&#xA;            }&#xA;&#xA;            return true;&#xA;        }&#xA;    });&#xA;    consulta.fail(function () {&#xA;        $('#estado').html('Ha habido un error contactando el servidor.');&#xA;        return false;&#xA;    });&#xA;&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;mi php:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php namespace Model;&#xA;&#xA;$conexion = new \mysqli(&quot;localhost&quot;, &quot;&quot;, md5(''), &quot;&quot;);&#xA;&#xA;if ($conexion-&amp;gt;connect_error) {&#xA;    echo &quot;Fallo al conectar:&quot;.$conexion-&amp;gt;connect_error() or die();&#xA;}&#xA;&#xA;if (! empty($_POST['plan'])) {&#xA;&#xA;    $idplan = $_POST['plan'];&#xA;    $query = &quot;SELECT IdPlan,Nombre,Minutos,Datos FROM plan WHERE IdPlan = $idplan&quot;;&#xA;    $result = $conexion-&amp;gt;query($query);&#xA;    die(json_encode($result-&amp;gt;fetch_array()));&#xA;}&#xA;&#xA;$conexion-&amp;gt;close();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;antes tenia dos registro en esa tabla  y me los busca bien y me carga los datos pero le agrege un tercer registro y ese en especial no me trae los datos me devuelve null, alguna sugerencia? aca pego el error&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Validate.js:96 Uncaught TypeError: Cannot read property 'Minutos' of&#xA;  null&#xA;      at Object. (Validate.js:96)&#xA;      at i (jquery.min.js:2)&#xA;      at Object.fireWith [as resolveWith] (jquery.min.js:2)&#xA;      at A (jquery.min.js:4)&#xA;      at XMLHttpRequest. (jquery.min.js:4)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;"" OwnerUserId=""19728"" LastActivityDate=""2018-01-05T15:42:38.010"" Title=""Problemas con json al buscar datos con php y ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""0"" CommentCount=""7"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""130539"" PostTypeId=""1"" AcceptedAnswerId=""130619"" CreationDate=""2018-01-12T01:39:42.973"" Score=""1"" ViewCount=""1754"" Body=""&lt;p&gt;Realmente no se si este bien añadir un &lt;code&gt;form&lt;/code&gt; dentro de otro &lt;code&gt;form&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;  &amp;lt;form id=&quot;form&quot; name=&quot;form&quot; action=&quot;#&quot;&amp;gt;&#xA;    &amp;lt;div&amp;gt;&#xA;     &amp;lt;!-- Datos que se enviaran por medio del form principal --&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;div&amp;gt;&#xA;     &amp;lt;!-- Resultado de ajax que se enviaran por medio del form principal --&amp;gt;&#xA;     &amp;lt;form id=&quot;tck&quot; method=&quot;POST&quot;&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;ticket&quot; maxlength=&quot;10&quot;&amp;gt;&#xA;       &amp;lt;button type=&quot;submit&quot;&amp;gt;ticket&amp;lt;/button&amp;gt;&#xA;     &amp;lt;/form&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/form&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero es necesario realizarlo de esa manera, porque es parte del diseño, al añadirlo fuera del &lt;code&gt;form&lt;/code&gt; principal, el &lt;code&gt;input&lt;/code&gt; de buscar el ticket quedaría fuera del diseño del &lt;code&gt;div&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Existe alguna forma de evitar que el segundo &lt;code&gt;form&lt;/code&gt; ejecute ambos &lt;code&gt;form&lt;/code&gt; o es posible evitar el uso del form para enviar datos por ajax, es decir en vez de tomar toda la información del &lt;code&gt;&amp;lt;form id=&quot;tck&quot; method=&quot;post&quot;&amp;gt;&amp;lt;/form&amp;gt;&lt;/code&gt; tomar toda la información desde un &lt;code&gt;div&lt;/code&gt; ejemplo &lt;code&gt;&amp;lt;div id=&quot;remplazoporelformsegundario&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt; para así evitar que el segundo &lt;code&gt;form&lt;/code&gt; ejecute ambos &lt;code&gt;form&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Mi código ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    $(function() { //document.ready es obsoleto desde jQuery 3&#xA;&#xA;        $('.dismiss').click(function () {&#xA;            $('.response').fadeOut(500);&#xA;        });&#xA;&#xA;        $('#tck').on('submit', function(e) {&#xA;            e.preventDefault();     &#xA;&#xA;            var data = $(this).serialize();&#xA;&#xA;            var request = $.ajax({&#xA;                url: $(this).prop(&quot;action&quot;),&#xA;                method: $(this).prop('method'),&#xA;                data: data,&#xA;                dataType: &quot;html&quot;&#xA;            });&#xA;&#xA;            request.done(function(response) {&#xA;                console.log(response);&#xA;                    $('.response').html(response);&#xA;                    $(&quot;.response&quot;).fadeIn(200);&#xA;                    window.setTimeout(function () {&#xA;                        $('.response').fadeOut(500);&#xA;                    }, 6000);&#xA;&#xA;            });&#xA;&#xA;            request.fail(function(jqXHR, textStatus) {&#xA;                alert('Hubo un error: ' + textStatus);&#xA;            });         &#xA;&#xA;        });&#xA;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""67955"" LastActivityDate=""2018-01-12T15:00:11.780"" Title=""¿Cómo puedo evitar que se envíe el form principal al ejecutar el form que esta dentro del form principal?"" Tags=""&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""10"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""133225"" PostTypeId=""1"" AcceptedAnswerId=""142171"" CreationDate=""2018-01-23T22:18:31.187"" Score=""2"" ViewCount=""2719"" Body=""&lt;p&gt;Estoy enviando una petición por ajax a un controlador y me genera este error &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;ERROR: El token CSRF no es válido. Por favor, pruebe a enviar nuevamente el formulario.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Formulario&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{{ form_start(form, {'action': path_with_locale('general_alerts'), 'attr':{'id': 'form_alert1'} }) }}&#xA;                        {% if app.user %}&#xA;                            {{ form_widget(form.email, { 'attr': {'value': app.user.username, 'class': 'hide'} }) }}&#xA;                        {% else %}&#xA;                            &amp;lt;div class=&quot;form-group&quot; style=&quot;text-align:left;&quot;&amp;gt;&#xA;                                {{ form_errors(form.email, { 'alert_attr': {'class': 'alert alert-danger'} }) }}&#xA;                                {{ form_label(form.email, 'Email :', { 'label_attr': {'class': 'control-label'} }) }} &#xA;                                {{ form_widget(form.email, { 'attr': {'class': 'text-input', 'placeholder': &quot;Email&quot;} }) }}&#xA;                            &amp;lt;/div&amp;gt;&#xA;                        {% endif %}    &#xA;                        {{ form_widget(form.url, { 'attr': {'value': ajaxUrl, 'class': 'hide'} }) }}&#xA;                        &amp;lt;div style=&quot;text-align: right&quot;&amp;gt;&#xA;                            &amp;lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&amp;gt; Crear alerta&amp;lt;/button&amp;gt;            &#xA;                        &amp;lt;/div&amp;gt;&#xA;                    {{ form_rest(form) }}&#xA;                    {{ form_end(form) }}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery(&quot;#form_alert1&quot;).submit(function (e) {&#xA;            e.preventDefault();&#xA;            var $url = $(this).attr('action');&#xA;            var $data = $(this).serialize();&#xA;            $.ajax({&#xA;                type: &quot;POST&quot;,&#xA;                url: $url,&#xA;                data: $data&#xA;            }).done(function (result) {&#xA;                if (result.success) {&#xA;                    $('#result').html('&amp;lt;p&amp;gt;Tu alerta se ha guardado exitosamente. &amp;lt;/p&amp;gt;');&#xA;                } else if (result.fail) {                        &#xA;                    $('#result').html('&amp;lt;p&amp;gt;Ya tienes creada una alerta para esta búsqueda. &amp;lt;/p&amp;gt;');                        &#xA;                }&#xA;            });&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Controlador&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function alertAction(Request $request) {&#xA;    $alert = new Alerts();&#xA;    $form = $this-&amp;gt;createForm(new AlertsType(), $alert);&#xA;&#xA;&#xA;    if ($request-&amp;gt;getMethod() == 'POST') {&#xA;        $form-&amp;gt;handleRequest($request);&#xA;&#xA;        if ($form-&amp;gt;isValid()) {&#xA;            $em = $this-&amp;gt;getDoctrine()-&amp;gt;getManager();&#xA;            if ($request-&amp;gt;isXmlHttpRequest()) {&#xA;                    $alert-&amp;gt;setEntrydate(new \DateTime());&#xA;                    $alert-&amp;gt;setPrice(&quot;011000&quot;);&#xA;                    $alert-&amp;gt;setState(1);&#xA;                    $em-&amp;gt;persist($alert);&#xA;                    $em-&amp;gt;flush();&#xA;                    $response = new Response();&#xA;                    $output = array('success' =&amp;gt; true);&#xA;                    $response-&amp;gt;headers-&amp;gt;set('Content-Type', 'application/json');&#xA;                    $response-&amp;gt;setContent(json_encode($output));&#xA;                    return $response;&#xA;&#xA;            } &#xA;        } &#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""4612"" LastActivityDate=""2019-03-26T20:36:44.213"" Title=""Token CSRF Symfony"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;symfony2&gt;&lt;tokens&gt;"" AnswerCount=""3"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""135162"" PostTypeId=""1"" AcceptedAnswerId=""135170"" CreationDate=""2018-01-31T16:01:41.487"" Score=""1"" ViewCount=""61"" Body=""&lt;p&gt;tengo un metodo que hizo otro programador pero no logro entenderlo bien, me podrian ayudar a comprender el metodo porfavor &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function guardar() {&#xA;  if ($(&quot;input[name='horarioEntrada']&quot;).length &amp;gt; 0) {&#xA;    $(&quot;.loader&quot;).fadeIn(&quot;fast&quot;, function() {&#xA;      $(&quot;input[name='sim']&quot;).each(function(i, obj) {&#xA;        var tmp = $(this),&#xA;          tipoTmp = tmp.closest(&quot;td&quot;).next(&quot;td&quot;).find(&quot;input[name='tipo']&quot;).val();&#xA;        $.ajax({&#xA;          url: 'index.php?accion=guardar',&#xA;          data: {&#xA;            icc: tmp.val(),&#xA;            almacen: $(&quot;#almacen&quot;).val(),&#xA;            tipo: tipoTmp&#xA;          },&#xA;          type: 'post',&#xA;          success: function(data) {&#xA;            clase = &quot;success&quot;;&#xA;            if (data != &quot;OK&quot;) {&#xA;              clase = &quot;danger&quot;;&#xA;            } else {&#xA;              data = &quot;Guardado&quot;;&#xA;            }&#xA;            tmp.closest(&quot;td&quot;).next(&quot;td&quot;).next(&quot;td&quot;).attr(&quot;class&quot;, clase);&#xA;            tmp.closest(&quot;td&quot;).next(&quot;td&quot;).next(&quot;td&quot;).html(data);&#xA;          },&#xA;        }).done(function() {&#xA;          // $(elemento).remove();&#xA;        }).fail(function(jqXHR, textStatus, errorThrown) {&#xA;          if (jqXHR.status === 0) {&#xA;            $(&quot;#div_alert_modal&quot;).show();&#xA;            $(&quot;#p_alert_modal&quot;).html(&quot;No hay conexión a internet, verifique e intente nuevamente.&quot;);&#xA;          }&#xA;        });&#xA;      });&#xA;      $(&quot;.loader&quot;).fadeOut(&quot;fast&quot;);&#xA;    });&#xA;  } else {&#xA;    $(&quot;#div_alert_modal&quot;).show();&#xA;    $(&quot;#p_alert_modal&quot;).html(&quot;No hay datos para guardar.&quot;);&#xA;  }&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;"" OwnerUserId=""24431"" LastEditorUserId=""30933"" LastEditDate=""2018-01-31T16:33:09.667"" LastActivityDate=""2018-01-31T16:33:09.667"" Title=""entender un metodo con closets(),next y find()"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""135338"" PostTypeId=""1"" AcceptedAnswerId=""135348"" CreationDate=""2018-02-01T01:37:27.177"" Score=""1"" ViewCount=""110"" Body=""&lt;p&gt;Tengo el siguiente código:&#xA;&lt;strong&gt;Clases.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function nuevoTicket($folio, $fecha, $id_empleado, $id_dependencia, $id_unidad, $select_com, $select_prov, $litros_comb, $total_ticket) {&#xA;    sleep(1);&#xA;    try {&#xA;&#xA;        $this-&amp;gt;Conectar_BD();&#xA;        $this-&amp;gt;query = &quot;INSERT INTO control (fecha, id_empleado, id_dependencia, id_unidad, id_combustible, rfc_proveedor, folio_ticket, total, litros) VALUES (str_to_date(?, '%d-%m-%Y'),?,?,?,?,?,?,?,?)&quot;;&#xA;&#xA;        $this-&amp;gt;consulta = $this-&amp;gt;conexion_bd-&amp;gt;prepare($this-&amp;gt;query);&#xA;        $this-&amp;gt;consulta-&amp;gt;bind_param('ssiiisidd',$fecha,$id_empleado,$id_dependencia,$id_unidad,$select_com,$select_prov,$folio,$total_ticket,$litros_comb);&#xA;        if ($this-&amp;gt;consulta-&amp;gt;execute()) {&#xA;            //Si se hace correctamente imprimimos true&#xA;            $this-&amp;gt;obtenerGasto($id_dependencia,$total_ticket);&#xA;            echo &quot;true&quot;;&#xA;        } else {&#xA;            //Si no imprimimos false&#xA;            echo &quot;false&quot;;&#xA;        }&#xA;    } catch (Exception $e) {&#xA;        echo &quot;false&quot;;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Script.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function nuevoTicket(folio, fecha, id_empleado, id_dependencia, id_unidad, select_comb, select_prov, litros_comb, total_ticket) {&#xA;$.ajax({&#xA;    url: '../../php/instancias.php',&#xA;    type: 'POST',&#xA;    data: {Folio: folio, Fecha: fecha, Id_empleado: id_empleado,&#xA;        Id_dependencia: id_dependencia, Unidad: id_unidad,&#xA;        Combustible: select_comb, Proveedor: select_prov,&#xA;        Litros: litros_comb, Total: total_ticket,&#xA;        Funcion: 'Nuevo-Ticket'},&#xA;    beforeSend: function () {&#xA;        $(&quot;#nuevo-ticket&quot;).fadeOut('slow').show();&#xA;        $('#admin-gif').fadeIn('slow').show();&#xA;    }&#xA;})&#xA;        .done(function (data) {&#xA;            alert(data);&#xA;            if (data === &quot;true&quot;) {&#xA;                $(&quot;#nuevo-ticket&quot;).show();&#xA;                $('#admin-gif').hide();&#xA;                $('#admin-success-tk').fadeIn(200).show();&#xA;&#xA;                $('#folio-ticket').val(&quot;&quot;);&#xA;                $('#fecha-ticket').val(&quot;&quot;);&#xA;                $('#id-empleado').val(&quot;&quot;);&#xA;                $('#select-dependencia').val(&quot;&quot;);&#xA;                $('#id-unidad-ticket').val(&quot;&quot;);&#xA;                $('#select-comb').val(&quot;&quot;);&#xA;                $('#select-prov').val(&quot;&quot;);&#xA;                $('#litros-comb').val(&quot;&quot;);&#xA;                $('#total-ticket').val(&quot;&quot;);&#xA;&#xA;                $('#admin-error-tk').hide();&#xA;                $(&quot;#admin-gif&quot;).hide();&#xA;                $('#campos-vacios').hide();&#xA;&#xA;                todosTickets();&#xA;            } else {&#xA;                $(&quot;#nuevo-ticket&quot;).show();&#xA;                $('#admin-gif').hide();&#xA;                $('#admin-error-tk').fadeIn(200).show();&#xA;            }&#xA;        })&#xA;        .fail(function () {&#xA;            $(&quot;#nuevo-ticket&quot;).show();&#xA;            $('#admin-gif').hide();&#xA;            $('#admin-error-tk').fadeIn(200).show();&#xA;        });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El problema que estoy teniendo, es que los &lt;code&gt;echo&lt;/code&gt; de php a la hora de ser recibidos por mi &lt;code&gt;.done&lt;/code&gt; del &lt;code&gt;Ajax&lt;/code&gt; y me genera algunos conflictos visuales.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/EHDxF.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/EHDxF.jpg&quot; alt=&quot;Imagen 1&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;En la imagen muestro que si estoy obteniendo el valor &lt;strong&gt;true&lt;/strong&gt; de mi petición. &lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Pero en la comparación, no es interpretado de una forma correcta, provocando que me muestre lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/GAWMD.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/GAWMD.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El mensaje que debiera mostrar en cuanto a color y texto son diferentes, pero en la comparación no se interpreta como debiera ser.&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastActivityDate=""2018-02-01T02:24:45.980"" Title=""Problemas en la interpretación de los datos recibidos mediante Ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""136075"" PostTypeId=""1"" AcceptedAnswerId=""136077"" CreationDate=""2018-02-04T02:44:29.217"" Score=""0"" ViewCount=""1484"" Body=""&lt;p&gt;Tengo una variable &lt;code&gt;JavaScript&lt;/code&gt; de la siguiente forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var datos ={Tabla: 'Principal' , CampoConsulta:['Nombre','Apellido_Pa','Apellido_Ma'], DatosConsulta:['Juan Luis','Perez','Martinez'], TipoDato:['s','s','s'], Val:[1,2,3] };&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Estos datos los quiero pasar a &lt;code&gt;PHP&lt;/code&gt; para despues crear una consulta &lt;code&gt;MySQL&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function busquedaFiltros(){&#xA;var data = stringify(datos);&#xA;$.ajax({&#xA;    url: '../../php/instancias.php',&#xA;    type: 'POST',&#xA;    data: {Funcion: 'Filtros', Datos: data},&#xA;})&#xA;.done(function(data) {&#xA;    $(&quot;#tbl_TblFil&quot;).empty();&#xA;    $(&quot;#tbl_TblFil&quot;).append(data);&#xA;})&#xA;.fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;})    &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero ya en &lt;code&gt;PHP&lt;/code&gt; ya no se como trabajar con los datos JSON. Por ejemplo tengo un array dentro de mi objeto &lt;code&gt;json&lt;/code&gt; y quisiera recorrerlo. He leído varias cosas, pero me dejan con mas dudas que respuestas.&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastActivityDate=""2018-02-04T02:51:33.810"" Title=""Trabajar con datos JSON en PHP"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""136517"" PostTypeId=""1"" AcceptedAnswerId=""136579"" CreationDate=""2018-02-06T10:53:08.367"" Score=""0"" ViewCount=""190"" Body=""&lt;p&gt;A través de un foreach: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;foreach ($conexion-&amp;gt;query($cefpp) as $row) {    &#xA;        $id = $row['id'];&#xA;        $dato = $row['dato'];&#xA;        echo &quot;&amp;lt;a href='plantilla.php?id=&quot;.$id.&quot;' class=&quot;dato&quot; id=&quot;dato&quot;  data-valor='&quot;.$dato.&quot;'&amp;gt;&quot;;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Muestro varios enlaces y paso un valor que varia según el enlace.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Quiero que a través de ajax y usando jquery ese dato se muestre en otra parte de la página donde tengo un div, que es donde se debe cargar:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;dato&quot; class=&quot;dato&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;$(document).ready(function() {&#xA;    $(&quot;body&quot;).on(&quot;click&quot;, &quot;a&quot;, function(event) {&#xA;            event.preventDefault();&#xA;            $.ajax({&#xA;                url: $(this).attr(&quot;href&quot;).valueOf()                     &#xA;            })                                                                                            &#xA;            .done(function(data) {&#xA;&#xA;                if (data) {&#xA;                    if ($(this).attr(&quot;id&quot;).valueOf() == &quot;dato&quot;) {&#xA;                        var dato = $(this).attr(&quot;data-valor&quot;).valueOf();&#xA;                        $(&quot;.dato&quot;).html(dato);&#xA;                    }   &#xA;                else {&#xA;                    alert(&quot;Data no tiene valor&quot;);&#xA;                }           &#xA;            })&#xA;            .fail(function(jqXHR, textStatus, errorThrown) {&#xA;                if(jqXHR.status === 0) {&#xA;                alert('Not connect: Verify Network.');&#xA;&#xA;              } else if(jqXHR.status == 404) {&#xA;&#xA;                alert('Requested page not found [404]');&#xA;&#xA;              } else if(jqXHR.status == 500) {&#xA;&#xA;                alert('Internal Server Error [500].');          &#xA;&#xA;              } else if(textStatus === 'parsererror') {&#xA;&#xA;                alert('Requested JSON parse failed.');&#xA;&#xA;              } else if(textStatus === 'timeout') {&#xA;&#xA;                alert('Time out error.');&#xA;&#xA;              } else if(textStatus === 'abort') {&#xA;&#xA;                alert('Ajax request aborted.');&#xA;&#xA;              } else {&#xA;&#xA;                alert('Uncaught Error: ' + jqXHR.responseText);         &#xA;              }&#xA;          })&#xA;          .always(function(result) {&#xA;          });&#xA;    });&#xA;});     &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El error que me devuelve la consola de Firefox es:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;TypeError: $(...).attr(...) is undefined&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var dato = $(this).attr(&quot;data-valor&quot;).valueOf();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si en vez &lt;strong&gt;this&lt;/strong&gt; pongo --&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var enlace= &quot;.&quot; + $(this,&quot;a&quot;).prop(&quot;class&quot;);&#xA;var dato = $(enlace).attr(&quot;data-valor&quot;).valueOf();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aparentemente funciona, pero en realidad muestra el primer resultado del foreach.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Porque pasa esto? ¿Que estoy haciendo mal?&lt;/p&gt;&#xA;"" OwnerUserId=""16975"" LastEditorUserId=""16975"" LastEditDate=""2018-02-06T12:39:19.327"" LastActivityDate=""2018-02-07T11:28:59.587"" Title=""Pasar datos a trave de un enlace"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""7"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""136816"" PostTypeId=""1"" AcceptedAnswerId=""136836"" CreationDate=""2018-02-07T13:29:40.903"" Score=""0"" ViewCount=""511"" Body=""&lt;p&gt;Tengo este AJAX&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;                        type: 'POST',&#xA;                        url: &quot;libreria.php?cmd=&quot; + comando,&#xA;                        dataType: 'json',&#xA;                        async: false,&#xA;                        data: params,&#xA;                        headers: {&#xA;                        &quot;accept&quot;: &quot;application/json&quot;,&#xA;                        },&#xA;                    }).done(function (result3){&#xA;                    respuesta4 = result3;&#xA;                        var totalCC = listccostos;&#xA;                        var listccostos2 = [];&#xA;                        for(var i = 0; i &amp;lt; respuesta4.length; i++)&#xA;                        {&#xA;                            var TCcostos = respuesta4[i];&#xA;                            for(var j = 0; j &amp;lt; totalCC.length; j++)&#xA;                            {&#xA;                                if(totalCC[j].value == respuesta4[i].CentroCosto)&#xA;                                {&#xA;                                    listccostos2.push(totalCC[j]);&#xA;                                    console.log(listccostos2);&#xA;                                  //aqui va el append&#xA;                                }&#xA;                            }&#xA;                        }&#xA;&#xA;                    }).fail(function(xhr){&#xA;                        console.log('error', xhr);&#xA;                    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Lo que hace es traerme una informacion de la base de datos&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ahora lo que necesito y no se como hacer es a este td &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;cols += '&amp;lt;td&amp;gt; &amp;lt;input class = &quot;c_costos c_validar&quot; id=&quot;CentroCosto' + counter2 + '&quot;  size=&quot;20&quot; autocomplete=&quot;off&quot; &amp;gt; &amp;lt;/td&amp;gt;';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;necesito agregarle esto &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#CentroCosto&quot;   + counter2).autocomplete({source: listccostos2,    minLength: 0}).focus(function() {    $(this).autocomplete('search', $(this).val())});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;desde el ajax con Append.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Alguna idea de realizarlo.&lt;/p&gt;&#xA;"" OwnerUserId=""33834"" LastActivityDate=""2018-02-07T14:42:56.240"" Title=""Append desde ajax"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""139134"" PostTypeId=""1"" AcceptedAnswerId=""139146"" CreationDate=""2018-02-16T20:05:02.123"" Score=""2"" ViewCount=""1128"" Body=""&lt;p&gt;Estoy tratando de llenar un &lt;code&gt;input&lt;/code&gt; según un dato que escoja de un &lt;code&gt;select&lt;/code&gt;, lo hago mediante &lt;code&gt;AJAX&lt;/code&gt; y &lt;code&gt;PHP&lt;/code&gt;. Este es mi código:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;select id=&quot;pro&quot; name=&quot;plan&quot; class=&quot;form-control&quot;&amp;gt;&#xA; &amp;lt;option readonly&amp;gt;Elegir Plan&amp;lt;/option&amp;gt;&#xA;    &amp;lt;?php&#xA;     $result = $obj-&amp;gt;ListaPlanes();&#xA;     foreach($result as $values){ ?&amp;gt;&#xA;       &amp;lt;option value=&quot;&amp;lt;?php echo $values['id_plan']?&amp;gt;&quot;&amp;gt;&#xA;         &amp;lt;?php echo $values['planes'] ?&amp;gt;&#xA;       &amp;lt;/option&amp;gt;&#xA;    &amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;input class=&quot;form-control&quot; type=&quot;text&quot; id=&quot;price&quot; value=&quot;&quot; readonly&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;AJAX&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on('ready',function(){&#xA; $('#pro').on('change',function(){&#xA;  var id = $(&quot;#pro&quot;).val()&#xA; $.ajax({&#xA;    type: 'POST',&#xA;    url:'ver_price.php',&#xA;    data:{'id':id}&#xA; })&#xA;  .done(function(listas_cur){&#xA;    $(&quot;#price&quot;).val(listas_cur)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('error')&#xA;  })&#xA; });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;  function ver_precio(){&#xA;    $con = new PDO('mysql:host=localhost;dbname=vmenu.us;charset=utf8','root','');&#xA;    $id = $_POST['id'];&#xA;    $query = $con-&amp;gt;prepare(&quot;SELECT * FROM plans WHERE id_plan ='$id'&quot;);&#xA;    $query-&amp;gt;execute();&#xA;    $row = $query-&amp;gt;fetch();&#xA;    $list = $row['price'];&#xA;    return $list;&#xA;  }&#xA;  echo ver_precio();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Esos son mis 3 archivos. El resultado que obtengo es absolutamente nada. No me muestra nada en el &lt;code&gt;input&lt;/code&gt;, ni me da ningún error en console, no obtengo nada.&lt;/p&gt;&#xA;"" OwnerUserId=""57520"" LastEditorUserId=""12864"" LastEditDate=""2018-02-16T21:10:00.447"" LastActivityDate=""2018-02-16T21:10:00.447"" Title=""Problema al llenar input con datos de un select"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""140066"" PostTypeId=""1"" AcceptedAnswerId=""140433"" CreationDate=""2018-02-20T22:50:40.417"" Score=""0"" ViewCount=""221"" Body=""&lt;p&gt;tengo una vista en MVC la cual al dar click sobre un boton me debe regresar a una vista anterior obteniendo los valores de metodo, controlador y formulario al que me redireccionara, ya obtengo los valores pero no se como asignarlos en el @Url.Action().&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    // CODIGO DEL CONTROLADOR&#xA;    [HttpPost]&#xA;    [ActionName(&quot;CALP&quot;)]&#xA;    [DataAccessService(&quot;SQL-FYL&quot;, &quot;SP_FYL_H_VoBoAprobador&quot;)]&#xA;    public ActionResult UpdateVoBoCALP(string comentario, int StageID, int ? StageRet)&#xA;    {&#xA;        Result result = new Result();&#xA;&#xA;        try&#xA;        {&#xA;            object[] parametros = new object[] { &quot;U&quot;, Session[&quot;IDHallazgo&quot;], StageID, 1, 1, Convert.ToDateTime(DateTime.Now.ToString(&quot;dd/MM/yyyy&quot;)), &quot;C.ERIVPE&quot;, Session[&quot;ID_Sistema&quot;], comentario };&#xA;            DataAccessHelper.ExecuteNonQuery(&quot;SQL-FYL&quot;, &quot;SP_FYL_H_VoBoAprobador&quot;, parametros);&#xA;&#xA;            result.Message = &quot;Hallazgo &quot; + Session[&quot;IdHallazgo&quot;] + &quot; Actualizado&quot;;&#xA;&#xA;            result.isSuccess = true;&#xA;        }&#xA;        catch (Exception)&#xA;        {&#xA;            result.isSuccess = false;&#xA;        }&#xA;&#xA;        return this.Json(result); //RETORNO COMO JSON&#xA;    }&#xA;    //CODIGO EN LA VISTA&#xA;    $(&quot;#BtnRechazar&quot;).click(function () {&#xA;        $.ajax({&#xA;            type: 'post',&#xA;            url: '@Url.Action(&quot;CALP&quot;, &quot;FlujoAprobacion&quot;)',&#xA;            data: {&#xA;                comentario: $(&quot;#_txtComentario&quot;).val(),&#xA;                StageID: $(&quot;#_cmbEtapa&quot;).val()&#xA;            }&#xA;        }).done(function (result) {&#xA;            var cntrl = result.contr; var met = result.met; var frm = result.frm;&#xA;            SolicitudExitosaRechazo(cntrl, met, frm);&#xA;        }).fail(function () {&#xA;            alert(&quot;Error Al Rechazar La Etapa &quot;);&#xA;        });&#xA;    });&#xA;&#xA;    //FUNCION&#xA;    function SolicitudExitosaRechazo(cntrl, met, frm) {&#xA;        $.ajax({&#xA;            type: &quot;post&quot;,&#xA;            url:  '@Url.Action(met, cntrl)', //EN ESTA PARTE TENGO EL CONFLICTO @Url.Action ES CODIGO C# Y NO SE COMO ASIGNAR ESTOS VALORES (met, cntrl) QUE ESTAN COMO JQUERY&#xA;            data: $('#' + frm).serialize()&#xA;        }).done(function (result) {&#xA;            $('#mainContent').html(result);&#xA;        });&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""48612"" LastActivityDate=""2018-02-22T00:20:32.840"" Title=""¿Hay alguna forma igualar estos valores de JQuery en C# MVC?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;asp.net-mvc-5&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""140457"" PostTypeId=""1"" CreationDate=""2018-02-22T03:30:06.200"" Score=""2"" ViewCount=""5170"" Body=""&lt;p&gt;Estoy realizando un sitio web en el cual debe de generar reportes y haciendo algunas pruebas me arroja el siguiente error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;%PDF-1.3&#xA;  3 0 obj&#xA;  &amp;lt;&gt;&#xA;  endobj&#xA;  4 0 obj&#xA;  &amp;lt;&gt;&#xA;  stream&#xA;  x�3R��2�35W(�r&#xA;  Q�w3T04�30PISp&#xA;      �Z*�[����(h,���I�Q�-�K�W�T�)&lt;em&gt;7�&#xA;  endstream&#xA;  endobj&#xA;  1 0 obj&#xA;  &amp;lt;&#xA;  endobj&#xA;  5 0 obj&#xA;  &amp;lt;&gt;&#xA;  stream&#xA;  x�]R�n�0��&gt;��L�%�DI�8���~�%E&lt;/em&gt;r�ﻻvҪHX�gvVk?/���Ῑ��`]�[�x5&#xA;  �3\z��P�}����PO���j�Jݍ^���x6/f�����������|���4}�z�����}���@�,ۖ-��˺E�u�^�,���&amp;lt;�&#xA;  �Z_�K� IQ����Yd����C�K��%q�8&gt;�!J&quot;V!2&amp;amp;bGģ%r&quot;H��D��}2EL1n��h�j���e��&quot;a*H����:��d��9c���[�X1~��&quot;�3�g��Ñ�;O���)-�&amp;lt;%a�I9��8v�s�4z0�97Wcp���x�4�^���M�D*�&#xA;  ��&#xA;  endstream&#xA;  endobj&#xA;  6 0 obj&#xA;  &amp;lt;&#xA;  endobj&#xA;  2 0 obj&#xA;  &amp;lt;&amp;lt;&#xA;  /ProcSet [/PDF /Text /ImageB /ImageC /ImageI]&#xA;  /Font &amp;lt;&amp;lt;&#xA;  /F1 6 0 R&#xA;  &gt;&#xA;  /XObject &amp;lt;&amp;lt;&#xA;  &gt;&#xA;  &gt;&#xA;  endobj&#xA;  7 0 obj&#xA;  &amp;lt;&amp;lt;&#xA;  /Producer (FPDF 1.81)&#xA;  /CreationDate (D:20180222042638)&#xA;  &gt;&#xA;  endobj&#xA;  8 0 obj&#xA;  &amp;lt;&amp;lt;&#xA;  /Type /Catalog&#xA;  /Pages 1 0 R&#xA;  &gt;&#xA;  endobj&#xA;  xref&#xA;  0 9&#xA;  0000000000 65535 f &#xA;  0000000229 00000 n &#xA;  0000000868 00000 n &#xA;  0000000009 00000 n &#xA;  0000000087 00000 n &#xA;  0000000316 00000 n &#xA;  0000000750 00000 n &#xA;  0000000972 00000 n &#xA;  0000001048 00000 n &#xA;  trailer&#xA;  &amp;lt;&amp;lt;&#xA;  /Size 9&#xA;  /Root 8 0 R&#xA;  /Info 7 0 R&#xA;  &gt;&#xA;  startxref&#xA;  1097&#xA;  %%EOF&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;El codigo &lt;code&gt;PHP&lt;/code&gt; que tengo es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;?php&#xA;        require 'fpdf.php';&#xA;        define('FPDF_FONTPATH','../../../lib/font');&#xA;&#xA;        //$datos = json_decode($_POST['Datos']);&#xA;&#xA;        class PDF extends FPDF&#xA;        {&#xA;        // Cabecera de página&#xA;        function Header()&#xA;        {&#xA;            // Logo&#xA;            $this-&amp;gt;Image('../../../images/icons/logo1.jpg',10,8,33);&#xA;            // Arial bold 15&#xA;            $this-&amp;gt;SetFont('Arial','B',15);&#xA;            // Movernos a la derecha&#xA;            $this-&amp;gt;Cell(80);&#xA;            // Título&#xA;            $this-&amp;gt;Cell(30,10,'Title',1,0,'C');&#xA;            // Salto de línea&#xA;            $this-&amp;gt;Ln(20);&#xA;        }&#xA;&#xA;        // Pie de página&#xA;        function Footer()&#xA;        {&#xA;            // Posición: a 1,5 cm del final&#xA;            $this-&amp;gt;SetY(-15);&#xA;            // Arial italic 8&#xA;            $this-&amp;gt;SetFont('Arial','I',8);&#xA;            // Número de página&#xA;            $this-&amp;gt;Cell(0,10,'Page '.$this-&amp;gt;PageNo().'/{nb}',0,0,'C');&#xA;        }&#xA;        }&#xA;&#xA;        // Creación del objeto de la clase heredada&#xA;        $pdf = new PDF();&#xA;        $pdf-&amp;gt;AliasNbPages();&#xA;        $pdf-&amp;gt;AddPage();&#xA;        $pdf-&amp;gt;SetFont('Times','',12);&#xA;        for($i=1;$i&amp;lt;=40;$i++)&#xA;        $pdf-&amp;gt;Cell(0,10,'Imprimiendo línea número '.$i,0,1);&#xA;        $pdf-&amp;gt;Output('D','archivo.pdf',false);&#xA;        ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Estoy accediendo al archivo php mediante ajax, el cual al dar clic en un boton se ejecuta el ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function generarReporte() {&#xA;var datos = JSON.stringify(datosReportesTickets);&#xA;$.ajax({&#xA;    url: '../../users/admin/gen_pdf_adm/genpdfrep.php',&#xA;    type: 'POST',&#xA;    contentType : 'application/pdf',&#xA;    data: {Datos:datos},&#xA;})&#xA;        .done(function (data) {             &#xA;           alert(data);               &#xA;&#xA;        })&#xA;        .fail(function () {&#xA;            console.log(&quot;error&quot;);&#xA;        });&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;¿Quisiera saber a que se debe ese error y como puedo resolverlo?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El código que tengo es tal cual, realmente no se como resolver esto.&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastEditorUserId=""19533"" LastEditDate=""2018-02-22T07:34:54.070"" LastActivityDate=""2021-04-10T00:16:58.957"" Title=""Error al generar PDF con la libreria FPDF"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;fpdf&gt;"" AnswerCount=""6"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""142004"" PostTypeId=""1"" CreationDate=""2018-02-27T23:47:23.893"" Score=""0"" ViewCount=""62"" Body=""&lt;p&gt;estoy tratando de llenar unos inputs dependiendo de el valor que tenga un input principal... me explico, tengo un formulario dentro de un div con un id para poder llamarlo desde un js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;revisarCliente&quot;&amp;gt;&#xA;&#xA;    &amp;lt;form role=&quot;form&quot; method=&quot;POST&quot; class=&quot;formularioVenta&quot;&amp;gt;&#xA;&#xA;        &amp;lt;div class=&quot;box-body&quot;&amp;gt;&#xA;&#xA;            &amp;lt;div class=&quot;box&quot;&amp;gt;&#xA;&#xA;                &amp;lt;!--=====================================&#xA;                ENTRADA DEL CLIENTE&#xA;                ======================================--&amp;gt; &#xA;&#xA;                &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xA;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-users&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&#xA;&#xA;                        &amp;lt;input class=&quot;form-control&quot; type=&quot;text&quot; id=&quot;cliente&quot; name=&quot;cliente&quot; value=&quot;&quot; placeholder=&quot;Nombre de cliente&quot; /&amp;gt;&#xA;&#xA;                        &amp;lt;input type=&quot;hidden&quot; name=&quot;clienteNombre&quot; id=&quot;clienteNombre&quot;&amp;gt;&#xA;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default btn-xs&quot; data-toggle=&quot;modal&quot; data-target=&quot;#modalAgregarCliente&quot; data-dismiss=&quot;modal&quot;&amp;gt;Agregar cliente&amp;lt;/button&amp;gt;&amp;lt;/span&amp;gt;&#xA;&#xA;                    &amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;!--==============================================&#xA;                =            Direccion del cliente            =&#xA;                ===============================================--&amp;gt;&#xA;&#xA;                &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xA;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-home&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt; &#xA;&#xA;                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;direccion&quot; name=&quot;direccion&quot; value=&quot;&quot; placeholder=&quot;Direccion de cliente&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;!--====  End of Direccion del cliente  ====--&amp;gt;&#xA;&#xA;                &amp;lt;!--==============================================&#xA;                =            Telefono del cliente            =&#xA;                ===============================================--&amp;gt;&#xA;&#xA;                &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xA;&#xA;                        &amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-phone&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt; &#xA;&#xA;                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;telefono&quot; name=&quot;telefono&quot; value=&quot;&quot; placeholder=&quot;Telefono de cliente&quot;&amp;gt;&#xA;&#xA;                    &amp;lt;/div&amp;gt;&#xA;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;br&amp;gt;&#xA;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;div class=&quot;box-footer&quot;&amp;gt;&#xA;&#xA;            &amp;lt;button type=&quot;submit&quot; class=&quot;btn btn-primary pull-right&quot;&amp;gt;Guardar Orden&amp;lt;/button&amp;gt;&#xA;&#xA;        &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;/form&amp;gt;&#xA;&#xA;    &amp;lt;div id=&quot;estado&quot;&amp;gt;Esperando input.&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;en mi js tengo un codigo para hacer la busqueda por ajax y el llenado de los otros inputs&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function(){&#xA;   /* Ponemos evento blur a la escucha sobre id nombre en id cliente. */&#xA;   $('#revisarCliente').on('blur','#cliente',function(){&#xA;      /* Obtenemos el valor del campo */&#xA;      var valor = this.value;&#xA;      /* Si la longitud del valor es mayor a 2 caracteres.. */&#xA;      if(valor.length&amp;gt;=3){&#xA;&#xA;         /* Cambiamos el estado.. */&#xA;         $('#estado').html('Cargando datos de servidor...');&#xA;&#xA;         /* Hacemos la consulta ajax */&#xA;         var consulta = $.ajax({&#xA;            type:'POST',&#xA;            url:'cliente.php',&#xA;            data:{cliente:valor},&#xA;            dataType:'JSON'&#xA;         });&#xA;&#xA;         /* En caso de que se haya retornado bien.. */&#xA;         consulta.done(function(data){&#xA;          console.log(data);&#xA;            if(data.error!==undefined){&#xA;               $('#estado').html('Ha ocurrido un error: '+data.error);&#xA;               return false;&#xA;            } else {&#xA;               if(data.telefono!==undefined){$('#revisarCliente #telefono').val(data.telefono);}&#xA;               if(data.direccion!==undefined){$('#revisarCliente #direccion').val(data.direccion);}&#xA;               $('#estado').html('Datos cargados..');&#xA;               return true;&#xA;            }&#xA;         });&#xA;&#xA;         /* Si la consulta ha fallado.. */&#xA;         consulta.fail(function(){&#xA;            $('#estado').html('Ha habido un error contactando el servidor.');&#xA;            return false;&#xA;         });&#xA;&#xA;      } else {&#xA;         /* Mostrar error */&#xA;         $('#estado').html('El nombre tener una longitud mayor a 2 caracteres...');&#xA;         return false;&#xA;      }&#xA;   });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y tengo otro en php donde hago la conexion y la busqueda &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;/* Conectar a una base de datos de MySQL invocando al controlador */&#xA;$dsn = 'mysql:host=localhost;dbname=sistemapos';&#xA;$usuario = 'root';&#xA;$contraseña = '';&#xA;&#xA;try {&#xA;    $gbd = new PDO($dsn, $usuario, $contraseña);&#xA;} catch (PDOException $e) {&#xA;    echo 'Falló la conexión: ' . $e-&amp;gt;getMessage();&#xA;}&#xA;&#xA;if(!empty($_POST['cliente'])) { &#xA;    $nombre = $_POST['cliente'];&#xA;    $sql = &quot;SELECT * FROM clientes WHERE nombre = :nombre&quot;;  &#xA;    $stmt = $gbd-&amp;gt;prepare($sql);&#xA;    $stmt-&amp;gt;bindValue(&quot;:nombre&quot;,$nombre);&#xA;    $stmt -&amp;gt;execute();&#xA;    $arrDatos = $stmt-&amp;gt;fetchAll();&#xA;&#xA;    //Verifica si no hay datos en la consulta&#xA;    if($arrDatos){&#xA;        foreach ($arrDatos as $row) {&#xA;          if ($nombre = $row['nombre']) {&#xA;            $return = array ('direccion' =&amp;gt; $row['direccion'],&#xA;                            'telefono' =&amp;gt; $row['telefono'],&#xA;                            'nombre' =&amp;gt; $row['nombre']);&#xA;          }      &#xA;        }&#xA;&#xA;    } else {&#xA;            //Esto ocurre si el nombre está vacío solamente&#xA;            $arrDatos = array('error'=&amp;gt;'El nombre está vacío');&#xA;    }&#xA;&#xA;//Imprimir los resultados &#xA;echo json_encode($return);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;antes me funcionaba, pero ahora no y solo entra a el error de ha habido un error contactando al servidor&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Editado&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/A6d0M.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/A6d0M.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/3NCO7.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/3NCO7.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En network me aparecio eso y en respuesta me aparecieron los datos que yo estoy solicitando pero no me los imprime en los inputs&lt;/p&gt;&#xA;"" OwnerUserId=""50080"" LastEditorUserId=""50080"" LastEditDate=""2018-02-28T01:52:29.883"" LastActivityDate=""2018-02-28T04:35:27.950"" Title=""Fallo en autocompletado"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""16"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""143421"" PostTypeId=""1"" CreationDate=""2018-03-05T13:02:09.323"" Score=""0"" ViewCount=""310"" Body=""&lt;pre&gt;&lt;code&gt;public IActionResult GetAssetsTree(AssetDataModel Parent_ID, AuditIdRow row,string workspaceId){&#xA;     _assetService.CollectionName = workspaceId;&#xA;     _assetService.ParentId = workspaceId;&#xA;     return(Json(CreateTree(null,null)));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CreateTree me llama a un metodo privado &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;private AuditIdRow CreateTree(AssetDataModel Parent, AuditIdRow row){&#xA;return row;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Clase AuditIdRow&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; public class AuditIdRow : BaseModel&#xA;    {&#xA;        public string Name {get;set;}&#xA;        public bool IsGroup{get;set;}&#xA;        public List&amp;lt;AuditIdRow&amp;gt; Children { get; set; }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Vista html:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;modal fade&quot; id=&quot;modal-container-root&quot; tabindex=&quot;1&quot; role=&quot;dialog&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;modal-dialog&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&#xA;                &amp;lt;h4&amp;gt;Selecciona tu código de acción para trabajar&amp;lt;/h4&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;list-group&quot; id=&quot;TreeGroups&quot; role=&quot;tablist&quot;&amp;gt;&#xA;                    //Aqui es donde quiero cargar los datos&#xA;                &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; data-dismiss=&quot;modal&quot;&amp;gt;Close&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Funcion javascript para cargar el modal: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    $(document).ready(function () {                &#xA;        $.get(&quot;GetAssetsTree&quot;) // llamo al método para que me devuelva los datos &#xA;        .done(function (data){&#xA;            $.each(data,function(index,obj){&#xA;                $(&quot;#TreeGroups&quot;).append('&amp;lt;option value=&quot;'+obj.Name+'&quot;&amp;gt;'+obj.row.+'&amp;lt;/option&amp;gt;');&#xA;            });&#xA;        })&#xA;        .fail(function(data){&#xA;            alert(data);&#xA;        } )&#xA;    });   &#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Quiero rellenar el modal con los datos que me vienen del método getAssetTree, donde quiero que me muestre primero el nombre de AuditIdRow, y dentro de él que me muestre la lista de children para hacer una vista TreeView dentro del modal. &lt;/p&gt;&#xA;"" OwnerUserId=""33073"" LastActivityDate=""2018-03-05T21:06:35.607"" Title=""C#(Rellenar Modal Bootstrap con funcion Ajax)"" Tags=""&lt;javascript&gt;&lt;c#&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""144633"" PostTypeId=""1"" AcceptedAnswerId=""149213"" CreationDate=""2018-03-08T22:17:14.610"" Score=""1"" ViewCount=""263"" Body=""&lt;p&gt;Estoy intentando crear un formulario que funcione con Ajax y Php, pero todavía no he podido hacerlo debido que estoy cometiendo un error y no se cual. Les dejo aquí el código para que me puedan ayudar.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La idea de la página es que donde esta el input que es donde la persona va ingresar una url, yo pueda guardar lo que haya ingresado en un archivo txt. No quiero que se recargue la página porque necesito usar Ajax para que la página no se recargue y que usuario pueda ingresar una url, ejemplo: &lt;a href=&quot;http://undominiocualquiera.mp4&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://undominiocualquiera.mp4&lt;/a&gt; para que se pueda visualizar en el reproductor jw player.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Borre los estilos y un poco del código del reproductor para que no se haga muy largo el código html. Sí alguien lo quiere, me lo pueden pedir para probarlo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;/*&#xD;&#xA;*CODIGO AJAX: FORM.JS&#xD;&#xA;*/&#xD;&#xA;/*&#xD;&#xA;*CODIGO AJAX: FORMS.JS&#xD;&#xA;*/&#xD;&#xA;/*&#xD;&#xA;*Funcion Javascript para enviar formularios sin recargar la página mediante ajax&#xD;&#xA;*/&#xD;&#xA;&#xD;&#xA;/* &quot;escuchamos&quot; el click en el botón con id &quot;submit&quot; solo si ya se ha cargado la página*/&#xD;&#xA;&#xD;&#xA;$(function(){&#xD;&#xA;   $('#submit').click(function(e){&#xD;&#xA;      //evitamos la carga de la página&#xD;&#xA;      e.preventDefault();&#xD;&#xA;      //recogemos el id del formulario a enviar&#xD;&#xA;      var form = $(this).attr(&quot;form-id&quot;);&#xD;&#xA;      //llamamos a la función que contendrá el llamado ajax dándole como argumento el id del formulario&#xD;&#xA;      submitForm(form);&#xD;&#xA;   });&#xD;&#xA;});&#xD;&#xA;&#xD;&#xA;//fuera de la carga de la página, creamos la función que recibe el id del formulario a enviar.&#xD;&#xA;&#xD;&#xA;function submitForm(form){&#xD;&#xA;   //recogemos el &quot;action&quot; a donde se enviarán los datos mediante &quot;POST&quot;&#xD;&#xA;   var action = $(&quot;form#&quot; + form).attr(&quot;action&quot;);&#xD;&#xA;   //ahora recogemos los datos de los controles que hayamos definido y los serializamos como un formulario con Javascript&#xD;&#xA;   var datos = $('form#' + form).serialize();&#xD;&#xA;   //recogemos la posicion actual del id &quot;mensaje&quot; esto para que al recibir la respuesta de PHP se haga scroll hasta alli para mostrarlo correctamente.&#xD;&#xA;   var mensaje = document.getElementById('mensaje').offsetTop - 20;&#xD;&#xA;&#xD;&#xA;   //enviamos los datos mediante Ajax con la función de Jquery que nos facilita esta tarea&#xD;&#xA;&#xD;&#xA;   $.ajax({&#xD;&#xA;      //url a enviar&#xD;&#xA;      url: 'enviar_chh.php',&#xD;&#xA;      //el tipo GET o POST en nuestro caso POST&#xD;&#xA;      type: 'POST',&#xD;&#xA;      //evitamos el cacheo de los datos&#xD;&#xA;      cache: false,&#xD;&#xA;      //evitamos que el JS procese los datos&#xD;&#xA;      proccessData: false,&#xD;&#xA;      //definimos los datos a enviar, nosotros ya los tenemos definidos en la variable &quot;datos&quot;&#xD;&#xA;      data: datos&#xD;&#xA;      //cuando se recibe la respuesta se activa el siguiente trozo de código&#xD;&#xA;      //la r que recibe la funcion de callback es &quot;response&quot; que viene del script PHP&#xD;&#xA;   }).done(function(r){&#xD;&#xA;      //hacemos scroll hasta el id &quot;mensaje&quot;&#xD;&#xA;      $('body, html').animate({&#xD;&#xA;         scrollTop: mensaje&#xD;&#xA;      }, 700);&#xD;&#xA;      //imprimimos con HTML el mensaje recibido&#xD;&#xA;      $('#mensaje').html(r);&#xD;&#xA;      //eso es todo&#xD;&#xA;   });&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xD;&#xA;&amp;lt;!-- CODIGO HTML: INDEX.HTM --&amp;gt;&#xD;&#xA;&amp;lt;!-- CODIGO HTML: INDEX.HTM --&amp;gt;&#xD;&#xA;&amp;lt;html&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;head&amp;gt;&#xD;&#xA;&#xD;&#xA;  &amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&amp;gt;&amp;lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; src=&quot;./ipptv_files/related.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; src=&quot;./ipptv_files/jwpsrv.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &#xD;&#xA;   &amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&amp;gt;&#xD;&#xA;    &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&amp;gt;&#xD;&#xA;    &amp;lt;title&amp;gt;IPTV Player - DaZPlayer&amp;lt;/title&amp;gt;&#xD;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;./ipptv_files/developer.css&quot;&amp;gt;&#xD;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;./ipptv_files/style.css&quot;&amp;gt;&#xD;&#xA;    &amp;lt;script src=&quot;jquery-3.1.1.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &amp;lt;script src=&quot;form.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;  &amp;lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; src=&quot;./ipptv_files/jwplayer.core.controls.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; async=&quot;&quot; src=&quot;./ipptv_files/provider.hlsjs.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;/head&amp;gt;&#xD;&#xA;  &amp;lt;body&amp;gt;&#xD;&#xA;&#xD;&#xA;  &amp;lt;div class=&quot;page&quot; id=&quot;stream-tester&quot;&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;mkdocs-jwplayer&quot;&amp;gt;&#xD;&#xA;    &amp;lt;div&amp;gt;&#xD;&#xA;&#xD;&#xA;  &amp;lt;div class=&quot;jw-tool&quot;&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;container&quot;&amp;gt;&#xD;&#xA;      &amp;lt;div class=&quot;row&quot;&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;column sm-12 lg-6&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;          &amp;lt;div class=&quot;tool-settings&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;configuration&quot; style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;              &amp;lt;h2&amp;gt;Player Version:&amp;lt;/h2&amp;gt;&#xD;&#xA;              &amp;lt;label&amp;gt;&#xD;&#xA;                &amp;lt;input name=&quot;version&quot; type=&quot;radio&quot; value=&quot;8&quot; checked=&quot;&quot;&amp;gt;&#xD;&#xA;                  JW Player 8&#xD;&#xA;              &amp;lt;/label&amp;gt;&#xD;&#xA;              &amp;lt;label&amp;gt;&#xD;&#xA;                &amp;lt;input name=&quot;version&quot; type=&quot;radio&quot; value=&quot;7&quot;&amp;gt;&#xD;&#xA;                  JW Player 7&#xD;&#xA;              &amp;lt;/label&amp;gt;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;div id=&quot;mensaje&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;            &amp;lt;form id=&quot;form-registro&quot; action=&quot;enviar_chh.php&quot; method=&quot;post&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;configuration&quot;&amp;gt;&#xD;&#xA;              &amp;lt;h2&amp;gt;Escriba una URL de algún canal:&amp;lt;/h2&amp;gt;&#xD;&#xA;              &amp;lt;input id=&quot;file&quot; type=&quot;text&quot; name=&quot;canal&quot; placeholder=&quot;https://content.jwplatform.com/manifests/yp34SRmf.m3u8&quot; value=&quot;&quot;&amp;gt;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;div class=&quot;configuration&quot; style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;label style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;                &amp;lt;input name=&quot;primary&quot; type=&quot;radio&quot; value=&quot;html5&quot; checked=&quot;&quot;&amp;gt;&#xD;&#xA;                HTML5&#xD;&#xA;              &amp;lt;/label&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;label style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;                &amp;lt;input name=&quot;primary&quot; type=&quot;radio&quot; value=&quot;flash&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                Flash&#xD;&#xA;              &amp;lt;/label&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;label style=&quot;display:none&quot; class=&quot;tooltip tooltip-top-center&quot;&amp;gt;&#xD;&#xA;                &amp;lt;input name=&quot;hls&quot; type=&quot;checkbox&quot;&amp;gt;&#xD;&#xA;                Force type to HLS&#xD;&#xA;                &amp;lt;span class=&quot;tooltip-content tooltip-content-wrap&quot;&amp;gt;&#xD;&#xA;                &amp;lt;/span&amp;gt;&#xD;&#xA;              &amp;lt;/label&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;div id=&quot;drm&quot; class=&quot;configuration&quot; style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;div id=&quot;drm-default&quot; class=&quot;drm-item drm-item-selected&quot; style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;                &amp;lt;label&amp;gt;&#xD;&#xA;                  &amp;lt;input name=&quot;drm&quot; type=&quot;radio&quot; value=&quot;&quot; checked=&quot;checked&quot;&amp;gt;&#xD;&#xA;                  None&#xD;&#xA;                &amp;lt;/label&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;div id=&quot;drm-widevine&quot; class=&quot;drm-item&quot;&amp;gt;&#xD;&#xA;                &amp;lt;label&amp;gt;&#xD;&#xA;                  &amp;lt;input name=&quot;drm&quot; type=&quot;radio&quot; value=&quot;widevine&quot;&amp;gt;&#xD;&#xA;                  Widevine&#xD;&#xA;                &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;drm-item-options&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    Widevine Url:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-widevine-url&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    &amp;lt;input name=&quot;drm-item-custom-data&quot; type=&quot;checkbox&quot;&amp;gt;&#xD;&#xA;                    Use custom data? (optional)&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;drm-item-custom-data&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;label&amp;gt;&#xD;&#xA;                      Custom Name:&#xD;&#xA;                      &amp;lt;input id=&quot;drm-widevine-custom-name&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;/label&amp;gt;&#xD;&#xA;                    &amp;lt;label&amp;gt;&#xD;&#xA;                      Custom Value:&#xD;&#xA;                      &amp;lt;input id=&quot;drm-widevine-custom-value&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;div id=&quot;drm-playready&quot; class=&quot;drm-item drm-item-not-supported&quot;&amp;gt;&#xD;&#xA;                &amp;lt;label&amp;gt;&#xD;&#xA;                  &amp;lt;input name=&quot;drm&quot; type=&quot;radio&quot; value=&quot;playready&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                  Playready&#xD;&#xA;                &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;drm-item-options&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    Playready Url:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-playready-url&quot; type=&quot;text&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    &amp;lt;input name=&quot;drm-item-custom-data&quot; type=&quot;checkbox&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                    Use custom data? (optional)&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;drm-item-custom-data&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;label&amp;gt;&#xD;&#xA;                      Custom Name:&#xD;&#xA;                      &amp;lt;input id=&quot;drm-playready-custom-name&quot; type=&quot;text&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;/label&amp;gt;&#xD;&#xA;                    &amp;lt;label&amp;gt;&#xD;&#xA;                      Custom Value:&#xD;&#xA;                      &amp;lt;input id=&quot;drm-playready-custom-value&quot; type=&quot;text&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;div id=&quot;drm-fairplay&quot; class=&quot;drm-item drm-item-not-supported&quot;&amp;gt;&#xD;&#xA;                &amp;lt;label&amp;gt;&#xD;&#xA;                  &amp;lt;input name=&quot;drm&quot; type=&quot;radio&quot; value=&quot;fairplay&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                  Fairplay&#xD;&#xA;                &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;drm-item-options&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    Certificate URL:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-fairplay-certificate-url&quot; type=&quot;text&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    Process SPC URL:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-fairplay-process-spc-url&quot; type=&quot;text&quot; disabled=&quot;&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;              &amp;lt;div id=&quot;drm-clearkey&quot; class=&quot;drm-item&quot;&amp;gt;&#xD;&#xA;                &amp;lt;label&amp;gt;&#xD;&#xA;                  &amp;lt;input name=&quot;drm&quot; type=&quot;radio&quot; value=&quot;clearkey&quot;&amp;gt;&#xD;&#xA;                  Clearkey&#xD;&#xA;                &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;drm-item-options&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    ClearKey Key:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-clearkey-key&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                  &amp;lt;label&amp;gt;&#xD;&#xA;                    ClearKey Key ID:&#xD;&#xA;                    &amp;lt;input id=&quot;drm-clearkey-key-id&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;div class=&quot;button-set&quot;&amp;gt;&#xD;&#xA;              &amp;lt;button class=&quot;button button-sm&quot; type=&quot;submit&quot; id=&quot;submit&quot; form-id=&quot;form-registro&quot; type=&quot;button&quot; name=&quot;button&quot; &amp;gt;Reproducir canal&amp;lt;/button&amp;gt;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;          &amp;lt;/form&amp;gt;&#xD;&#xA;            &amp;lt;div id=&quot;test-output&quot; class=&quot;test-output test-output-visible&quot; style=&quot;display:none&quot;&amp;gt;&#xD;&#xA;              &amp;lt;h2&amp;gt;Test Player Config Output&amp;lt;/h2&amp;gt;&#xD;&#xA;              &amp;lt;pre&amp;gt;&amp;lt;code id=&quot;output-code&quot; class=&quot;javascript hljs&quot;&amp;gt;{&#xD;&#xA;  &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;playlist&quot;&amp;lt;/span&amp;gt;: [&#xD;&#xA;    {&#xD;&#xA;      &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;sources&quot;&amp;lt;/span&amp;gt;: [&#xD;&#xA;        {&#xD;&#xA;          &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;default&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-literal&quot;&amp;gt;false&amp;lt;/span&amp;gt;,&#xD;&#xA;          &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;file&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;https://content.jwplatform.com/manifests/yp34SRmf.m3u8&quot;&amp;lt;/span&amp;gt;,&#xD;&#xA;          &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;label&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;0&quot;&amp;lt;/span&amp;gt;,&#xD;&#xA;          &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;type&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;hls&quot;&amp;lt;/span&amp;gt;&#xD;&#xA;        }&#xD;&#xA;      ]&#xD;&#xA;    }&#xD;&#xA;  ],&#xD;&#xA;  &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;primary&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;html5&quot;&amp;lt;/span&amp;gt;,&#xD;&#xA;  &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;hlshtml&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-literal&quot;&amp;gt;true&amp;lt;/span&amp;gt;,&#xD;&#xA;  &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;id&quot;&amp;lt;/span&amp;gt;: &amp;lt;span class=&quot;hljs-string&quot;&amp;gt;&quot;stream-tester-player-https&quot;&amp;lt;/span&amp;gt;&#xD;&#xA;}&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;          &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;        &amp;lt;div class=&quot;column sm-12 lg-6&quot;&amp;gt;&#xD;&#xA;          &amp;lt;div class=&quot;tool-player&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;player-preview&quot;&amp;gt;JW Player Test&amp;lt;/div&amp;gt;&#xD;&#xA;           &#xD;&#xA;            &amp;lt;!-- &amp;lt;div id=&quot;stream-tester-player-http&quot; class=&quot;u-hidden&quot;&amp;gt;&#xD;&#xA;              &amp;lt;iframe style=&quot;border: none; display: block; height: 500px; width: 100%;&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&#xD;&#xA;              This stream tester requires HTTPS streams. Using an HTTP stream with our stream tester may cause your test to fail.&#xD;&#xA;            &amp;lt;/div&amp;gt; --&amp;gt;&#xD;&#xA;            &amp;lt;p&amp;gt;&#xD;&#xA;              DRM solutions are available for both HLS and MPEG-DASH adaptive streaming technologies and are configurable via the &amp;lt;a href=&quot;http://demo.jwplayer.com/jw-player/docs/developer-guide/customization/configuration-reference/#drm&quot;&amp;gt;JW Player Javascript API&amp;lt;/a&amp;gt;.&#xD;&#xA;            &amp;lt;/p&amp;gt;&#xD;&#xA;            &amp;lt;p&amp;gt;&#xD;&#xA;              Note that JW Player's DRM support is constrained by what the DRM makers themselves support. For example, Apple supports FPS in Safari on Mac OS, but not in Safari on iOS.&#xD;&#xA;            &amp;lt;/p&amp;gt;&#xD;&#xA;          &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;    &amp;lt;script src=&quot;./ipptv_files/jquery.min.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &amp;lt;script src=&quot;./ipptv_files/developer.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;./ipptv_files/stream-tester.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script src=&quot;./ipptv_files/wr6i4gal.js.descarga&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&amp;lt;/body&amp;gt;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;---------------------------&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;Luego el código php: enviar_chh.php&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;//codigo php: enviar_chh.php&#xD;&#xA;//codigo php: enviar_chh.php&#xD;&#xA;&#xD;&#xA;&amp;lt;?php&#xD;&#xA;$canal=&quot;&quot;;&#xD;&#xA;if (!empty($_REQUEST['canal'])){&#xD;&#xA;$canal=$_REQUEST['canal'];&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;//Luego sobrescribo el txt&#xD;&#xA;&#xD;&#xA;$archivo=&quot;datos.txt&quot;;&#xD;&#xA;&#xD;&#xA;     $file=fopen($archivo,&quot;a&quot;);&#xD;&#xA;     fwrite($file,$canal);&#xD;&#xA;     fclose($file);&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;Les daría mil gracias si alguien me podría ayudar, diciéndome donde esta el error y como solucionarlo. &#xA;Saludos. &lt;/p&gt;&#xA;"" OwnerUserId=""78070"" LastActivityDate=""2018-03-21T17:50:50.807"" Title=""Problema con Ajax + PHP - Intento de hacer un Formulario"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""146936"" PostTypeId=""1"" AcceptedAnswerId=""148635"" CreationDate=""2018-03-16T18:47:38.377"" Score=""4"" ViewCount=""332"" Body=""&lt;p&gt;Tengo un gran problema con Ajax MVC y Visual Basic: Cuando creo un objeto en javascript para hacer un POST en Controller todo bien por cuando recibo el Objeto en el ActionResult, todos los atributos son Nulls. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Puede ayudarme alguien ? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax Codigo:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    // #region Crear o Actualizar un Item&#xA;    function CreateUpdate() {&#xA;        var checkBanderas = true;&#xA;        var MyObject = {};&#xA;        var PasswordRepeat = null;&#xA;        // Id Name Description NameOrIP Enabled Default&#xA;        if ($('#hdUserId').val() == &quot;&quot;) { MyObject.Id = 0; } else { MyObject.Id = $('#hdUserId').val(); }&#xA;&#xA;        if ($('#txt_UserName').val() == &quot;&quot;) { MyObject.UserName = null; } else { MyObject.UserName = $('#txt_UserName').val(); }&#xA;        if ($('#txt_Password').val() == &quot;&quot;) { MyObject.Password = null; } else { MyObject.Password = $('#txt_Password').val(); }&#xA;        if ($('#txt_PasswordRepeat').val() == &quot;&quot;) { PasswordRepeat == null; } else { PasswordRepeat = $('#txt_PasswordRepeat').val(); }&#xA;        if ($('#txt_FirstName').val() == &quot;&quot;) { MyObject.FirstName = null; } else { MyObject.FirstName = $('#txt_FirstName').val(); }&#xA;        if ($('#txt_LastName').val() == &quot;&quot;) { MyObject.LastName = null; } else { MyObject.LastName = $('#txt_LastName').val(); }&#xA;        if (MyObject.FirstName == null) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Ingresa el Nombre para poder continuar.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); FocusTextBox('#txt_FirstName');&quot;, null);&#xA;            return;&#xA;        }&#xA;        if (MyObject.LastName == null) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Ingresa el Apellido para poder continuar.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); FocusTextBox('#txt_LastName');&quot;, null);&#xA;            return;&#xA;        }&#xA;        if (MyObject.Password == null) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Ingresa la Contraseña para poder continuar.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); FocusTextBox('#txt_Password');&quot;, null);&#xA;            return;&#xA;        }&#xA;        if (PasswordRepeat == null) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Ingresa la Contraseña de Confirmación para poder continuar.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); FocusTextBox('#txt_PasswordRepeat');&quot;, null);&#xA;            return;&#xA;        }&#xA;        if (MyObject.Password != PasswordRepeat) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Las contraseñas no coinciden.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); CleanPasswords();&quot;, null);&#xA;            return;&#xA;        }&#xA;        if (MyObject.UserName == null) {&#xA;            $('#dlgCreateUpdate').modal('hide');&#xA;            ShowMessageBox(&quot;Error de Validación&quot;, &quot;Ingresa el Nombre de Usuario para poder continuar.&quot;, false, &quot; $('#dlgCreateUpdate').modal('show'); FocusTextBox('#txt_UserName');&quot;, null);&#xA;            return;&#xA;        }&#xA;        var data = MyObject;&#xA;        console.log(&quot;data: &quot; + JSON.stringify(data));&#xA;        $.ajax(&#xA;                {&#xA;                    url: '/Users/CreateUpdate_Users'&#xA;                    , type: &quot;POST&quot;&#xA;                    , data: JSON.stringify(data)&#xA;                    , dataType: &quot;json&quot;&#xA;                    , contentType: 'application/json'&#xA;                })&#xA;                .done(function (result) {&#xA;                    if (result.success) {&#xA;                        ShowMessageBox(&quot;Guardado&quot;, &quot;Los datos han sido guardados correctamente.&quot;, false, null, null);&#xA;                        DoSearch();&#xA;                        //oTable.DataTable();&#xA;                    }&#xA;                    else {&#xA;                        ShowMessageBox(&quot;Error&quot;, &quot;A ocurrido un error al intentar guardar los datos. Contacte al Administrador del Sistema.&quot;, false, &quot;$('#dlgCreateUpdate').modal('show');&quot;, null);&#xA;                    }&#xA;                    //HideLoading();&#xA;                })&#xA;                .fail(function (e) {&#xA;                    alert(&quot;Error: &quot; + e.status + &quot;: &quot; + e.statusText, + &quot;[&quot; + e.Message + &quot;]&quot;);&#xA;                    //HideLoading();&#xA;                });&#xA;&#xA;        //ShowLoading();&#xA;        $('#dlgCreateUpdate').modal('hide');&#xA;    }&#xA;    // #endregion&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Codigo del Controller&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;HttpPost()&amp;gt;&#xA;    Function CreateUpdate_Users(MyObject As Entities.ApiUser) As ActionResult&#xA;        Dim Success As Boolean = True&#xA;        Dim Message As String = String.Empty&#xA;        Dim model As UserModels = New UserModels()&#xA;        Try&#xA;            Using logic As Logic = New Logic()&#xA;                Dim ToSave As Entities.ApiUser = New Entities.ApiUser()&#xA;                If (MyObject.Id &amp;gt; 0) Then&#xA;                    MyObject.Id = Nothing&#xA;                End If&#xA;                model.Item = logic.Save_Users(MyObject)&#xA;            End Using&#xA;        Catch ex As Exception&#xA;            Success = False&#xA;            Message = ex.Message&#xA;        End Try&#xA;        Dim c As Object = New With {.success = Success, .message = Message}&#xA;        Dim r As JsonResult = Json(c, JsonRequestBehavior.AllowGet)&#xA;        Return r&#xA;    End Function&#xA;&#xA;End Class&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Testing Images:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Debug:&#xA;&lt;a href=&quot;https://i.stack.imgur.com/RgjQO.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RgjQO.png&quot; alt=&quot;Values in a object Javascript&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/3D3dG.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/3D3dG.png&quot; alt=&quot;ActionResult in Controller&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""22041"" LastEditorUserId=""22041"" LastEditDate=""2018-03-20T00:40:56.737"" LastActivityDate=""2018-03-20T00:40:56.737"" Title=""No puedo pasar un Object por AJAX a una Function de Visual Basic"" Tags=""&lt;ajax&gt;&lt;vb.net&gt;&lt;webforms&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""150422"" PostTypeId=""1"" CreationDate=""2018-03-26T11:03:41.870"" Score=""1"" ViewCount=""863"" Body=""&lt;p&gt;Tengo una tabla que la consulto con PHP. Uno de los campos de cada registro es booleano, el cual si es OK, lo muestro con un glyphicons y si no es OK le pongo otro glyphicons. El tema es que me gustaría que al hacerle click al glyphicons lo activase o desactivase, es decir, que sea OK o no OK sin refrescar la página. Estoy viendo varios ejemplos de cómo hacerlo con jquery y AJAX pero no consigo que funcione nada... hay uno de ellos que consigo que haga el update en un php externo pero tengo que refrescar la página para poder ver los cambios... algún ejemplo disponible? gracias&lt;/p&gt;&#xA;&#xA;&lt;p&gt;JAVASCRIPT&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; $(function() {&#xA;&#xA;  $('#btnSi, #btnNo').on('click', function(e) {&#xA;    var elem = $(this);&#xA;    var activo = elem.text();&#xA;    var id = elem.val();&#xA;    var url = 'colleges_save2.php';&#xA;    e.preventDefault();&#xA;    var request = $.ajax({&#xA;      data: {id: id, activo:activo},&#xA;      type: &quot;POST&quot;,&#xA;      url: url,&#xA;      dataType: &quot;html&quot;&#xA;    });&#xA;&#xA;    request.done(function(text) {&#xA;      console.log(text);&#xA;      if (text == &quot;exitoso&quot;) {&#xA;        if (activo == '1') {&#xA;          elem.removeClass('glyphicon glyphicon-remove').addClass('glyphicon glyphicon-ok');&#xA;          //elem.text('1');&#xA;        } else {&#xA;          elem.removeClass('glyphicon glyphicon-ok').addClass('glyphicon glyphicon-remove');&#xA;          //elem.text('0');&#xA;        }&#xA;      }&#xA;    });&#xA;&#xA;    request.fail(function(jqXHR, textStatus) {&#xA;      alert(&quot;Error de petición: &quot; + textStatus);&#xA;    });&#xA;&#xA;  });&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;college_save2.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php include('dbcon.php'); ?&amp;gt;&#xA;&amp;lt;?php include('session.php');  &#xA;        $id = $_POST['id'];&#xA;        $data = explode(&quot;-&quot;,$_POST['id']); &#xA;        $campo = $data[0]; // nombre del campo&#xA;        $id = $data[1]; // id del registro &#xA;        $value = $data[2]; // valor por el cual reemplazar &#xA;&#xA;&#xA;        $query = mysql_query(&quot;UPDATE applications SET &quot;.$campo.&quot; = '&quot;.$value.&quot;' &#xA;WHERE id_application = '&quot;.$id.&quot;'&quot; ); &#xA;            //$sql = &quot;UPDATE applications SET `activo`='$activo' WHERE `id`='$id'&quot;;&#xA;echo (&quot;exitoso&quot;);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""25828"" LastEditorUserId=""25828"" LastEditDate=""2018-03-27T10:26:33.507"" LastActivityDate=""2018-03-27T10:26:33.507"" Title=""Actualizar campos dinámicamente con Jquery y AJAX"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""19"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""150621"" PostTypeId=""1"" CreationDate=""2018-03-26T20:38:31.813"" Score=""0"" ViewCount=""405"" Body=""&lt;p&gt;Me funcionaba perfecto hasta que use ajax.&#xA;Tienen ustedes alguna otra forma de hacerlo?&#xA;*Tienen bastantes filas de datos de #resultado seguidos de div.unicc&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Quiero que al darle en el + abra el .unicc siguiente&#xA;Alguien que me de solucion por favor.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(&quot;.Mostrar_Tabla&quot;).click(function(){&#xD;&#xA;  $trOcultar = $(this).parents(&quot;.todd&quot;).next(&quot;.unicc&quot;);&#xD;&#xA;&#xD;&#xA;  if ($trOcultar.is(&quot;:visible&quot;)) {&#xD;&#xA;      $trOcultar.css(&quot;display&quot;, &quot;none&quot;);&#xD;&#xA;  }&#xD;&#xA;  else {&#xD;&#xA;      $trOcultar.css(&quot;display&quot;, &quot;&quot;);&#xD;&#xA;  }&#xD;&#xA;  &#xD;&#xA;  //cuando use este ajax no funcionó más.&#xD;&#xA;$(buscar_datos());&#xD;&#xA;&#xD;&#xA;function buscar_datos(consulta){&#xD;&#xA;	$.ajax({&#xD;&#xA;		url: 'buscar.php' ,&#xD;&#xA;		type: 'POST' ,&#xD;&#xA;		dataType: 'html',&#xD;&#xA;		data: {consulta: consulta},&#xD;&#xA;	})&#xD;&#xA;	.done(function(respuesta){&#xD;&#xA;		$(&quot;#tabla_resultado&quot;).html(respuesta);&#xD;&#xA;	})&#xD;&#xA;	.fail(function(){&#xD;&#xA;		console.log(&quot;error&quot;);&#xD;&#xA;	});&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;$(document).on('keyup','#busqueda', function(){&#xD;&#xA;	var valor = $(this).val();&#xD;&#xA;	if (valor != &quot;&quot;) {&#xD;&#xA;		buscar_datos(valor);&#xD;&#xA;	}else{&#xD;&#xA;		buscar_datos();&#xD;&#xA;	}&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;todd col-md-12&quot; id=&quot;resultado&quot;&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;Mostrar_Tabla col-md-1&quot;&amp;gt;&amp;lt;b&amp;gt;+&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;99903053&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;50&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;unicc&quot; style=&quot;display:none;&quot;&amp;gt;&#xD;&#xA;Aqui esta un contenido oculto&#xD;&#xA; &amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;todd col-md-12&quot; id=&quot;resultado&quot;&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;Mostrar_Tabla col-md-1&quot;&amp;gt;&amp;lt;b&amp;gt;+&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;99903054&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;60&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;unicc&quot; style=&quot;display:none;&quot;&amp;gt;&#xD;&#xA;Aqui esta un contenido oculto&#xD;&#xA; &amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;todd col-md-12&quot; id=&quot;resultado&quot;&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;Mostrar_Tabla col-md-1&quot;&amp;gt;&amp;lt;b&amp;gt;+&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;99903055&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1&quot;&amp;gt;20&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;unicc&quot; style=&quot;display:none;&quot;&amp;gt;&#xD;&#xA;Aqui esta un contenido oculto&#xD;&#xA; &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""74625"" LastActivityDate=""2018-03-26T21:34:35.070"" Title=""jquery mostrar y ocultar elementos con click, interfiere con ajax"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""154941"" PostTypeId=""1"" CreationDate=""2018-04-11T14:08:25.763"" Score=""2"" ViewCount=""632"" Body=""&lt;p&gt;tengo la siguiente funcion&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function deleteItem(item_id) {&#xA;    var invoiceData = {&#xA;        'idt_id': item_id,&#xA;        'inv_id': $('#inv_id').val(),&#xA;        'inv_number': $('#inv_number').text(),&#xA;    };&#xA;&#xA;    $.ajax({&#xA;        type: 'GET',&#xA;        url: 'invoiceDetailDelete.php',&#xA;        data: invoiceData,&#xA;        dataType: 'json',&#xA;        encode: true&#xA;    })&#xA;        .done(function (invoiceData) {&#xA;            if (invoiceData.success) {&#xA;              alertify.success(invoiceData.message);&#xA;              // mas codigo...&#xA;            }&#xA;            else {&#xA;              alertify.error(invoiceData.message);&#xA;            }&#xA;        })&#xA;        .fail(function () {&#xA;           alertify.error(invoiceData.message);&#xA;        })&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;el archivo &lt;code&gt;invoiceDetailDelete.php&lt;/code&gt; borra el registro correctamente y regresa...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$invoiceData ['success'] = true;&#xA;$invoiceData ['message'] = &quot;Item Borrado con Exito!&quot;;&#xA;&#xA;echo json_encode($invoiceData);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;valor regresado es correcto&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{&quot;success&quot;:true,&quot;message&quot;:&quot;Item Borrado con Exito!&quot;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;pero nunca se ejecuta el &lt;code&gt;.done&lt;/code&gt;, el código nunca pasa por allí.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Cual puede ser el problema?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias por sus comentarios.&lt;/p&gt;&#xA;"" OwnerUserId=""72833"" LastEditorUserId=""72833"" LastEditDate=""2018-04-11T14:25:45.967"" LastActivityDate=""2018-04-12T15:48:42.050"" Title=""no se completa la llamada a .done en ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""10"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""155442"" PostTypeId=""1"" CreationDate=""2018-04-12T23:23:58.540"" Score=""1"" ViewCount=""30"" Body=""&lt;p&gt;Estoy realizando una aplicación en la cual requiero  agregar una imagen a la base de datos &lt;code&gt;MySQL&lt;/code&gt; mediante &lt;code&gt;Ajax&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Una de las primeras dudas con las que me he topado es que en algunos tutoriales utilizan la función &lt;code&gt;serialize()&lt;/code&gt; para obtener los datos de un &lt;code&gt;&amp;lt;form&amp;gt;&lt;/code&gt;. Mi duda es si se puede obtener el archivo y enviarlo mediante &lt;code&gt;JSON&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Código&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form&amp;gt;&#xA;    &amp;lt;div class=&quot;form-row&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;form-group col-5&quot;&amp;gt;&#xA;            &amp;lt;label&amp;gt;Nombre del Partido Político&amp;lt;/label&amp;gt;&#xA;            &amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;input-group-prepend&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-text&quot;&amp;gt;&#xA;                        &amp;lt;i class=&quot;fa fa-pencil&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;                    &amp;lt;/span&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;input type=&quot;text&quot; id=&quot;txtNombrePartido&quot; placeholder=&quot;PRI, PAN, PRD, Etc..&quot; class=&quot;form-control&quot;&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;div class=&quot;form-row&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;form-group col-8&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                &amp;lt;label for=&quot;&quot;&amp;gt;Cargar Imagen&amp;lt;/label&amp;gt;&#xA;                &amp;lt;label for=&quot;&quot;&amp;gt; (&amp;lt;small&amp;gt;Archivos Soportados &amp;lt;code&amp;gt;.JPG&amp;lt;/code&amp;gt;, &amp;lt;code&amp;gt;JPGE&amp;lt;/code&amp;gt; y&amp;lt;code&amp;gt;.PNG&amp;lt;/code&amp;gt;&amp;lt;/small&amp;gt;)&amp;lt;/label&amp;gt;&#xA;                &amp;lt;input type=&quot;file&quot; class=&quot;form-control-file&quot; id=&quot;fileImage&quot; name=&quot;fileImage&quot; accept=&quot;.jpg,jpge,.png,.ico&quot;&amp;gt;&#xA;            &amp;lt;/div&amp;gt;                                                              &#xA;        &amp;lt;/div&amp;gt;                                                  &#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;div class=&quot;form-row&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;form-group col-12&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;form-row justify-content-end&quot;&amp;gt;&#xA;                &amp;lt;button id=&quot;btnNPAceptar&quot; type=&quot;button&quot; class=&quot;btn btn-primary&quot;&amp;gt;Aceptar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;  &#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function nuevoPartido(partido,imagen){&#xA;$.ajax({&#xA;    url: '../../../../control/consultas/comparacionesAjax.php',&#xA;    type: 'POST',&#xA;    data: {Partido: partido, Imagen: imagen, Funcion: &quot;NuevoPartido&quot; },&#xA;})&#xA;.done(function(data) {&#xA;    console.log(data);&#xA;})&#xA;.fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;})&#xA;.always(function() {&#xA;    console.log(&quot;complete&quot;);&#xA;});&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;¿Cómo enviar imagen por ajax para agregarla a la base de datos?&lt;/p&gt;&#xA;"" OwnerUserId=""19533"" LastActivityDate=""2018-04-12T23:23:58.540"" Title=""¿Cómo enviar imagen por ajax para agregarla a la base de datos?"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;imagen&gt;"" AnswerCount=""0"" CommentCount=""0"" ClosedDate=""2018-04-13T18:39:04.613"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""155586"" PostTypeId=""1"" AcceptedAnswerId=""155737"" CreationDate=""2018-04-13T15:27:10.830"" Score=""0"" ViewCount=""218"" Body=""&lt;p&gt;Estoy aprendiendo a usar Ajax , así que realicé este código de práctica, el problema que me he encontrado es que no muestra mi notificación, cuando usé un &quot;Alert&quot; lo mostraba sin problema, pero ahora decidí usar el plugin &quot;toastr&quot; y ahora no lo muestra y no entiendo porque. Alguien podría decirme en que estoy fallando aún soy un aprendíz de ajax y jquery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;parte del código html y ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;frm&quot; method=&quot;post&quot;&amp;gt;&#xA;&#xA;  ADIVINAR PALABRA  &amp;lt;br&amp;gt;&#xA;  &amp;lt;input type=&quot;text&quot; id=&quot;palabra&quot; name=&quot;palabra&quot; class=&quot;form-control&quot; required&amp;gt;  &#xA; &amp;lt;button type=&quot;submit&quot; id=&quot;ingresar&quot;&amp;gt;ADIVINAR&amp;lt;/button&amp;gt;&#xA;&#xA;&amp;lt;/form&amp;gt;&#xA;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    $(document).ready(function(){&#xA;&#xA;      $('#ingresar').click(function(){&#xA;        var palabra = $('#palabra').val();&#xA;            $.ajax({&#xA;              method:&quot;POST&quot;,&#xA;              url:'peticion.php',&#xA;              data:{palabra:palabra},&#xA;                })&#xA;              .done(function(msg){&#xA;                  if (msg == 'OK') {&#xA;&#xA;                  toastr.success(&quot;ADIVINASTE&quot;, &quot;Exito&quot;)&#xA;&#xA;                  } else{&#xA;&#xA;                  toastr.error(&quot;NO ACERTASTE&quot;, &quot;Fallido&quot;);&#xA;&#xA;                  }&#xA;              })&#xA;              .fail( function (  jqXHR, textStatus, errorThrown ) {&#xA;                  alert( &quot;Request failed: &quot; + textStatus );&#xA;              });&#xA;    });&#xA;  });&#xA;&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;parte del código php &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$palabra=$_POST['palabra'];&#xA;&#xA;&#xA;  if ($palabra == &quot;carlos&quot;) {&#xA;      echo &quot;OK&quot;;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""83270"" LastEditorUserId=""69897"" LastEditDate=""2018-04-13T20:37:52.093"" LastActivityDate=""2018-04-14T00:07:19.727"" Title=""Ajax no muestra mi notificación"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""156005"" PostTypeId=""1"" CreationDate=""2018-04-15T19:47:48.160"" Score=""1"" ViewCount=""281"" Body=""&lt;p&gt;Estoy tratando de crear un sistema de verificación de dispositivos conectados en red por medio de &lt;code&gt;ICMP&lt;/code&gt; (ping). Todo el trabajo con respecto a la verificación lo hace &lt;code&gt;PHP&lt;/code&gt; (Funcional). Inicialmente lo que hago con la aplicación es mostrar los registros que simulan ser los dispositivos (dirección ip). Luego con un elemento tipo &lt;code&gt;button&lt;/code&gt; capturo el evento &lt;code&gt;click&lt;/code&gt; y hago una solicitud &lt;code&gt;ajax&lt;/code&gt;, que manda a traer los registros de dispositivos del gestor de base de datos; estos datos los extraigo en un objeto &lt;code&gt;JSON&lt;/code&gt;. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código PHP (&lt;code&gt;gn.TestingShowUsers.php&lt;/code&gt;):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    @session_start();&#xA;    #Importar constantes.&#xA;    include (@$_SESSION['getConsts']);&#xA;    include (PF_CONNECT_SERVER);&#xA;    include (PF_SSH);&#xA;&#xA;    $CN = new ConnectSSH();&#xA;    $CN-&amp;gt;ConnectDB($H, $U, $P, $D, $X);&#xA;&#xA;    $R = $CN-&amp;gt;getHostWithOutInterfaces();&#xA;    #Esto es lo importante...&#xA;    $jsondata = array();&#xA;&#xA;    if ($R-&amp;gt;num_rows &amp;gt; 0){&#xA;           $jsondata[&quot;success&quot;] = true;&#xA;           $jsondata[&quot;data&quot;][&quot;message&quot;] = sprintf(&quot;Se han encontrado %d registros&quot;, $R-&amp;gt;num_rows);&#xA;           $jsondata[&quot;data&quot;][&quot;hosts&quot;] = array();&#xA;           while ($row = $R-&amp;gt;fetch_object())&#xA;               $jsondata[&quot;data&quot;][&quot;hosts&quot;][] = $row;&#xA;    } else {&#xA;        $jsondata[&quot;success&quot;] = false;&#xA;        $jsondata[&quot;data&quot;] = array(&#xA;                &quot;message&quot; =&amp;gt; &quot;No se encontraron resultados&quot;&#xA;            );&#xA;    }&#xA;    header('Content-type: application/json; charset=utf-8');&#xA;    echo json_encode($jsondata, JSON_FORCE_OBJECT);&#xA;&#xA;    exit();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este código utiliza un par de clases para que todo funcione, lo muestro para que observen la estructura del &lt;code&gt;JSON&lt;/code&gt;. La petición &lt;code&gt;Ajax&lt;/code&gt; es la siguiente: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    var respuesta;&#xA;$(&quot;#TestingShowUsers&quot;).click(function(){&#xA;    $.ajax({&#xA;        url: &quot;app/Desktop/Root/php/gn.TestingShowUsers.php&quot;, &#xA;        type: &quot;post&quot;, &#xA;        dataType: &quot;json&quot;,&#xA;    })&#xA;    .done(function(response) {&#xA;        respuesta = response;&#xA;    })&#xA;    .fail(function( jqXHR, textStatus, errorThrown ) {&#xA;         if ( console &amp;amp;&amp;amp; console.log ) {&#xA;             console.log( &quot;La solicitud a fallado: &quot; +  textStatus);&#xA;         }&#xA;    })&#xA;    .then(function(){&#xA;        if (respuesta.success){&#xA;            $.each(respuesta.data.hosts, function( key, value ) {&#xA;                //recorremos los valores de cada dispositivo&#xA;                $.each( value, function ( userkey, uservalue) {&#xA;                    if (userkey == &quot;ip_host&quot;){&#xA;                        //Este lo ocupo para seleccione a una clase que ya está automatizada para aplicarle cambios.&#xA;                        var ClassParent = uservalue.split(&quot;.&quot;).slice(0,4).join(&quot;&quot;);&#xA;                        var parametros = {&#xA;                            &quot;ip_addr&quot; : uservalue,&#xA;                        }&#xA;                        $.ajax({&#xA;                            url: &quot;app/Desktop/Root/php/gn.CheckPing.php&quot;,&#xA;                            type: &quot;post&quot;,&#xA;                            data: parametros,&#xA;                            beforeSend: function() {&#xA;                                                                //Código para que el contenedor con la clase automatizada, cargue un loader antes de la ejecución de la petición.&#xA;                                NProgress.configure({ parent: '.host' + ClassParent });&#xA;                                NProgress.start();&#xA;                            }, &#xA;                            success: function(data){&#xA;                                                                //Que el proceso del loader, deje de continuar porque ya está verificado.&#xA;                                NProgress.done();&#xA;                            }&#xA;                        });&#xA;                    }&#xA;                });&#xA;            });&#xA;        }&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Script (&lt;code&gt;gn.CheckPing.php&lt;/code&gt;):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php&#xA;    @session_start();&#xA;    #Importar constantes.&#xA;    include (@$_SESSION['getConsts']);&#xA;    include (PD_DESKTOP_ROOT_PHP_CLASS.&quot;/gn.class.ping.php&quot;);&#xA;    $CD = new CheckDevice();&#xA;    #El retorno es 1 o 0. Aunque no tiene importancia porque en JS de momento no hago la verificación.&#xA;    echo ($CD-&amp;gt;ping($_POST['ip_addr'])) ? &quot;1&quot; : &quot;0&quot;;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El la solicitud al script: &lt;code&gt;gn.CheckPing.php&lt;/code&gt; no se manda a llamar después del &lt;code&gt;.then.&lt;/code&gt; Pero si luego doy otro click en el botón que vuelve a hacer las solicitudes, entonces sí es mandado a llamar, en este caso en el &lt;code&gt;JSON&lt;/code&gt; he mostrado 3 registros, lo cual si manda a ejecutar 3 veces con sus respectivos parámetros, ahí todo bien.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Problema:&lt;/strong&gt;&#xA;El código para cargar el &lt;code&gt;loader&lt;/code&gt;, se ejecuta asíncronamente, lo cual corre de una sola vez sin esperar la respuesta de las solicitudes, ya que antes de la solicitud necesito mostrar el &lt;code&gt;loader&lt;/code&gt; encima del contenedor que representa al dispositivo, luego de haber hecho la verificación, entonces pasaré al siguiente registro del objeto &lt;code&gt;JSON&lt;/code&gt; para que haga lo mismo con los demás. Pero el ciclo &lt;code&gt;$.each&lt;/code&gt; pasa de un solo toque, no espera que devuelva un resultado es por esa razón, cuando necesito que el primer contenedor del dispositivo presente el &lt;code&gt;loader&lt;/code&gt;, lo está presentando en el último contenedor porque ya pasó por todos sin haber verificado.&lt;/p&gt;&#xA;"" OwnerUserId=""81468"" LastEditorUserId=""4229"" LastEditDate=""2018-04-15T20:33:49.297"" LastActivityDate=""2018-04-19T14:52:10.600"" Title=""¿Cómo hacer la espera a las solicitudes de un Ajax dentro de otro?"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""156964"" PostTypeId=""1"" CreationDate=""2018-04-18T11:58:18.160"" Score=""1"" ViewCount=""256"" Body=""&lt;p&gt;Estoy haciendo pruebas para un aplicacion. Quiero hacer una peticion ajax con jquery a un archivo php y recibir de la misma una estructura xml.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La peticion con Jquery la hago asi:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $.post({&#xA;        url: 'php/procesar_xml.php',&#xA;        dataType: 'xml',&#xA;    })&#xA;    .done(respuesta)&#xA;    .fail(error);&#xA;&#xA;function respuesta(datos) {&#xA;    console.log(datos);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Esa una peticion sencilla que no manda datos ni nada. Solo quiero recibir la estructura xml. El archivo php lo tengo definido asi:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;?php&#xA;  header('Content-Type:text/xml');&#xA;  $xml='&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;';&#xA;  $xml.='&amp;lt;TRABAJADOR&amp;gt;';&#xA;  $xml.='&amp;lt;ID_TRABAJADOR&amp;gt;123456&amp;lt;/ID_TRABAJADOR&amp;gt;';&#xA;  $xml.='&amp;lt;NOMBRE_TRABAJADOR&amp;gt;juan&amp;lt;/NOMBRE_TRABAJADOR&amp;gt;';&#xA;  $xml.='&amp;lt;/TRABAJADOR&amp;gt;';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La peticion me devuelve el siguiente mensaje de error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Mensaje de error Error: Invalid XML: &#xA;&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;&amp;lt;TRABAJADOR&amp;gt;&amp;lt;ID_TRABAJADOR&amp;gt;123456&amp;lt;/ID_TRABAJADOR&amp;gt;&amp;lt;NOMBRE_TRABAJADOR&amp;gt;juan&amp;lt;/NOMBRE_TRABAJADOR&amp;gt;&amp;lt;/TRABAJADOR&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;He probado de varias maneras pero siempre me devuelve el mismo error.&#xA;¿A que se puede deber?&#xA;Un saludo.&lt;/p&gt;&#xA;"" OwnerDisplayName=""user82838"" LastEditorDisplayName=""user82838"" LastEditDate=""2018-04-18T14:00:11.540"" LastActivityDate=""2018-04-18T14:49:32.210"" Title=""Problemas al recibir xml por peticion ajax jquery"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;xml&gt;"" AnswerCount=""1"" CommentCount=""1"" ClosedDate=""2018-04-18T14:51:39.690"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""158060"" PostTypeId=""1"" AcceptedAnswerId=""158062"" CreationDate=""2018-04-21T21:35:16.010"" Score=""1"" ViewCount=""286"" Body=""&lt;p&gt;veran tengo un problema al enviar y recibir datos por AJAX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;He intentado hacer un login de usuario usando ajax pero no me ha resultado.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El codigo que tengo es el siguiente: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;FORMULARIO HTML Y FUNCIÓN AJAX: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;     &amp;lt;!DOCTYPE html&amp;gt;&#xA;     &amp;lt;html lang=&quot;en&quot;&amp;gt;&#xA;      &amp;lt;head&amp;gt;&#xA;      &amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&amp;gt;&#xA;       &amp;lt;!-- Meta, title, CSS, favicons, etc. --&amp;gt;&#xA;      &amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;      &amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&amp;gt;&#xA;       &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&amp;gt;&#xA;&#xA;       &amp;lt;title&amp;gt;Login | &amp;lt;/title&amp;gt;&#xA;&#xA;&amp;lt;!-- Bootstrap --&amp;gt;&#xA;      &amp;lt;link href=&quot;../vendors/bootstrap/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&amp;lt;!-- Font Awesome --&amp;gt;&#xA;       &amp;lt;link href=&quot;../vendors/font-awesome/css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;         &amp;lt;!-- NProgress --&amp;gt;&#xA;        &amp;lt;link href=&quot;../vendors/nprogress/nprogress.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;        &amp;lt;!-- Animate.css --&amp;gt;&#xA;        &amp;lt;link href=&quot;../vendors/animate.css/animate.min.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&#xA;&amp;lt;!-- Custom Theme Style --&amp;gt;&#xA;        &amp;lt;link href=&quot;../build/css/custom.min.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;        &amp;lt;/head&amp;gt;&#xA;&#xA;        &amp;lt;body class=&quot;login&quot;&amp;gt;&#xA;         &amp;lt;div id=&quot;box&quot;&amp;gt;&#xA;&#xA;       &amp;lt;div class=&quot;login_wrapper&quot;&amp;gt;&#xA;         &amp;lt;div class=&quot;animate form login_form&quot;&amp;gt;&#xA;&#xA;         &amp;lt;div id=&quot;mensaje&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;form action=&quot;&quot; id=&quot;formLogin&quot;&amp;gt;&#xA;          &amp;lt;h1&amp;gt;Acceso al Sistema&amp;lt;/h1&amp;gt;&#xA;          &amp;lt;div&amp;gt;&#xA;            &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id =&quot;user&quot; placeholder=&quot;Ingrese su Usuario&quot; required=&quot;&quot; name=&quot;user&quot; /&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;          &amp;lt;div&amp;gt;&#xA;            &amp;lt;input type=&quot;password&quot; class=&quot;form-control&quot; id =&quot;clave&quot; placeholder=&quot;Ingrese su Contraseña&quot; required=&quot;&quot; name=&quot;clave&quot; /&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;          &amp;lt;div&amp;gt;&#xA;            &amp;lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; id=&quot;login&quot; value=&quot;Ingresar&quot; /&amp;gt;&#xA;            &amp;lt;a class=&quot;reset_pass&quot; href=&quot;#&quot;&amp;gt;¿Ha olvidado su contraseña?&amp;lt;/a&amp;gt;&#xA;            &amp;lt;a class=&quot;signUp&quot; href=&quot;register.php&quot;&amp;gt;Registrate!&amp;lt;/a&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;&#xA;          &amp;lt;div class=&quot;clearfix&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;          &amp;lt;div class=&quot;separator&quot;&amp;gt;&#xA;&#xA;            &amp;lt;div class=&quot;clearfix&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;            &amp;lt;br /&amp;gt;&#xA;              &amp;lt;br&amp;gt;&#xA;&#xA;            &amp;lt;div&amp;gt;&#xA;              &amp;lt;h1&amp;gt;&amp;lt;i class=&quot;fa fa-paw&quot;&amp;gt;&amp;lt;/i&amp;gt; MiPagina!&amp;lt;/h1&amp;gt;&#xA;              &amp;lt;p&amp;gt;©2018 MiPagina. Todos los Derechos Reservados&amp;lt;/p&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;       &amp;lt;script src=&quot;js/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;         &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;&#xA;             $(document).on('submit', '#formLogin', function (e) {&#xA;&#xA;&#xA;                    e.preventDefault();&#xA;&#xA;                     $.ajax({&#xA;                      url: '../Modelos/Login.php',&#xA;                       type: 'POST',&#xA;                       dataType: 'json',&#xA;                       data: $(this).serialize(),&#xA;                       beforeSend: function() {&#xA;&#xA;                             }&#xA;                            })&#xA;                       .done(function(respuesta) {&#xA;&#xA;                      console.log(respuesta);&#xA;&#xA;                      if (!respuesta.error) {&#xA;&#xA;         var id = respuesta.id_user,&#xA;          usuario = respuesta.username,&#xA;          nombre = respuesta.nombre,&#xA;          apellido = respuesta.apellido,&#xA;          tipo = respuesta.tipo_user;&#xA;&#xA;        location.href = &quot;main.php&quot;;&#xA;&#xA;      } else {&#xA;&#xA;        $(&quot;#mensaje&quot;).html(&quot;ERROR!&quot;);&#xA;      }&#xA;&#xA;           })&#xA;          .fail(function(resp) {&#xA;           console.log(resp.responseText);&#xA;             })&#xA;            .always(function() {&#xA;           console.log(&quot;Completado...&quot;);&#xA;             });&#xA;&#xA;                }); //fin de la función&#xA;&#xA;            &amp;lt;/script&amp;gt;&#xA;             &amp;lt;/body&amp;gt;&#xA;          &amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ARCHIVO PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    require &quot;../../model/Conexion.php&quot;;&#xA;&#xA;&#xA;                    $username= $_POST['user']; &#xA;&#xA;                    $password= $_POST['clave']; &#xA;&#xA;                $sentencia = &quot;SELECT * FROM user_dashboard WHERE username='$username' AND password='$password'&quot;;&#xA;&#xA;            $result=mysqli_query($conexion, $sentencia);&#xA;&#xA;                $count=mysqli_num_rows($result);&#xA;&#xA;                $row=mysqli_fetch_array($result,MYSQLI_ASSOC);&#xA;&#xA;                    header('Content-Type: application/json');&#xA;&#xA;                    if($count==1)&#xA;                        {               &#xA;                        $array_result = array('error' =&amp;gt; false, 'id_user' =&amp;gt; $row['id_user'], 'username' =&amp;gt; $row['username'], 'nombre' =&amp;gt; $row['nombre'], 'apellido' =&amp;gt; $row['apellido'], 'tipo_user' =&amp;gt; $row['tipo_user']);&#xA;&#xA;                        echo json_encode($array_result);&#xA;&#xA;                        } else {&#xA;                        echo json_encode(array('error' =&amp;gt; true));&#xA;&#xA;                            }&#xA;&#xA;                        $conexion-&amp;gt;close();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CONEXION CON MYSQL:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        $conexion = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;&quot;, &quot;usuarios&quot;);&#xA;&#xA;         if (mysqli_connect_errno()) {&#xA;          printf(&quot;Connect failed: %s\n&quot;, mysqli_connect_error());&#xA;            exit();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cuando introduzco mi usuario y clave en el formulario, no hace absolutamente nada, no redirecciona a la pagina main.php Revise en la consola a ver que respuesta habia obtenido y me sale este error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        &amp;lt;br /&amp;gt;&#xA;            &amp;lt;b&amp;gt;Fatal error&amp;lt;/b&amp;gt;:  Uncaught Error: Call to undefined function jason_encode() in C:\xampp\htdocs\solventas\dashboard\Modelos\login.php:24&#xA;          Stack trace:&#xA;               #0 {main}&#xA;           thrown in &amp;lt;b&amp;gt;C:\xampp\htdocs\solventas\dashboard\Modelos\login.php&amp;lt;/b&amp;gt; on line &amp;lt;b&amp;gt;24&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ejecute php -m y json si me aparece entre los modulos. La verdad no entiendo cual es el problema. He utilizado json en otras ocasiones con php para realizar diversas operaciones. Pero es primera vez que lo uso con ajax. &#xA;No se exactamente qué estoy haciendo mal. Alguna ayuda que puedan darme ?&lt;/p&gt;&#xA;"" OwnerUserId=""67796"" LastEditorUserId=""67796"" LastEditDate=""2018-04-21T21:38:08.147"" LastActivityDate=""2018-04-21T21:38:08.147"" Title=""Problemas con AJAX y JSON Fatal error: Uncaught Error: Call to undefined function jason_encode()"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""158868"" PostTypeId=""1"" CreationDate=""2018-04-24T20:27:08.203"" Score=""0"" ViewCount=""389"" Body=""&lt;p&gt;Estaba respondiendo a una pregunta en la que se trataba de enviar solamente parte de un formulario al servidor vía Ajax, y enviar también un archivo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Crée un objeto &lt;code&gt;FormData&lt;/code&gt; al cual le agregué los datos de la parte del formulario que interesaba y el archivo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero el código me estaba dando el error: &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;TypeError: Can only call FormData.append on instances of FormData&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;El problema se resolvió al agregar en la parte de Ajax lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;            contentType: false,&#xA;            processData: false,&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cuando el código fallaba yo no le había puesto el parámetro &lt;code&gt;processData&lt;/code&gt;, y en el &lt;code&gt;contentType&lt;/code&gt; tenía &lt;code&gt;multipart/form-data;&lt;/code&gt;, (lo cual era lo lógico para mi).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo que no entiendo es por qué el código fallaba y daba ese error si realmente lo que estaba enviando era un formulario &lt;code&gt;multipart&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Alguien sabe a qué se debe ese comportamiento de Ajax y si hay una mejor manera de hacerlo?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el código, el cual funciona, lo que no entiendo es por qué hay que poner esos dos atributos como &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$( function() { &#xA;&#xA;  $('#btnSend').click(function(e) {&#xA;    e.preventDefault();&#xA;    var partialData = $(this).closest('fieldset').serialize();&#xA;    var csvFile=$('#csvInput')[0].files[0];&#xA;    var formData = new FormData();&#xA;    formData.append('data',partialData); &#xA;    formData.append('file', csvFile);&#xA;&#xA;    var request = $.ajax&#xA;        ({&#xA;            url: 'action.php',&#xA;            method: 'POST',&#xA;            contentType: false,&#xA;            processData: false,&#xA;            data: formData,&#xA;            dataType: 'json'&#xA;        });&#xA;&#xA;        request.done(function( msg )&#xA;        {&#xA;            console.log(&quot;hecho: &quot;+msg);&#xA;        });&#xA;&#xA;        request.fail(function( jqXHR, textStatus )&#xA;        {&#xA;            alert( &quot;Hubo un error: &quot; + textStatus );&#xA;        });&#xA;&#xA;  });    &#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""29967"" LastActivityDate=""2018-04-24T20:27:08.203"" Title=""¿Por qué ocurre el error: TypeError: Can only call FormData.append on instances of FormData?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;formdata&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""164716"" PostTypeId=""1"" AcceptedAnswerId=""166571"" CreationDate=""2018-05-15T22:02:25.893"" Score=""1"" ViewCount=""14470"" Body=""&lt;p&gt;Bueno en realidad no tengo mucha experiencia en programacion apenas voy iniciando en el mundo y me enfrento a este problema de ir pidiendo informacion de mi bd mediante un lector de escaner y agregarlo a una tabla de informacion cada vez que se escanee un nuevo elemento se vaya agregando a la lista.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Busqueda.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$servidor = 'localhost';&#xA;$base_datos = 'netapp';&#xA;$usuario = 'root';&#xA;$clave = '';&#xA;/* Dos métodos de poner el juego de caracteres en utf-8 */&#xA;$conexion = new PDO(&#xA;  &quot;mysql:host=${servidor};dbname=${base_datos};charset=utf8&quot;,&#xA;  $usuario,&#xA;  $clave,&#xA;  [&#xA;    PDO::MYSQL_ATTR_INIT_COMMAND =&amp;gt; &quot;SET NAMES 'UTF8'&quot;&#xA;  ]&#xA;);&#xA;/* No es necesario y no es recomendable hacerlo así */&#xA;/*$conexion-&amp;gt;exec(&quot;SET CHARACTER SET utf8&quot;);*/&#xA;/* Preparamos la consulta SQL */&#xA;$res = $conexion-&amp;gt;prepare('&#xA;  SELECT *&#xA;  FROM caratulasalida&#xA;  WHERE dn = :codigo&#xA;');&#xA;/* Asignamos el parámetro al valor enviado por POST */&#xA;$res-&amp;gt;bindValue(&#xA;  ':codigo',&#xA;  $_POST['codigo'],&#xA;  PDO::PARAM_STR&#xA;);&#xA;/* Ejecutamos la consulta */&#xA;$res-&amp;gt;execute();&#xA;/* Devolvemos el registro obtenido como respuesta en JSON */&#xA;header(&quot;Content-type: application/json; charset=utf-8&quot;);&#xA;echo json_encode($res-&amp;gt;fetch(PDO::FETCH_ASSOC));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;listado.html&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;    &amp;lt;html lang=&quot;en&quot;&amp;gt;&#xA;    &amp;lt;head&amp;gt;&#xA;        &amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;&#xA;        &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&amp;gt;&#xA;        &amp;lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&amp;gt;&#xA;        &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;estilos.css&quot;&amp;gt;&#xA;        &amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot; integrity=&quot;sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;        &amp;lt;title&amp;gt;Document&amp;lt;/title&amp;gt;&#xA;    &amp;lt;/head&amp;gt;&#xA;    &amp;lt;body&amp;gt;&#xA;&#xA;&#xA;    &amp;lt;form id=&quot;codigobarras&quot;&amp;gt;&#xA;      &amp;lt;input type=&quot;text&quot; name=&quot;codigo&quot; value=&quot;&quot; /&amp;gt;&#xA;      &amp;lt;input type=&quot;submit&quot; /&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&#xA;    &amp;lt;table id=&quot;tabla&quot;&amp;gt;&#xA;      &amp;lt;thead&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;          &amp;lt;th&amp;gt;id&amp;lt;/th&amp;gt;&#xA;          &amp;lt;th&amp;gt;net_app_po&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;customer_np&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;qty&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;rev&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;boxes_by_po&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;dn&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;create_date_asn&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;shipping_address&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;description&amp;lt;/th&amp;gt;&#xA;                &amp;lt;th&amp;gt;so_number&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;      &amp;lt;/thead&amp;gt;&#xA;      &amp;lt;tbody id=&quot;registros&quot;&amp;gt;&#xA;&#xA;      &amp;lt;/tbody&amp;gt;&#xA;    &amp;lt;/table&amp;gt;&#xA;&#xA;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;&#xA;    /* Tras cargar el documento posicionamos el cursor en el lector de código de barras */&#xA;    document.addEventListener('DOMContentLoaded', function() {&#xA;    let codigobarras = document.getElementById('codigobarras');&#xA;    /* Ponemos el foco en el campo &quot;codigo&quot; */&#xA;    codigobarras.codigo.focus();&#xA;    /* Capturamos el evento de envío de formulario (pulsar ENTER o pulsar Enviar) */&#xA;    codigobarras.addEventListener(&quot;submit&quot;, function(e) {&#xA;    /* Evitamos el envío real del formulario */&#xA;    e.preventDefault();&#xA;    /* Hacemos la llamada al API (busqueda.php o el API de ejemplo) */&#xA;    $.ajax( &quot;busqueda.php&quot; )&#xA;    .done(function(datos) {&#xA;        /* Depuramos los datos recibidos */&#xA;        console.log( datos );&#xA;        /* Si no se devolvió ningún registro (false) debería hacerse algo */&#xA;        if (datos === false) {&#xA;            /* hacer algo */&#xA;            return;&#xA;        }&#xA;        /* Agregamos una fila con los datos obtenidos */&#xA;        $('#registros').append($('&amp;lt;tr&amp;gt;')&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.id ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.net_app_po ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.customer_np ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.qty ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.rev ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.boxes_by_po ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.dn ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.create_date_asn ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.shipping_address ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.description ))&#xA;            .append($('&amp;lt;td&amp;gt;').append( datos.so_number ))&#xA;        );&#xA;    })&#xA;    .fail(function() {&#xA;            alert( &quot;Error&quot; );&#xA;    })&#xA;    .always(function() {&#xA;        /* Seleccionamos el texto para que se pueda sobreescribir por la siguiente lectura */&#xA;        $(&quot;input[name='codigo']&quot;).select();&#xA;    });&#xA;    });&#xA;    }, false);&#xA;&#xA;    &amp;lt;/script&amp;gt;&#xA;    &amp;lt;/body&amp;gt;&#xA;    &amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y para hacer limpieza de la pagina y agregar nuevos elemento al otro dia por asi decirlo utilizar un boton.&#xA;espero me puedan ayudar gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""66255"" LastEditorUserId=""66255"" LastEditDate=""2018-05-23T19:01:12.807"" LastActivityDate=""2019-01-07T19:10:03.070"" Title=""Escanear código y mostrar información en pantalla con PHP,MySql y Ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""17"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""166150"" PostTypeId=""1"" AcceptedAnswerId=""166164"" CreationDate=""2018-05-20T22:57:58.983"" Score=""0"" ViewCount=""346"" Body=""&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function () {&#xD;&#xA;    var click = $('.click');&#xD;&#xA;    click.on('click', function () {&#xD;&#xA;        var id = $(this).data('id');&#xD;&#xA;        usuario = '&amp;lt;?php $idMesero;?&amp;gt;';&#xD;&#xA;        for (var i = 1; i &amp;lt;= 14; i++) {&#xD;&#xA;            switch (id) {&#xD;&#xA;                case i:&#xD;&#xA;                    //$('#' + id).addClass(presionado);&#xD;&#xA;                    //time(id);&#xD;&#xA;                    var request = $.ajax({&#xD;&#xA;                        method: 'GET',&#xD;&#xA;                        url: '../php/funciones.php', //el archivo server .php al que quieres enviar                    &#xD;&#xA;                        data: {&#xD;&#xA;                            dato: id,&#xD;&#xA;                            user: usuario //dato que quieres enviar&#xD;&#xA;                        },&#xD;&#xA;                        dataType: 'json' //el tipo de dato tambien puede ser text&#xD;&#xA;                    });&#xD;&#xA;&#xD;&#xA;                    request.done(function (response) {&#xD;&#xA;                        if (response.status) {&#xD;&#xA;                            alert('Success: ' + response.result + &quot;\n Message: &quot; + response.message);&#xD;&#xA;                            //window.location.href = '../php/ordena.php';&#xD;&#xA;                        } else {&#xD;&#xA;                            alert('Error: ' + response.message);&#xD;&#xA;                            //window.location.href = window.location.href;&#xD;&#xA;                        }&#xD;&#xA;                    });&#xD;&#xA;&#xD;&#xA;                    request.fail(function (jqXHR, textStatus) {&#xD;&#xA;                        alert(&quot;Server request failed: &quot; + textStatus);&#xD;&#xA;                        //window.location.href = '';&#xD;&#xA;                    });&#xD;&#xA;                    break;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    });&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;    require 'conexion.php';&#xD;&#xA;    #require 'login.php';&#xD;&#xA;    require 'include/datosHamburguesas.php';&#xD;&#xA;&#xD;&#xA;if(isset($_GET) &amp;amp;&amp;amp; isset($_GET['dato'] &amp;amp;&amp;amp; isset($_GET['usuario'])){&#xD;&#xA;    header('Content-Type: application/json');&#xD;&#xA;&#xD;&#xA;    $identificador = $_GET['dato'];&#xD;&#xA;    $usuario = $_GET['usuario'];&#xD;&#xA;    if($identificador == 1){&#xD;&#xA;        $inserta = &quot;INSERT INTO $comanda (idComanda, idEmpleado, idProductos, fechaCom, noMesa, cantidadProd) &#xD;&#xA;                                VALUES (3, $usuario, $idH, CURDATE(), 20, 1)&quot;;&#xD;&#xA;        $con-&amp;gt;query($inserta);&#xD;&#xA;        echo json_encode(array(//pruebas si funciona imprimiendolo&#xD;&#xA;            'status' =&amp;gt; 1,&#xD;&#xA;            'result' =&amp;gt; $identificador,&#xD;&#xA;            'message' =&amp;gt; &quot;listo&quot;&#xD;&#xA;        ), true);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;quiero obtener un registro de una tabla con ajax y, luego poder pasarlo a otro archivo php.&#xA;Osea en una tabla tengo el id de un usuario y, lo quiero recuperar con ajax para despues poder usarlo en un insert, en otro archivo php.&lt;/p&gt;&#xA;"" OwnerUserId=""74420"" LastEditorUserId=""74420"" LastEditDate=""2018-05-20T23:27:06.927"" LastActivityDate=""2018-05-21T00:31:48.423"" Title=""Consulta en ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""167822"" PostTypeId=""1"" AcceptedAnswerId=""168715"" CreationDate=""2018-05-25T16:42:24.570"" Score=""1"" ViewCount=""798"" Body=""&lt;p&gt;Tengo una table donde se me muestran la informacion que mando llamar desde mi BD mediante un campo llamado DN, el detalle es que necesito validar que al momento de llamar dos veces o mas el mismo DN no me aparesca en mi tabla de informacion si no una sola vez. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;listado.html&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;section&amp;gt;&#xA;    &amp;lt;form id=&quot;codigobarras&quot;&amp;gt;&#xA;      &amp;lt;input type=&quot;text&quot; name=&quot;codigo&quot; value=&quot;&quot;  placeholder=&quot;Escanear Codigo de Barras del DN&quot; class=&quot;codigo&quot;/&amp;gt;&#xA;      &amp;lt;button type=&quot;button&quot; name=&quot;button&quot; class=&quot;boton&quot; id=&quot;boton&quot;&amp;gt;Descargar  &amp;lt;i class=&quot;fas fa-cloud-download-alt&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;&#xA;   &amp;lt;/form&amp;gt;    &#xA;&amp;lt;/section&amp;gt;&#xA;&#xA;&amp;lt;section class=&quot;tsect&quot;&amp;gt;&#xA;    &amp;lt;table class=&quot;grilla&quot; id=&quot;tabla&quot;&amp;gt;&#xA;        &amp;lt;thead&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;             &amp;lt;th&amp;gt;Id&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;NetApp Po&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Customer Np&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Qty&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Rev&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Boxes by Po&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Dn&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Create Date asn&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Shipping Address&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;Description&amp;lt;/th&amp;gt;&#xA;             &amp;lt;th&amp;gt;So Number&amp;lt;/th&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/thead&amp;gt;&#xA;                &amp;lt;tbody id=&quot;registros&quot;&amp;gt;&#xA;&#xA;                &amp;lt;/tbody&amp;gt;&#xA;            &amp;lt;/table&amp;gt;&#xA;&#xA;                &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;&#xA;        /* Tras cargar el documento posicionamos el cursor en el lector de código de barras */&#xA;document.addEventListener('DOMContentLoaded', function() {&#xA;    let codigobarras = document.getElementById('codigobarras');&#xA;    /* Ponemos el foco en el campo &quot;codigo&quot; */&#xA;    codigobarras.codigo.focus();&#xA;    /* Capturamos el evento de envío de formulario (pulsar ENTER o pulsar Enviar) */&#xA;    codigobarras.addEventListener(&quot;submit&quot;, function(e) {&#xA;        /* Evitamos el envío real del formulario */&#xA;        e.preventDefault();&#xA;        /*agregamos el if para condicionar la validacion*/&#xA;        if(&quot;input[name='codigo']&quot;==&quot;input[name='codigo']&quot;){&#xA;             alert &quot;No se puede agregar codigos repetidos&quot;; &#xA;             return &#xA;         }if(&quot;input[name='codigo']&quot;!=&quot;input[name='codigo']&quot;){ &#xA;             alert &quot;aqui no se como plasmar para que se agrege&quot;; &#xA;         }&#xA;        /* Hacemos la llamada al API (busqueda.php o el API de ejemplo) */&#xA;        $.ajax({&#xA;            url: 'busqueda.php',&#xA;            method: 'post',&#xA;            data: {&#xA;                codigo: codigobarras.codigo.value,&#xA;            },&#xA;        })&#xA;        .done(function(datos) {&#xA;            /* Depuramos los datos recibidos */&#xA;            console.log( datos );&#xA;            /* Si no se devolvió ningún registro (false) debería hacerse algo */&#xA;            if (datos === false) {&#xA;                /* hacer algo */&#xA;                alert('No se encontró el código de barras');&#xA;                return;&#xA;            }&#xA;            /* Agregamos una fila con los datos obtenidos */&#xA;            $('#registros').append($('&amp;lt;tr&amp;gt;')&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.id ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.net_app_po ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.customer_np ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.qty ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.rev ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.boxes_by_po ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.dn ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.create_date_asn ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.shipping_address ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.description ))&#xA;                    .append($('&amp;lt;td&amp;gt;').append( datos.so_number ))&#xA;            );&#xA;        })&#xA;        .fail(function() {&#xA;                alert( &quot;Error&quot; );&#xA;        })&#xA;        .always(function() {&#xA;            /* Seleccionamos el texto para que se pueda sobreescribir por la siguiente lectura */&#xA;            $(&quot;input[name='codigo']&quot;).select();&#xA;        });&#xA;    });&#xA;}, false);&#xA;&#xA;        &amp;lt;/script&amp;gt;&#xA;        &amp;lt;/section&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;busqueda.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$servidor = 'localhost';&#xA;$base_datos = 'net';&#xA;$usuario = 'root';&#xA;$clave = '';&#xA;/* Dos métodos de poner el juego de caracteres en utf-8 */&#xA;$conexion = new PDO(&#xA;  &quot;mysql:host=${servidor};dbname=${base_datos};charset=utf8&quot;,&#xA;  $usuario,&#xA;  $clave,&#xA;  [&#xA;    PDO::MYSQL_ATTR_INIT_COMMAND =&amp;gt; &quot;SET NAMES 'UTF8'&quot;&#xA;  ]&#xA;);&#xA;&#xA;/* Preparamos la consulta SQL */&#xA;$res = $conexion-&amp;gt;prepare('SELECT * FROM caratulasalida WHERE dn = :codigo');&#xA;/* Asignamos el parámetro al valor enviado por POST */&#xA;$res-&amp;gt;bindValue(':codigo', $_POST['codigo'], PDO::PARAM_STR);&#xA;/* Ejecutamos la consulta */&#xA;$res-&amp;gt;execute();&#xA;/* Devolvemos el registro obtenido como respuesta en JSON */&#xA;header(&quot;Content-type: application/json; charset=utf-8&quot;);&#xA;echo json_encode($res-&amp;gt;fetch(PDO::FETCH_ASSOC));&#xA;&#xA;&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""66255"" LastEditorUserId=""66255"" LastEditDate=""2018-05-25T18:08:41.950"" LastActivityDate=""2018-05-29T05:56:54.727"" Title=""Como validar la duplicidad de registros llamados desde BD con PHP y Ajax"" Tags=""&lt;php&gt;&lt;html&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""171120"" PostTypeId=""1"" CreationDate=""2018-06-06T18:21:57.007"" Score=""0"" ViewCount=""188"" Body=""&lt;p&gt;Lo que ocupo es mandar desde javascript un archivo sin que contenga html, dicho de otra forma de forma automática, desde una especie de form data o de la forma posible.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Hasta ahorita tengo lo siguiente &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;            cache: false,&#xA;            url: base_url+&quot;index.php/xml_seminuevos/envio_automatico/&quot;,&#xA;            dataType: 'json'&#xA;        })&#xA;        .done(function(data) {&#xA;            $.each(data.agencias, function(index, value){&#xA;                if(value['saved'] == &quot;ko&quot;){&#xA;                    $(&quot;#resultados&quot;).append(&quot;&amp;lt;h1&amp;gt;Error en la generacion del archivo para la sucursal &quot;+value['Renault_id']+&quot;&amp;lt;/h1&amp;gt;&quot;);        &#xA;                }&#xA;                else&#xA;                {&#xA;                    $(&quot;#resultados&quot;).append(&quot;&amp;lt;h1&amp;gt;Archivo Generado con exito para la sucursal &quot;+value['Renault_id']+&quot;&amp;lt;/h1&amp;gt;&quot;);&#xA;                    $(&quot;#resultados&quot;).append(&quot;&amp;lt;h1&amp;gt;Comenzando envio para la sucursal  &quot;+value['Renault_id']+&quot;&amp;lt;/h1&amp;gt;&quot;);&#xA;&#xA;&#xA;                }&#xA;&#xA;        })&#xA;        .fail(function() {&#xA;            $(&quot;#resultados&quot;).append(&quot;&amp;lt;h1&amp;gt;Error al ejecutar la funcion&amp;lt;/h1&amp;gt;&quot;);&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aquí lo que hace es que en la función &lt;code&gt;envio_Automatico&lt;/code&gt; genera un zip  y quisiera saber como madar ese zip que acabo de generar en otra petición ajax sin intervención del usuario se me ocurrio que con un form data se puede pero no se que colocar como valor.&lt;/p&gt;&#xA;"" OwnerUserId=""89992"" LastEditorDisplayName=""user22721"" LastEditDate=""2018-06-06T18:25:31.327"" LastActivityDate=""2018-06-06T18:57:39.053"" Title=""Como mandar archivo en petición post vía ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""171847"" PostTypeId=""1"" CreationDate=""2018-06-08T23:17:17.020"" Score=""0"" ViewCount=""138"" Body=""&lt;p&gt;Tengo un JavaScript que corre un audio, cabe mencionar que uso ASP.NET y usa SignalR, la cuestión aquí es que cuando carga la pantalla, en ocasiones el sonido entra en un ciclo y se reproduce hasta el infinito les dejo el código a continuación&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function () {&#xA;    // Declare a proxy to reference the hub.&#xA;    var notifications = $.connection.MyHub;&#xA;&#xA;    //debugger;&#xA;    // Create a function that the hub can call to broadcast messages.&#xA;    notifications.client.updateMessages = function () {&#xA;        getAllMessages()&#xA;&#xA;    };&#xA;    // Start the connection.&#xA;    $.connection.hub.start().done(function () {&#xA;        //alert(&quot;connection started&quot;)&#xA;        //notifications.onconn();&#xA;        getAllMessages();&#xA;    }).fail(function (e) {&#xA;        alert(e);&#xA;    });&#xA;});&#xA;//var colorBk = &quot;&quot;, llamadaBk;&#xA;function getAllMessages()&#xA;{&#xA;    var tbl = $('#messagesTable');&#xA;    var today = new Date();&#xA;    var dd = today.getDate();&#xA;    var mm = today.getMonth() + 1;&#xA;    var yyyy = today.getFullYear();&#xA;    var audio = document.getElementById('audio');&#xA;&#xA;    if (dd &amp;lt; 10) {&#xA;        dd = '0' + dd&#xA;    }&#xA;&#xA;    if (mm &amp;lt; 10) {&#xA;        mm = '0' + mm&#xA;    }&#xA;&#xA;&#xA;    $.ajax({&#xA;        url: '/Home/GetMessages',&#xA;        contentType: 'application/html ; charset:utf-8',&#xA;        type: 'GET',&#xA;        dataType: 'html'&#xA;    }).success(function (result) {&#xA;        var a2 = JSON.parse(result);&#xA;        tbl.empty();&#xA;        $.each(a2, function (key, value) {&#xA;&#xA;&#xA;            //alert(colorBk);&#xA;            //$(&quot;#date&quot;).html(&quot;&amp;lt;b&amp;gt;&quot; + dd + '/' + mm + '/' + yyyy + &quot;&amp;lt;/b&amp;gt;&quot;);&#xA;            //document.getElementById(&quot;date&quot;).innerHTML = dd + '/' + mm + '/' + yyyy;&#xA;            $(&quot;#descripcionANDON&quot;).html(&quot;&amp;lt;b&amp;gt;&quot; + value.status + &quot;&amp;lt;/b&amp;gt;&quot;);&#xA;            document.bgColor = value.color;&#xA;            //$(&quot;#tab&quot;).html(&quot;&amp;lt;audio id='audio' controls&amp;gt;&amp;lt;source type='audio/wav' src=''&amp;gt;&amp;lt;/audio&amp;gt;&quot;);&#xA;            tbl.append('&amp;lt;tr&amp;gt;' + '&amp;lt;td&amp;gt;' + value.maquina + '&amp;lt;/td&amp;gt;' + '&amp;lt;/tr&amp;gt;');&#xA;&#xA;            if (value.color == 'Red') {&#xA;                audio.setAttribute('src', '/sounds/InicioParo.wav');&#xA;            } else if (value.color == 'Yellow') {&#xA;                audio.setAttribute('src', '/sounds/GM140A MMTO.mp3');&#xA;            } else {&#xA;                audio.setAttribute('src', '/sounds/FinParo.wav');&#xA;&#xA;                if (value.status == '') {&#xA;                    $(&quot;#descripcionANDON&quot;).html(&quot;&amp;lt;b&amp;gt; Operación Iniciada &amp;lt;/b&amp;gt;&quot;);&#xA;                    document.bgColor = &quot;Green&quot;&#xA;                }&#xA;            }&#xA;             audio = document.getElementById('audio');&#xA;     audio.play();               &#xA;        });&#xA;        //alert(audio.paused);&#xA;&#xA;&#xA;&#xA;        //if (audio.duration &amp;gt; 0 &amp;amp;&amp;amp; !audio.paused) {&#xA;&#xA;        //} else {&#xA;&#xA;&#xA;        //}&#xA;&#xA;    })&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""33656"" LastActivityDate=""2018-06-08T23:17:17.020"" Title=""Audio Infinito En Javascript"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;web&gt;&lt;signalr&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""172791"" PostTypeId=""1"" CreationDate=""2018-06-13T04:51:21.693"" Score=""1"" ViewCount=""344"" Body=""&lt;p&gt;Tengo el siguiente método en el controller, el cual regresa un respuesta tipo json a la vista, para mostrar en un dialogo si hay o no datos en la bd de acuerdo a la informacion de los parámetros que le paso a mi servicio.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;	&#xD;&#xA;@RequestMapping(value=&quot;view/obtieneInfo&quot;)&#xD;&#xA;@ResponseStatus(HttpStatus.OK)&#xD;&#xA;@ResponseBody&#xD;&#xA;public  JsonResponse obtieneInfor(@ResponseBody Factura fact, HttpServletRequest request, HttpServletResponse respons) throws ControlException{&#xD;&#xA;&#xD;&#xA;JsonResponse response = new JsonResponse();&#xD;&#xA;response.setExito(0);&#xD;&#xA;response.setDatos(null);&#xD;&#xA;&#xD;&#xA;try{&#xD;&#xA;List&amp;lt;Factura&amp;gt; factList = obtieneInfoService.consultaDatos(id, cvePag, fecha);&#xD;&#xA;if(factList !=null &amp;amp;&amp;amp; !factList.isEmpty){&#xD;&#xA; response.setExito(1);&#xD;&#xA; response.setDatos(factList);&#xD;&#xA;&#xD;&#xA;}else{&#xD;&#xA;  log.info(&quot;Esta vacio&quot;);&#xD;&#xA;}&#xD;&#xA;}catch(ControlException e){&#xD;&#xA;   throw new ControlException(&quot;Error&quot;, e);&#xD;&#xA;}&#xD;&#xA;return response;&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es mi código de la vista, el cual valida campos y cuando se llenan los campos y se da click en el boton, se le pasan esos parámetros al servicio, y manda un dialogo para informar si hay o no datos, y si los hay que descargue un archivo con esos datos&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xD;&#xA;&#xD;&#xA;function consultar(){&#xD;&#xA;var valido = true;&#xD;&#xA;var valId = document.getElementaryById('idPago').value;&#xD;&#xA;var valClavePago = document.getElementaryById('clavePago').value;&#xD;&#xA;var valFecha = document.getElementaryById('fechaPago').value;&#xD;&#xA;&#xD;&#xA;if(valId.trim() ==&quot;&quot; &amp;amp;&amp;amp; valClavePago.trim() == &quot;&quot; &amp;amp;&amp;amp; valFecha.trim() == &quot;&quot;){&#xD;&#xA;&#xD;&#xA;  HelperDialogs.mostrar(&quot;Debes ingresar al menos un valor&quot;);&#xD;&#xA;  valido = false;&#xD;&#xA;}&#xD;&#xA;  return valido;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;function obtieneInf(){&#xD;&#xA;	if(consultar()){&#xD;&#xA;		if(!HelperForm.valido(consulta, validator)){&#xD;&#xA;			return;&#xD;&#xA;			&#xD;&#xA;		}else{&#xD;&#xA;			&#xD;&#xA;			var data = Helper.obtenerJsonForm(consulta);&#xD;&#xA;			var url=&quot;${pageContext.request.contextPath}/view/obtieneInfo&quot;;&#xD;&#xA;			$.ajax({&#xD;&#xA;				type:&quot;POST&quot;,&#xD;&#xA;				contentType: &quot;application/json&quot;,&#xD;&#xA;				url: url,&#xD;&#xA;				data: data,&#xD;&#xA;				dataType: 'json',&#xD;&#xA;			success: function(response){&#xD;&#xA;				if(response.exito==1){&#xD;&#xA;					HelperDialogo.mostrar(&quot;Si hay registros&quot;);&#xD;&#xA;				}else{&#xD;&#xA;					HelperDialogo.mostrar(&quot;No se encontraron registros&quot;);&#xD;&#xA;				}&#xD;&#xA;&#xD;&#xA;			},&#xD;&#xA;			error: function(response){&#xD;&#xA;				HelperDialogo.mostrarError(response);&#xD;&#xA;			}&#xD;&#xA;&#xD;&#xA;			});&#xD;&#xA;		}&#xD;&#xA;	}&#xD;&#xA;}&#xD;&#xA;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;form:form id=&quot;consulta&quot; modelAttribute=&quot;consultaForm&quot;&amp;gt;&#xD;&#xA;  &amp;lt;tr&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;ID/label&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot;  id=&quot;idPago&quot; path=&quot;id&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   &amp;lt;/tr&amp;gt;&#xD;&#xA;   &#xD;&#xA;   &amp;lt;tr&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;CLAVE PAGO&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot; id=&quot;clavePago&quot; path=&quot;clavePago&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   &amp;lt;/tr&amp;gt;&#xD;&#xA;   &#xD;&#xA;   &amp;lt;tr&amp;gt;&#xD;&#xA;   &#xD;&#xA;   &#xD;&#xA;   &amp;lt;tr&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;FECHA PAGO&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot; id=&quot;fechaPago&quot; path=&quot;fechaPago&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;    &amp;lt;input type=&quot;button&quot; onclick=&quot;obtieneInf()&quot;&amp;gt;&amp;lt;/input&amp;gt;&#xD;&#xA;   &amp;lt;/tr&amp;gt;&#xD;&#xA;&amp;lt;/form:form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y lo hace de forma correcta, el problema se presenta  al momento de agregarle el código para que realice la descarga de un archivo con la informacion que regresa &#xA;la consulta, el código queda así:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;@RequestMapping(value=&quot;view/obtieneInfo&quot;)&#xD;&#xA;@ResponseStatus(HttpStatus.OK)&#xD;&#xA;@ResponseBody&#xD;&#xA;public  JsonResponse obtieneInfor(@ResponseBody Factura fact, HttpServletRequest request, HttpServletResponse respons) throws ControlException{&#xD;&#xA;&#xD;&#xA;JsonResponse response = new JsonResponse();&#xD;&#xA;response.setExito(0);&#xD;&#xA;response.setDatos(null);&#xD;&#xA;&#xD;&#xA;try{&#xD;&#xA;List&amp;lt;Factura&amp;gt; factList = obtieneInfoService.consultaDatos(id, cvePag, fecha);&#xD;&#xA;if(factList !=null &amp;amp;&amp;amp; !factList.isEmpty){&#xD;&#xA; response.setExito(1);&#xD;&#xA; response.setDatos(factList);&#xD;&#xA; &#xD;&#xA; response.addHeader(&quot;Content-Type&quot;, &quot;application/csv&quot;);&#xD;&#xA; response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=archivo.csv&quot;);&#xD;&#xA; &#xD;&#xA; PrintWriter out = response.getWriter();&#xD;&#xA;			out.write(&quot;columna1,columna2,columna3&quot;);&#xD;&#xA;			out.write(&quot;\n&quot;);&#xD;&#xA;			&#xD;&#xA;			for(Factura factu: factList){&#xD;&#xA;				out.write(factu.toCSVRepresentation());&#xD;&#xA;				out.write(&quot;\n&quot;);&#xD;&#xA;			}&#xD;&#xA;			 out.flush();&#xD;&#xA;			 out.close();&#xD;&#xA;&#xD;&#xA;}else{&#xD;&#xA;  log.info(&quot;Esta vacio&quot;);&#xD;&#xA;}&#xD;&#xA;}catch(ControlException e){&#xD;&#xA;   throw new ControlException(&quot;Error&quot;, e);&#xD;&#xA;}&#xD;&#xA;return response;&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y manda ese error: servlet API cannot call getOutputStream() after getWriter()&lt;/p&gt;&#xA;&#xA;&lt;p&gt;a que se debe ese error?, que me hace falta?&#xA;y es que ademas, si hago la descarga del archivo en este mismo método ,este va a contener todo el html de la pagina, y la informacion de la consulta&lt;/p&gt;&#xA;&#xA;&lt;p&gt;entonces mejor borre el código de la descarga del archivo en el metodo json, y agregue otro  método igual al anterior, pero void, y así el archivo ya no contiene todo el html de la pagina, pero no recoge los datos de los input, los deja como null y pues no hace nada&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el nuevo método que agregue, pero no recoge los datos de los input, y me manda mensaje de que no hay datos, por que estan nullos, ademas pues estaría repitiendo código, como le puedo hacer?, o cual es la manera correcta de hacer la descarga del archivo?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;@RequestMapping(value=&quot;view/obtieneArchivo&quot;)&#xD;&#xA;public  void obtieneArchivo(@ResponseBody Factura fact, HttpServletRequest request, HttpServletResponse response) throws ControlException{&#xD;&#xA;&#xD;&#xA;try{&#xD;&#xA;List&amp;lt;Factura&amp;gt; factList = obtieneInfoService.consultaDatos(id, cvePag, fecha);&#xD;&#xA;if(factList !=null &amp;amp;&amp;amp; !factList.isEmpty){&#xD;&#xA; &#xD;&#xA; response.addHeader(&quot;Content-Type&quot;, &quot;application/csv&quot;);&#xD;&#xA; response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=archivo.csv&quot;);&#xD;&#xA; &#xD;&#xA; PrintWriter out = response.getWriter();&#xD;&#xA;			out.write(&quot;columna1,columna2,columna3&quot;);&#xD;&#xA;			out.write(&quot;\n&quot;);&#xD;&#xA;			&#xD;&#xA;			for(Factura factu: factList){&#xD;&#xA;				out.write(factu.toCSVRepresentation());&#xD;&#xA;				out.write(&quot;\n&quot;);&#xD;&#xA;			}&#xD;&#xA;			 out.flush();&#xD;&#xA;			 out.close();&#xD;&#xA;&#xD;&#xA;}else{&#xD;&#xA;  log.info(&quot;Esta vacio&quot;);&#xD;&#xA;}&#xD;&#xA;}catch(ControlException e){&#xD;&#xA;   throw new ControlException(&quot;Error&quot;, e);&#xD;&#xA;}&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y agregue esta funcion a mi jsp&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;function descargaArchivo(){&#xD;&#xA;	&#xD;&#xA;	var url=&quot;${pageContext.request.contextPath}/view/obtieneArchivo&quot;;&#xD;&#xA;	$.fileDownload(url)&#xD;&#xA;	  .done(&#xD;&#xA;	    function(){&#xD;&#xA;			Helper.muestraInf(&quot;Se descargo correctamente&quot;);&#xD;&#xA;		}&#xD;&#xA;	  &#xD;&#xA;	  )&#xD;&#xA;	.fail(&#xD;&#xA;		function(){&#xD;&#xA;			Helper.muestraInf(&quot;Ocurrio un  error en la descarga&quot;);&#xD;&#xA;		}&#xD;&#xA;	);&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ojala me puedan ayudar, apenas empiezo con esto y no entiendo muchas cosas, gracias&lt;/p&gt;&#xA;"" OwnerUserId=""12815"" LastActivityDate=""2018-06-13T09:13:26.923"" Title=""Ayuda con el error: cannot call getOutputStream() after getWriter(), al intentar realizar una descarga de archivo en java?"" Tags=""&lt;javascript&gt;&lt;java&gt;&lt;ajax&gt;&lt;spring&gt;&lt;csv&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""173070"" PostTypeId=""1"" CreationDate=""2018-06-14T04:59:25.223"" Score=""0"" ViewCount=""113"" Body=""&lt;p&gt;Tengo un método que recupera datos del formulario, y los pasa como parámetros a un método del servicio para realizar la consulta, este método me regresa una respuesta json, y en la vista me manda un mensaje si es que hay datos o no datos en la consulta.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora lo que quiero hacer es obtener el resultado de ese query, y si hay datos, que me descargue un archivo con esa informacion y si no, que muestre el mensaje, para ello tengo dos métodos en el controller, uno el de la respuesta json y el otro el que tiene la funcionalidad de la descarga del archivo, al cual le paso la lista que obtuve del primer método &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@RequestMapping(value=&quot;view/obtieneInfo&quot;)&#xA;@ResponseStatus(HttpStatus.OK)&#xA;@ResponseBody&#xA;public  JsonResponse obtieneInfor(@ResponseBody Factura fact, HttpServletRequest request, HttpServletResponse respons) throws ControlException{&#xA;&#xA;JsonResponse response = new JsonResponse();&#xA;response.setExito(0);&#xA;response.setDatos(null);&#xA;&#xA;try{&#xA;List&amp;lt;Factura&amp;gt; factList = obtieneInfoService.consultaDatos(id, cvePag, fecha);&#xA;if(factList !=null &amp;amp;&amp;amp; !factList.isEmpty){&#xA; response.setExito(1);&#xA; response.setDatos(factList);&#xA;&#xA;}else{&#xA;  log.info(&quot;Esta vacio&quot;);&#xA;}&#xA;}catch(ControlException e){&#xA;   throw new ControlException(&quot;Error&quot;, e);&#xA;}&#xA;return response;&#xA;}&#xA;&#xA;&#xA;&#xA;@RequestMapping(value=&quot;view/obtieneArchivo&quot;)&#xA;public  void obtieneArchivo(HttpServletRequest request, HttpServletResponse response, @RequestParam (&quot;factList&quot;) String [] factList ) throws ControlException{&#xA;&#xA;try{&#xA;&#xA;if(factList !=null){&#xA;&#xA; response.addHeader(&quot;Content-Type&quot;, &quot;application/csv&quot;);&#xA; response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=archivo.csv&quot;);&#xA;&#xA; PrintWriter out = response.getWriter();&#xA;            out.write(&quot;columna1,columna2,columna3&quot;);&#xA;            out.write(&quot;\n&quot;);&#xA;&#xA;            for(String factu: factList){&#xA;                out.write(factu.toCSVRepresentation());&#xA;                out.write(&quot;\n&quot;);&#xA;            }&#xA;             out.flush();&#xA;             out.close();&#xA;&#xA;}else{&#xA;  log.info(&quot;Esta vacio&quot;);&#xA;}&#xA;}catch(ControlException e){&#xA;   throw new ControlException(&quot;Error&quot;, e);&#xA;}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En mi entidad Factura, tengo este método:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public String toCSV(){&#xA;  StringBuilder builder = new StringBuilder();&#xA;  builder.append(getId()).append(“,”),&#xA;.&#xA;.&#xA;.&#xA;return builder.toString(),&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y este es mi código de la vista, en el cual tengo dos funciones, una se llama obtienInf(), y lo que hace es  pues pasar la respuesta del json y validar si hay o no datos, y tengo otra función que se llama descarga(), la cual contiene la url de mi método 2 que realiza la descarga del archivo, y esta función la mando a llamar dentro de obtieneInf(), en la parte donde valida que si haya datos&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function obtieneInf(){&#xA;    if(consultar()){&#xA;        if(!HelperForm.valido(consulta, validator)){&#xA;            return;&#xA;&#xA;        }else{&#xA;&#xA;            var data = Helper.obtenerJsonForm(consulta);&#xA;            var url=&quot;${pageContext.request.contextPath}/view/obtieneInfo&quot;;&#xA;            $.ajax({&#xA;                type:&quot;POST&quot;,&#xA;                contentType: &quot;application/json&quot;,&#xA;                url: url,&#xA;                data: data,&#xA;                dataType: 'json',&#xA;            success: function(response){&#xA;                if(response.exito==1){&#xA;                    HelperDialogo.mostrar(&quot;Si hay registros&quot;);&#xA;                  factList = response.datos;&#xA;                   descarga(factList);&#xA;                }else{&#xA;                    HelperDialogo.mostrar(&quot;No se encontraron registros&quot;);&#xA;                }&#xA;&#xA;            },&#xA;            error: function(response){&#xA;                HelperDialogo.mostrarError(response);&#xA;            }&#xA;&#xA;            });&#xA;        }&#xA;    }&#xA;}&#xA;&#xA;function descarga(factList){&#xA;&#xA;    var url=&quot;${pageContext.request.contextPath}/view/obtieneArchivo?factList=&quot; +factList;&#xA;    $.fileDownload(url)&#xA;      .done(&#xA;        function(){&#xA;            Helper.muestraInf(&quot;Se descargo correctamente&quot;);&#xA;        }&#xA;&#xA;      )&#xA;    .fail(&#xA;        function(){&#xA;            Helper.muestraInf(&quot;Ocurrio un  error en la descarga&quot;);&#xA;        }&#xA;    );&#xA;}&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;form:form id=&quot;consulta&quot; modelAttribute=&quot;consultaForm&quot;&amp;gt;&#xA;  &amp;lt;tr&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;ID/label&amp;gt;&amp;lt;/td&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot;  id=&quot;idPago&quot; path=&quot;id&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xA;   &amp;lt;/tr&amp;gt;&#xA;&#xA;   &amp;lt;tr&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;CLAVE PAGO&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot; id=&quot;clavePago&quot; path=&quot;clavePago&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xA;   &amp;lt;/tr&amp;gt;&#xA;&#xA;   &amp;lt;tr&amp;gt;&#xA;&#xA;&#xA;   &amp;lt;tr&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;label&amp;gt;FECHA PAGO&amp;lt;/label&amp;gt;&amp;lt;/td&amp;gt;&#xA;    &amp;lt;td&amp;gt;&amp;lt;form: input type=&quot;text&quot; id=&quot;fechaPago&quot; path=&quot;fechaPago&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xA;    &amp;lt;input type=&quot;button&quot; onclick=&quot;obtieneInf()&quot;&amp;gt;&amp;lt;/input&amp;gt;&#xA;   &amp;lt;/tr&amp;gt;&#xA;&amp;lt;/form:form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y al llenar mi formulario y hacer click en el boton, me lanza un mensaje diciendo que si hay datos, que es lo que tengo en mi funcion y despues me manda otro mensaje de que ocurrio un error en la descarga, que es del metodo descarga() y me lanza el error:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Failed to convrt value of type java.lang.String to required type util.List; nested exception is java.lang.IllegalStateException cannot convert value of type String to required type com.mx.Entity&lt;/p&gt;&#xA;&#xA;&lt;p&gt;que esta mal, mi método del controller al pasarle la lista?, o como le hago para que me descargue el archivo?&#xA;esta bien mi método de descarga()?, cuando en la url tengo&#xA;&quot;${pageContext.request.contextPath}/view/obtieneArchivo?factList=&quot; +factList;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Necesito su ayuda, gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""12815"" LastEditorUserId=""12815"" LastEditDate=""2018-06-15T03:36:49.513"" LastActivityDate=""2018-06-15T03:36:49.513"" Title=""Ayuda, Como gestionar la descarga de un archivo usando $.fileDownload desde un controller?"" Tags=""&lt;javascript&gt;&lt;java&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;spring&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""179051"" PostTypeId=""1"" CreationDate=""2018-07-09T21:37:29.183"" Score=""0"" ViewCount=""652"" Body=""&lt;p&gt;el navegador me bota este error al tratar de consumir API, no se que puede ser:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Failed to load&#xA;  &lt;a href=&quot;https://bitscoinmarketcap.com/ws/v1/ticker/?coinName=bitcoin&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://bitscoinmarketcap.com/ws/v1/ticker/?coinName=bitcoin&lt;/a&gt;: No&#xA;  'Access-Control-Allow-Origin' header is present on the requested&#xA;  resource. Origin 'null' is therefore not allowed access.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;mi código:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA; url: 'https://bitscoinmarketcap.com/ws/v1/ticker/?coinName=bitcoin',&#xA; type: &quot;get&quot;,&#xA; dataType: 'json',&#xA;})&#xA;.done(function(recursos) {&#xA; console.log(recursos)&#xA;})&#xA;.fail(function() {&#xA;console.log(&quot;error api&quot;);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""87122"" LastEditorUserId=""81482"" LastEditDate=""2018-07-09T21:38:48.787"" LastActivityDate=""2021-08-17T03:08:45.773"" Title=""ayuda tengo un error al consumir api desde ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;api&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""181633"" PostTypeId=""1"" AcceptedAnswerId=""181699"" CreationDate=""2018-07-16T05:06:51.987"" Score=""0"" ViewCount=""906"" Body=""&lt;p&gt;Amigos por favor necesito ayuda no se porque ajax no me trae el resultado de la petición cuando envio datos de mi formulario. Si alguien por lo menos me explicara cual es mi error y de que se trata?. Gracias.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo que yo se, es que cuando envío mis datos al .php mediante ajax inserto al asuario y efectivamente lo hace pero en mi condición donde valida si se ejecuto la consulta esta mi variable que aguarda el resultado que debo llevar al html, pero no pasa nada. No me muestra el alert e igual me muestra ese error cuando recargo en otra página:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi código:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;document.getElementById(&quot;enviar&quot;).onclick = function() {&#xA;    RegistrarUsuario();&#xA;};&#xA;&#xA;String.prototype.isEmpty = function() {&#xA;  return (this.length === 0 || !this.trim());&#xA;};&#xA;&#xA;&#xA;&#xA;     function RegistrarUsuario(){&#xA;    var comprobar = false;&#xA;    //Datos proporcionado por el usuario&#xA;    js_matricula =$(&quot;#matricula_1&quot;).val();&#xA;    js_nombre =$(&quot;#nombre_1&quot;).val();&#xA;    js_apellido_pa =$(&quot;#apellido_pa_1&quot;).val();&#xA;    js_apellido_ma =$(&quot;#apellido_ma_1&quot;).val();&#xA;    js_carrera = $('#id_carrera').val();&#xA;&#xA;var arreglo = new Array(js_matricula, js_nombre,js_apellido_pa,js_apellido_ma);&#xA;for(var i=0; i&amp;lt;arreglo.length; i++){&#xA;    if(arreglo[i].isEmpty()){&#xA;         comprobar = true;&#xA;         break;&#xA;    }&#xA;}&#xA;&#xA;if(comprobar){&#xA;    alert(&quot;Por favor, no deje ningun campo sin texto.&quot;);&#xA;    return;&#xA;}&#xA;&#xA;var request = $.ajax({&#xA;  url: &quot;Verificacion/Validar_Entrada.php&quot;,&#xA;  method: &quot;POST&quot;,&#xA;  data:{ matricula:js_matricula, nombre:js_nombre, apellido_pa:js_apellido_pa, apellido_ma:js_apellido_ma, id_carrera: js_carrera},&#xA;  dataType:&quot;jsonp&quot;,&#xA;  jsonp:&quot;jsoncallback&quot;,&#xA;  crossDomain: true,&#xA;  cache: false&#xA;});&#xA;&#xA;request.done(function( data ) {&#xA;          if(data.estado==&quot;exito&quot;){&#xA;              alert(&quot;Muy bien&quot;);&#xA;          }else{&#xA;              alert(&quot;Algo inesperado a ocurrido, por favor intentelo más tarde.&quot;);&#xA;          }&#xA;});&#xA;&#xA;request.fail(function( jqXHR, textStatus ) {&#xA;alert( &quot;Error en la petición: &quot; + textStatus );&#xA;});&#xA;&#xA;return false;&#xA; }   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Mi .php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php&#xA;&#xA;  header(&quot;Content-type: application/json&quot;);&#xA;&#xA;&#xA;    $matricula = $_GET['matricula'];&#xA;    $nombre = $_GET['nombre'];&#xA;    $apellido_pa = $_GET['apellido_pa'];&#xA;    $apellido_ma = $_GET['apellido_ma'];&#xA;    $id_carrera = $_GET['id_carrera'];&#xA;    $id_carrera =  (!empty($id_carrera))  ?  $id_carrera  : NULL ;&#xA;&#xA;&#xA;&#xA;    $datos = array();&#xA;&#xA;    $nombre = trim($nombre , &quot; &quot;);&#xA;    $apellido_pa = trim($apellido_pa , &quot; &quot;);&#xA;    $apellido_ma = trim($apellido_ma , &quot; &quot;);&#xA;&#xA;    //Deja solo un espacio en blanco entre palabras&#xA;    $nombre  = preg_replace( &quot;([ ]+)&quot;,&quot; &quot;,$nombre);&#xA;    $apellido_pa  = preg_replace( &quot;([ ]+)&quot;,&quot; &quot;,$apellido_pa);&#xA;    $apellido_ma  = preg_replace( &quot;([ ]+)&quot;,&quot; &quot;,$apellido_ma);&#xA;&#xA;&#xA;&#xA;    include_once('Conexion/Abrir_Conexion.php');&#xA;&#xA;    $sql = &quot;INSERT INTO alumno (matricula, nombre, apellido_pa, apellido_ma, id_carrera) &#xA;             VALUES &#xA;            (?, ?, ?, ?, ?)&quot;;&#xA;&#xA;    $sentencia=$conexion-&amp;gt;prepare($sql);&#xA;    $sentencia-&amp;gt;bind_param(&quot;isssi&quot;, $matricula, $nombre, $apellido_pa, $apellido_ma, $id_carrera);&#xA;&#xA;    if($sentencia-&amp;gt;execute()){&#xA;        $datos[&quot;estado&quot;] = &quot;exito&quot;; &#xA;    }else{&#xA;        $datos[&quot;estado&quot;] = &quot;error&quot;;&#xA;    }&#xA;&#xA;    $sentencia-&amp;gt;close();&#xA;    $conexion-&amp;gt;close();&#xA;&#xA;    $resultadoJson = json_encode($datos);&#xA;    echo $_GET['jsoncallback'] . '(' . $resultadoJson . ');';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Amigos realice cambios que ustedes me sugerieron pero ahora no me manda el error no se si es el dataType, porque aun así no me manda el alert(de que si esta bien o mal ni el error me arroja);  solo inserta registros recarga la página y de nuevo otra vez.  Que esta pasando ???&lt;/p&gt;&#xA;"" OwnerUserId=""93428"" LastEditorUserId=""93428"" LastEditDate=""2018-07-16T17:45:02.620"" LastActivityDate=""2018-07-16T20:02:14.820"" Title=""Error en consola al enviar datos del formulario mediante Ajax"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""182314"" PostTypeId=""1"" CreationDate=""2018-07-18T17:38:21.317"" Score=""0"" ViewCount=""4463"" Body=""&lt;p&gt;estoy desarrollando un sistema de ventas, y en la ventana de ticket tengo el boton buscar que permite ir a otra pagina con el listado de articulos. Este consta dfe dos botones. Uno es agregar que añade el producto en cuestion a un array de detalles del objeto ticket(trabajo con MVC y POO), y elotro un terminado que retorna a la ventana anterior&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Clase ticket  y detalle.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;require_once (&quot;includes/claseConexion.php&quot;);&#xD;&#xA;require_once (&quot;claseProducto.php&quot;);&#xD;&#xA;&#xD;&#xA;class detalleTicket{&#xD;&#xA;    &#xD;&#xA;    private $idp;&#xD;&#xA;    private $precio;&#xD;&#xA;    private $cantidad;&#xD;&#xA;    private $nombre;&#xD;&#xA;    private $subtotal;&#xD;&#xA;    &#xD;&#xA;   &#xD;&#xA;   public function __construct($id,$pu,$cant,$nom){&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;idp=$id;&#xD;&#xA;    $this-&amp;gt;precio=$pu;&#xD;&#xA;    $this-&amp;gt;cantidad=$cant;&#xD;&#xA;    $this-&amp;gt;nombre=$nom;&#xD;&#xA;    $this-&amp;gt;subtotal= ($this-&amp;gt;cantidad * $this-&amp;gt;precio);&#xD;&#xA;   &#xD;&#xA;   }&#xD;&#xA;   public function setSubtoal($sub){&#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;subtotal=$sub;&#xD;&#xA;    &#xD;&#xA;   }&#xD;&#xA;   public function actualizaCantidad($nueva){&#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;cantidad=$this-&amp;gt;cantidad + $nueva;&#xD;&#xA;    $sub= $this-&amp;gt;cantidad * $this-&amp;gt;precio;&#xD;&#xA;     $this-&amp;gt;setSubtoal($sub);    &#xD;&#xA;    &#xD;&#xA;   }&#xD;&#xA;}&#xD;&#xA;class Ticket{&#xD;&#xA;  private $id;&#xD;&#xA;  private $detalle = array();&#xD;&#xA;  private $fecha;&#xD;&#xA;  private $hora;&#xD;&#xA;  private $total;&#xD;&#xA;  private $stm;&#xD;&#xA;  private $vuelto; &#xD;&#xA;  &#xD;&#xA;  public function __construct($f,$h){&#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;fecha=$f;&#xD;&#xA;    $this-&amp;gt;hora=$h;&#xD;&#xA;    &#xD;&#xA;  }&#xD;&#xA;  public function agregaDetalle($d){&#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;detalle[] = $d;&#xD;&#xA;  } &#xD;&#xA;  public function setTotal($val){&#xD;&#xA;    &#xD;&#xA;    $this-&amp;gt;total=$val;&#xD;&#xA;    &#xD;&#xA;  }&#xD;&#xA;public function listarArt(){&#xD;&#xA;    &#xD;&#xA;  return $this-&amp;gt;detalle();&#xD;&#xA;}&#xD;&#xA;public function registrar(){&#xD;&#xA;    //me conecto a la bd&#xD;&#xA;    $conexion = Conexion::singleton_conexion(); &#xD;&#xA; try{&#xD;&#xA;&#xD;&#xA;    $conexion-&amp;gt;beginTransaction();&#xD;&#xA;    $queryid=&quot;select comprobante from identificadores;&quot;; &#xD;&#xA;     $array=$conexion-&amp;gt;query($queryid);&#xD;&#xA;   foreach($array as $a){&#xD;&#xA;    $id = $a['comprobante'];&#xD;&#xA;      }&#xD;&#xA; &#xD;&#xA;  $qnuevoid=&quot;UPDATE identificadores SET comprobante=&quot;.++$id.&quot;;&quot;;&#xD;&#xA;  $conexion-&amp;gt;query($qnuevoid);&#xD;&#xA;  &#xD;&#xA;        $queryticket=&quot;insert into despensa.ticket (idticket, fecha, total,vuelto) values (&quot;.$id.&quot;,'&quot;.$this-&amp;gt;fecha.&quot;',56,88);&quot;;&#xD;&#xA;		$conexion-&amp;gt;query($queryticket);&#xD;&#xA;&#xD;&#xA;   $conexion-&amp;gt;commit();&#xD;&#xA;   &#xD;&#xA; }catch(Exception $e){&#xD;&#xA;   $conexion-&amp;gt;rollBack();&#xD;&#xA;     echo &quot;Fallo: &quot; . $e-&amp;gt;getMessage(); &#xD;&#xA; }&#xD;&#xA; &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El problema que tengo es que quiero listar los articulos añadidos al carrito al retornar a la pagina y me da un error de parseo de JSON: REQUESTED JSON PARSE FAILED.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Para lo mismo tengo un codigo jquery intermedio y un archivo de poroceso:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function() {&#xD;&#xA;listarDetalle();&#xD;&#xA;&#xD;&#xA;});&#xD;&#xA;function listarDetalle(){&#xD;&#xA;     var accion=&quot;listar&quot;;&#xD;&#xA;    $.ajax({&#xD;&#xA;       &#xD;&#xA;            type: &quot;POST&quot;,&#xD;&#xA;            url: &quot;../gestionweb/includes/php/procesoDetalle.php&quot;,&#xD;&#xA;            data: { &quot;accion&quot;:accion}, &#xD;&#xA;            dataType: &quot;json&quot;,&#xD;&#xA;            error: function(){&#xD;&#xA;                alert(&quot;error petición ajax&quot;);&#xD;&#xA;            },&#xD;&#xA;            &#xD;&#xA;            success: function(data){&#xD;&#xA;           content=data;&#xD;&#xA;               for (var i = 0; i &amp;lt; data.length; i++) {&#xD;&#xA;          &#xD;&#xA;                var newRow =&#xD;&#xA;                    &quot;&amp;lt;tr&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&quot; + data[i].idproducto + &quot;&amp;lt;/td&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&quot; + data[i].nombre + &quot;&amp;lt;/td&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&quot; + data[i].marca + &quot;&amp;lt;/td&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&quot; + data[i].categoria + &quot;&amp;lt;/td&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&quot; + data[i].precio + &quot;&amp;lt;/td&amp;gt;&quot; +&#xD;&#xA;                    &quot;&amp;lt;td&amp;gt;&amp;lt;input type='radio' id='&quot;+data[i].idproducto+&quot;' name='seleccion'/&amp;gt;&amp;lt;/td&amp;gt;&quot;+&#xD;&#xA;                    &quot;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;                $(newRow).appendTo(&quot;#resultado tbody&quot;);                 &#xD;&#xA;       &#xD;&#xA;    &#xD;&#xA;               &#xD;&#xA;            }&#xD;&#xA;        &#xD;&#xA;  &#xD;&#xA;&#xD;&#xA;        } &#xD;&#xA;        &#xD;&#xA;}).fail( function( jqXHR, textStatus, errorThrown ) {&#xD;&#xA;&#xD;&#xA;  if (jqXHR.status === 0) {&#xD;&#xA;&#xD;&#xA;    alert('Not connect: Verify Network.');&#xD;&#xA;&#xD;&#xA;  } else if (jqXHR.status == 404) {&#xD;&#xA;&#xD;&#xA;    alert('Requested page not found [404]');&#xD;&#xA;&#xD;&#xA;  } else if (jqXHR.status == 500) {&#xD;&#xA;&#xD;&#xA;    alert('Internal Server Error [500].');&#xD;&#xA;&#xD;&#xA;  } else if (textStatus === 'parsererror') {&#xD;&#xA;&#xD;&#xA;    alert('Requested JSON parse failed.');&#xD;&#xA;&#xD;&#xA;  } else if (textStatus === 'timeout') {&#xD;&#xA;&#xD;&#xA;    alert('Time out error.');&#xD;&#xA;&#xD;&#xA;  } else if (textStatus === 'abort') {&#xD;&#xA;&#xD;&#xA;    alert('Ajax request aborted.');&#xD;&#xA;&#xD;&#xA;  } else {&#xD;&#xA;&#xD;&#xA;    alert('Uncaught Error: ' + jqXHR.responseText);&#xD;&#xA;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;});;&#xD;&#xA;&#xD;&#xA;};&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Osea en el ready del documento listo los articulos pero me da error:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;include (&quot;claseTicket.php&quot;);&#xD;&#xA;$ticket = new Ticket($fecha,$hora);&#xD;&#xA;&#xD;&#xA;function listarProductos(){&#xD;&#xA;    $arrayarticulos=$ticket-&amp;gt;listarArt();&#xD;&#xA;     echo json_encode($arrayarticulos);&#xD;&#xA;    &#xD;&#xA;}&#xD;&#xA;if (isset($_POST['accion'])){&#xD;&#xA;   if ($_POST['accion']=&quot;listar&quot;){&#xD;&#xA;       $arrayarticulos=$ticket-&amp;gt;listarArt();&#xD;&#xA;     echo json_encode($arrayarticulos);&#xD;&#xA;    &#xD;&#xA;   }else if ($_POST['accion']=&quot;agregar&quot;){&#xD;&#xA;    $id = $_POST['id'];&#xD;&#xA;    $precio = $_POST['precio'];&#xD;&#xA;    $cant=$_POST['cantidad'];&#xD;&#xA;    $nom=$_POST['nombre'];&#xD;&#xA;    $registro = new detalleTicket($id,$precio,$cant,$nom);&#xD;&#xA;    $ticket-&amp;gt;agregaDetalle($registro);&#xD;&#xA;   } &#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La verdad no se que puede ser..el error es:&#xA;Error en la peticion ajax..Requested JSON parse failed.&lt;/p&gt;&#xA;"" OwnerUserId=""6177"" LastEditorUserId=""83622"" LastEditDate=""2018-07-19T06:40:10.783"" LastActivityDate=""2018-07-25T08:30:13.903"" Title=""Devolver array de objetos por AJAX"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;array&gt;"" AnswerCount=""4"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""182696"" PostTypeId=""1"" CreationDate=""2018-07-19T22:54:29.043"" Score=""0"" ViewCount=""2655"" Body=""&lt;p&gt;Hola amigos mi problema es cuando envió mis variables mediante ajax a mi .php.&#xA;Me marca un undefine la variable 'data.estado' una vez que regresa, Ya pude traer el elemento que selecciona y obtener su valor pero hay un error en mi regreso de datos del ajax. No se que es. Una ayuda por favor y gracias por darse una vuelta a mi pregunta jejeje :).  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi código ajax y controlando en radio seleccionado:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;    var ComprobarSeleccion = false;&#xA;    $('input[type=radio]').click(function(){&#xA;&#xA;        ComprobarSeleccion = true;&#xA;             var request = $.ajax({&#xA;             url: &quot;cuestionario.php&quot;,&#xA;             type: &quot;POST&quot;,&#xA;             data:{ valor: this.value, verificar:ComprobarSeleccion},&#xA;             dataType:'text',&#xA;             jsonp:&quot;jsoncallback&quot;,&#xA;             crossDomain: true,&#xA;             cache: false&#xA;        });&#xA;&#xA;        request.done(function(data){&#xA;            if(data.estado==&quot;seleccionado&quot;){&#xA;                alert(&quot;Exito&quot;);&#xA;                unselect();&#xA;                //uncheckRadio(this);&#xA;            }else{&#xA;                alert(data.estado);&#xA;                alert(&quot;Error&quot;);&#xA;&#xA;            }&#xA;        });&#xA;&#xA;        request.fail(function( textStatus ) {&#xA;&#xA;            alert( &quot;Error en la petición: &quot; +  JSON.stringify( textStatus));&#xA;        });&#xA;&#xA;    });&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Mi código PHP donde intento atrapar el valor del radio button:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   $datos = array();&#xA;    $a = false;    &#xA;    if(isset($_GET['verificar']) &amp;amp;&amp;amp; !empty($_GET['verificar'])){&#xA;        if($_GET['verificar']){&#xA;           $valor = $_GET['valor'];&#xA;           $a = true;&#xA;           $datos[&quot;estado&quot;] = &quot;seleccionado&quot;;&#xA;        }else{&#xA;           $datos[&quot;estado&quot;] = &quot;error123&quot;;  &#xA;           $a = true;&#xA;&#xA;        }&#xA;     }&#xA;&#xA;     if($a == true){&#xA;         $resultadoJson = json_encode($datos);&#xA;         echo $_GET['jsoncallback'] . '(' . $resultadoJson . ');'; &#xA;     }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;RESUMEN: Lo que quiero es obtener el valor del radio que el usuario selecciono y guardarlo en una consulta preparada para insertar pero será hasta que termine de selecciona una opción por cada  reactivo y tengo muchos. &#xA;Así que pensé enviar el valor al instante que se selecciona el radio y guardarlo en un método y después aguardarlo adentro de una consulta, intento hacer un solo intento con varios insert acumulados: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$sql .= &quot;INSERT INTO respuestas (id_alumno, id_pregunta, respuesta) &#xA;                            VALUES ('$id_alumno',$id_pregunta,'$respuesta')&quot;;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;. La verdad no se si estoy tomando el camino más adecuado y eficaz, por favor acepto sugerencias, indicaciones y correcciones. Gracias.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi HTML:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/5FHvQ.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/5FHvQ.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""93428"" LastEditorUserId=""93428"" LastEditDate=""2018-07-31T03:10:04.240"" LastActivityDate=""2018-07-31T03:14:37.617"" Title=""Cómo enviar el valor del Radio Button con Ajax a PHP al momento de seleccionar"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""12"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""188669"" PostTypeId=""1"" CreationDate=""2018-08-14T12:43:25.880"" Score=""0"" ViewCount=""66"" Body=""&lt;p&gt;Tengo un componente en Javascript que antes me creaba un archivo para que el usuario lo guarde. Ahora estoy cambiando esa funcionalidad para que se guarde al pulsar el botón, pero que lo haga en el servidor. Para ello debo emplear código que no sea de la parte del cliente, y estoy haciéndolo con AJAX. En la función del botón tengo definida la función AJAX así:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;            type: &quot;POST&quot;,&#xA;            url: &quot;hola.php&quot;,&#xA;            data: data,&#xA;            // contentType: &quot;text/plain&quot;&#xA;        })  &#xA;            .done (function (data, textStatus, jqXHR) {&#xA;                alert(&quot;Guardado correctamente&quot; + jqXHR + data +textStatus );    &#xA;            })&#xA;            .fail(function (jqXHR, textStatus, errorThrown) {&#xA;                console.log(&quot;La solicitud ha fallado: &quot; + textStatus + errorThrown);&#xA;            });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El php lo que hace es guardar el contenido de la variable que le paso en un fichero con un &lt;code&gt;fwrite&lt;/code&gt; el php sí que se ejecuta bien, pero el problema lo tengo en que no me llega la variable bien, por supuesto hago el &lt;code&gt;$data = $_POST['data'];&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt;&#xA;Vale, me he dado cuenta que la variable data si la paso así: {&quot;data&quot; : data} sí que se envía bien... no sé...&lt;/p&gt;&#xA;"" OwnerUserId=""9042"" LastEditorUserId=""9042"" LastEditDate=""2018-08-16T12:00:20.963"" LastActivityDate=""2018-08-16T12:00:20.963"" Title=""$ajax con POST a un .php"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""189809"" PostTypeId=""1"" CreationDate=""2018-08-18T16:21:31.937"" Score=""0"" ViewCount=""68"" Body=""&lt;p&gt;Estoy intentando realizar una función de jquery de la siguiente forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $('#indiceOD').on('change', function(){&#xA;var familia = $('#familiaOD').val()&#xA;var id_indice = $('#indiceOD').val()&#xA;$.ajax({&#xA;  type: 'POST',&#xA;  url: 'php/cargar_tratamientos.php',&#xA;  data: {'id': id_indice, 'id_familia' : familia}&#xA;})&#xA;.done(function(listas_rep){&#xA;  $('#TratamientoOD').html(listas_rep)&#xA;})&#xA;.fail(function(){&#xA;  alert('Hubo un errror al cargar los materiales')&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;})&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El caso, es que esto es un combo de muchos niveles de selects, en este me gustaría poder pasarle dos valores al archivo &quot;cargar_tratamientos.php&quot;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Con el objetivo: de que si la &quot;Familia tiene ID1, devuelva una consulta, y si tiene otra ID, que mandre la segunda consulta, para así en el select, rellanarlo de una forma u de otra.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias a todos, CREO que me he explicado bien.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-08-18T18:01:43.893"" Title=""Duda con Jquery y Ajax al enviar parámetros"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""190105"" PostTypeId=""1"" AcceptedAnswerId=""190150"" CreationDate=""2018-08-20T15:33:27.750"" Score=""0"" ViewCount=""129"" Body=""&lt;p&gt;Estoy haciendo un formulario de pedidos, en el que incluyo un botón que dice: &quot;Añadir Adicionales&quot;, que despliega un &quot;Modal&quot;, al rellenarse estos campos, un botón que dice, añadir al pedido.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo que intento, es que al añadir al pedido los datos establecidos, eliminar el DIV con el botón, y añadir otro DIV con los datos rellenados en forma de tabla.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;No consigo hacer funcionar esta parte, agradecería ayuda.&#xA;Este es mi jquery:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $('#addAdicionales').click(function(){&#xA;var prismaOD = $('#prismaOD').val()&#xA;var posicion_prismaOD = $('#posicion_prismaOD').val()&#xA;var prismaOI = $('#prismaOI').val()&#xA;var posicion_prismaOI = $('#posicion_prismaOI').val()&#xA;&#xA;var angulo_facial = $('#angulo_facial').val()&#xA;var angulo_panto = $('#angulo_panto').val()&#xA;var vertice = $('#vertice').val()&#xA;var lifestyle_select = $('#lifestyle_select').val()&#xA;&#xA;$.ajax({&#xA;  type: 'POST',&#xA;  url: 'php/cargar_adicionales.php',&#xA;  data: {'prismaOD': prismaOD,&#xA;         'posicion_prismaOD': posicion_prismaOD,&#xA;         'prismaOI': prismaOI&#xA;         'posicion_prismaOI': posicion_prismaOI,&#xA;         'angulo_facial': angulo_facial,&#xA;         'angulo_panto': angulo_panto,&#xA;         'vertice': vertice,&#xA;         'lifestyle_select': lifestyle_select}&#xA;})&#xA;.done(function(listas_rep){&#xA;  $('#parametros_add_section').addClass(&quot;hide&quot;);&#xA;  $('#parametros_set_section').removeClass(&quot;hide&quot;);&#xA;  $('#parametros_set_section').html(listas_rep)&#xA;&#xA;})&#xA;.fail(function(){&#xA;  alert('Hubo un errror al cargar los adicionales')&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;})&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Añadir, que las var, hacen referencia a los campos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function setAdicionales(){&#xA;&#xA;  $prismaOD = $_POST['prismaOD'];&#xA;  $posicion_prismaOD = $_POST['posicion_prismaOD'];&#xA;  $prismaOI = $_POST['prismaOI'];&#xA;  $posicion_prismaOI = $_POST['posicion_prismaOI'];&#xA;  $angulo_facial = $_POST['angulo_facial'];&#xA;  $angulo_panto = $_POST['angulo_panto'];&#xA;  $vertice = $_POST['vertice'];&#xA;  $lifestyle_select = $_POST['lifestyle_select'];&#xA;&#xA;  return $prismaOD;&#xA;}&#xA;&#xA;echo setAdicionales();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el return, he probado $prismaOD, por ver si devuelve algo, el problema, que al añadir este código, me rompe casi todo el resto de código de jQuery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Creo que me he explicado lo mejor posible, cualquier duda podéis preguntar en los comentarios, agradecería mucho una ayuda.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-08-20T17:10:18.937"" Title=""PROBLEMA Jquery y Ajax, enviar datos al mismo FORM"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;formularios&gt;&lt;onclick&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""190391"" PostTypeId=""1"" CreationDate=""2018-08-21T14:28:53.247"" Score=""0"" ViewCount=""240"" Body=""&lt;p&gt;Recién estoy conociendo Ajax y en una aplicación MVC me encuentro con esta función $.Ajax() donde obtengo un objeto JSON que me devuelve una lista de autorizaciones para armar un arbol de checkboxes y seleccionar las áreas donde trabaja o trabajará el usuario que estoy tratando.&lt;br&gt;&#xA;Esta función hace que se ejecute un Stored procedure que me devuelve 9000 registros aprox y al convertir estos valores en un string para luego convertirlo en un objeto JSON tarda más de 30 segundos en obtener la respuesta. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Función $.Ajax()  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function obtenerArbolAutorizaciones() {&#xA;var datos;&#xA;var usuario = {};&#xA;usuario.Id = idUsuarioNuevo; &#xA;&#xA;$.ajax({&#xA;    type: 'POST',&#xA;    url: '/views/usuarios/index.aspx/obtenerarbolautorizaciones',&#xA;    data: &quot;{ 'jdatos': '&quot; + JSON.stringify({ Usuario: usuario }) + &quot;'}&quot;, //--&amp;gt; acá eso donde la función se queda esperando a que termine este proceso &#xA;    async: false,&#xA;    contentType: &quot;application/json&quot;&#xA;&#xA;}).done(&#xA;     function (data) {&#xA;        datos = null;&#xA;        if (data.d != '') {&#xA;            datos = JSON.parse(data.d);&#xA;        }&#xA;        else&#xA;            showError(stringErrorConexion);&#xA;    }&#xA;).fail(&#xA;    function (e) {&#xA;        console.log(e.message);&#xA;        showError(stringErrorConexion);&#xA;    }&#xA;);&#xA;    if (datos != null) {&#xA;        $(&quot;#jstree_autorizaciones&quot;).dynatree({&#xA;            checkbox: true,&#xA;            selectMode: 3,&#xA;            children: datos,&#xA;            height: &quot;260px&quot;&#xA;        });&#xA;&#xA;    }&#xA;}  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Lo que quiero hacer es bajar el tiempo de respuesta de la solicitud o por lo menos que me permita seguir trabajando mientras se cargan los registros.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Dejo unas imágenes con el detalle de la respuesta:&lt;br&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/D5f5c.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/D5f5c.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/jCaq1.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/jCaq1.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Actualización&lt;/strong&gt;&#xA;Este es el nuevo código que tengo pero sigue tardando en el &lt;code&gt;stringify&lt;/code&gt;, además tuve que poner el &lt;code&gt;Async = false&lt;/code&gt; porque sino no entra a la parte del .done() y el arbol de opciones no se carga.  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function obtenerArbolAutorizaciones() {&#xA;var datos;&#xA;var usuario = {};&#xA;usuario.Id = idUsuarioNuevo; &#xA;&#xA;var myJSON = JSON.stringify({ 'Usuario': usuario });&#xA;&#xA;$.ajax({&#xA;    type: 'POST',&#xA;    url: '/views/usuarios/index.aspx/obtenerarbolautorizaciones',&#xA;    data: &quot;{ 'jdatos': '&quot; + myJSON + &quot;'}&quot;, &#xA;    async: false,&#xA;    contentType: &quot;application/json&quot;&#xA;&#xA;}).done(&#xA;     function (data) {&#xA;&#xA;        datos = null;&#xA;        if (data.d != '') {&#xA;            datos = JSON.parse(data.d);&#xA;        }&#xA;        else&#xA;            showError(stringErrorConexion);&#xA;    }&#xA;).fail(&#xA;    function (e) {&#xA;&#xA;        console.log(e.message);&#xA;        showError(stringErrorConexion);&#xA;    }&#xA;);&#xA;&#xA;    if (datos != null) {&#xA;        $(&quot;#jstree_autorizaciones&quot;).dynatree({&#xA;            checkbox: true,&#xA;            selectMode: 3,&#xA;            children: datos,&#xA;            height: &quot;260px&quot;&#xA;        });&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""48515"" LastEditorUserId=""48515"" LastEditDate=""2018-08-21T15:52:56.127"" LastActivityDate=""2018-08-22T19:04:47.760"" Title=""Método JSON.stringify tarda en responder dentro de una función Jquery.Ajax()"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;asp.net-mvc&gt;&lt;mvc&gt;"" AnswerCount=""0"" CommentCount=""16"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""191791"" PostTypeId=""1"" CreationDate=""2018-08-27T11:27:58.620"" Score=""0"" ViewCount=""202"" Body=""&lt;p&gt;Estoy enviando los datos de un formulario, a través de ajax y php a mi base de datos:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Si pruebo con una variable solo o 2, si que funciona, si añado el resto, no funciona.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi código Ajax es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/enviar_pedido.php',&#xA;    data: {'referencia': referencia, &#xA;           'detalles': detallesCi,&#xA;           'tipo': tipoCi,&#xA;           'combi': combiCi,&#xA;           'familiaOD': familiaOD,&#xA;           'disenyoOD': disenyoODCi,&#xA;           'pasilloOD': pasilloODCi,&#xA;           'indiceOD': indiceODCi,&#xA;           'materialOD': materialODCi,&#xA;           'tratamientoOD': tratamientoODCi,&#xA;           'familiaOI': familiaOICi,&#xA;           'disenyoOI': disenyoOICi,&#xA;           'pasilloOI': pasilloOICi,&#xA;           'indiceOI': indiceOICi,&#xA;           'materialOI': materialOICi,&#xA;           'tratamientoOI': tratamientoOICi,&#xA;           'EjeOD': EjeODCi,&#xA;           'CylOD': CylODCi,&#xA;           'SphOD': SphODCi,&#xA;           'AddOD': AddODCi,&#xA;           'DnpOD': DnpODCi,&#xA;           'HOD': HODCi,&#xA;           'EjeOI': EjeOICi,&#xA;           'CylOI': CylOICi,&#xA;           'SphOI': SphOICi,&#xA;           'AddOI': AddOICi,&#xA;           'DnpOI': DnpOICi,&#xA;           'HOI': HOICi,&#xA;           'ColoracionOD': ColoracionODCi,&#xA;           'EspejadoOD': EspejadoODCi,&#xA;           'BaseEspecialOD': BaseEspecialODCi,&#xA;           'EspesorBordeOD': EspesorBordeODCi,&#xA;           'ColoracionOI': ColoracionOICi,&#xA;           'EspejadoOI': EspejadoOICi,&#xA;           'BaseEspecialOI': BaseEspecialOICi,&#xA;           'EspesorBordeOI': EspesorBordeOICi&#xA;            }&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    alert('Pedido enviado con éxito');&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Error 01')&#xA;  })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El archivo enviar_pedido.php es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(Los datos de conexión normales) + a través de $_POST[].. defino todas las variables:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$referencia = ($_POST['referencia']);&#xA;$detalles = ($_POST['detalles']);&#xA;$tipo = ($_POST['tipo']);&#xA;$combi = ($_POST['combi']); . . . .&#xA;&#xA;&#xA;mysqli_select_db($conexion, $dbname) or die ('No se encuentra la base de datos.');&#xA;mysqli_set_charset($conexion, 'utf8');&#xA;&#xA;$sql = &quot;INSERT INTO historial (referencia, detalles, tipo) VALUES (?,?,?)&quot;;&#xA;&#xA;$resultado = mysqli_prepare($conexion, $sql);&#xA;$ok = mysqli_stmt_bnind_param($resultado, &quot;sss&quot;, $referencia, $detalles, $tipo);&#xA;$ok = mysqli_stmt_execute($resultado);&#xA;&#xA;if ($ok == false) {&#xA;    alert('Error en la consulta SQL');&#xA;    console_log( $resultado); &#xA;} else {&#xA;    alert('Pedido enviado correctamente');&#xA;    mysqli_stmt_close($resultado);&#xA;    console_log($resultado); &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La cosa está en que si pruebo con solo un par de variables, me da OK y me lo inserta.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;De esta forma, ni si quiera me manda el alert de error, pero tampoco envía a la base de datos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Alguna idea de lo que puede estar pasando?&#xA;Muchas gracias de ante mano, y saludos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;FALLO:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}&#xA;abort&#xA;:&#xA;ƒ (a)&#xA;always&#xA;:&#xA;ƒ ()&#xA;catch&#xA;:&#xA;ƒ (a)&#xA;done&#xA;:&#xA;ƒ ()&#xA;fail&#xA;:&#xA;ƒ ()&#xA;getAllResponseHeaders&#xA;:&#xA;ƒ ()&#xA;getResponseHeader&#xA;:&#xA;ƒ (a)&#xA;overrideMimeType&#xA;:&#xA;ƒ (a)&#xA;pipe&#xA;:&#xA;ƒ ()&#xA;progress&#xA;:&#xA;ƒ ()&#xA;promise&#xA;:&#xA;ƒ (a)&#xA;readyState&#xA;:&#xA;4&#xA;responseText&#xA;:&#xA;&quot;No se encuentra la base de datos.&quot;&#xA;setRequestHeader&#xA;:&#xA;ƒ (a,b)&#xA;state&#xA;:&#xA;ƒ ()&#xA;status&#xA;:&#xA;200&#xA;statusCode&#xA;:&#xA;ƒ (a)&#xA;statusText&#xA;:&#xA;&quot;OK&quot;&#xA;then&#xA;:&#xA;ƒ (b,d,e)&#xA;__proto__&#xA;:&#xA;Object&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""64784"" LastEditorUserId=""64784"" LastEditDate=""2018-08-27T14:21:22.967"" LastActivityDate=""2018-08-27T14:21:22.967"" Title=""Error al enviar datos a MYSQL por AJAX Y PHP"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""191830"" PostTypeId=""1"" AcceptedAnswerId=""191844"" CreationDate=""2018-08-27T14:58:17.347"" Score=""1"" ViewCount=""660"" Body=""&lt;p&gt;Intento mandar la información de un form, a una base de datos, lo que antes de enviarla, quiero comprobar que todos los campos que haya marcado con &quot;required&quot; esten rellenados.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Para ello estoy intentando lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#comprobarDatos&quot;).on(&quot;click&quot;, function(e){     &#xA;if(!valid) {&#xA;        e.preventDefault();&#xA;      } else {&#xA;        $.ajax({&#xA;          type: 'POST',&#xA;          url: 'php/enviar_pedido.php',&#xA;          data: {'referencia': referencia, &#xA;                 'detalles': detallesCi,&#xA;                 'tipo': tipoCi,&#xA;                  ...etc&#xA;                  }&#xA;        })&#xA;        .done(function(){&#xA;          alert('Pedido enviado con éxito');&#xA;        })&#xA;        .fail(function(){&#xA;          alert(&quot;Error 01&quot;);&#xA;        })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el INPUT:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&quot;submit&quot; id=&quot;comprobarDatos&quot; value=&quot;Comprobar Pedido&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si que valida que los campos estén en required.&#xA;Sin embargo, no ejecuta nada del AJAX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-08-27T15:34:44.283"" Title=""preventDefault() - Antes de enviar por PHP A BBDD (jQuery)"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""191869"" PostTypeId=""1"" CreationDate=""2018-08-27T16:32:54.757"" Score=""0"" ViewCount=""1478"" Body=""&lt;p&gt;Mi función llamada registrar no envia los datos al controlador pese a que todo esta bien, solo me devuelve error, pero como es posible? si en la condición le digo, si el campo esta vacio me retorne error, pero no esta vacio me deberia retornar el mensaje &quot;exito&quot;,Que estoy haciendo mal??&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function () {&#xA;    $(&quot;#btn-registrar&quot;).on('click',  function(event) {&#xA;        event.preventDefault();&#xA;        var _form = $(&quot;#form-Registrar&quot;);&#xA;        if (_form.find('#nombres').val()==='') {&#xA;            return false;&#xA;        };&#xA;&#xA;        $.ajax({&#xA;            url: baseURL +'usuario/registrar',&#xA;            type: 'POST',&#xA;            dataType: 'json',&#xA;            data: _form.serializeArray(),&#xA;        }) .done(function(response) {&#xA;            if (Boolean(response.status)===true) {&#xA;                //loadURL(baseURL+'marcas/list_marcas');&#xA;                alert(&quot;exito&quot;);&#xA;            }else{&#xA;                alert(response.message);&#xA;            }&#xA;        }).fail(function(response) {&#xA;            console.log(&quot;error&quot;,response);&#xA;        })&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aquí el controlador:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php class Usuario extends CI_Controller{&#xA;    function __construct(){&#xA;        parent::__construct();&#xA;        $this-&amp;gt;load-&amp;gt;model('Model_Usuario');&#xA;    }&#xA;&#xA;    public function index(){&#xA;        $data['contenido']=&quot;usuario/index&quot;;&#xA;        //$data['contenido']=&quot;usuario/index&quot;;//enviar a plantilla la vista&#xA;        $data['selPerfil']=$this-&amp;gt;Model_Usuario-&amp;gt;selPerfil();&#xA;        $this-&amp;gt;load-&amp;gt;view(&quot;plantilla&quot;,$data);//cargamos la plantilla&#xA;    }&#xA;&#xA;    public function registrar(){&#xA;         echo &quot;sadsa&quot;;&#xA;    }&#xA;}?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aquí las vistas:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;h1&amp;gt;FORMULARIO DE REGISTRO&amp;lt;/h1&amp;gt;&#xA;&amp;lt;form id=&quot;form-Registrar&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;        &amp;lt;label for=&quot;exampleInputPassword1&quot;&amp;gt;Nombres&amp;lt;/label&amp;gt;&#xA;        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;nombres&quot; placeholder=&quot;Nombres&quot;&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;button id=&quot;btn-registrar&quot; type=&quot;submit&quot; name=&quot;werwrw&quot; class=&quot;btn btn-default&quot;&amp;gt;Registrar&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""11261"" LastEditorUserId=""14963"" LastEditDate=""2018-08-27T16:46:17.473"" LastActivityDate=""2019-06-07T13:27:15.283"" Title=""Error al enviar datos por ajax al controlador"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;codeigniter&gt;&lt;codeigniter-3&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""191891"" PostTypeId=""1"" CreationDate=""2018-08-27T17:35:23.740"" Score=""0"" ViewCount=""115"" Body=""&lt;p&gt;tengo este código en PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getPedidos(){&#xA;  $mysqli = getConn();&#xA;  $query = &quot;SELECT * FROM `historial`&quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;    $indices = '&amp;lt;table align='center'&amp;gt;&#xA;                &amp;lt;tr&amp;gt;&#xA;                    &amp;lt;th&amp;gt;NumP&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Referenia&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Detalles&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Tipo&amp;lt;/th&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;';&#xA;&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;&#xA;    $indices = '&amp;lt;tr&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&quot; .$row[npedido]. &quot;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&quot; .$row[referencia]. &quot;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&quot; .$row[detalles]. &quot;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;&quot; .$row[tipo]. &quot;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;';&#xA;  }&#xA;&#xA;  $indices = '&amp;lt;/table&amp;gt;';&#xA;  return $indices;&#xA;}&#xA;&#xA;echo getPedidos();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al que llamo desde el siguiente código de AJAX:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/cargar_historial.php'&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    $('#historial').html(listas_rep)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Hubo un errror al cargar el historial de pedidos')&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;** Lo que yo pienso... es que se me ha ido la mano al crear la tabla en php **&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El ajax, me pasa por .fail, cosa, que no encuentro el fallo. ¿Alguien me podría ayudar? ¡Muchas gracias!&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastEditorUserId=""324"" LastEditDate=""2018-08-27T18:33:49.727"" LastActivityDate=""2018-08-27T18:33:49.727"" Title=""Fallo Consulta SQL desde AJAX ?¿?¿"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""192120"" PostTypeId=""1"" AcceptedAnswerId=""192132"" CreationDate=""2018-08-28T14:38:45.503"" Score=""0"" ViewCount=""186"" Body=""&lt;p&gt;intento crear un formulario de búsqueda de la siguiente forma:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Por defecto aparece el historial de pedidos:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/cargar_historial.php'&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    $('#historial').html(listas_rep)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Hubo un errror al cargar el historial de pedidos')&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Hasta aqúi, todo bien, me muestra por defecto el historial sin problemas.&#xA;Ahora, arriba de la tabla, he añadido un &quot;form&quot; con 4 campos para &quot;buscar&quot; en el historial.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form..&#xA;    &amp;lt;th&amp;gt;&amp;lt;input type=&quot;text&quot; id=&quot;NPedido&quot; placeholder=&quot;N Pedido&quot;&amp;gt;&amp;lt;/th&amp;gt;&#xA;    &amp;lt;th&amp;gt;&amp;lt;input type=&quot;text&quot; id=&quot;Fecha&quot; placeholder=&quot;Fecha&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;    &amp;lt;th&amp;gt;&amp;lt;input type=&quot;text&quot; id=&quot;Codigo&quot; placeholder=&quot;Codigo&quot;&amp;gt;&amp;lt;/th&amp;gt;&#xA;    &amp;lt;th&amp;gt;&amp;lt;input type=&quot;text&quot; id=&quot;Cliente&quot; placeholder=&quot;Cliente&quot;&amp;gt;&amp;lt;/th&amp;gt;&#xA;    &amp;lt;input style=&quot;width: 100%;&quot; type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Buscar&quot;&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al que intento realizar la búsqueda con este código.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;JQuery:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $(&quot;#buscar_pedidos&quot;).submit(function(){&#xA;&#xA;    var id_pedido = $('#NPedido').val()&#xA;&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'php/buscar_npedido.php',&#xA;      data: {'id': id_pedido}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $(&quot;#historial&quot;).empty();&#xA;      $('#historial').html(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al cargar los datos')&#xA;    })&#xA;&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;require_once 'conexion.php';&#xA;&#xA;function getPedidosN(){&#xA;&#xA;  $mysqli = getConn();&#xA;  $id = $_POST['id'];&#xA;  $query = &quot;SELECT * FROM `historial` WHERE npedido == $id&quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;    $indices = '&amp;lt;table&amp;gt;&#xA;                 &amp;lt;thead&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;th&amp;gt;NumP&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Fecha&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Codigo&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Cliente&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Referencia&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Detalles&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Lente&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                 &amp;lt;/thead&amp;gt;';&#xA;&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;&#xA;    $indices .= '&amp;lt;tbody&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[npedido]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[fecha]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[cod_cliente]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[nombre_cliente]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[referencia]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[detalles]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;' .$row[tipo]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                 &amp;lt;/tbody&amp;gt;';&#xA;  }&#xA;&#xA;  $indices .= '&amp;lt;/table&amp;gt;';&#xA;  return $indices;&#xA;}&#xA;&#xA;echo getPedidosN();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-08-28T14:58:01.037"" Title=""Buscador en JQuery, Ajax y PHP (Error)"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;formularios&gt;&lt;tablas&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""192279"" PostTypeId=""1"" CreationDate=""2018-08-28T21:59:04.797"" Score=""1"" ViewCount=""1738"" Body=""&lt;p&gt;soy novato en programacion web y estoy haciendo cursos poco a poco para ir tomando experiencia. Sin embargo en mi trabajo me han dado la libertad de trabajar con sus paginas web y tengo un problema con dos ventana modal. En las dos quiero validar una fecha de disponibilidad para una sala de capacitacion que se renta. La validacion me funciona pero solo lo hace en una ventana modal ya que en la segunda ventana no logra ejecutarse.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Perdonen por si es una novatada. Hasta ahora todo lo he solucionado investigando en este tipo de foros pero con este problema no doy con su solucion.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agradeceria su comprension. Estoy empezando por lo que espero sean respetuosos. Gracias&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/BeYt1.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/BeYt1.png&quot; alt=&quot;modal1&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/SjTUB.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/SjTUB.png&quot; alt=&quot;modal2&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CODIGO DE VENTANAS MODAL:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xD;&#xA;  $( function() {&#xD;&#xA;    $( &quot;#datepicker&quot; ).datepicker({&#xD;&#xA;         dateFormat: 'yy-mm-dd', &#xD;&#xA;    });&#xD;&#xA;  } );&#xD;&#xA;	  &#xD;&#xA; $( function() {&#xD;&#xA;    $( &quot;#datepicker1&quot; ).datepicker({&#xD;&#xA;         dateFormat: 'yy-mm-dd',&#xD;&#xA;    });&#xD;&#xA;  } );&#xD;&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!-- js --&amp;gt;&#xD;&#xA;	&amp;lt;script type=&quot;text/javascript&quot; src=&quot;n_js/jquery-2.1.4.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;	&amp;lt;script type=&quot;text/javascript&quot; src=&quot;n_js/bootstrap-3.1.1.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;	&#xD;&#xA;	&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;1js/main2.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;    &#xD;&#xA;    &amp;lt;!--datePicker--&amp;gt;&#xD;&#xA;  &amp;lt;link href=&quot;jQueryAssets/jquery.ui.core.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&amp;gt;&#xD;&#xA;   &amp;lt;link href=&quot;jQueryAssets/jquery.ui.theme.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&amp;gt;&#xD;&#xA;   &amp;lt;link href=&quot;jQueryAssets/jquery.ui.datepicker.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&amp;gt;&#xD;&#xA;  &amp;lt;script src=&quot;https://code.jquery.com/ui/1.12.1/jquery-ui.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;	&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  &amp;lt;!--//datePicker--&amp;gt;&#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;&amp;lt;!-- MODAL PAQUETE BASICO --&amp;gt;&#xD;&#xA;    &#xD;&#xA;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;	$cursos=mysql_query(&quot;SELECT * FROM publicacion WHERE pub_date_end&amp;gt;='$hoy'OR pub_date_start&amp;lt;='$inicio'&quot;);&#xD;&#xA;	while($row=mysql_fetch_array($cursos))&#xD;&#xA;	{&#xD;&#xA;	    &#xD;&#xA;	    echo '&#xD;&#xA;		&amp;lt;div class=&quot;modal fade&quot; id=&quot;1reg_'.$row['id_public'].'&quot; role=&quot;dialog&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;modal-dialog&quot;&amp;gt;&#xD;&#xA;    &#xD;&#xA;                &amp;lt;!-- Modal content--&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xD;&#xA;                        &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&#xD;&#xA;                        &amp;lt;center&amp;gt;&amp;lt;h4 class=&quot;modal-title&quot;&amp;gt;'.$row['pub_title'].'&amp;lt;/h4&amp;gt;&amp;lt;/center&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                    &#xD;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xD;&#xA;            &#xD;&#xA;	            &amp;lt;center&amp;gt;&#xD;&#xA;	            &amp;lt;h3&amp;gt;Informaci&amp;amp;oacute;n de Renta de Espacio&amp;lt;/h3&amp;gt;&#xD;&#xA;	            &amp;lt;/center&amp;gt;&#xD;&#xA;	            &amp;lt;br&amp;gt;&#xD;&#xA;	            &#xD;&#xA;	      &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;    &#xD;&#xA;		  &amp;lt;center&amp;gt;         &#xD;&#xA;		   &amp;lt;h3&amp;gt;Datos de Contacto&amp;lt;/h3&amp;gt;&#xD;&#xA;		   &amp;lt;/center&amp;gt;&#xD;&#xA;		   &amp;lt;br&amp;gt;&#xD;&#xA;		   &amp;lt;br&amp;gt;&#xD;&#xA;		   &amp;lt;center&amp;gt;&#xD;&#xA;		&amp;lt;form action=&quot;process/check_renta.php&quot; method=&quot;post&quot;&amp;gt;   &#xD;&#xA;		&amp;lt;h4&amp;gt;Empresa&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;empresa&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Contacto&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;contacto&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Tel&amp;amp;eacute;fono&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;telefono&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Correo Electr&amp;amp;oacute;nico&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;email&quot; name=&quot;email_cli&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;input type=&quot;hidden&quot; name=&quot;modalidad&quot; value=&quot;PAQUETE BASICO&quot;&amp;gt;&#xD;&#xA;		&amp;lt;input type=&quot;hidden&quot; name=&quot;parent_pub&quot; value=&quot;'.$row['id_public'].'&quot;&amp;gt; &#xD;&#xA;&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;		&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xD;&#xA;        &amp;lt;center&amp;gt;         &#xD;&#xA;		   &amp;lt;h3&amp;gt;Fecha de Evento&amp;lt;/h3&amp;gt;&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;		&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;center&amp;gt;&#xD;&#xA;		 &amp;lt;h4&amp;gt;Fecha Inicio&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;reg_date_start&quot; id=&quot;datepicker&quot; placeholder=&quot;yyyy-mm-dd&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		 &amp;lt;h4&amp;gt;Fecha Finalizaci&amp;amp;oacute;n&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;reg_date_end&quot; id=&quot;datepicker1&quot; placeholder=&quot;yyyy-mm-dd&quot;&amp;gt;&#xD;&#xA;		 &amp;lt;div id=&quot;datos&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xD;&#xA;        &amp;lt;center&amp;gt;&#xD;&#xA;            &amp;lt;input type=&quot;submit&quot; value=&quot;Registrar&quot; class=&quot;btn btn-success&quot;&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;        &amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;/form&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;clearfix&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &#xD;&#xA;        &#xD;&#xA;        &#xD;&#xA;        &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xD;&#xA;          &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cerrar&amp;lt;/button&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;      &#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;		';&#xD;&#xA;	    &#xD;&#xA;	}&#xD;&#xA;?&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;!-- MODAL PAQUETE BASICO --&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;!-- MODAL PAQUETE PLUS --&amp;gt;    &#xD;&#xA;    &#xD;&#xA;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;	$cursos=mysql_query(&quot;SELECT * FROM publicacion WHERE pub_date_end&amp;gt;='$hoy'OR pub_date_start&amp;lt;='$inicio'&quot;);&#xD;&#xA;	while($row=mysql_fetch_array($cursos))&#xD;&#xA;	{&#xD;&#xA;	    &#xD;&#xA;	    echo '&#xD;&#xA;		&amp;lt;div class=&quot;modal fade&quot; id=&quot;2reg_'.$row['id_public'].'&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;modal-dialog&quot;&amp;gt;&#xD;&#xA;    &#xD;&#xA;                &amp;lt;!-- Modal content--&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xD;&#xA;                        &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&#xD;&#xA;                        &amp;lt;center&amp;gt;&amp;lt;h4 class=&quot;modal-title&quot;&amp;gt;'.$row['pub_title'].'&amp;lt;/h4&amp;gt;&amp;lt;/center&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                    &#xD;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xD;&#xA;            &#xD;&#xA;	            &amp;lt;center&amp;gt;&#xD;&#xA;	            &amp;lt;h3&amp;gt;Informaci&amp;amp;oacute;n de Renta de Espacio&amp;lt;/h3&amp;gt;&#xD;&#xA;	            &amp;lt;/center&amp;gt;&#xD;&#xA;	            &amp;lt;br&amp;gt;&#xD;&#xA;	            &#xD;&#xA;	      &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;    &#xD;&#xA;		  &amp;lt;center&amp;gt;         &#xD;&#xA;		   &amp;lt;h3&amp;gt;Datos de Contacto&amp;lt;/h3&amp;gt;&#xD;&#xA;		   &amp;lt;/center&amp;gt;&#xD;&#xA;		   &amp;lt;br&amp;gt;&#xD;&#xA;		   &amp;lt;br&amp;gt;&#xD;&#xA;		   &amp;lt;center&amp;gt;&#xD;&#xA;		&amp;lt;form action=&quot;process/check_renta.php&quot; method=&quot;post&quot;&amp;gt;   &#xD;&#xA;		&amp;lt;h4&amp;gt;Empresa&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;empresa&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Contacto&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;contacto&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Tel&amp;amp;eacute;fono&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;telefono&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;h4&amp;gt;Correo Electr&amp;amp;oacute;nico&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;email&quot; name=&quot;email_cli&quot; required onkeypress=&quot;return pulsar(event)&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;input type=&quot;hidden&quot; name=&quot;modalidad&quot; value=&quot;PAQUETE PLUS&quot;&amp;gt;&#xD;&#xA;		&amp;lt;input type=&quot;hidden&quot; name=&quot;parent_pub&quot; value=&quot;'.$row['id_public'].'&quot;&amp;gt; &#xD;&#xA;&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;		&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xD;&#xA;        &amp;lt;center&amp;gt;         &#xD;&#xA;		   &amp;lt;h3&amp;gt;Fecha de Evento&amp;lt;/h3&amp;gt;&#xD;&#xA;		&amp;lt;/center&amp;gt;&#xD;&#xA;		&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;br&amp;gt;&#xD;&#xA;		&amp;lt;center&amp;gt;&#xD;&#xA;		 &amp;lt;h4&amp;gt;Fecha Inicio&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;reg_date_start&quot; id=&quot;datepicker&quot; placeholder=&quot;yyyy-mm-dd&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;		 &amp;lt;h4&amp;gt;Fecha Finalizaci&amp;amp;oacute;n&amp;lt;/h4&amp;gt;&amp;lt;input type=&quot;text&quot; name=&quot;reg_date_end&quot; id=&quot;datepicker1&quot; placeholder=&quot;yyyy-mm-dd&quot;&amp;gt;&#xD;&#xA;		 &amp;lt;div id=&quot;datos&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xD;&#xA;        &amp;lt;center&amp;gt;&#xD;&#xA;            &amp;lt;input type=&quot;submit&quot; value=&quot;Registrar&quot; class=&quot;btn btn-success&quot;&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;        &amp;lt;/center&amp;gt;&#xD;&#xA;        &amp;lt;/form&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;clearfix&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &#xD;&#xA;        &#xD;&#xA;        &#xD;&#xA;        &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xD;&#xA;          &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cerrar&amp;lt;/button&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;      &#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;		';&#xD;&#xA;	    &#xD;&#xA;	}&#xD;&#xA;?&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;!-- MODAL PAQUETE PLUS --&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CODIGO AJAX:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(buscar_datos());&#xD;&#xA;&#xD;&#xA;function buscar_datos(consulta){&#xD;&#xA;	$.ajax({&#xD;&#xA;		url: 'buscar2.php' ,&#xD;&#xA;		type: 'POST' ,&#xD;&#xA;		dataType: 'html',&#xD;&#xA;		data: {consulta: consulta},&#xD;&#xA;	})&#xD;&#xA;	.done(function(respuesta){&#xD;&#xA;		$(&quot;#datos&quot;).html(respuesta);&#xD;&#xA;	})&#xD;&#xA;	.fail(function(){&#xD;&#xA;		console.log(&quot;error&quot;);&#xD;&#xA;	});&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;$(document).on('change','#datepicker', function(){&#xD;&#xA;	var valor = $(this).val();&#xD;&#xA;	if (valor != &quot;&quot;) {&#xD;&#xA;		buscar_datos(valor);&#xD;&#xA;	}else{&#xD;&#xA;		buscar_datos();&#xD;&#xA;	}&#xD;&#xA;});&#xD;&#xA;&#xD;&#xA;$(document).on('change','#datepicker2', function(){&#xD;&#xA;	var valor = $(this).val();&#xD;&#xA;	if (valor != &quot;&quot;) {&#xD;&#xA;		buscar_datos(valor);&#xD;&#xA;	}else{&#xD;&#xA;		buscar_datos();&#xD;&#xA;	}&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CODIGO BUSCAR DISPONIBILIDAD PHP:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;$hoy=date('Y-m-d');&#xD;&#xA;&#xD;&#xA;	$servername = &quot;localhost&quot;;&#xD;&#xA;    $username = &quot;inaciepm_root&quot;;&#xD;&#xA;  	$password = &quot;Cisc0UV07&quot;;&#xD;&#xA;  	$dbname = &quot;inaciepm_icms&quot;;&#xD;&#xA;&#xD;&#xA;	$conn = new mysqli($servername, $username, $password, $dbname);&#xD;&#xA;      if($conn-&amp;gt;connect_error){&#xD;&#xA;        die(&quot;Conexion fallida: &quot;.$conn-&amp;gt;connect_error);&#xD;&#xA;      }&#xD;&#xA;&#xD;&#xA;    $salida = &quot;&quot;;&#xD;&#xA;&#xD;&#xA;    $query = &quot;SELECT * FROM reg_pub WHERE reg_date_start &amp;gt; '$hoy' ORDER By reg_date_start&quot;;&#xD;&#xA;&#xD;&#xA;    if (isset($_POST['consulta'])) {&#xD;&#xA;    	$q = $conn-&amp;gt;real_escape_string($_POST['consulta']);&#xD;&#xA;    	&#xD;&#xA;    	$query = &quot;SELECT * FROM reg_pub WHERE '$q' BETWEEN reg_date_start AND reg_date_end&quot;;&#xD;&#xA;    	&#xD;&#xA;    	/*$query = &quot;SELECT DISTINCT * FROM reg_pub WHERE ((reg_date_start &amp;gt; '$hoy' AND reg_date_start &amp;gt;= '$q') OR reg_date_end &amp;gt;= '$q') &quot;;*/&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    $resultado = $conn-&amp;gt;query($query);&#xD;&#xA;&#xD;&#xA;    if ($resultado-&amp;gt;num_rows&amp;gt;0) {&#xD;&#xA;    	$salida.=&quot;&amp;lt;div class='alert alert-danger' role='alert'&amp;gt;&#xD;&#xA;  Fecha No Disponible!&#xD;&#xA;&amp;lt;/div&amp;gt;&quot;;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    }else{&#xD;&#xA;    	$salida.=&quot;&amp;lt;div class='alert alert-success' role='alert'&amp;gt;&#xD;&#xA;                    Fecha Disponible!&#xD;&#xA;                &amp;lt;/div&amp;gt;&quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    echo $salida;&#xD;&#xA;    &#xD;&#xA;   &#xD;&#xA;&#xD;&#xA;&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ERROR EN LA CONSOLA&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/GkWtI.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/GkWtI.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""98252"" LastActivityDate=""2022-09-26T06:04:53.177"" Title=""Tengo dos ventanas modales. Una funciona a la perfección y la otra no se ejecuta. PHP, AJAX"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;modal&gt;&lt;consola&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""192642"" PostTypeId=""1"" CreationDate=""2018-08-30T00:05:38.973"" Score=""0"" ViewCount=""619"" Body=""&lt;p&gt;Sucede que  estoy creando una tabla temporal, los datos que voy registrando en la misma los voy pasando a un array (miArray) en js para despues poderlos enviar por medio de AJAX a un PHP y poderlos guardar a una base de datos.&#xA;Function del Javascript&#xA;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;function guardardatos(){&#xD;&#xA;    console.log(JSON.stringify(miArray));&#xD;&#xA;    var myJsonString = JSON.stringify(miArray);&#xD;&#xA;    $.ajax({&#xD;&#xA;      url:'Conexion/Guardar.php',&#xD;&#xA;      type:'POST',&#xD;&#xA;      data:myJsonString,&#xD;&#xA;      dataType: 'json',&#xD;&#xA;    }).done(function(resp){&#xD;&#xA;      console.log(resp);&#xD;&#xA;    }).fail(function(resp){&#xD;&#xA;      console.log(resp.responseText);&#xD;&#xA;    });&#xD;&#xA;  }&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;la variable myJsonString los datos que la componen son del array que habia indicado. Cuando lo muestro por consola me da este resultado &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;[{&quot;idarticulo&quot;:1,&quot;cantidad&quot;:&quot;12&quot;,&quot;nombre&quot;:&quot;AZUCAR BLANCO&quot;,&quot;precio&quot;:&quot;0.30&quot;,&quot;resultado&quot;:3.6}]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;lo comprobe en una pagina para verificar si se encontraba en la sintaxis correcta de json y me indicaba que si.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El problema radica que cuando se va a pasar a la pagina &lt;code&gt;Guardar.php&lt;/code&gt; y realizar un &lt;code&gt;echo json_encode($_POST);&lt;/code&gt; me retorna por consola que el array se encuentra vacio. ¿Alguna idea de porque no esta pasando los datos hacia mi PHP? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;El PHP donde se encuentra la pagina de la tabla:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xD;&#xA;&amp;lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&amp;gt;&#xD;&#xA;  &amp;lt;head&amp;gt;&#xD;&#xA;    &amp;lt;?php require_once(&quot;Vista/Head.php&quot;);&#xD;&#xA;          require_once(&quot;validarsession.php&quot;);&#xD;&#xA;          require_once(&quot;Conexion/Conexion.php&quot;);&#xD;&#xA;    ?&amp;gt;&#xD;&#xA;  &amp;lt;/head&amp;gt;&#xD;&#xA;  &amp;lt;body&amp;gt;&#xD;&#xA;    &amp;lt;?php require_once(&quot;Vista/Header.php&quot;);?&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;container-fluid&quot;&amp;gt;&#xD;&#xA;      &amp;lt;div class=&quot;row&quot;&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-lg-12&quot;&amp;gt;&#xD;&#xA;            &amp;lt;h1 class=&quot;page-header&quot; style=&quot;text-align:center;&quot;&amp;gt;Realizar Compras&amp;lt;/h1&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&amp;lt;!-- /.col-lg-12 --&amp;gt;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;      &amp;lt;div class=&quot;row&quot;&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-6 table-responsive&quot;&amp;gt;&#xD;&#xA;          &amp;lt;div class=&quot;panel panel-default panel-table panel-success&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;panel-heading&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;panel-body&quot;&amp;gt;&#xD;&#xA;              &amp;lt;div class=&quot;container-fluid&quot;&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;panel panel-default&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;panel-heading&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;h4&amp;gt;Datos del producto&amp;lt;/h4&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;panel-body&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;row&quot; style=&quot;padding:20px;&quot;&amp;gt;&#xD;&#xA;                      &amp;lt;label for=&quot;&quot;&amp;gt;Busqueda:&amp;lt;/label&amp;gt;&#xD;&#xA;                      &amp;lt;select class=&quot;selectpicker show-menu-arrow  form-control&quot; data-live-search=&quot;true&quot; title=&quot;------&quot; id=&quot;producto&quot;&amp;gt;&#xD;&#xA;                        &amp;lt;?php&#xD;&#xA;                          $class = new conexion();&#xD;&#xA;                          $var = $class-&amp;gt;CargarArticulos();&#xD;&#xA;                          foreach ($var as $key =&amp;gt; $value) {&#xD;&#xA;                            echo &quot;&amp;lt;option  value=&quot;.$value['IDARTICULO'].&quot;&amp;gt;&quot;.$value['ARTNOMB'].&quot;&amp;lt;/option&amp;gt;&quot;;&#xD;&#xA;                          }&#xD;&#xA;                        ?&amp;gt;&#xD;&#xA;                      &amp;lt;/select&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;row&quot; style=&quot;padding:20px;&quot;&amp;gt;&#xD;&#xA;                      &amp;lt;label for=&quot;&quot;&amp;gt;Cantidad:&amp;lt;/label&amp;gt;&#xD;&#xA;                      &amp;lt;input class=&quot;form-control&quot; type='text' onKeyPress='return soloNumeros(event)' id=&quot;cantidad&quot;/&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;row&quot;&amp;gt;&#xD;&#xA;                      &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                      &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&amp;lt;input type=&quot;button&quot; name=&quot;&quot; value=&quot;Agregar&quot; class=&quot;form-control btn btn-success&quot; onclick=&quot;Cargar()&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                      &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;div class=&quot;panel panel-default&quot;&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;panel-heading&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;h4&amp;gt;Detalle Carro de compras&amp;lt;/h4&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                  &amp;lt;div class=&quot;panel-body&quot;&amp;gt;&#xD;&#xA;                    &amp;lt;div class=&quot;row table-responsive&quot; style=&quot;padding:20px;&quot;&amp;gt;&#xD;&#xA;                      &amp;lt;form class=&quot;&quot; action=&quot;&quot; id=&quot;form_insert&quot;&amp;gt;&#xD;&#xA;                        &amp;lt;table class=&quot;table table-bordered table-hover table-condensed table-fixed display table-responsive table-condensed&quot; id=&quot;miTabla&quot;&amp;gt;&#xD;&#xA;                          &amp;lt;thead&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot; style=&quot;display:none;&quot;&amp;gt;&amp;lt;center&amp;gt;IDARTICULO&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot;&amp;gt;&amp;lt;center&amp;gt;Cantidad&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot;&amp;gt;&amp;lt;center&amp;gt;Nombre&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot;&amp;gt;&amp;lt;center&amp;gt;Precio Cost.&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot;&amp;gt;&amp;lt;center&amp;gt;Precio Total&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                            &amp;lt;th scope=&quot;col&quot;&amp;gt;&amp;lt;center&amp;gt;Accion&amp;lt;/center&amp;gt;&amp;lt;/th&amp;gt;&#xD;&#xA;                          &amp;lt;/thead&amp;gt;&#xD;&#xA;                          &amp;lt;tbody id=&quot;tablita&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;                          &amp;lt;/tbody&amp;gt;&#xD;&#xA;                        &amp;lt;/table&amp;gt;&#xD;&#xA;                        &amp;lt;div class=&quot;row&quot;&amp;gt;&#xD;&#xA;                          &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                          &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&amp;lt;input type=&quot;button&quot; name=&quot;&quot; value=&quot;Comprar&quot; class=&quot;form-control btn btn-success&quot; onclick=&quot;guardardatos()&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                          &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;                        &amp;lt;/div&amp;gt;&#xD;&#xA;                      &amp;lt;/form&amp;gt;&#xD;&#xA;                    &amp;lt;/div&amp;gt;&#xD;&#xA;                  &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;            &amp;lt;/div&amp;gt;&#xD;&#xA;          &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-3&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;      &amp;lt;br&amp;gt;&#xD;&#xA;      &amp;lt;br&amp;gt;&#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;    &amp;lt;?php require_once(&quot;Vista/Footer.php&quot;); ?&amp;gt;&#xD;&#xA;    &amp;lt;/script&amp;gt;&#xD;&#xA;  &amp;lt;/body&amp;gt;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y el Javascript que utilizo para llenar la tabla e ir almacenando los resultado:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xD;&#xA; var miArray = [];&#xD;&#xA;  function Cargar(){&#xD;&#xA;      var _producto = document.getElementById(&quot;producto&quot;).value;&#xD;&#xA;      var _cantidad = document.getElementById(&quot;cantidad&quot;).value;&#xD;&#xA;      var select = document.getElementById(&quot;producto&quot;), //El &amp;lt;select&amp;gt;&#xD;&#xA;       value = select.value, //El valor seleccionado&#xD;&#xA;       text = select.options[select.selectedIndex].innerText; //El texto de la opción seleccionada&#xD;&#xA;      var _encontradoResultado=false;&#xD;&#xA;        //realizamos el recorrido solo por las celdas que contienen el código, que es la primera&#xD;&#xA;        $(&quot;#miTabla tr&quot;).find('td:eq(2)').each(function () {&#xD;&#xA;              codigo = $(this).html();&#xD;&#xA;               if(codigo==text){&#xD;&#xA;                    _encontradoResultado=true;&#xD;&#xA;               }&#xD;&#xA;        })&#xD;&#xA;        if (!_producto == &quot;&quot; &amp;amp;&amp;amp; _encontradoResultado == false) {&#xD;&#xA;          $.ajax({&#xD;&#xA;            url:'Conexion/Buscar.php',&#xD;&#xA;            type:'POST',&#xD;&#xA;            dataType: 'json',&#xD;&#xA;            data:'IDARTICULO='+_producto&#xD;&#xA;          }).done(function(resp){&#xD;&#xA;            var fila;&#xD;&#xA;            for (var i = 0; i &amp;lt; resp.length; i++) {&#xD;&#xA;              var flotante = parseFloat(resp[i].Precio*_cantidad);&#xD;&#xA;              var resultado = Math.round(flotante*100)/100;&#xD;&#xA;              fila =&quot;&amp;lt;tr&amp;gt;&amp;lt;td align='center' style='display:none;    '&amp;gt;&quot;+resp[i].IDARTICULO+&quot;&amp;lt;/td&amp;gt; &amp;lt;td align='center'&amp;gt;&quot;+_cantidad+&quot;&amp;lt;/td&amp;gt; &amp;lt;td align='center'&amp;gt;&quot;+resp[i].ARTNOMB+&quot;&amp;lt;/td&amp;gt; &amp;lt;td align='center'&amp;gt;&quot;+resp[i].Precio+&quot;&amp;lt;/td&amp;gt; &amp;lt;td align='center'&amp;gt;&quot;+resultado+&quot;&amp;lt;/td&amp;gt; &amp;lt;td align='center'&amp;gt;&amp;lt;input type='button' class='borrar btn btn-danger' value='Eliminar' /&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;              miArray.push({idarticulo: resp[i].IDARTICULO, cantidad:_cantidad,nombre:resp[i].ARTNOMB,precio:resp[i].Precio,resultado:resultado});&#xD;&#xA;            }&#xD;&#xA;            var btn = document.createElement(&quot;TR&quot;);&#xD;&#xA;            btn.innerHTML=fila;&#xD;&#xA;            document.getElementById(&quot;tablita&quot;).appendChild(btn);&#xD;&#xA;          });&#xD;&#xA;        }&#xD;&#xA;  }&#xD;&#xA;  &amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""98397"" LastEditorUserId=""98397"" LastEditDate=""2018-08-30T00:26:56.407"" LastActivityDate=""2018-08-30T01:42:54.563"" Title=""AJAX me envia datos vacios hacia PHP"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""192755"" PostTypeId=""1"" AcceptedAnswerId=""192787"" CreationDate=""2018-08-30T14:01:11.917"" Score=""2"" ViewCount=""72"" Body=""&lt;p&gt;Intento hacer lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;Al enviar un &lt;strong&gt;FORM&lt;/strong&gt;, genera un pedido, el cuál, a través de Ajax, envío a la base de datos.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;A continuación, tengo otro Ajax, (ambos dentro del jQuery cuando se hace submit) que me saca un archivo csv del pedido:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$cod_cliente = ($_POST['cod_cliente']);&#xA;$optica = ($_POST['optica']);&#xA;$fecha = ($_POST['fecha']);&#xA;$tipo = ($_POST['tipo']);&#xA;&#xA;&#xA;$csv = &quot;../pedidos/PEDIDO &quot;.$tipo.&quot;.csv&quot;;&#xA;&#xA;$lista = array (&#xA;    array('Codigo Cliente', 'Cliente', 'Fecha', 'Tipo'),&#xA;    array($cod_cliente, $optica, $fecha, $tipo),&#xA;);&#xA;&#xA;$fp = fopen($csv, 'x');&#xA;&#xA;foreach ($lista as $campos) {&#xA;    fputcsv($fp, $campos);&#xA;}&#xA;&#xA;fclose($fp);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;?&gt;&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;El &lt;strong&gt;ajax&lt;/strong&gt; completo: al hacer submit:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#pedidos&quot;).submit(function(e){&#xA;&#xA;  // Aquí definidas todas las variables&#xA;&#xA;  e.preventDefault();&#xA;&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/enviar_pedido.php',&#xA;    data: {'cod_cliente': cod_cliente,&#xA;            ...etc&#xA;            }&#xA;  })&#xA;  .done(function(listas_rep){&#xA;  })&#xA;  .fail(function(){&#xA;  })&#xA;&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/generarCsv.php',&#xA;    data: {'cod_cliente': cod_cliente,&#xA;           'optica': optica,&#xA;           'fecha': fecha,&#xA;           'tipo': tipoCi}&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    alert('CSV Generado con exito');&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Error al crear el archivo CSV')&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Mi cuestión, es la siguiente: este pedido se envía a su vez que genera el archivo csv. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Si os fijáis, el nombre del archivo csv, es: PEDIDO &quot;tipo&quot;, aun que lo que necesito es que obtenga el formato de: &quot;PEDIDO 01&quot; &quot;PEDIDO 02&quot;&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;La ID del pedido, se supone que es un &lt;code&gt;AUTOINCREMENT&lt;/code&gt; en la base de datos, con lo que ahí está el &quot;ID&quot; pero el &lt;code&gt;CSV&lt;/code&gt; lo genero en el instante que creo el pedido, obviamente, en ese momento todavía no está la ID.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;¿Alguien me puede porfavor ofrecer algún consejo / solucion?&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastEditorUserId=""25988"" LastEditDate=""2018-08-30T14:37:29.303"" LastActivityDate=""2018-08-30T15:32:34.780"" Title=""Obtener la ID de un Pedido, en el momento de enviarlo por PHP a BBDD (Para un CSV)"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;csv&gt;&lt;fputcsv&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""193231"" PostTypeId=""1"" CreationDate=""2018-09-01T03:27:37.363"" Score=""2"" ViewCount=""1034"" Body=""&lt;p&gt;Entiendo que todo el código que esté al lado del cliente es y será visible, pero al menos no estaría mal hacerlo complicado para los menos expertos en la programación.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Visitar el archivo directo no arrojará ningún mensaje de error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero como puedo proteger la ruta del archivo &lt;code&gt;var url = &quot;proteger.php&quot;;&lt;/code&gt; a lo mejor utilizando &lt;code&gt;base64_encode&lt;/code&gt; de PHP.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;var frm = $('#resetform');&#xA;frm.submit(function(e){&#xA;    e.preventDefault();&#xA;    var formData = frm.serialize();&#xA;    formData += '&amp;amp;' + $('#submit_btn').attr('name') + '=' + $('#submit_btn').attr('value');&#xA; var url = &quot;proteger.php&quot;;&#xA;    $.ajax({&#xA;        type: frm.attr('method'),&#xA;        url: url,&#xA;        data: formData,&#xA;    })&#xA;    .done(function(data) {&#xA;        let res = JSON.parse(data);&#xA;        if(res.status){&#xA;            $('#message').fadeIn();&#xA;            $('#message').html(res.message).delay(3000).fadeOut(3000);&#xA;            $(frm).hide();&#xA;    setTimeout(function(){&#xA;        location.href = 'index.php';&#xA;    },2000);&#xA;  } else {&#xA;    $('#message').fadeIn();&#xA;    $('#message').html(res.message).delay(3000).fadeOut(3000);&#xA;  }&#xA;    })&#xA;    .fail(function() {&#xA;        $('#message').fadeIn();&#xA;        $('#message').html(textStatus).delay(2000).fadeOut(2000);&#xA;    })&#xA;});&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""95452"" LastActivityDate=""2018-09-01T03:27:37.363"" Title=""¿Cómo proteger la ruta del archivo que realiza la petición Ajax?"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""193418"" PostTypeId=""1"" AcceptedAnswerId=""194919"" CreationDate=""2018-09-02T16:13:35.457"" Score=""7"" ViewCount=""2620"" Body=""&lt;p&gt;Tengo iniciada las variables en el archivo actual, ya sea mediante &lt;code&gt;POST&lt;/code&gt; o &lt;code&gt;GET&lt;/code&gt;, por ejemplo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (isset($_GET['email']) &amp;amp;&amp;amp; preg_match('/^([a-zA-Z0-9])+([a-zA-Z0-9\._-])*@([a-zA-Z0-9_-])+([a-zA-Z0-9\._-]+)+$/', $_GET['email'])) {&#xA;    $email = $_GET['email'];&#xA;}&#xA;if (isset($email)) {&#xA;    SELECT * FROM usuarios WHERE email=?&#xA;   //...&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Ahora mediante sesiones de usuario logueados&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (isset($_SESSION[&quot;id_username&quot;])) { &#xA;  if (!filter_var($_SESSION[&quot;id_username&quot;] ?: '', FILTER_VALIDATE_INT) === false) {&#xA;    $id_username = $_SESSION[&quot;id_username&quot;] ?: '';&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Ahora por datos a imprimir del usuario de manera gloabal&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$Username-&amp;gt;bind_result($email,$nombres,$ciudad //.... ); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Yo dispongo de todos estos datos, en mis aplicaciones utilizo &lt;code&gt;ajax&lt;/code&gt;, y solo deseo poder agregar campos &lt;code&gt;input&lt;/code&gt; que sean necesarios y los que no sean necesarios poderlos enviar esa información directamente desde el código &lt;code&gt;ajax&lt;/code&gt; sin la necesidad de crear campos &lt;code&gt;input&lt;/code&gt; ocultos, ya que cada &lt;code&gt;formulario&lt;/code&gt; tiene un &lt;code&gt;id&lt;/code&gt; de identificación, la cual el &lt;code&gt;ajax&lt;/code&gt; solo funciona para dicho formulario &lt;code&gt;var frm = $('#resetform');&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Entonces como puedo enviar esa informaciones sin la necesidad de crear un campo input? por ejemplo &lt;code&gt;&amp;lt;input type=&quot;hidden&quot; name=&quot;email&quot; value=&quot;&amp;lt;?php echo $email;?&amp;gt;&quot;&amp;gt;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;este valor &lt;code&gt;$email;&lt;/code&gt; se puede enviar directamente con el código ajax, algún parámetro, me invento &lt;code&gt;var $email&lt;/code&gt; y así enviar esa información.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;var frm = $('#resetform');&#xA;frm.submit(function(e){&#xA;    e.preventDefault();&#xA;    var formData = frm.serialize();&#xA;    formData += '&amp;amp;' + $('#submit_btn').attr('name') + '=' + $('#submit_btn').attr('value');&#xA; var url = &quot;update.php&quot;;&#xA;    $.ajax({&#xA;        type: frm.attr('method'),&#xA;        url: url,&#xA;        data: formData,&#xA;    })&#xA;    .done(function(data) {&#xA;        let res = JSON.parse(data);&#xA;        if(res.status){&#xA;            $('#message').fadeIn();&#xA;            $('#message').html(res.message).delay(3000).fadeOut(3000);&#xA;            $(frm).hide();&#xA;    setTimeout(function(){&#xA;        location.href = 'index.php';&#xA;    },2000);&#xA;  } else {&#xA;    $('#message').fadeIn();&#xA;    $('#message').html(res.message).delay(3000).fadeOut(3000);&#xA;  }&#xA;    })&#xA;    .fail(function() {&#xA;        $('#message').fadeIn();&#xA;        $('#message').html(textStatus).delay(2000).fadeOut(2000);&#xA;    })&#xA;});&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""95452"" LastEditorUserId=""95452"" LastEditDate=""2018-09-09T01:10:53.553"" LastActivityDate=""2022-01-04T16:47:45.917"" Title=""¿Cómo enviar datos en sesión activa mediante Ajax?"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""5"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""193891"" PostTypeId=""1"" CreationDate=""2018-09-04T11:24:54.487"" Score=""2"" ViewCount=""455"" Body=""&lt;p&gt;intento crear para uso personal, un sistema para crear presupuestos:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;tengo la siguiente estructura:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Este &lt;code&gt;DIV&lt;/code&gt;: Me muestra un listado de servicios desde ajax, además, tiene un buscador en ajax para encontrar el servicio o producto.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;resultadosPresupuestos&quot;&amp;gt; &#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/wuD7Q.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/wuD7Q.png&quot; alt=&quot;Buscador Ajax y PHP&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Justo debajo, tengo una tabla, en la que se supone, que al darle al &lt;code&gt;+&lt;/code&gt; debería añadir el servicio a la tabla.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto es lo que tengo hasta ahora, y no me funciona:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on('click', '.addLane', function () {&#xA;&#xA;    var id = $(this).attr(&quot;id&quot;);&#xA;    console.log(id);&#xA;&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'php/addLinea.php',&#xA;      data: {'id': id}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $('#tablaDatosPresu').append(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al añadir la línea al presupuesto')&#xA;    })&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La clase addLane, la estoy sacando de PHP, de la celda &lt;code&gt;+&lt;/code&gt;, contiene la ID del artículo, que la paso por ajax al siguiente PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function setLinea(){&#xA;  $mysqli = getConn();&#xA;  $codigo = $_POST['id'];&#xA;  $query = &quot;SELECT * FROM `servicios` WHERE codigo = $codigo&quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;&#xA;    $indices = '&amp;lt;tr&amp;gt;&#xA;                    &amp;lt;td&amp;gt;' .$row[codigo]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;' .$row[nombre]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;1&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;' .$row[precio]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;0&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;' .$row[iva]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;total&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td&amp;gt;trash&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;';&#xA;  }&#xA;&#xA;  return $indices;&#xA;}&#xA;&#xA;echo setLinea();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La tabla, en la que añadir las líneas, sería la siguiente, (se encuentra dentro de un &lt;code&gt;div&lt;/code&gt;):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;datosPresupuesto&quot;&amp;gt;&#xA;    &amp;lt;br&amp;gt;&#xA;    &amp;lt;table id=&quot;tablaDatosPresu&quot;&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;th&amp;gt;Codigo&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th width=&quot;320px;&quot;&amp;gt;Descripción&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Cantidad&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Precio&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Dto %&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;IVA&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Total&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Acciones&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td width=&quot;320px;&quot;&amp;gt;&amp;lt;input type=&quot;text&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot; value=&quot;1&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot; value=&quot;21%&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;input type=&quot;text&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;i class=&quot;fas fa-trash-alt&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/td&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;/table&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Por cada vez que se inserta una línea, se debería crear un:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;tr&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;   &amp;lt;td&amp;gt;&#xA;&amp;lt;/tr&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al pinchar en el &lt;code&gt;+&lt;/code&gt; para añadir, en este momento, el ajax me sale por el 'fail'.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agradecería ayuda, para ver como podría solventar este problema. Y lograr hacerlo funcionar.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Muchas gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-09-04T11:24:54.487"" Title=""Como Añadir Elementos (filas) a una tabla desde jQuery, Ajax y PHP"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;tablas&gt;"" AnswerCount=""0"" CommentCount=""11"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""194932"" PostTypeId=""1"" AcceptedAnswerId=""194946"" CreationDate=""2018-09-07T15:22:25.277"" Score=""2"" ViewCount=""1343"" Body=""&lt;pre&gt;&lt;code&gt;Uncaught RangeError: Maximum call stack size exceeded&#xA;    at xb (jquerymin.js:4)&#xA;    at xb (jquerymin.js:4)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Hola, intento enviar el siguiente formulario, y recibo este error por consola:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;form_comentarios&quot; action=&quot;POST&quot;&amp;gt;&#xA;    &amp;lt;!--&amp;lt;input type=&quot;hidden&quot; id=&quot;puntuacion&quot; required&amp;gt;--&amp;gt;&#xA;    &amp;lt;input type=&quot;hidden&quot; id=&quot;codigo_producto&quot; value=&quot;&amp;lt;?php echo $producto['id']; ?&amp;gt;&quot;&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; id=&quot;nombre&quot; placeholder=&quot;Nombre&quot; style=&quot;width: 50%;&quot; required&amp;gt;&amp;lt;br&amp;gt;&#xA;    &amp;lt;input type=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;Email&quot; style=&quot;width: 50%;&quot; required&amp;gt;&amp;lt;br&amp;gt;&#xA;    &amp;lt;textarea id=&quot;comentario&quot; placeholder=&quot;Escriba aquí su comentario&quot; required&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;br&amp;gt;&#xA;    &amp;lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Comentar&quot;&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Recibo los datos en un archivo .js (que pongo a continuación):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#form_comentarios&quot;).submit(function(e){&#xA;  var puntuacion = $('#puntuacion').val()&#xA;  var codigo_producto = $('#codigo_producto').val()&#xA;  var nombre = $('#nombre').val()&#xA;  var cod_agente = $('#cod_agente').val()&#xA;  var fecha = $('#fecha').val()&#xA;&#xA;  e.preventDefault();&#xA;&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/setValoracion.php',&#xA;    data: {'puntuacion': puntuacion,&#xA;           'codigo_producto': codigo_producto,&#xA;           'nombre': nombre,&#xA;           'email': email,&#xA;           'comentario': comentario,&#xA;            }&#xA;  })&#xA;  .done(function(insertarComentario){&#xA;    alert('comentario enviado con éxito');&#xA;  })&#xA;  .fail(function(){&#xA;    alert('fallo');&#xA;  })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el PHP al que intento acceder:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function insertarComentario(){&#xA;    $puntuacion = $_POST['puntuacion'];&#xA;    $codigo_producto = $_POST['codigo_producto'];&#xA;    $nombre = $_POST['nombre'];&#xA;    $email = $_POST['email'];&#xA;    $comentario = $_POST['comentario'];&#xA;&#xA;    $stmt = $con-&amp;gt;prepare(&quot;INSERT INTO comentarios (id_prod, nombre_cliente, email, comentario) VALUES (?,?,?,?)&quot;);&#xA;    $stmt-&amp;gt;bind_param('isss', $codigo_producto, $nombre, $email, $comentario);&#xA;    $stmt-&amp;gt;execute();&#xA;    $stmt-&amp;gt;close();&#xA;    $con-&amp;gt;close();&#xA;}&#xA;&#xA;echo insertarComentario();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-09-07T16:03:13.307"" Title=""Error en jQuery, al enviar FORM: Maximum call stack size exceeded"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""195158"" PostTypeId=""1"" CreationDate=""2018-09-08T16:22:41.530"" Score=""0"" ViewCount=""38"" Body=""&lt;p&gt;Intento hacer un &quot;editar&quot; clientes, pero no me funciona absolutamente nada.&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;¿Es posible que sea por que el &lt;code&gt;form&lt;/code&gt;, lo saco por &lt;code&gt;PHP&lt;/code&gt; en una consulta?&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Voy a explicar mi código:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En primer lugar:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El &lt;code&gt;form&lt;/code&gt;, viene desde una consulta, al hacer click en editar cliente de la siguiente forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function verCliente() {&#xA;&#xA;    $idcliente = $_POST['id'];&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;    $query = &quot;SELECT * FROM clientes WHERE id_cliente = $idcliente&quot;;&#xA;    $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;    $ec = '&amp;lt;table&amp;gt;';&#xA;&#xA;    while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;        $ec .= '&amp;lt;h2&amp;gt;Editar cliente #'.$row[id_cliente].'&amp;lt;/h2&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Personales&amp;lt;/h3&amp;gt;&#xA;                &amp;lt;form id=&quot;form_edit_cliente&quot; method=&quot;post&quot;&amp;gt;&#xA;                &amp;lt;input id=&quot;idc&quot; type=&quot;hidden&quot; value=&quot;'.$row[id_cliente].'&quot;&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;nombre&quot; type=&quot;text&quot; value=&quot;'.$row[nombre].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td barcode&quot; style=&quot;text-align:center&quot; colspan=&quot;6&quot; rowspan=&quot;2&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Fecha Registro:&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;' .$row[fecha_registro]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Apellidos&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;apellidos&quot; type=&quot;text&quot; value=&quot;'.$row[apellidos].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Telefono&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;telefono&quot; type=&quot;text&quot; value=&quot;'.$row[telefono].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Email&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;email&quot; type=&quot;text&quot; value=&quot;'.$row[email].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/table&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Comerciales&amp;lt;/h3&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre Comercial&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;ncomercial&quot; type=&quot;text&quot; value=&quot;'.$row[ncomercial].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre Fiscal&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;nfiscal&quot; type=&quot;text&quot; value=&quot;'.$row[nfiscal].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;NIF/CIF&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cif&quot; type=&quot;text&quot; value=&quot;'.$row[cif].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;IVA&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;iva&quot; type=&quot;text&quot; value=&quot;'.$row[iva].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Direccion&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;direccion&quot; type=&quot;text&quot; value=&quot;'.$row[direccion].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Ciudad&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;ciudad&quot; type=&quot;text&quot; value=&quot;'.$row[ciudad].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;CP&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cp&quot; type=&quot;text&quot; value=&quot;'.$row[cp].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;';&#xA;    }&#xA;&#xA;    $ec .= '&amp;lt;/table&amp;gt;&#xA;            &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;            &amp;lt;center&amp;gt;&amp;lt;input type=&quot;submit&quot; class=&quot;btnVerde&quot; id=&quot;submit&quot; value=&quot;Editar Cliente&quot;&amp;gt;&amp;lt;/center&amp;gt;&#xA;            &amp;lt;/form&amp;gt;';&#xA;&#xA;    return $ec;&#xA;}&#xA;echo verCliente();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Esto, lo estoy mostrando en un &lt;code&gt;DIV&lt;/code&gt;, es un &lt;code&gt;form&lt;/code&gt;, dentro de una tabla, con su simple botón de &lt;code&gt;submit&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta es mi llamada desde ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;&#xA;    $(&quot;#form_edit_cliente&quot;).submit(function(e){&#xA;      var idc = $('#idc').val()&#xA;      var nombre = $('#nombre').val()&#xA;      var apellidos = $('#apellidos').val()&#xA;      var telefono = $('#telefono').val()&#xA;      var email = $('#email').val()&#xA;      var ncomercial = $('#ncomercial').val()&#xA;      var nfiscal = $('#nfiscal').val()&#xA;      var cif = $('#cif').val()&#xA;      var iva = $('#iva').val()&#xA;      var direccion = $('#direccion').val()&#xA;      var ciudad = $('#ciudad').val()&#xA;      var cp = $('#cp').val()&#xA;&#xA;      e.preventDefault();&#xA;&#xA;      $.ajax({&#xA;        type: 'POST',&#xA;        url: 'php/update_cliente.php',&#xA;        data: {'idc': idc,&#xA;               'nombre': nombre,&#xA;               'apellidos': apellidos,&#xA;               'telefono': telefono,&#xA;               'email': email,&#xA;               'ncomercial': ncomercial,&#xA;               'nfiscal': nfiscal,&#xA;               'cif': cif,&#xA;               'iva': iva,&#xA;               'direccion': direccion,&#xA;               'ciudad': ciudad,&#xA;               'cp': cp&#xA;              }&#xA;      })&#xA;      .done(function(){&#xA;&#xA;        alert('El cliente ha sido editado correctamente');&#xA;        $('#editarCliente').hide();&#xA;        location.reload();&#xA;&#xA;      })&#xA;      .fail(function(err){&#xA;        console.log(err);&#xA;        alert(&quot;Error 01x234&quot;);&#xA;      })&#xA;    });&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y el PHP que busca el Ajax es este: que contiene el &lt;code&gt;UPDATE&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function updateCliente() {&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;    $idc = $_POST['idc'];&#xA;    $nombre = $_POST['nombre'];&#xA;    $apellidos = $_POST['apellidos'];&#xA;    $telefono = $_POST['telefono'];&#xA;    $email = $_POST['email'];&#xA;    $ncomercial = $_POST['ncomercial'];&#xA;    $nfiscal = $_POST['nfiscal'];&#xA;    $cif = $_POST['cif'];&#xA;    $iva = $_POST['iva'];&#xA;    $direccion = $_POST['direccion'];&#xA;    $ciudad = $_POST['ciudad'];&#xA;    $cp = $_POST['cp'];&#xA;&#xA;    $query = &quot;UPDATE clientes SET nombre = $nombre, apellidos = $apellidos, telefono = $telefono, email = $email, ncomercial = $ncomercial, nfiscal = $nfiscal, cif = $cif, iva = $iva, direccion = $direccion, ciudad = $ciudad, cp = $cp WHERE id_cliente = $idc&quot;;&#xA;&#xA;    if (mysqli_query($mysqli, $query)) {&#xA;        echo &quot;Record updated successfully&quot;;&#xA;    } else {&#xA;        echo &quot;Error updating record: &quot; . mysqli_error($mysqli);&#xA;    }&#xA;&#xA;}&#xA;&#xA;echo updateCliente();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;¿Que está sucediendo?&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Creo que no está  ni si quiera detectando el Ajax, al darle al botón de submit, no pasa absolutamente nada.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Agradecería ayuda para solventar este problema.&#xA;Muchas gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-09-08T16:22:41.530"" Title=""Error al hacer un UPDATE desde PHP con Ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;update&gt;"" AnswerCount=""0"" CommentCount=""9"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""196110"" PostTypeId=""1"" CreationDate=""2018-09-12T15:46:14.183"" Score=""0"" ViewCount=""3106"" Body=""&lt;p&gt;Quisiera recargar un DataTable después de la confirmación de un modal y así se agreguen o quiten unos checkbox, pero cada vez que lo hago se me genera otra tabla encima del otro, y se desconfigura el Datatable.&lt;strong&gt;( estoy usando esto después de la confirmación del modal  $('#user-list').load('  #user-list');).&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(function ($, window, document, undefined) {&#xA;$('#user-list').DataTable({&#xA;    pageLength: 20,&#xA;    rowCallback: function (row, data) {&#xA;        $('.assigned').closest('tr').find('[data-assigned]').on('click', function (e) {&#xA;            e.stopImmediatePropagation();&#xA;            const btn = $(this);&#xA;            const url = $(btn).data('url');&#xA;            const fullname = $(btn).data('fullname');&#xA;&#xA;            $.confirm({&#xA;                columnClass: 'col-md-12',&#xA;                content: function () {&#xA;                    const self = this;&#xA;&#xA;                    return $.ajax({&#xA;                        url: url,&#xA;                        dataType: 'html',&#xA;                        method: 'GET'&#xA;                    }).done(function (response) {&#xA;                        self.setContent(response);&#xA;                        self.setTitle(`&amp;lt;h4 class=&quot;text-blue&quot;&amp;gt;&#xA;                                             &amp;lt;i class=&quot;icon fa fa-user&quot;&amp;gt;&amp;lt;/i&amp;gt; ${fullname}&#xA;                                       &amp;lt;/h4&amp;gt;`);&#xA;                    }).fail(function () {&#xA;                        self.setContent(`&amp;lt;div class=&quot;alert alert-danger alert-dismissible&quot;&amp;gt;&#xA;                                            &amp;lt;h4&amp;gt;&#xA;                                                &amp;lt;i class=&quot;icon fa fa-ban&quot;&amp;gt;&amp;lt;/i&amp;gt; Error&#xA;                                            &amp;lt;/h4&amp;gt;&#xA;                                         &amp;lt;/div&amp;gt;`);&#xA;                    });&#xA;                },&#xA;                buttons: {&#xA;                    cancel: {&#xA;                        text: 'Cerrar',&#xA;                        btnClass: 'btn-default',&#xA;                        keys: ['enter'],&#xA;                        action: function () {&#xA;                        }&#xA;                    },&#xA;                }&#xA;            });&#xA;        });&#xA;        $('.summary').closest('tr').find('[data-summary]').on('click', function (e) {&#xA;            e.stopImmediatePropagation();&#xA;            const btn = $(this);&#xA;            const url = $(btn).data('url');&#xA;            const fullname = $(btn).data('fullname');&#xA;&#xA;            $.confirm({&#xA;                columnClass: 'col-md-12',&#xA;                content: function () {&#xA;                    const self = this;&#xA;&#xA;                    return $.ajax({&#xA;                        url: url,&#xA;                        dataType: 'html',&#xA;                        method: 'GET'&#xA;                    }).done(function (response) {&#xA;                        self.setContent(response);&#xA;                        self.setTitle(`&amp;lt;h4 class=&quot;text-blue&quot;&amp;gt;&#xA;                                             &amp;lt;i class=&quot;icon fa fa-user&quot;&amp;gt;&amp;lt;/i&amp;gt; ${fullname}&#xA;                                       &amp;lt;/h4&amp;gt;`);&#xA;                    }).fail(function () {&#xA;                        self.setContent(`&amp;lt;div class=&quot;alert alert-danger alert-dismissible&quot;&amp;gt;&#xA;                                            &amp;lt;h4&amp;gt;&#xA;                                                &amp;lt;i class=&quot;icon fa fa-ban&quot;&amp;gt;&amp;lt;/i&amp;gt; Error&#xA;                                            &amp;lt;/h4&amp;gt;&#xA;                                         &amp;lt;/div&amp;gt;`);&#xA;                    });&#xA;                },&#xA;                buttons: {&#xA;                    cancel: {&#xA;                        text: 'Cerrar',&#xA;                        btnClass: 'btn-default',&#xA;                        keys: ['enter'],&#xA;                        action: function () {&#xA;                        }&#xA;                    },&#xA;                }&#xA;            });&#xA;        });&#xA;&#xA;        __getChangeStatus(row);&#xA;    }&#xA;});&#xA;&#xA;&#xA;/**&#xA; * @private __getChangeStatus&#xA; */&#xA;function __getChangeStatus(tr) {&#xA;    $('.basic-checkbox').closest(tr).find('[data-checkbox]').on('click', function (e) {&#xA;        e.stopImmediatePropagation();&#xA;        const that = $(this);&#xA;        const id = $(that).data('id');&#xA;        const isCheck = $(that).is(':checked');&#xA;        let content = 'La evaluación ha sido abierta con éxito';&#xA;&#xA;        if (isCheck) {&#xA;            content = 'La evaluación ha sido cerrada con éxito';&#xA;        }&#xA;&#xA;        $.ajax({&#xA;            'async': true,&#xA;            'crossDomain': true,&#xA;            'url': '/api/employee/retrieve-opening-evaluation/',&#xA;            'method': 'POST',&#xA;            'headers': {&#xA;                'Content-Type': 'application/json',&#xA;                'Cache-Control': 'no-cache',&#xA;            },&#xA;            'processData': false,&#xA;            data: JSON.stringify({&#xA;                is_closed: isCheck,&#xA;                employee_id: id,&#xA;            }),&#xA;        }).done(function (response, status) {&#xA;            if ('success' === status) {&#xA;                $.confirm({&#xA;                    icon: 'fas fa-check-circle',&#xA;                    title: '',&#xA;                    content: content,&#xA;                    theme: 'modern',&#xA;                    closeIcon: false,&#xA;                    animation: 'scale',&#xA;                    type: 'green',&#xA;                    buttons: {&#xA;                        confirm: {&#xA;                            text: 'Cerrar',&#xA;                            btnClass: 'btn-blue btn-xs btn-disabled',&#xA;                            action: function () {&#xA;                                location.reload();&#xA;                            }&#xA;                        },&#xA;                    }&#xA;                });&#xA;            }&#xA;        }).fail(function (response, status) {&#xA;            if (status === 'error') {&#xA;                $.confirm({&#xA;                    icon: 'fas fa-times-circle',&#xA;                    title: status,&#xA;                    content: response.responseJSON.message,&#xA;                    theme: 'modern',&#xA;                    closeIcon: false,&#xA;                    animation: 'scale',&#xA;                    type: 'red',&#xA;                    buttons: {&#xA;                        cancel: {&#xA;                            text: 'Cerrar',&#xA;                            btnClass: 'btn-xs btn-danger',&#xA;                            action: function () {&#xA;                                location.reload();&#xA;                            }&#xA;                        },&#xA;                    }&#xA;                });&#xA;            }&#xA;        });&#xA;    });&#xA;}&#xA;&#xA;$('[id=&quot;close-evaluation-btn&quot;]').on('click', function (e) {&#xA;    e.preventDefault();&#xA;    $.confirm({&#xA;        title: `&amp;lt;h4&amp;gt;¿Esta seguro que desea cerrar la evaluación?.&amp;lt;/h4&amp;gt;`,&#xA;        content: ``,&#xA;        icon: 'fas fa-unlock-alt',&#xA;        theme: 'modern',&#xA;        animation: 'scale',&#xA;        closeAnimation: 'scale',&#xA;        boxWidth: '100%',&#xA;        className: 'col-md-12',&#xA;        opacity: 0.5,&#xA;        buttons: {&#xA;            confirm: {&#xA;                text: 'Cerrar',&#xA;                btnClass: 'btn-danger',&#xA;                action: function () {&#xA;                    let dialog = __getDialogSave(&#xA;                        'Evaluación',&#xA;                        'Espere un momento mientras la evaluación es cerrada...'&#xA;                    );&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        __getEvaluation(&#xA;                            dialog,&#xA;                            {&#xA;                                'is_closed': true&#xA;                            },&#xA;                            'La evaluación ha sido cerrada satisfactoriamente'&#xA;                        );&#xA;                    }, 500);&#xA;                }&#xA;            },&#xA;            cancel: {&#xA;                text: 'Cancelar',&#xA;                btnClass: 'btn-default',&#xA;                action: function () {&#xA;&#xA;                }&#xA;            },&#xA;        }&#xA;    });&#xA;});&#xA;&#xA;$('[id=&quot;opennig-evaluation-btn&quot;]').on('click', function (e) {&#xA;    e.preventDefault();&#xA;    $.confirm({&#xA;        title: `&amp;lt;h4&amp;gt;¿Esta seguro que desea abrir la evaluación?.&amp;lt;/h4&amp;gt;`,&#xA;        content: ``,&#xA;        icon: 'fas fa-lock',&#xA;        theme: 'modern',&#xA;        animation: 'scale',&#xA;        closeAnimation: 'scale',&#xA;        boxWidth: '100%',&#xA;        className: 'col-md-12',&#xA;        opacity: 0.5,&#xA;        buttons: {&#xA;            confirm: {&#xA;                text: 'Abrir',&#xA;                btnClass: 'btn-success',&#xA;                action: function () {&#xA;                    let dialog = __getDialogSave(&#xA;                        'Evaluación',&#xA;                        'Espere un momento mientras la evaluación se abre...'&#xA;                    );&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        __getEvaluation(&#xA;                            dialog,&#xA;                            {&#xA;                                'is_closed': false&#xA;                            },&#xA;                            'La evaluación ha sido abierta satisfactoriamente'&#xA;                        );&#xA;                    }, 500);&#xA;                }&#xA;            },&#xA;            cancel: {&#xA;                text: 'Cancelar',&#xA;                btnClass: 'btn-default',&#xA;                action: function () {&#xA;                }&#xA;            },&#xA;        }&#xA;    });&#xA;});&#xA;&#xA;/**&#xA; * @param modal&#xA; * @param data&#xA; * @param content&#xA; * @private fn __getEvaluation&#xA; */&#xA;function __getEvaluation(modal, data, content) {&#xA;    $.ajax({&#xA;        'async': true,&#xA;        'crossDomain': true,&#xA;        'url': '/api/employee/opening-evaluation/',&#xA;        'method': 'POST',&#xA;        'headers': {&#xA;            'Content-Type': 'application/json',&#xA;            'Cache-Control': 'no-cache',&#xA;        },&#xA;        'processData': false,&#xA;        'data': JSON.stringify(data),&#xA;    }).done(function (response, status) {&#xA;        modal.close();&#xA;        $.confirm({&#xA;            icon: 'fas fa-check-circle',&#xA;            title: '',&#xA;            content: content,&#xA;            theme: 'modern',&#xA;            closeIcon: true,&#xA;            animation: 'scale',&#xA;            type: 'green',&#xA;            buttons: {&#xA;                confirm: {&#xA;                    text: 'Cerrar',&#xA;                    btnClass: 'btn-blue btn-xs',&#xA;                    action: function () {&#xA;                        $('#user-list').load('  #user-list');&#xA;                    }&#xA;                },&#xA;            }&#xA;        });&#xA;    }).fail(function (response, status) {&#xA;        if (status === 'error') {&#xA;            modal.close();&#xA;            $.confirm({&#xA;                icon: 'fas fa-times-circle',&#xA;                title: status,&#xA;                content: response.responseJSON.message,&#xA;                theme: 'modern',&#xA;                closeIcon: true,&#xA;                animation: 'scale',&#xA;                type: 'red',&#xA;                buttons: {&#xA;                    cancel: {&#xA;                        text: 'Cerrar',&#xA;                        btnClass: 'btn-xs btn-primary',&#xA;                        action: function () {&#xA;&#xA;                        }&#xA;                    },&#xA;                }&#xA;            });&#xA;        }&#xA;    });&#xA;}&#xA;&#xA;/**&#xA; * @private fn __getDialogSave&#xA; */&#xA;function __getDialogSave(name, message) {&#xA;    return $.dialog({&#xA;        title: `&amp;lt;h4 class=&quot;text-info&quot;&amp;gt; ❝${name}❞&amp;lt;/h4&amp;gt;`,&#xA;        closeIcon: false,&#xA;        theme: 'modern',&#xA;        animation: 'scale',&#xA;        closeAnimation: 'zoom',&#xA;        icon: 'fa fa-cog fa-spin fa-1x fa-fw',&#xA;        content: function () {&#xA;            let self = this;&#xA;            setTimeout(() =&amp;gt; {&#xA;                self.setContent(message);&#xA;            }, 100);&#xA;        },&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}(jQuery, window, document));&lt;/p&gt;&#xA;"" OwnerUserId=""99833"" LastEditorUserId=""99833"" LastEditDate=""2018-09-12T16:27:16.413"" LastActivityDate=""2018-09-12T16:27:16.413"" Title=""Como puedo recargar una tabla con javascript o jQuery en ajax?"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;datatables&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""196197"" PostTypeId=""1"" CreationDate=""2018-09-12T20:09:58.003"" Score=""0"" ViewCount=""26"" Body=""&lt;p&gt;tengo la siguiente cuestión, y no consigo hacerla funcionar:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Al abrir una ventana &quot;modal&quot;, hago una consulta a la base de datos, que me devuelve lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function verCliente() {&#xA;&#xA;    $idcliente = $_POST['id'];&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;    $query = &quot;SELECT * FROM clientes WHERE id_cliente = $idcliente&quot;;&#xA;    $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;    $ec = '&amp;lt;form id=&quot;form_edit_cliente&quot; method=&quot;POST&quot;&amp;gt;&#xA;            &amp;lt;table id=&quot;table&quot; width=&quot;100%&quot; class=&quot;table table-hover table-mc-light-blue&quot;&amp;gt;';&#xA;&#xA;    while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;        $ec .= '&amp;lt;h2&amp;gt;Editar cliente #'.$row[id_cliente].'&amp;lt;/h2&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Personales&amp;lt;/h3&amp;gt;&#xA;&#xA;                &amp;lt;input id=&quot;idc&quot; type=&quot;hidden&quot; value=&quot;'.$row[id_cliente].'&quot;&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;nombre&quot; type=&quot;text&quot; value=&quot;'.$row[nombre].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td barcode&quot; style=&quot;text-align:center&quot; colspan=&quot;6&quot; rowspan=&quot;2&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Fecha Registro:&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;' .$row[fecha_registro]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Apellidos&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;apellidos&quot; type=&quot;text&quot; value=&quot;'.$row[apellidos].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Telefono&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;telefono&quot; type=&quot;text&quot; value=&quot;'.$row[telefono].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Email&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;email&quot; type=&quot;text&quot; value=&quot;'.$row[email].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/table&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Comerciales&amp;lt;/h3&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Comercial&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;ncomercial&quot; type=&quot;text&quot; value=&quot;'.$row[ncomercial].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Fiscal&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;nfiscal&quot; type=&quot;text&quot; value=&quot;'.$row[nfiscal].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;NIF/CIF&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cif&quot; type=&quot;text&quot; value=&quot;'.$row[cif].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Direccion&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;direccion&quot; type=&quot;text&quot; value=&quot;'.$row[direccion].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Ciudad&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;ciudad&quot; type=&quot;text&quot; value=&quot;'.$row[ciudad].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;CP&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cp&quot; type=&quot;text&quot; value=&quot;'.$row[cp].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/table&amp;gt;';&#xA;    }&#xA;&#xA;    $ec .= '&amp;lt;/table&amp;gt;&#xA;            &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;            &amp;lt;center&amp;gt;&amp;lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Editar Cliente&quot;&amp;gt;&amp;lt;/center&amp;gt;&#xA;            &amp;lt;/form&amp;gt;';&#xA;&#xA;    return $ec;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Hasta aquí, todo es correcto,  el &lt;code&gt;form&lt;/code&gt; se genera bien, y saca los datos bien.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A continuación, tengo un evento, para enviar este &lt;code&gt;form&lt;/code&gt;, a través de &lt;code&gt;ajax&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(&quot;#form_edit_cliente&quot;).submit(function(e){&#xA;&#xA;      var idc = $('#idc').val()&#xA;      var nombre = $('#nombre').val()&#xA;      var apellidos = $('#apellidos').val()&#xA;      var telefono = $('#telefono').val()&#xA;      var email = $('#email').val()&#xA;      var ncomercial = $('#ncomercial').val()&#xA;      var nfiscal = $('#nfiscal').val()&#xA;      var cif = $('#cif').val()&#xA;      var iva = $('#iva').val()&#xA;      var direccion = $('#direccion').val()&#xA;      var ciudad = $('#ciudad').val()&#xA;      var cp = $('#cp').val()&#xA;&#xA;      e.preventDefault();&#xA;&#xA;      $.ajax({&#xA;        type: 'POST',&#xA;        url: 'php/update_cliente.php',&#xA;        data: {'idc': idc,&#xA;               'nombre': nombre,&#xA;               'apellidos': apellidos,&#xA;               'telefono': telefono,&#xA;               'email': email,&#xA;               'ncomercial': ncomercial,&#xA;               'nfiscal': nfiscal,&#xA;               'cif': cif,&#xA;               'iva': iva,&#xA;               'direccion': direccion,&#xA;               'ciudad': ciudad,&#xA;               'cp': cp&#xA;              }&#xA;      })&#xA;      .done(function(params){&#xA;&#xA;        alert('El cliente ha sido editado correctamente');&#xA;        $('#editarCliente').hide();&#xA;        location.reload();&#xA;&#xA;      })&#xA;      .fail(function(){&#xA;        alert(&quot;Error 01x234&quot;);&#xA;      })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;¿Que sucede a partir de aqui?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pues, intento acceder a este &lt;code&gt;php&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function updateCliente() {&#xA;&#xA;    $idc = $_POST['idc'];&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;    $nombre = $_POST['nombre'];&#xA;    $apellidos = $_POST['apellidos'];&#xA;    $telefono = $_POST['telefono'];&#xA;    $email = $_POST['email'];&#xA;    $ncomercial = $_POST['ncomercial'];&#xA;    $nfiscal = $_POST['nfiscal'];&#xA;    $cif = $_POST['cif'];&#xA;    $iva = $_POST['iva'];&#xA;    $direccion = $_POST['direccion'];&#xA;    $ciudad = $_POST['ciudad'];&#xA;    $cp = $_POST['cp'];&#xA;&#xA;    $query = 'UPDATE clientes SET nombre = '.$nombre.', apellidos = '.$apellidos.', telefono = '.$telefono.', email = '.$email.', ncomercial = '.$ncomercial.', nfiscal = '.$nfiscal.', cif = '.$cif.', iva = '.$iva.', direccion = '.$direccion.', ciudad = '.$ciudad.', cp = '.$cp.' WHERE id_cliente = '.$idc.'';&#xA;&#xA;    if (mysqli_query($mysqli, $query)) {&#xA;        echo &quot;ok&quot;;&#xA;    } else {&#xA;        echo &quot;fail&quot; . mysqli_error($mysqli);&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;Al darle al &lt;code&gt;submit&lt;/code&gt;, me está recargando la página, con lo que estoy deduciendo, que no me entra al código de jQuery.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;He probado antes del preventDefault, hacer un console.log de las variables, y no me dice absolutamente nada por consola, ya que recarga la página.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;También a través de &lt;code&gt;response&lt;/code&gt;, en el &lt;code&gt;done&lt;/code&gt; de ajax, he intentado ver que sucede con la consulta, pero al recargarme la página no puedo evaluar nada.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Espero alguien pueda porfavor ayudarme a solventar este fallo.&#xA;Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2018-09-12T20:09:58.003"" Title=""Formulario, Creado desde una Consulta PHP, No envía por AJAX"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""196505"" PostTypeId=""1"" CreationDate=""2018-09-13T18:37:41.607"" Score=""0"" ViewCount=""305"" Body=""&lt;p&gt;intento explicar, ya que es algo que no había hecho nunca:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;Intento: al abrir un modal, saco un &quot;id&quot; (el del cliente)&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Ahora, intento enviar ese &quot;id&quot; a la misma página que había realizado la acción, pongo el código hasta aquí:&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on('click', '.editarCliente', function () {&#xA;&#xA;var id = $(this).attr(&quot;id&quot;);&#xA;console.log(id);&#xA;&#xA;$.ajax({&#xA;  type: 'POST',&#xA;  url: 'php/editar_cliente.php',&#xA;  data: {'id': id}&#xA;})&#xA;.done(function(listas_rep){&#xA;  $('#resultEditCliente').html(listas_rep)&#xA;})&#xA;.fail(function(err){&#xA;  console.log(err);&#xA;  alert(err);&#xA;})&#xA;&#xA;$(document).on('click', '#cerrarEditarCliente', function () {&#xA;  $('#editarCliente').hide();&#xA;});&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;¿Para que utilizo esto?&#xA;Porque intento, ahora en la página de clientes: crear la siguiente consulta:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php  &#xA;&#xA;require_once 'php/conexion.php';&#xA;&#xA;function editarCliente() {&#xA;&#xA;    $idcliente = $_POST['id'];&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;    $query = &quot;SELECT * FROM clientes WHERE id_cliente = $idcliente&quot;;&#xA;    $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;    $ec = '&amp;lt;form id=&quot;form_edit_cliente&quot; method=&quot;POST&quot;&amp;gt;&#xA;            &amp;lt;table id=&quot;table&quot; width=&quot;100%&quot; class=&quot;table table-hover table-mc-light-blue&quot;&amp;gt;';&#xA;&#xA;    while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;        $ec .= '&amp;lt;h2&amp;gt;Editar cliente #'.$row[id_cliente].'&amp;lt;/h2&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Personales&amp;lt;/h3&amp;gt;&#xA;&#xA;                &amp;lt;input id=&quot;idc&quot; type=&quot;hidden&quot; value=&quot;'.$row[id_cliente].'&quot;&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;nombre&quot; type=&quot;text&quot; value=&quot;'.$row[nombre].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td barcode&quot; style=&quot;text-align:center&quot; colspan=&quot;6&quot; rowspan=&quot;2&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Fecha Registro:&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;' .$row[fecha_registro]. '&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Apellidos&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;apellidos&quot; type=&quot;text&quot; value=&quot;'.$row[apellidos].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Telefono&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;telefono&quot; type=&quot;text&quot; value=&quot;'.$row[telefono].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Email&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;email&quot; type=&quot;text&quot; value=&quot;'.$row[email].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/table&amp;gt;&#xA;                &amp;lt;h3&amp;gt;Datos Comerciales&amp;lt;/h3&amp;gt;&#xA;                &amp;lt;table&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Comercial&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;ncomercial&quot; type=&quot;text&quot; value=&quot;'.$row[ncomercial].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Fiscal&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;nfiscal&quot; type=&quot;text&quot; value=&quot;'.$row[nfiscal].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;NIF/CIF&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cif&quot; type=&quot;text&quot; value=&quot;'.$row[cif].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Direccion&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;direccion&quot; type=&quot;text&quot; value=&quot;'.$row[direccion].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;Ciudad&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;ciudad&quot; type=&quot;text&quot; value=&quot;'.$row[ciudad].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;campoP&quot;&amp;gt;CP&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cp&quot; type=&quot;text&quot; value=&quot;'.$row[cp].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                &amp;lt;/table&amp;gt;';&#xA;    }&#xA;&#xA;    $ec .= '&amp;lt;/table&amp;gt;&#xA;            &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;            &amp;lt;center&amp;gt;&amp;lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Editar Cliente&quot;&amp;gt;&amp;lt;/center&amp;gt;&#xA;            &amp;lt;/form&amp;gt;';&#xA;&#xA;    return $ec;&#xA;}&#xA;&#xA;echo editarCliente();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Me devuelve esto por consola:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jquery.min.js:4 POST http://localhost:8888/seoagency/php/editar_cliente.php 500 (Internal Server Error)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Al hacer esto, deja de funcionar todo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Alguien se le ocurre como poder ayudarme?&#xA;Gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastEditorUserId=""64784"" LastEditDate=""2018-09-13T19:23:57.247"" LastActivityDate=""2018-09-14T03:54:12.660"" Title=""Enviar ID desde jQuery a una pagina para hacer una CONSULTA"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;formularios&gt;"" AnswerCount=""2"" CommentCount=""7"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""197323"" PostTypeId=""1"" CreationDate=""2018-09-17T19:35:44.517"" Score=""0"" ViewCount=""784"" Body=""&lt;p&gt;Tengo un error, y el PHP no me devuelve bien la consulta &lt;code&gt;sql&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto es lo que realizo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on('click', '.editarCliente', function () {&#xA;&#xA;var idc = $(this).attr(&quot;id&quot;);&#xA;console.log(idc);&#xA;&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/editar_cliente.php',&#xA;    data: {'idc': idc}&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    console.log(listas_rep);&#xA;    $('#editarCliente').show();&#xA;    $('#resultEditCliente').html(listas_rep);&#xA;  })&#xA;  .fail(function(err){&#xA;    console.log(err);&#xA;    alert(err);&#xA;  })&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Me saca bien la &lt;code&gt;id&lt;/code&gt;, (comprobado por consola)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora, este es el &lt;code&gt;php&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php  &#xA;&#xA;require_once 'php/conexion.php';&#xA;&#xA;    $idcliente = $_POST['idc'];&#xA;&#xA;    $mysqli = getConn();&#xA;&#xA;if (isset($idcliente)) {&#xA;    function editarCliente() {&#xA;&#xA;        $query = &quot;SELECT * FROM clientes WHERE id_cliente = ?&quot;;&#xA;&#xA;        $stmt = $mysqli-&amp;gt;prepare($query);&#xA;        $stmt-&amp;gt;bind_param(&quot;i&quot;, $idcliente);&#xA;        $stmt-&amp;gt;execute();&#xA;        $resultado = $stmt-&amp;gt;get_result();&#xA;        $resultado = $stmt-&amp;gt;fetch(MYSQLI_ASSOC);&#xA;        $stmt-&amp;gt;close();&#xA;       // $result = $mysqli-&amp;gt;query($query);&#xA;&#xA;        $ec = '&amp;lt;form id=&quot;form_edit_cliente&quot; method=&quot;POST&quot;&amp;gt;&#xA;                &amp;lt;table id=&quot;table&quot; width=&quot;100%&quot; class=&quot;table table-hover table-mc-light-blue&quot;&amp;gt;';&#xA;&#xA;        for ($i=0; $i &amp;lt; count($resultado); $i++) { &#xA;        //while($resultado[$i] = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;            $ec .= '&amp;lt;h2&amp;gt;Editar cliente #'.$resultado[$i][&quot;id_cliente&quot;].'&amp;lt;/h2&amp;gt;&#xA;                    &amp;lt;h3&amp;gt;Datos Personales&amp;lt;/h3&amp;gt;&#xA;&#xA;                    &amp;lt;input id=&quot;idc&quot; type=&quot;hidden&quot; value=&quot;'.$resultado[$i][&quot;id_cliente&quot;].'&quot;&amp;gt;&#xA;                    &amp;lt;table&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Nombre&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;nombre&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;nombre&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td barcode&quot; style=&quot;text-align:center&quot; colspan=&quot;6&quot; resultado[$i]span=&quot;2&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Fecha Registro:&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;' .$resultado[$i][&quot;fecha_registro&quot;]. '&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Apellidos&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;apellidos&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;apellidos&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Telefono&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;telefono&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;telefono&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Email&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;email&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;email&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;/table&amp;gt;&#xA;                    &amp;lt;h3&amp;gt;Datos Comerciales&amp;lt;/h3&amp;gt;&#xA;                    &amp;lt;table&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Comercial&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;ncomercial&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;ncomercial&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot; style=&quot;width: 10%&quot;&amp;gt;Nombre Fiscal&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; style=&quot;width: 25%&quot;&amp;gt;&amp;lt;input id=&quot;nfiscal&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;nfiscal&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;NIF/CIF&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cif&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;cif&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Direccion&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;direccion&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;direccion&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot; colspan=&quot;5&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;Ciudad&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;ciudad&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;ciudad&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;campoP&quot;&amp;gt;CP&amp;lt;/td&amp;gt;&#xA;                            &amp;lt;td class=&quot;td&quot;&amp;gt;&amp;lt;input id=&quot;cp&quot; type=&quot;text&quot; value=&quot;'.$resultado[$i][&quot;cp&quot;].'&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;/table&amp;gt;';&#xA;&#xA;        }&#xA;&#xA;        $ec .= '&amp;lt;/table&amp;gt;&#xA;                &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;                &amp;lt;center&amp;gt;&amp;lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Editar Cliente&quot;&amp;gt;&amp;lt;/center&amp;gt;&#xA;                &amp;lt;/form&amp;gt;';&#xA;&#xA;        return $ec;&#xA;    }&#xA;} else {&#xA;    $ec .= &quot;No existe la variable id cliente&quot;;&#xA;}&#xA;echo editarCliente();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;No me muestra ni si quiera que &lt;code&gt;&quot;No existe la variable id cliente&quot;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Me devuelve en el alert &lt;code&gt;[object Object]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y por consola:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jquery.min.js:4 POST http://localhost:8888/seoagency/php/editar_cliente.php 500 (Internal Server Error)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;No le veo ninguna lógica de que esto no funcione :/&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agradezco que puedan ayudarme a solventarlo, gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2022-04-21T18:01:25.123"" Title=""Error jQuery y Ajax, me devuelve [object Object] de una consulta SQL"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;prepared-statements&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""201094"" PostTypeId=""1"" CreationDate=""2018-10-01T23:07:25.623"" Score=""7"" ViewCount=""947"" Body=""&lt;p&gt;Tengo un problema al obtener todos los registros de una consulta en SQL SERVER por medio de PHP y AJAX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Cuando realizo el envío POST por el método clásico del form (submit), sin ningún problema se muestran todos los registros.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/J3Ga7.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/J3Ga7.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Sin embargo, al hacer la consulta por medio del método AJAX, NO visualiza los 5 registros, sólo 4, pero extrañamente el cuarto registro se ve incompleto, incluso no se terminan de generar los &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Dwa3t.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Dwa3t.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Archivo de conexion a la BD (conexion_consulta.php):&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$cnx=mssql_connect(&quot;CRONOS\SQLEXPRESS&quot;,&quot;consulta&quot;,&quot;12347&quot;); mssql_select_db(&quot;BD_TRAMITE&quot;,$cnx);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Archivo consulta.php con el código jQuery y AJAX:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on(&quot;click&quot;,&quot;#img_Buscar_tramite&quot;,function(){&#xA;    consulta_tramite();&#xA;});&#xA;&#xA;function consulta_tramite()&#xA;{&#xA;    $('#dv_Contenido').html(&quot;&amp;lt;h4&amp;gt;El proceso tardará varios munitos.&amp;lt;/h4&amp;gt; &amp;lt;br&amp;gt; &amp;lt;img src='img/cargar.gif'&amp;gt;&quot;);&#xA;    var codigo_tramite = $('#txt_Valor').val().trim();&#xA;    var anio_actual = $('#hdd_Anio_actual').val();&#xA;&#xA;    var cod_tramite = codigo_tramite+'-'+anio_actual;&#xA;&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      dataType: 'json',&#xA;      url: 'ajax_consulta.php',       &#xA;      data: {op:1, cod_tramite:cod_tramite},&#xA;   }).done(function(respuesta){&#xA;        $('#dv_Contenido').html(respuesta.contenido);&#xA;        //$('#sp_Cod_tramite').html(cod_tramite);&#xA;   }).fail(function(jqXHR, textStatus, errorThrown, respuesta){&#xA;        // Log the error usuarios_online.php&#xA;        console.log('The following error occurred: '+ textStatus + ' - ' + jqXHR.responseText + ' - ' + errorThrown);&#xA;        $('#dv_Contenido').html('The following error occurred: '+ textStatus + ' - ' + jqXHR.responseText + ' - ' + errorThrown);&#xA;    }); &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Archivo ajax_consulta.php:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class C_process {&#xA;&#xA;public $contenido = '';&#xA;&#xA;function consulta_tramite()&#xA;{&#xA;    require_once(&quot;../conexion/conexion_consulta.php&quot;);&#xA;    $cod_tramite = $_POST['cod_tramite'];&#xA;&#xA;    $sql=&quot;SELECT iCodTramite,&#xA;                cCodificacion,&#xA;                fFecRegistro, &#xA;                cDescTipoDoc, &#xA;                cNroDocumento, &#xA;                cAsunto, &#xA;                nFlgEstado, &#xA;                nNumFolio, &#xA;                cReferencia, &#xA;                cObservaciones, &#xA;                nTiempoRespuesta&#xA;            FROM Tra_M_Tramite t&#xA;            INNER JOIN Tra_M_Tipo_Documento d ON d.cCodTipoDoc = t.cCodTipoDoc&#xA;            WHERE cCodificacion ='&quot;.$cod_tramite.&quot;'&quot;;&#xA;    $result=mssql_query($sql,$cnx);&#xA;    $canr = mssql_num_rows($result);&#xA;&#xA;    if(empty($canr))&#xA;    {&#xA;        $this-&amp;gt;contenido = &quot;&amp;lt;font color='red'&amp;gt;&amp;lt;b&amp;gt;Ingrese correctamente el codigo del tramite.&amp;lt;/b&amp;gt;&amp;lt;/font&amp;gt;&quot;;&#xA;        return;&#xA;    }&#xA;&#xA;    $RsTra=MsSQL_fetch_array($result);&#xA;&#xA;&#xA;    $this-&amp;gt;contenido = &quot;&amp;lt;table border='1' width='100%'&amp;gt;&#xA;                &amp;lt;tr style='background: #688d40; color: #fff;'&amp;gt;&#xA;                    &amp;lt;td style='border: 2px solid #fff;'&amp;gt;Fecha&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;td style='border: 2px solid #fff;'&amp;gt;Asunto&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;!--&amp;lt;td style='border: 2px solid #fff;'&amp;gt;Observaciones&amp;lt;/td&amp;gt;--&amp;gt;&#xA;                    &amp;lt;td style='border: 2px solid #fff;'&amp;gt;Destino&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;!--&amp;lt;td style='border: 2px solid #fff;'&amp;gt;Responsable / Fecha de Aceptado&amp;lt;/td&amp;gt;--&amp;gt;&#xA;                    &amp;lt;td style='border: 2px solid #fff;'&amp;gt;Estado&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&quot;;&#xA;&#xA;                $sqlM=&quot;SELECT * FROM Tra_M_Tramite_Movimientos WHERE (iCodTramite='&quot;.$RsTra['iCodTramite'].&quot;' OR iCodTramiteRel='&quot;.$RsTra['iCodTramite'].&quot;') AND (cFlgTipoMovimiento=1 OR cFlgTipoMovimiento=3 OR cFlgTipoMovimiento=5) ORDER BY iCodMovimiento ASC&quot;;&#xA;                $rsM=mssql_query($sqlM,$cnx);&#xA;                $cant =mssql_num_rows($rsM);&#xA;                $contaMov=0;&#xA;&#xA;                $this-&amp;gt;contenido .= &quot;&amp;lt;tr&amp;gt;&amp;lt;td colspan=4&amp;gt;Cant: &quot;.$cant.&quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;                while ($RsM=MsSQL_fetch_array($rsM))&#xA;                {&#xA;                    $this-&amp;gt;contenido .= &quot;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td style='width: 70px;'&amp;gt;&quot;.date('d-m-Y', strtotime($RsM['fFecDerivar'])).&quot;&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;&quot;;&#xA;&#xA;                            $this-&amp;gt;contenido .= $RsM['cAsuntoDerivar'];&#xA;                        $this-&amp;gt;contenido .= &quot;&#xA;                         &amp;lt;/td&amp;gt;&#xA;&#xA;                        &amp;lt;td&amp;gt;&quot;;&#xA;                                if($RsM['nFlgTipoDoc']!=3){&#xA;                                    $sqlOfiD=&quot;SELECT * FROM Tra_M_Oficinas WHERE iCodOficina='&quot;.$RsM['iCodOficinaDerivar'].&quot;'&quot;;&#xA;                                    $rsOfiD=mssql_query($sqlOfiD,$cnx);&#xA;                                    $RsOfiD=mssql_fetch_array($rsOfiD);&#xA;                                    $this-&amp;gt;contenido .= trim($RsOfiD['cNomOficina']);&#xA;                                }else{&#xA;                                    $codi=trim($RsM['cReferenciaDerivar']);&#xA;                                    $sqlEstado=&quot;SELECT * FROM Tra_M_Doc_Salidas_Multiples WHERE cCodificacion='&quot;.$codi.&quot;' AND fRecibido is not null &quot;;&#xA;&#xA;                                    //echo $sqlEstado;&#xA;                                    $rsEst=mssql_query($sqlEstado,$cnx);&#xA;                                    $RsEstado=mssql_fetch_array($rsEst);&#xA;                                    if($RsEstado['fRecibido']!=&quot;&quot;){&#xA;                                        if($RsEstado['cFlgEstado']==1 or $RsEstado['cFlgEstado']==2){&#xA;                                                $this-&amp;gt;contenido .= &quot;&amp;lt;font size=\&quot;0.5\&quot;&amp;gt;Comunicacion Atendida&amp;lt;/font&amp;gt;&quot;;&#xA;                                        }else {&#xA;                                                $this-&amp;gt;contenido .= &quot;&amp;lt;font size=\&quot;0.5\&quot;&amp;gt;Comunicacion En Proceso&amp;lt;/font&amp;gt;&quot;;&#xA;                                        }&#xA;                                    }else{&#xA;                                            $this-&amp;gt;contenido .= &quot;&amp;lt;font size=\&quot;0.5\&quot;&amp;gt;En Comunicacion&amp;lt;/font&amp;gt;&quot;;&#xA;                                    }&#xA;                                }&#xA;                        $this-&amp;gt;contenido .= &quot;&#xA;                        &amp;lt;/td&amp;gt;       &#xA;&#xA;                        &amp;lt;td&amp;gt;&quot;;&#xA;                                if($RsM['cFlgTipoMovimiento']!=5){  &#xA;                                    if($RsM['fFecRecepcion']!=&quot;&quot;){&#xA;                                        switch ($RsM['nEstadoMovimiento']) &#xA;                                        {&#xA;                                            case 1:&#xA;                                                $this-&amp;gt;contenido .= &quot;En Proceso&quot;;&#xA;                                            break;&#xA;                                            case 2:&#xA;                                                $this-&amp;gt;contenido .= &quot;Derivado&quot;;&#xA;                                            break;&#xA;                                            case 3:&#xA;                                                $this-&amp;gt;contenido .= &quot;Asignado&quot;;&#xA;                                                break;&#xA;                                                case 4:&#xA;                                                $this-&amp;gt;contenido .= &quot;Respondido&quot;;&#xA;                                            break;&#xA;                                            case 5:&#xA;                                                $this-&amp;gt;contenido .= &quot;Finalizado&quot;;&#xA;                                                $this-&amp;gt;contenido .= &quot;&amp;lt;div style=color:#0154AF;font-size:10px&amp;gt;&quot;.$RsM['cObservacionesFinalizar'].&quot;&amp;lt;/div&amp;gt;&quot;;&#xA;                                            break;&#xA;                                        }&#xA;                                    }else{&#xA;                                            $this-&amp;gt;contenido .= &quot;Pendiente&quot;;&#xA;                                    }&#xA;                                }else{&#xA;                                        $this-&amp;gt;contenido .= &quot;&quot;;&#xA;                                }&#xA;                                if($RsM['iCodTrabajadorDelegado']!=&quot;&quot;){&#xA;                                    $rsDelg=mssql_query(&quot;SELECT * FROM Tra_M_Trabajadores WHERE iCodTrabajador='&quot;.$RsM['iCodTrabajadorDelegado'].&quot;'&quot;,$cnx);&#xA;                            $RsDelg=MsSQL_fetch_array($rsDelg);&#xA;                            $this-&amp;gt;contenido .= &quot;&amp;lt;div style=color:#005B2E;font-size:12px&amp;gt;&quot;.$RsDelg[&quot;cApellidosTrabajador&quot;].&quot; &quot;.$RsDelg[&quot;cNombresTrabajador&quot;].&quot;&amp;lt;/div&amp;gt;&quot;;&#xA;                                        mssql_free_result($rsDelg);&#xA;                                    }&#xA;                        $this-&amp;gt;contenido .= &quot;&#xA;                        &amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&quot;;&#xA;                    $contaMov++;&#xA;                }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$respuesta = new C_process();&#xA;&#xA;$respuesta-&amp;gt;consulta_tramite();&#xA;&#xA;echo json_encode($respuesta);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Espero sus aportes pues necesito solucionar este problema. Saludos. Gracias. &lt;/p&gt;&#xA;"" OwnerUserId=""68394"" LastEditorUserId=""102760"" LastEditDate=""2018-10-10T20:26:12.253"" LastActivityDate=""2022-02-14T00:05:45.473"" Title=""No muestra todos los registros al realizar una consulta de SQL SERVER mediante AJAX"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;sql-server&gt;&lt;express&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""203069"" PostTypeId=""1"" AcceptedAnswerId=""204439"" CreationDate=""2018-10-09T09:33:01.867"" Score=""1"" ViewCount=""2459"" Body=""&lt;p&gt;Sucede que tengo una web en WordPress en la que cada entrada tiene enlaces de descarga que son generados y obtenidos usando PHP desde un campo de Custom Field cada vez que se carga el post, entonces deseo que ese código PHP ya no se ejecute cada vez que se visualiza una entrada si no que se ejecute solo si el usuario hace click en un botón que lo llamaremos &quot;Generar enlaces&quot; el problema es que deseo que no se recargue la página al pulsar el botón (Usar Ajax), deseo que al pulsar el botón este desaparezca y se comience a ejecutar el código PHP que genera los enlaces y por supuesto aparezcan los botones de descarga generados segundos después de que PHP haya procesado todo el código. Es decir en un principio aparezca solo un único botón llamado &quot;Generar enlaces&quot; que al pulsarlo este desaparezca y se reemplace este fragmento de la página por los botones de descarga como en la siguiente imagen:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/hMCP9.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/hMCP9.png&quot; alt=&quot;Botones de descarga&quot;&gt;&lt;/a&gt;&#xA;Necesariamente es necesario que solo se ejecute el fragmento de código PHP que genera los botones de descarga cuando se oprime el botón porque la razón es que PHP se toma en ejecutar ese código unos 50 segundos y cada vez que se carga una entrada esperar todo ese tiempo es un problema grave de experiencia para el usuario.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tengo el siguiente código que es el que mejor se asemeja a la solución del problema, pero como mencioné ante, el problema es que necesito devolver y ejecutar código PHP no HTML como lo hace este.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto va en el single.php de las entrada (ó index.php de cada entrada) es el código que &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;html&amp;gt;&#xD;&#xA;&amp;lt;head&amp;gt;&#xD;&#xA;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script&amp;gt;&#xD;&#xA;function llamar(){&#xD;&#xA;        $.ajax({&#xD;&#xA;            url: '/wp-content/themes/NOMBREDEMITEMA/generador.php',&#xD;&#xA;            type: 'post',&#xD;&#xA;                success:  function (data) {&#xD;&#xA;                        $(&quot;#resultado&quot;).html(data);&#xD;&#xA;                }&#xD;&#xA;        });&#xD;&#xA;}&#xD;&#xA;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;/head&amp;gt;&#xD;&#xA;&amp;lt;body&amp;gt;&#xD;&#xA;&amp;lt;button type=&quot;button&quot; name=&quot;name&quot; class=&quot;clase&quot; onClick=&quot;llamar();&quot;&amp;gt;Generar Enlaces&amp;lt;/button&amp;gt;&#xD;&#xA;Resultado: &amp;lt;span id=&quot;resultado&quot;&amp;gt;&amp;lt;/span&amp;gt;&#xD;&#xA;&amp;lt;/body&amp;gt;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En vez de leer el HTML que devuelve la variable 'data' de Ajax necesito ejecutar código PHP (El cual lee el Custom Field del post que contiene URL's de descarga  y genera botones de descarga para cada uno) dentro del mismo single.php (No desde una fuente externa como lo está haciendo acá leyendo el resultado HTML de generador.php).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Les agradezco de antemano toda su ayuda !!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;NUEVO CÓDIGO IMPLEMENTADO&lt;/strong&gt;&#xA;single.php&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/wp-content/themes/NOMBREDEMITEMA/js/script.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;button id=&quot;btnEnviar&quot;&amp;gt;Enviar&amp;lt;/button&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;div id=&quot;result&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;script.js&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(function() {&#xD;&#xA;    var $btnEnviar = $('#btnEnviar');&#xD;&#xA;    var $divResult = $('#result');&#xD;&#xA;    $btnEnviar.on('click', function() {&#xD;&#xA;      $divResult.empty();&#xD;&#xA;      var request =&#xD;&#xA;        $.ajax({&#xD;&#xA;          url: &quot;/cont/themes/NOMBREDEMITEMA/generador.php&quot;,&#xD;&#xA;          method: &quot;GET&quot;,&#xD;&#xA;          dataType: &quot;html&quot;&#xD;&#xA;        });&#xD;&#xA;  &#xD;&#xA;      request.done(function(data) {&#xD;&#xA;        var htmlButtons = '';&#xD;&#xA;        $btnEnviar.hide()&#xD;&#xA;        $(&quot;#result&quot;).html(data);&#xD;&#xA;  &#xD;&#xA;      });&#xD;&#xA;  &#xD;&#xA;      request.fail(function(jqXHR, textStatus) {&#xD;&#xA;        alert(&quot;Error en la petición: &quot; + textStatus);&#xD;&#xA;      });&#xD;&#xA;  &#xD;&#xA;    })&#xD;&#xA;  });&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;generador.php&#xA;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php &#xD;&#xA;echo 'Hola Mundo';&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CÓDIGO SOLUCIÓN @alo Malbarez (EN PROCESO)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;functions.php&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;// imprimir el boton en el hook luego del content filter si hay customfield&#xD;&#xA;function EMP_Boton_add_to_content( $content ) {&#xD;&#xA;  $btnContent = &quot;&quot;;&#xD;&#xA;  if( is_single() ) {&#xD;&#xA;    $postID = get_the_id();&#xD;&#xA;    $ajax_url = admin_url('admin-ajax.php');&#xD;&#xA;    $elCampoCustom = types_render_field(&quot;prueba-enlaces&quot;, array(&quot;output&quot; =&amp;gt; &quot;raw&quot;));&#xD;&#xA;    if(!empty($elCampoCustom)) {&#xD;&#xA;&#xD;&#xA;      // abro buffer asi el editor me colorea el html&#xD;&#xA;      ob_start();?&amp;gt;&#xD;&#xA;      &amp;lt;button class=&quot;button button-primary&quot; id=&quot;mostrarEnlaces-&amp;lt;?php echo $postID;?&amp;gt;&quot;&amp;gt;Mostrar enlaces&amp;lt;/button&amp;gt;&#xD;&#xA;      &amp;lt;div id=&quot;resultados-&amp;lt;?php echo $postID;?&amp;gt;&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;      &#xD;&#xA;      &amp;lt;script&amp;gt;&#xD;&#xA;document.getElementById(&quot;mostrarEnlaces-&amp;lt;?php echo $postID;?&amp;gt;&quot;)&#xD;&#xA;.onclick = function() {&#xD;&#xA;  document.getElementById(&quot;resultados-&amp;lt;?php echo $postID;?&amp;gt;&quot;)&#xD;&#xA;  .innerHTML = &quot;&amp;lt;em&amp;gt;Procesando aguantame los trapos...&amp;lt;/em&amp;gt;&quot;;&#xD;&#xA;  const formData = new URLSearchParams();&#xD;&#xA;  formData.append(&quot;action&quot;,  &quot;post_get_enlacesCampoCustom&quot;);&#xD;&#xA;  formData.append(&quot;post_id&quot;, &amp;lt;?php echo $postID;?&amp;gt;);&#xD;&#xA;  fetch(&#xD;&#xA;    &quot;&amp;lt;?php echo $ajax_url;?&amp;gt;&quot;,&#xD;&#xA;    {&#xD;&#xA;      method: &quot;POST&quot;,&#xD;&#xA;      headers: {&#xD;&#xA;        &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;,&#xD;&#xA;      },&#xD;&#xA;      body: formData.toString(),&#xD;&#xA;    }&#xD;&#xA;  )&#xD;&#xA;  .then(function(response) {&#xD;&#xA;    return response.text();&#xD;&#xA;  })&#xD;&#xA;  .then(function(body) {&#xD;&#xA;    document.getElementById(&quot;resultados-&amp;lt;?php echo $postID;?&amp;gt;&quot;).innerHTML = body;&#xD;&#xA;  });&#xD;&#xA;};&#xD;&#xA;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;?php&#xD;&#xA;      // cierro buffer, lo guardo en una var&#xD;&#xA;      $btnContent = ob_get_clean();&#xD;&#xA;    }&#xD;&#xA;  }&#xD;&#xA;  // retorno el content + el html generado&#xD;&#xA;  return $content . $btnContent;&#xD;&#xA;}&#xD;&#xA;add_filter( 'the_content', 'EMP_Boton_add_to_content' );&#xD;&#xA;&#xD;&#xA;// action para usuarios anónimos: wp_ajax_nopriv_{action}&#xD;&#xA;add_action(&#xD;&#xA;  'wp_ajax_nopriv_nombreDeTuAction',&#xD;&#xA;  'nombreDeTuFuncionParaElAction' );&#xD;&#xA;&#xD;&#xA;// action para usuarios logueados: wp_ajax_{action}&#xD;&#xA;add_action(&#xD;&#xA;  'wp_ajax_nombreDeTuAction',&#xD;&#xA;  'nombreDeTuFuncionParaElAction' );&#xD;&#xA;&#xD;&#xA;  function post_get_enlacesCampoCustom(){&#xD;&#xA;    $elCampoCustom = types_render_field(&quot;prueba-enlaces&quot;, array(&quot;output&quot; =&amp;gt; &quot;raw&quot;));&#xD;&#xA;    // si tiene campo y si es ajax&#xD;&#xA;    if(!empty($elCampoCustom) &amp;amp;&amp;amp; defined( 'DOING_AJAX' ) &amp;amp;&amp;amp; DOING_AJAX ) {&#xD;&#xA;      // abro buffer asi el editor me colorea el html&#xD;&#xA;      ob_start();&#xD;&#xA;      &#xD;&#xA;      //COMIENZO DE MI CODIGO GENERADOR Y CLASIFICADOR DE ENLACES&#xD;&#xA;      echo 'Hola Mundo by oijm17';&#xD;&#xA;&#xD;&#xA;      //FIN DE MI CODIGO GENERADOR Y CLASIFICADOR DE ENLACES&#xD;&#xA;      &#xD;&#xA;      // cierro buffer, lo guardo en una var&#xD;&#xA;      $responseContent = ob_get_clean();&#xD;&#xA;      echo $responseContent;&#xD;&#xA;    }&#xD;&#xA;    die(); // sin esto se muestra un 0&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  function nombreDeTuFuncionParaElAction(){&#xD;&#xA;    // Aquí procesamos el action&#xD;&#xA;    if (!empty($_POST['unparametro'])) {&#xD;&#xA;      echo &quot;El parametro es:&quot;. $_POST['unparametro'];&#xD;&#xA;    }&#xD;&#xA;    // el procesador ajax por default devuelve un 0 al final, aquí evitamos eso&#xD;&#xA;    die();&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;?&amp;gt;&#xD;&#xA;&amp;lt;script&amp;gt;&#xD;&#xA;jQuery.post(&#xD;&#xA;    &quot;https://www.midominio.com/wp-admin/admin-ajax.php&quot;, &#xD;&#xA;    {&#xD;&#xA;        'action': 'nombreDeTuAction',&#xD;&#xA;        'unparametro':   123&#xD;&#xA;    }, &#xD;&#xA;    function(response) {&#xD;&#xA;        console.log('La respuesta es: ', response)&#xD;&#xA;    }&#xD;&#xA;);&#xD;&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""55350"" LastEditorUserId=""55350"" LastEditDate=""2018-11-15T10:18:53.830"" LastActivityDate=""2018-11-15T10:18:53.830"" Title=""Al pulsar botón se ejecute código PHP que devuelva 10 botones de descarga sin recargar la página en WP usando Ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;wordpress&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""205655"" PostTypeId=""1"" AcceptedAnswerId=""208726"" CreationDate=""2018-10-18T02:28:38.177"" Score=""3"" ViewCount=""5263"" Body=""&lt;p&gt;Mediante una solución de @amenadiel donde mediante datos de PHP JSON se genera varias lista de preguntas, se puede observar la &lt;a href=&quot;https://jsfiddle.net/k1b70sp5/&quot; rel=&quot;nofollow noreferrer&quot;&gt;demostración en linea&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xA;    session_start();&#xA;    $conn = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;,&quot;1_examen&quot;) or die(&quot;Connection failed&quot;.mysqli_connect_error());&#xA;&#xA;    $preguntas=[];&#xA;    $sql = &quot;SELECT * FROM Question&quot;;&#xA;    $result = $conn-&amp;gt;query($sql);&#xA;&#xA;    while($row = mysqli_fetch_assoc($result)) {&#xA;        $preguntas[] = [&#xA;            'name' =&amp;gt; 'respuesta_'.$row[&quot;Id&quot;],&#xA;            'pregunta' =&amp;gt; $row[&quot;Question&quot;],&#xA;            'alternativas' =&amp;gt; [$row[&quot;A1&quot;], $row[&quot;A2&quot;],$row[&quot;A3&quot;],$row[&quot;A4&quot;]],&#xA;            'respuesta' =&amp;gt; null&#xA;        ];&#xA;    }&#xA;?&amp;gt;&#xA;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;    &amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;assets/css/style.css&quot;&amp;gt;&#xA;    &amp;lt;script src=&quot;https://a...content-available-to-author-only...s.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;!--&#xA;    &amp;lt;input type=&quot;radio&quot; name=&quot;q&quot; id=&quot;q&quot; value=&quot;Barry Sanders&quot;&amp;gt;&#xA;--&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;        var preguntas = &amp;lt;?php echo json_encode($preguntas); ?&amp;gt;;&#xA;        var pregunta_actual = 0;&#xA;    &amp;lt;/script&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/question.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;        $(function() {&#xA;            $('#enviar').on('click', function() {&#xA;                $('#formulario').submit();&#xA;            });&#xA;        });&#xA;    &amp;lt;/script&amp;gt;&#xA;&#xA;    &amp;lt;div id=&quot;container&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;controles&quot;&amp;gt;&#xA;            &amp;lt;a id=&quot;retroceder&quot;&amp;gt; &amp;lt; retroceder &amp;lt;/a&amp;gt;&#xA;            &amp;lt;a id=&quot;avanzar&quot;&amp;gt; avanzar &amp;gt; &amp;lt;/a&amp;gt;&#xA;            &amp;lt;a id=&quot;enviar&quot;&amp;gt; enviar respuestas &amp;lt;/a&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;hr&amp;gt;&#xA;        &amp;lt;div class=&quot;container1&quot;&amp;gt;&#xA;            &amp;lt;div id=&quot;tiempo_restante&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;            &amp;lt;ul id=&quot;preguntas&quot;&amp;gt;&#xA;                &amp;lt;!-- --&amp;gt;&#xA;            &amp;lt;/ul&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;!--&amp;lt;div class=&quot;respuestas&quot;&amp;gt;&amp;lt;/div&amp;gt;--&amp;gt;&#xA;        &amp;lt;form id=&quot;formulario&quot; name=&quot;form&quot; class=&quot;respuestas&quot; method=&quot;POST&quot; action=&quot;result.php&quot;&amp;gt;&#xA;            &amp;lt;!----&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cada respuesta seleccionada de cada pregunta se va guardando los datos de esta forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&quot;radio&quot; name=&quot;q&quot; id=&quot;q&quot; value=&quot;Barry Sanders&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Pruebas realizadas mediante los comentarios de @A.Cedano&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy usando este código &lt;code&gt;ajax&lt;/code&gt; que me han enviado por mensaje, me familiarizo con este código &lt;code&gt;ajax&lt;/code&gt;, lo entiendo muy bien su funcionamiento.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    var frm = $('#formulario');&#xA;    frm.submit(function(e){&#xA;        e.preventDefault();&#xA;        var formData = frm.serialize();&#xA;        formData += '&amp;amp;' + $('#enviar').attr('name') + '=' + $('#enviar').attr('value');&#xA;        var url = &quot;result.php&quot;;&#xA;        $.ajax({&#xA;            type: frm.attr('method'),&#xA;            url: url,&#xA;            data: formData,&#xA;        })&#xA;        .done(function(data) {&#xA;            let res = JSON.parse(data);&#xA;            // si es true el estado&#xA;            if(res.status){&#xA;                $('.success').fadeIn();&#xA;                $('.success').html(res.message).delay(3000).fadeOut(3000);&#xA;                $(frm)[0].reset();&#xA;                $(frm).hide();&#xA;            } else {&#xA;                // si es false el estado&#xA;                //mensaje de error...&#xA;            }&#xA;        })&#xA;        .fail(function() {&#xA;            $('.fail').fadeIn();&#xA;            $('.fail').html(textStatus).delay(3000).fadeOut(3000);&#xA;        })&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El formulario sigue estando igual el único cambio que hice fue eliminar el &lt;code&gt;action&lt;/code&gt; quedando de esta forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;formulario&quot; name=&quot;form&quot; class=&quot;respuestas&quot; method=&quot;POST&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el archivo result.php borre todo, para ver si funcionaba el envió al igual cuando se termina el tiempo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Dejando solamente esto:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    echo json_encode(['status'=&amp;gt; true, 'message'=&amp;gt;&quot;Evaluación recibida&quot;]);&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Efectivamente el mensaje se muestra en &lt;code&gt;&amp;lt;div class=&quot;success&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt; tanto al terminar el tiempo permitido de la evaluación, de la misma forma al enviar respuesta &lt;code&gt;-&amp;gt; &amp;lt;a id=&quot;enviar&quot;&amp;gt; enviar respuestas &amp;lt;/a&amp;gt;&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El código encargado para evaluar los resultados de la evaluación es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;result.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    session_start();&#xA;    $conn = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;admin&quot;,&quot;Examination&quot;) or die(&quot;Connection failed&quot;.mysqli_connect_error());&#xA;        date_default_timezone_set(&quot;Asia/Kolkata&quot;);&#xA;        $score = 0;&#xA;    $results = $_SESSION[&quot;result&quot;];&#xA;    $name = $_SESSION[&quot;name&quot;];&#xA;    $answers = array();&#xA;    setcookie(&quot;clock&quot;, &quot;&quot;, time() - 3600);&#xA;    for($i=0;$i&amp;lt;sizeof($results);$i++)&#xA;    {&#xA;        if($results[$i] == 1)&#xA;            $score++;&#xA;    }&#xA;            $t=0;&#xA;    $sql = &quot;SELECT * FROM question&quot;;&#xA;        $result = $conn-&amp;gt;query($sql);&#xA;        while($row = mysqli_fetch_assoc($result)){&#xA;        $answers[$t] = $row[&quot;Answer&quot;];&#xA;        $t++;&#xA;    }&#xA;&#xA;    $sql = &quot;INSERT INTO user(Name,Score) values('$name',$score)&quot;;&#xA;    $conn-&amp;gt;query($sql);&#xA;&#xA;?&amp;gt;&#xA;            &amp;lt;table border=&quot;1px&quot; id=&quot;table&quot;&amp;gt;&#xA;                &amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;Question&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Your Answer&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Correct Answer&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Points Scored&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&#xA;                &amp;lt;?php&#xA;                for($i=0;$i&amp;lt;10;$i++)&#xA;                    {&#xA;                        $temp = $i+1;&#xA;                        if($results[$i] == 0)&#xA;                        echo &quot;&amp;lt;tr style='background-color: #FADBD8  ;'&amp;gt;&quot;;&#xA;                        else&#xA;                        echo &quot;&amp;lt;tr style='background-color: #D5F5E3  ;'&amp;gt;&quot;;&#xA;                        echo &quot;&amp;lt;td&amp;gt;&quot;.$temp.&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$_SESSION[&quot;answer&quot;][$i].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$answers[$i].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$results[$i].&quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;                    }&#xA;                ?&amp;gt;&#xA;            &amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Generaba y mostraba de esta manera los resultados:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/zRhfQ.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/zRhfQ.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi problema es que no entiendo como mostrar los resultados de la evaluación y el segundo problema es, como puedo ocultar el proceso anterior es decir ocultar la evaluación al enviar las respuesta/terminar el tiempo permitido de la evaluación.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Quizás por el mismo &lt;code&gt;ajax&lt;/code&gt; se pueda ocular esa información mediante:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;            if(res.status){&#xA;                $('.success').fadeIn();&#xA;                $('.success').html(res.message).delay(3000).fadeOut(3000);&#xA;                $(frm)[0].reset();&#xA;                $(frm).hide();&#xA;            }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero aprovechando que la evaluación es en la misma página como puedo hacer uso del mismo diseño de la evaluación para así mostrar los resultados correctos de color verde y las respuestas incorrectas de color rojo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Por ejemplo:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/N0qBW.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/N0qBW.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""101031"" LastEditorUserId=""101031"" LastEditDate=""2018-10-27T23:08:29.560"" LastActivityDate=""2018-10-28T22:07:00.600"" Title=""¿Cómo mostrar los resultados de la evaluación en la misma página?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""3"" CommentCount=""14"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""207468"" PostTypeId=""1"" CreationDate=""2018-10-24T14:53:22.657"" Score=""0"" ViewCount=""26"" Body=""&lt;p&gt;No comprendo del todo como funciona este metodo necesito una explicación de su funcionamiento sobre todo de la linea, &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;url:BASE_URL+'main/get/'+tabla+'/'+campo+'/'+valor&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function load2(tabla,campo,idSelect,valor){&#xA;        var select = $('#'+idSelect);&#xA;    //alert(BASE_URL+'main/get/'+tabla+'/'+campo+'/'+valor);&#xA;    $.ajax({&#xA;        url: BASE_URL+'main/get/'+tabla+'/'+campo+'/'+valor,&#xA;        type: 'post',&#xA;        dataType: 'json',&#xA;&#xA;&#xA;    })&#xA;    .done(function(data) {&#xA;        //alert(JSON.stringify(data));&#xA;        //alert(&quot;Funciona en el select estado&quot;);&#xA;        select.empty();&#xA;        select.append('&amp;lt;option selected disabled value=&quot;0&quot;&amp;gt;Seleccione...&amp;lt;/option&amp;gt;');&#xA;    for (var i = 0; i &amp;lt; data.length; i++) {&#xA;        select.append('&amp;lt;option value=&quot;'+data[i]['id']+'&quot;&amp;gt;'+data[i][1]+'&amp;lt;/option&amp;gt;');&#xA;&#xA;    };&#xA;&#xA;    })&#xA;    .fail(function() {&#xA;        //alert(&quot;Error en el select &quot;+idSelect);&#xA;    })&#xA;    .always(function() {&#xA;&#xA;    });&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""95168"" LastEditorUserId=""28035"" LastEditDate=""2018-10-24T14:55:27.363"" LastActivityDate=""2018-10-24T15:19:17.383"" Title=""comprension de la siguiente función con ajax y jquery"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""207640"" PostTypeId=""1"" CreationDate=""2018-10-24T21:31:53.347"" Score=""0"" ViewCount=""49"" Body=""&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;&#xA;    $('#estados_visa').on('change', function(){&#xA;        var distritos= $('#estados_visa').val();&#xA;&#xA;&#xA;        console.log(distritos)&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            url: 'cargar_distritos.php',&#xA;            data:{dato1: distritos}&#xA;        })&#xA;        .done(function(lista_rep){&#xA;            $('#distritos_visa').html(lista_rep);&#xA;        })&#xA;        .fail(function(){&#xA;            alert('error al cargar las listas');&#xA;        });&#xA;    })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es mi cargar_distritos&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getListDis(){&#xA;$con = getCon();&#xA;$id = $_POST['dato1'];&#xA;$query = &quot;SELECT commerce_brand, commerce_region, commerce_district FROM commerc WHERE commerce_region = $id GROUP BY commerce_district  ORDER BY commerce_district, commerce_region&quot;;&#xA;$result = $con-&amp;gt;query($query);&#xA;$listas_distritos = '&amp;lt;option value=&quot;&quot;&amp;gt;Elige una opcion&amp;lt;/option&amp;gt;';&#xA;$listas_distritos .= '';&#xA;while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;$listas_distritos .= &quot;&amp;lt;option value='$row[commerce_region]'&amp;gt;$row[commerce_district]&amp;lt;/option&amp;gt;&quot;;&#xA;}&#xA;return $listas_distritos;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""87393"" LastEditorUserId=""81482"" LastEditDate=""2018-10-24T21:56:03.483"" LastActivityDate=""2018-10-24T22:29:43.763"" Title=""como obtener el valor desde ajax a php?"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""208250"" PostTypeId=""1"" CreationDate=""2018-10-26T16:05:19.767"" Score=""0"" ViewCount=""36"" Body=""&lt;p&gt;// lo que quiero hacer es pasarle directamente parametros a (metodo) que esta en un archivo .php, el problema que tengo es que los parametros llegan al archivo pero la funcion no los resive directamente que debo hacer ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;// archivo.js jquery&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#distritos').on('change', function(){&#xA;        let distrito= $('#distritos').val();&#xA;&#xA;        $.ajax({&#xA;            url: 'cargar_provincias.php',&#xA;            type:'POST',&#xA;            data:{dato2:distrito}&#xA;&#xA;        })&#xA;        .done(function(lista_rep3){&#xA;&#xA;            if(lista_rep3 == &quot;conectado a base de datos&amp;lt;option value=\&quot;\&quot;&amp;gt;Elige&amp;lt;/option&amp;gt;\r\n&quot;){&#xA;&#xA;                $('#provincias').html(&quot;&amp;lt;option value=\&quot;\&quot;&amp;gt;no hay data&amp;lt;/option&amp;gt;\r\n&quot;);&#xA;&#xA;            }else{&#xA;&#xA;                $('#provincias').html(lista_rep3);&#xA;            }&#xA;        })&#xA;        .fail(function(){&#xA;            alert('error al cargar ');&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;archivo .php donde se reciben los datos pero no directamente en el unico metodo que tiene el mismo.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;require_once 'conexion.php';&#xA;&#xA;$dato=$_POST['dato2'];&#xA;&#xA;echo getListPro($dato);&#xA;&#xA;function getListPro($provincia){&#xA;    $con = getCon();&#xA;    $query = &quot;SELECT commerce_district, commerce_province&#xA;FROM&#xA;  commerc&#xA;WHERE&#xA;  commerce_district ='$provincia'&#xA;GROUP BY&#xA;  commerce_province&#xA; ORDER BY commerce_province, commerce_district&quot;;&#xA;    $result = $con-&amp;gt;query($query);&#xA;    $listas_distritos = '&amp;lt;option value=&quot;&quot;&amp;gt;Elige&amp;lt;/option&amp;gt;';&#xA;    $listas_distritos .= '';&#xA;    while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;        if($row == &quot;conectado a base de datos &quot;){&#xA;          $listas_distritos .=&quot;no hay datos&quot;;&#xA;          break;&#xA;        }else{&#xA;          $listas_distritos .= &quot;&amp;lt;option value='$row[commerce_province]'&amp;gt;$row[commerce_province]&amp;lt;/option&amp;gt;&quot;;&#xA;        }&#xA;&#xA;    }&#xA;    return $listas_distritos;&#xA;}&#xA;&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""104961"" LastEditorUserId=""81482"" LastEditDate=""2018-10-26T16:06:26.370"" LastActivityDate=""2018-10-26T16:22:10.197"" Title=""Como puedo en enviar datos desde ajax directamente a un metodo en php"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""209040"" PostTypeId=""1"" CreationDate=""2018-10-29T21:01:50.373"" Score=""0"" ViewCount=""32"" Body=""&lt;p&gt;Lo que quiero hacer es recibir el valor de la variable columna en la ruta que especifico por ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;//alert(&quot;hola&quot;);&#xA;let selectCards =$('#cards');  &#xA;let selectEstados =  $('#estados');&#xA;let columna = 'commerce_brand';&#xA;//let selectCards = document.querySelector('#cards');&#xA;&#xA;function cargarOpciones (idSelectIndependiente, columna, idSelectDependiente){&#xA;console.log(idSelectIndependiente); &#xA;console.log(&quot;entrando&quot;);&#xA;console.log(columna);&#xA; $.ajax({&#xA;        type:'POST',&#xA;        url: 'cargar_estados.php',&#xA;        data:{ &#xA;                'peticion': 'idSelectIndependiente',&#xA;                'num':'columna'&#xA;            }&#xA;    })&#xA;    .done(function(lista_rep1){&#xA;&#xA;        console.log(lista_rep1);&#xA;&#xA;        idSelectIndependiente.empty();&#xA;        idSelectIndependiente.append('&amp;lt;option value=&quot;&quot;&amp;gt;Elige una opcion&amp;lt;/option&amp;gt;');&#xA;        for (var i = 0; i &amp;lt; lista_rep1.length; i++) {&#xA;&#xA;          idSelectIndependiente.append(&quot;&amp;lt;option value='lista_rep1[i][commerce_brand]'&amp;gt;lista_rep1[i][commerce_brand]&amp;lt;/option&amp;gt;&quot;);&#xA;        //idSelectIndependiente.append('&amp;lt;option value=&quot;'+lista_rep1[i]['id']+'&quot;&amp;gt;'+lista_rep1[i][1]+'&amp;lt;/option&amp;gt;');&#xA;&#xA;    };            &#xA;&#xA;    })&#xA;    .fail(function(){&#xA;        alert('error al cargar las listas');&#xA;    });&#xA;console.log(&quot;saliendo&quot;);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aqui es donde debería llegar el valor de esa variable y ser capturado en otra variable.&#xA;    &#xA;&#xA;&lt;pre&gt;&lt;code&gt;$cards = $POST_['peticion'];&#xA;$columna =$POST_['num'];&#xA;&#xA;&#xA;&#xA;&#xA;function getData($idSelect = false, $columna){&#xA;&#xA;    switch ($columna){&#xA;        case 'commerce_brand':&#xA;            $con = getCon();&#xA;            $query = &quot;SELECT commerce_brand FROM `commerc` group by commerce_brand&quot;;&#xA;            $result = $con-&amp;gt;query($query);&#xA;            return $result;&#xA;        break;&#xA;&#xA;        default:&#xA;        $probando = &quot;viene por defecto&quot;;&#xA;        return $probando;&#xA;    }&#xA;}&#xA;&#xA;echo getData($cards,$columna);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""104961"" LastEditorUserId=""81482"" LastEditDate=""2018-10-29T21:02:30.520"" LastActivityDate=""2018-10-30T01:27:31.877"" Title=""Por que motivo no puedo recibir por post el valor commerce_brand en el siguiente algoritmo"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""209214"" PostTypeId=""1"" CreationDate=""2018-10-30T13:03:16.767"" Score=""0"" ViewCount=""140"" Body=""&lt;p&gt;Lo que quiero hacer es recibir un array asociativo como respuesta de una petición ajax pero lo que obtengo es el siguiente mensaje &quot;commerce_brandconectado a base de datosArray&#xA;&quot;&#xA;recibo el array pero al final del resultado lo que quiero es obtener solo el array para recorrerlo en el archivo js.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;archivo js&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;//alert(&quot;hola&quot;);&#xA;let selectCards =$('#cards');  &#xA;let selectEstados =  $('#estados');&#xA;let columna = 'commerce_brand';&#xA;//let selectCards = document.querySelector('#cards');&#xA;&#xA;function cargarOpciones (idSelectIndependiente, columna, idSelectDependiente){&#xA;console.log(idSelectIndependiente);&#xA;console.log(&quot;entrando&quot;);&#xA;&#xA;&#xA;&#xA;$.ajax({&#xA;        type:'POST',&#xA;        url: 'cargar_estados.php',&#xA;        data:{&#xA;                'peticion': 'idSelectIndependiente',&#xA;                'num':columna&#xA;            }&#xA;        //dataType:'json'&#xA;    })&#xA;&#xA;    .done(function(lista_rep1){&#xA;&#xA;        console.log(&quot;sd &quot;+lista_rep1);&#xA;&#xA;        idSelectIndependiente.empty();&#xA;        idSelectIndependiente.append('&amp;lt;option value=&quot;&quot;&amp;gt;Elige una opcion&amp;lt;/option&amp;gt;');&#xA;        for (var i = 0; i &amp;lt; lista_rep1.length; i++) {&#xA;&#xA;          idSelectIndependiente.append(&quot;&amp;lt;option value='lista_rep1[i][commerce_brand]'&amp;gt;lista_rep1[i][commerce_brand]&amp;lt;/option&amp;gt;&quot;);&#xA;        //idSelectIndependiente.append('&amp;lt;option value=&quot;'+lista_rep1[i]['id']+'&quot;&amp;gt;'+lista_rep1[i][1]+'&amp;lt;/option&amp;gt;');&#xA;            //$row[commerce_region]&#xA;&#xA;    };&#xA;&#xA;    })&#xA;    .fail(function(){&#xA;        alert('error al cargar las listas');&#xA;    });&#xA;console.log(&quot;saliendo&quot;);&#xA;}&#xA;&#xA;cargarOpciones(selectCards, columna)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;archivo .php&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;require_once 'conexion.php';&#xA;&#xA;$cards = $_POST['peticion'];&#xA;$columna = $_POST['num'];&#xA;echo $columna;&#xA;&#xA;&#xA;&#xA;&#xA;function getData($idSelect = false, $columna){&#xA;&#xA;    switch ($columna){&#xA;        case 'commerce_brand':&#xA;            $con = getCon();&#xA;            $query = &quot;SELECT commerce_brand FROM `commerc` group by commerce_brand&quot;;&#xA;            $result = $con-&amp;gt;query($query);&#xA;            $row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC);&#xA;            //$listas = &quot;&amp;lt;option value='$row[commerce_brand]'&amp;gt;$row[commerce_brand]&amp;lt;/option&amp;gt;&quot;;&#xA;            return $row;&#xA;        break;&#xA;&#xA;        default:&#xA;            $probando = &quot;viene por defecto&quot;;&#xA;        return $probando;&#xA;    }&#xA;}&#xA;&#xA;echo getData($cards,$columna);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""104961"" LastEditorUserId=""39181"" LastEditDate=""2018-10-30T13:09:15.713"" LastActivityDate=""2018-10-30T15:54:28.433"" Title=""Como recibir un array asociativo?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""209273"" PostTypeId=""1"" AcceptedAnswerId=""209304"" CreationDate=""2018-10-30T15:34:11.033"" Score=""1"" ViewCount=""104"" Body=""&lt;p&gt;Lo que trato de hacer es enviar la respuesta de una petición pero no recibo los valores del array solo recibo la palabra array &lt;/p&gt;&#xA;&#xA;&lt;p&gt;// archivo js donde recibo la respuesta &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function(){&#xD;&#xA;//alert(&quot;hola&quot;);&#xD;&#xA;let selectCards =$('#cards');  &#xD;&#xA;let selectEstados =  $('#estados');&#xD;&#xA;let columna = 'commerce_brand';&#xD;&#xA;//let selectCards = document.querySelector('#cards');&#xD;&#xA;&#xD;&#xA;function cargarOpciones (idSelectIndependiente, columna, idSelectDependiente){&#xD;&#xA;console.log(idSelectIndependiente);&#xD;&#xA;console.log(&quot;entrando&quot;);&#xD;&#xA;&#xD;&#xA; $.ajax({&#xD;&#xA;        type:'POST',&#xD;&#xA;        url: 'cargar_estados.php',&#xD;&#xA;        data:{&#xD;&#xA;                'peticion': 'idSelectIndependiente',&#xD;&#xA;                'num':columna&#xD;&#xA;            }&#xD;&#xA;        //dataType:'json'&#xD;&#xA;    })&#xD;&#xA;&#xD;&#xA;    .done(function(lista_rep1){&#xD;&#xA;        &#xD;&#xA;        console.log(lista_rep1);&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;         // idSelectIndependiente.empty();&#xD;&#xA;         // idSelectIndependiente.append('&amp;lt;option value=&quot;&quot;&amp;gt;Elige una opcion&amp;lt;/option&amp;gt;');&#xD;&#xA;         // idSelectIndependiente.html('&amp;lt;option value=&quot;lista_rep1[i][commerce_brand]&quot;&amp;gt;lista_rep1[commerce_brand]&amp;lt;/option&amp;gt;');&#xD;&#xA;         for (var i = 0; i &amp;lt; lista_rep1.length; i++) {&#xD;&#xA;            &#xD;&#xA;            //myObj.cars[i];&#xD;&#xA;        // idSelectIndependiente.append(&quot;&amp;lt;option value='lista_rep1[i][commerce_brand]'&amp;gt;lista_rep1[i][commerce_brand]&amp;lt;/option&amp;gt;&quot;);&#xD;&#xA;       // idSelectIndependiente.append('&amp;lt;option value=&quot;'+lista_rep1[i]['commerce_brand']+'&quot;&amp;gt;'+lista_rep1[i][1]+'&amp;lt;/option&amp;gt;');&#xD;&#xA;    &#xD;&#xA;        console.log(lista_rep1);&#xD;&#xA;        };&#xD;&#xA;    })&#xD;&#xA;    .fail(function(){&#xD;&#xA;        alert('error al cargar las listas');&#xD;&#xA;    });&#xD;&#xA;console.log(&quot;saliendo&quot;);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;cargarOpciones(selectCards, columna)&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;// archivo php donde recibo los datos de la petición ajax y envio una respuesta.&#xD;&#xA;&amp;lt;?php&#xD;&#xA;require_once 'conexion.php';&#xD;&#xA;&#xD;&#xA;$cards = $_POST['peticion'];&#xD;&#xA;$columna = $_POST['num'];&#xD;&#xA;//echo $columna;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;function getData($idSelect = false, $columna){&#xD;&#xA;    &#xD;&#xA;    switch ($columna){&#xD;&#xA;        case 'commerce_brand':&#xD;&#xA;            $con = getCon();&#xD;&#xA;            $query = &quot;SELECT commerce_brand FROM `commerc` group by commerce_brand&quot;;&#xD;&#xA;            $result = $con-&amp;gt;query($query);&#xD;&#xA;            $row = $result-&amp;gt;fetch_array();&#xD;&#xA;&#xD;&#xA;            //$listas = json_encode($row);&#xD;&#xA;            /// while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xD;&#xA;               // $listas.=&quot; &quot;;&#xD;&#xA;               // $listas  .= $row[commerce_brand];&#xD;&#xA;                //}&#xD;&#xA;&#xD;&#xA;            //&#xD;&#xA;            return $row;&#xD;&#xA;        break;&#xD;&#xA;        &#xD;&#xA;        default:&#xD;&#xA;            $probando = &quot;viene por defecto&quot;;&#xD;&#xA;        return $probando;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;echo getData($cards,$columna);&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""104961"" LastActivityDate=""2018-10-31T00:38:48.033"" Title=""enviar todos los valores por ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""209327"" PostTypeId=""1"" CreationDate=""2018-10-30T16:41:23.620"" Score=""0"" ViewCount=""41"" Body=""&lt;p&gt;Tengo el siguiente código &lt;code&gt;JQuery.ajax&lt;/code&gt; que toma los valores de una tabla en &lt;strong&gt;index.php&lt;/strong&gt; y los envía al archivo &lt;strong&gt;insertar.php&lt;/strong&gt; el cual procesa los datos y los guarda en &lt;code&gt;MySQL&lt;/code&gt;. Cuando los datos son enviados, redirecciona a &lt;strong&gt;vista.php&lt;/strong&gt;. Hasta ahí todo bien.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery(document).on('submit','#agregar', function(event){&#xA;    event.preventDefault();&#xA;    jQuery.ajax({&#xA;    url: 'insertar.php',&#xA;    type: 'POST',&#xA;    dataType: 'json',&#xA;    data: $(this).serialize(),&#xA;    })&#xA;    .done(function(respuesta) {&#xA;        console.log(respuesta);&#xA;        if (!respuesta.error) {&#xA;            alert('Los datos se han guardado con éxito!');&#xA;            location.href = 'vista.php';&#xA;        } else {&#xA;        alert('Algo salió mal!, verifica los datos ingresados');&#xA;        }&#xA;    })&#xA;    .fail(function(resp) {&#xA;        console.log(resp.responseText);&#xA;    })&#xA;    .always(function() {&#xA;        console.log(&quot;complete&quot;);&#xA;    })&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El número de columnas de la tabla es dinámico (8, 9, 10 u 11 según el caso). Cuando son once columnas, guarda los datos y redirecciona, sin embargo, cuando son menos de once columnas, guarda la información en la base de datos pero no redirecciona.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Hay alguna manera de que envíe los datos sin validar la cantidad de columnas y redireccione a &lt;strong&gt;vista.php&lt;/strong&gt;?&lt;/p&gt;&#xA;"" OwnerUserId=""40877"" LastActivityDate=""2018-10-30T16:41:23.620"" Title=""Redirección JQuery sin validar la cantidad de datos enviados"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""209891"" PostTypeId=""1"" CreationDate=""2018-11-01T15:08:15.373"" Score=""0"" ViewCount=""144"" Body=""&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function(){&#xD;&#xA;&#xD;&#xA;let selectCards =$('#cards');  &#xD;&#xA;let idSelectCards = selectCards[0].id;&#xD;&#xA;&#xD;&#xA;let selectEstados =  $('#estados');&#xD;&#xA;let idSelectEstados = selectEstados[0].id;&#xD;&#xA;&#xD;&#xA;let selectDistritos = $('#distritos');&#xD;&#xA;let idSelectDistritos = selectDistritos[0].id;&#xD;&#xA;&#xD;&#xA;let selectProvincias = $('#provincias');&#xD;&#xA;let idSelectProvincias = selectProvincias[0].id&#xD;&#xA;&#xD;&#xA;let selectCategoria = $('#categoria');&#xD;&#xA;let idSelectCategoria = selectCategoria[0].id;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;function cargarOpciones (select, idSelect, valorCard, valorEstados){&#xD;&#xA;&#xD;&#xA; $.ajax({&#xD;&#xA;        type:'POST',&#xD;&#xA;        url: 'cargar_estados.php',&#xD;&#xA;        data:{&#xD;&#xA;                id:idSelect,&#xD;&#xA;                valorCard:valorCard,&#xD;&#xA;                valorEdo:valorEstados // No veo por que no recibo&#xD;&#xA;            },&#xD;&#xA;        dataType:'json'&#xD;&#xA;    })&#xD;&#xA;    .done(function(lista_rep1){&#xD;&#xA;      &#xD;&#xA;        select.empty();&#xD;&#xA;        select.append('&amp;lt;option selected disabled value=&quot;0&quot;&amp;gt;Seleccione...&amp;lt;/option&amp;gt;');&#xD;&#xA;        for (var i = 0; i &amp;lt; lista_rep1.length; i++) {&#xD;&#xA;            select.append('&amp;lt;option value=&quot;'+lista_rep1[i][idSelect]+'&quot;&amp;gt;'+lista_rep1[i][idSelect]+'&amp;lt;/option&amp;gt;');&#xD;&#xA;        };&#xD;&#xA;    })&#xD;&#xA;    .fail(function(){&#xD;&#xA;        alert('error al cargar las listas');&#xD;&#xA;    });&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;cargarOpciones(selectCards, idSelectCards);&#xD;&#xA;//cargarOpciones(selectEstados, idSelectEstados)&#xD;&#xA;//cargarOpciones(selectEstados)&#xD;&#xA;&#xD;&#xA;$('#cards').change(function(event) {&#xD;&#xA;        var valor = $('#cards').val();&#xD;&#xA;        $('#estados').empty();&#xD;&#xA;        &#xD;&#xA;        cargarOpciones(selectEstados, idSelectEstados, valor);&#xD;&#xA;       &#xD;&#xA;    });&#xD;&#xA;&#xD;&#xA;$('#estados').change(function(event) {&#xD;&#xA;        var valorEstados = $('#estados').val();&#xD;&#xA;        $('#distritos').empty();&#xD;&#xA;    console.log( &quot;el valor es :&quot;+valorEstados);&#xD;&#xA;        cargarOpciones(selectDistritos, idSelectDistritos, valorEstados);&#xD;&#xA;       &#xD;&#xA;    });&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xD;&#xA;&#xD;&#xA;    $columna = (empty($_POST['id'])) ?      NULL : $_POST['id'];   &#xD;&#xA;    $valorCard = $_POST['valorCard'];   &#xD;&#xA;    $valorEstados = $_POST['valorEdo'];&#xD;&#xA;  &#xD;&#xA;        require_once 'conexion.php';  &#xD;&#xA;        $json=getData($columna,$valorCard,$valorEstados);&#xD;&#xA;&#xD;&#xA;    header(&quot;Content-type: application/json; charset=utf-8&quot;);&#xD;&#xA;    echo json_encode($json);&#xD;&#xA;&#xD;&#xA;function getData($columna, $valorCard, $valorEstados){&#xD;&#xA;    switch ($columna){&#xD;&#xA;        case 'cards':&#xD;&#xA;            $con = getCon();&#xD;&#xA;            $query = &quot;SELECT&#xD;&#xA;                        commerce_brand cards&#xD;&#xA;                    FROM&#xD;&#xA;                        commerc&#xD;&#xA;                    GROUP BY&#xD;&#xA;                        commerce_brand&quot;;&#xD;&#xA;            $result = $con-&amp;gt;query($query);&#xD;&#xA;&#xD;&#xA;            while ($datos = $result-&amp;gt;fetch_assoc()) {&#xD;&#xA;                $row[]=$datos;&#xD;&#xA;            }&#xD;&#xA;                //print_r($row[1]);&#xD;&#xA;            return $row;&#xD;&#xA;        break;&#xD;&#xA;&#xD;&#xA;        case 'estados':&#xD;&#xA;            $con = getCon();&#xD;&#xA;            $query=&quot;SELECT&#xD;&#xA;                      commerce_region estados&#xD;&#xA;                    FROM&#xD;&#xA;                      commerc&#xD;&#xA;                    WHERE&#xD;&#xA;                      commerce_brand = '$valorCard'&#xD;&#xA;                    GROUP BY&#xD;&#xA;                      commerce_region&quot;;&#xD;&#xA;            $result = $con-&amp;gt;query($query);&#xD;&#xA;            while ($datos = $result-&amp;gt;fetch_assoc()) {&#xD;&#xA;                    $row[]=$datos;&#xD;&#xA;                }&#xD;&#xA;                //print_r($row);&#xD;&#xA;                return $row;&#xD;&#xA;&#xD;&#xA;            break;&#xD;&#xA;&#xD;&#xA;            case 'distritos':&#xD;&#xA;                $con = getCon();&#xD;&#xA;                $query=&quot;SELECT&#xD;&#xA;                            commerce_district as distritos&#xD;&#xA;                        FROM &#xD;&#xA;                            commerc&#xD;&#xA;                        WHERE &#xD;&#xA;                           commerce_brand = '$valorCard' and commerce_region ='$valorEstados'&#xD;&#xA;                        group by  &#xD;&#xA;                            commerce_district&quot;;&#xD;&#xA;                $result = $con-&amp;gt;query($query);&#xD;&#xA;                while ($datos = $result-&amp;gt;fetch_assoc()) {&#xD;&#xA;                        $row[]=$datos;&#xD;&#xA;                    }&#xD;&#xA;                    //print_r($valorEstados.&quot;valor&quot;);&#xD;&#xA;                    return $row;&#xD;&#xA;&#xD;&#xA;            break;&#xD;&#xA;&#xD;&#xA;            case 'provincias':&#xD;&#xA;                $con = getCon();&#xD;&#xA;                $query=&quot;SELECT&#xD;&#xA;                            commerce_province as provincias&#xD;&#xA;                        FROM&#xD;&#xA;                            commerc&#xD;&#xA;                        WHERE&#xD;&#xA;                            commerce_province = '$valorCard'&#xD;&#xA;                        GROUP BY&#xD;&#xA;                            commerce_province&quot;;&#xD;&#xA;                $result = $con-&amp;gt;query($query);&#xD;&#xA;                while ($datos = $result-&amp;gt;fetch_assoc()) {&#xD;&#xA;                        $row[]=$datos;&#xD;&#xA;                    }&#xD;&#xA;                    //var_dump($row);&#xD;&#xA;                    return $row;&#xD;&#xA;            break;&#xD;&#xA;&#xD;&#xA;            default:&#xD;&#xA;                $probando = array (&quot;error&quot;=&amp;gt;&quot;La columna $columna no está admitida&quot;);&#xD;&#xA;            return $probando;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;**no logro recibir el valor valorEdo:valorEstados en el archivo .php cuando voy hacer uso de  $valorEstados = $_POST['valorEdo']; que es donde intento capturar dicho valor me dice que esta null no veo cual es el error o que estoy haciendo mal **&lt;/p&gt;&#xA;"" OwnerUserId=""104961"" LastActivityDate=""2018-11-01T15:08:15.373"" Title=""Problema al capturar un valor el cual viene por POST"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""210825"" PostTypeId=""1"" CreationDate=""2018-11-05T14:22:04.280"" Score=""0"" ViewCount=""68"" Body=""&lt;p&gt;Vengo con esta duda, que he visto a sido consultada muchas veces, pero en ninguno de los temas que vi pude encontrar una solución.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi problema es, que estoy tratando de recuperar información de mi BD PostgreSQL para mostrarla, pero el llamado de Ajax dispara el evento de &quot;error&quot; donde se indica el error del titulo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el procedimiento del llamado:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;funcion.JS&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    url: 'data/ajax.php',&#xA;    dataType: 'json',&#xA;    data: {action: 'cargar', &#xA;           usu_id: usu_id},&#xA;    type: 'get',&#xA;    sucess: function(data){&#xA;      console.log(data);&#xA;      $('#load_contnent').show();&#xA;      alert('Formularios cargados correctamente.');&#xA;    },&#xA;    error: function (data, jqXHR, textStatus, errorThrown) {&#xA;      console.log(data);&#xA;      alert('Error: ' + jqXHR + ', ' + textStatus.message);&#xA;    },&#xA;    done: function(results) {&#xA;      console.log(data);&#xA;      alert('Entro en done.');&#xA;    },&#xA;    fail: function( jqXHR, textStatus, errorThrown ) {&#xA;      console.log( 'Could not get posts, server response: ' + textStatus + ': ' + errorThrown );&#xA;    }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ajax.PHP&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$action = $_GET['action'];&#xA;switch($action) {&#xA;    case 'cargar' : &#xA;        $formulario = new Panel();&#xA;        $formulario-&amp;gt;CargarFormulario($_GET['usu_id']);&#xA;        break;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;funcion.PHP&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function CargarFormulario($usu_id){&#xA;    require_once &quot;param_panel.php&quot;;&#xA;    $Datos = new ParametrosPanel();&#xA;    $resultado = $Datos-&amp;gt;CargarTodo($usu_id);&#xA;&#xA;    $arr = array('formulario' =&amp;gt; $resultado);&#xA;    echo json_encode($arr);&#xA;    exit;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;------ EDIT-----&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias a la sugerencia de Max Sandoval, pude ver en mi código que tenia una función &lt;strong&gt;vardump()&lt;/strong&gt; sin propósito en la función con el llamado SQL, y al eliminar esa función ya no se produce el error original por el que hice la consulta en un comienzo, ahora simplemente, se ejecuta el llamado, pero la respuesta no desencadena ningún evento especificado en AJAX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agrego la función con la consulta sql:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CargarTodo.PHP&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$sql = &quot;select *&#xA;            from construccion&#xA;            where usu_id=$usu_id&quot;;&#xA;    $result = pg_query($this-&amp;gt;con-&amp;gt;conectar(), $sql);&#xA;    pg_close($this-&amp;gt;con-&amp;gt;conectar());&#xA;    if($result!=null){&#xA;        return pg_fetch_all($result);&#xA;    }else{&#xA;        echo false;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;También dejo evidencia de lo que se observa en la consola de Network del navegador.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;------ EDIT --------&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Al revisar la consola, la respuesta de ajax llega de esta forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{&quot;formulario&quot;:{&quot;0&quot;:{&quot;cons_id&quot;:&quot;1&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;asdqwed&quot;,&quot;cons_titulo&quot;:&quot;asdqwed&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br&amp;gt;&amp;lt;input class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; type=\&quot;text\&quot; value=\&quot;Ejemplo de input\&quot; id=\&quot;c_11\&quot; style=\&quot;position: relative;\&quot;&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;1&quot;:{&quot;cons_id&quot;:&quot;2&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;test&quot;,&quot;cons_titulo&quot;:&quot;test&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;2&quot;:{&quot;cons_id&quot;:&quot;3&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;test2&quot;,&quot;cons_titulo&quot;:&quot;test2&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;input class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; type=\&quot;text\&quot; value=\&quot;Ejemplo de input\&quot; id=\&quot;c_11\&quot; style=\&quot;position: relative;\&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_111\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;3&quot;:{&quot;cons_id&quot;:&quot;4&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;qweqwe&quot;,&quot;cons_titulo&quot;:&quot;qweqwe&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;input class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; type=\&quot;text\&quot; value=\&quot;Ejemplo de input\&quot; id=\&quot;c_11\&quot; style=\&quot;position: relative;\&quot;&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;4&quot;:{&quot;cons_id&quot;:&quot;5&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;test3&quot;,&quot;cons_titulo&quot;:&quot;test3&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;input class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; type=\&quot;text\&quot; value=\&quot;Ejemplo de input\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_11\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;5&quot;:{&quot;cons_id&quot;:&quot;6&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;test4&quot;,&quot;cons_titulo&quot;:&quot;test4&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;div class=\&quot;arrastrable interno ui-draggable ui-draggable-handle ui-droppable\&quot; id=\&quot;e_1\&quot; style=\&quot;border: 0.5px dotted black; height: 50%; width: 90%; min-height: 1px; min-width: 1px; position: relative; background: rgb(106, 192, 193);\&quot;&amp;gt;&amp;lt;\/div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_11\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;6&quot;:{&quot;cons_id&quot;:&quot;7&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;ertgher&quot;,&quot;cons_titulo&quot;:&quot;ertgher&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;7&quot;:{&quot;cons_id&quot;:&quot;8&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;ertert&quot;,&quot;cons_titulo&quot;:&quot;ertert&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br&amp;gt;&amp;lt;form class=\&quot;arrastrable interno ui-draggable ui-draggable-handle ui-droppable\&quot; id=\&quot;e_11\&quot; style=\&quot;border: 0.5px dotted black; height: 50%; width: 90%; min-height: 1px; min-width: 1px; position: relative;\&quot;&amp;gt;&amp;lt;\/form&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;8&quot;:{&quot;cons_id&quot;:&quot;9&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;asdqw&quot;,&quot;cons_titulo&quot;:&quot;asdqw&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;9&quot;:{&quot;cons_id&quot;:&quot;10&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;Prueba_0611&quot;,&quot;cons_titulo&quot;:&quot;Prueba_0611&quot;,&quot;cons_contenido&quot;:&quot;&amp;lt;br&amp;gt;&amp;lt;div class=\&quot;interno ui-droppable ui-sortable\&quot; id=\&quot;e_2\&quot; style=\&quot;border: 0.5px dotted black; height: 50%; width: 90%; min-height: 1px; min-width: 1px; background: white;\&quot;&amp;gt;&amp;lt;form class=\&quot;interno ui-droppable ui-sortable ui-sortable-handle\&quot; id=\&quot;e_3\&quot; style=\&quot;border: 0.5px dotted black; height: 50%; width: 90%; min-height: 1px; min-width: 1px; background: white;\&quot;&amp;gt;&amp;lt;input class=\&quot;arrastrable ui-draggable ui-draggable-handle ui-droppable ui-sortable-handle\&quot; type=\&quot;text\&quot; value=\&quot;Ejemplo de input\&quot; id=\&quot;c_5\&quot; style=\&quot;position: relative;\&quot;&amp;gt;&amp;lt;br class=\&quot;ui-sortable-handle\&quot;&amp;gt;&amp;lt;\/form&amp;gt;&amp;lt;br class=\&quot;ui-sortable-handle\&quot;&amp;gt;&amp;lt;label class=\&quot;arrastrable ui-draggable ui-draggable-handle ui-droppable ui-sortable-handle\&quot; id=\&quot;c_6\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de etiqueta.&amp;lt;\/label&amp;gt;&amp;lt;br class=\&quot;ui-sortable-handle\&quot;&amp;gt;&amp;lt;\/div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;div class=\&quot;interno ui-droppable ui-sortable\&quot; id=\&quot;e_4\&quot; style=\&quot;border: 0.5px dotted black; height: 50%; width: 90%; min-height: 1px; min-width: 1px; background: white;\&quot;&amp;gt;&amp;lt;p class=\&quot;arrastrable ui-draggable ui-draggable-handle ui-droppable insidePopup ui-sortable-handle\&quot; id=\&quot;c_1\&quot; style=\&quot;position: relative;\&quot;&amp;gt;Ejemplo de un parrafo.&amp;lt;\/p&amp;gt;&amp;lt;\/div&amp;gt;&amp;lt;br&amp;gt;&quot;},&quot;10&quot;:{&quot;cons_id&quot;:&quot;11&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;&quot;,&quot;cons_titulo&quot;:&quot;&quot;,&quot;cons_contenido&quot;:&quot;&quot;},&quot;11&quot;:{&quot;cons_id&quot;:&quot;12&quot;,&quot;usu_id&quot;:&quot;1&quot;,&quot;cons_nombre&quot;:&quot;&quot;,&quot;cons_titulo&quot;:&quot;&quot;,&quot;cons_contenido&quot;:&quot;&quot;}}}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y en la pestaña &quot;Preview&quot; se ve así:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/WEKdB.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/WEKdB.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""105998"" LastEditorUserId=""105998"" LastEditDate=""2018-11-08T14:51:39.453"" LastActivityDate=""2018-11-08T14:51:39.453"" Title=""Respuesta no desencadena ningún evento de Ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;postgresql&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""213558"" PostTypeId=""1"" CreationDate=""2018-11-14T13:27:13.770"" Score=""0"" ViewCount=""94"" Body=""&lt;p&gt;he estado intentado mostrar una imagen en una modal, esa imagen se muestra en función de un elemento seleccionado, por eso uso la peticón ajax, que me muestre la imagen de acuerdo al elemento seleccionado, pero cuando hago la petición me muestra un mensaje de undefined acá dejo la función AJAX, la sentencia SQL y el controlador:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El undefined lo marca en la línea de: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;alert(respuesta.img);&#xA;&#xA;&#xA;&#xA;function mostrarImagen(art){&#xA;  var url=&quot;&amp;lt;?php echo URL?&amp;gt;&quot;;&#xA;  cod_ar=art;&#xA;  alert(cod_ar);&#xA;&#xA;  $.ajax({&#xA;    method:&quot;POST&quot;,&#xA;    url: url + &quot;Home/mostrarImagen&quot;,&#xA;    datatype:'json',&#xA;    data:{articulo : cod_ar}&#xA;  })&#xA;  .done(function(respuesta){&#xA;    alert(respuesta.img);&#xA;  })&#xA;  .fail(function(error){&#xA;    alert(error);&#xA;  })&#xA;}&#xA;&#xA;&#xA;&#xA;//MODELO&#xA;public function mostrarImagen(){&#xA;        $sql=&quot;SELECT nombre_imagen as img FROM imagen as i INNER JOIN articulo as a ON i.idimagen=a.imagen_idimagen WHERE idarticulo=?&quot;;&#xA;        $stm = $this-&amp;gt;db-&amp;gt;prepare($sql);&#xA;        $stm-&amp;gt;bindParam(1, $this-&amp;gt;id_articulo);&#xA;        $stm-&amp;gt;execute();&#xA;        return $stm-&amp;gt;fetch();&#xA;    }&#xA;&#xA;&#xA;&#xA;//CONTROLADOR&#xA;    public function mostrarImagen(){&#xA;        $mdo=new mdo();&#xA;        $mdo-&amp;gt;__SET(&quot;id_articulo&quot;,$_POST[&quot;articulo&quot;]);&#xA;        $rtado=$mdo-&amp;gt;mostrarImagen()-&amp;gt;img;&#xA;        echo json_decode($rtado);&#xA;        var_dump($rtado);&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;EL RESULTADO QUE LANZA LA RESPUESTA DEL CONTROLADOR ES:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;object(stdClass)#7 (1) { [&quot;img&quot;]=&amp;gt; string(14) &quot;NEW_PITNEY.png&quot; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CLARO ESTÁ QUE LA RESPUESTA ES DE ACORDE AL ELEMENTO SELECCIONADO&lt;/p&gt;&#xA;"" OwnerUserId=""69354"" LastEditorUserId=""69354"" LastEditDate=""2018-11-14T14:27:14.013"" LastActivityDate=""2018-11-14T14:27:14.013"" Title=""undefined en petición a servidor AJAX"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;sql&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""10"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""213737"" PostTypeId=""1"" AcceptedAnswerId=""213741"" CreationDate=""2018-11-14T19:35:47.093"" Score=""1"" ViewCount=""234"" Body=""&lt;p&gt;me preguntaba el como podría mostrar una imagen en un formulario que muestra información de los campos de una tabla dependiendo de su id , no estoy guardando la imagen en si no la dirección de la carpeta donde tengo guardada la imagen.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/dKtXI.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/dKtXI.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y la quisiera mostrar en el formulario , ya sea con una etiqueta de a de hipervinculo o con la etiqueta img , pero no se el como. Utilizo Ajax para mostrar los campos en el formulario.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;  function Tinv(id){&#xD;&#xA;  $.ajax({&#xD;&#xA;    type:&quot;POST&quot;,&#xD;&#xA;    data:{'id':id},&#xD;&#xA;    dataType:'json',&#xD;&#xA;    url: uri + &quot;/inventario/mostrarInv&quot;,&#xD;&#xA;  }).done(function(respuesta){&#xD;&#xA;&#xD;&#xA;    $(&quot;#id&quot;).val(respuesta.id);&#xD;&#xA;    $(&quot;#ubicacioni&quot;).val(respuesta.ubicacion);&#xD;&#xA;    $(&quot;#asignadoi&quot;).val(respuesta.asignado);&#xD;&#xA;    $(&quot;#subcategoriai&quot;).val(respuesta.subcategoria);&#xD;&#xA;    $(&quot;#estadoi&quot;).val(respuesta.estado);&#xD;&#xA;    $(&quot;#actividadi&quot;).val(respuesta.actividad);&#xD;&#xA;    $(&quot;#sistemaoi&quot;).val(respuesta.sistemao);&#xD;&#xA;    $(&quot;#marcai&quot;).val(respuesta.marca);&#xD;&#xA;    $(&quot;#modeloi&quot;).val(respuesta.modelo);&#xD;&#xA;    $(&quot;#seriali&quot;).val(respuesta.serialp);&#xD;&#xA;    $(&quot;#placai&quot;).val(respuesta.placa);&#xD;&#xA;    $(&quot;#serialcargadori&quot;).val(respuesta.serialcargador);&#xD;&#xA;    $(&quot;#serialbateriai&quot;).val(respuesta.serialbateria);&#xD;&#xA;    $(&quot;#velocidadprocesadori&quot;).val(respuesta.velocidadprocesador);&#xD;&#xA;    $(&quot;#rami&quot;).val(respuesta.ram);&#xD;&#xA;    $(&quot;#discoduroi&quot;).val(respuesta.discoduro);&#xD;&#xA;    $(&quot;#ipi&quot;).val(respuesta.ip);&#xD;&#xA;    $(&quot;#lani&quot;).val(respuesta.lan);&#xD;&#xA;    $(&quot;#wlani&quot;).val(respuesta.wlan);&#xD;&#xA;    $(&quot;#activirusi&quot;).val(respuesta.antivirus);&#xD;&#xA;    $(&quot;#observacionesi&quot;).val(respuesta.observaciones);&#xD;&#xA;    $(&quot;#licenciaos&quot;).val(respuesta.licenciaos);&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    $(&quot;#modalInv&quot;).modal();&#xD;&#xA;&#xD;&#xA;  }).fail(function(r){&#xD;&#xA;    alert(r);&#xD;&#xA;  });&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;con este código javascript muestro los campos que estan guardados en la base de datos por el id.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/qbux9.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/qbux9.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Entonces no se como podría mostrar la imagen con la dirección guardada en la base de datos , puesto que muestro la información de cada uno de los campos corresponden a una fila en la bd.&lt;/p&gt;&#xA;"" OwnerUserId=""93110"" LastActivityDate=""2018-11-14T19:43:37.590"" Title=""Como hago para visualizar la imagen"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""214398"" PostTypeId=""1"" CreationDate=""2018-11-16T15:57:04.233"" Score=""0"" ViewCount=""163"" Body=""&lt;p&gt;estoy eviando un formulario por ajax y no me quiere reconocer el input de tipo &lt;code&gt;file&lt;/code&gt;, practimente he intentado todo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;cabe destacar que el boton del &lt;code&gt;submit&lt;/code&gt; esta fuera del formulario para luego capturar el formulario con la etiqueta &lt;code&gt;form&lt;/code&gt; de &lt;strong&gt;html&lt;/strong&gt; que te permite capturar el formulario sin importar donde este.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;he seguido algunas normas para capturar el &lt;strong&gt;input&lt;/strong&gt; de tipo &lt;code&gt;file&lt;/code&gt; al enviar el formulario al archivo &lt;strong&gt;php&lt;/strong&gt; tales como &lt;code&gt;if(isset($_FILES['file'])){}&lt;/code&gt; ,tambien estoy agregando la etique al formulario &lt;code&gt;entype=&quot;multipart/form-data&quot;&lt;/code&gt;,.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;todos los input los captura ecepto el de tipo file no entiendo por que aqui les dejo lo que he intentado &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;archivo.html&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;fomr action=&quot;info.php&quot; method=&quot;post&quot; entype=&quot;multipart/form-data&quot; id=&quot;form&quot;&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;nombre&quot; id=&quot;nombre&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;apellido&quot; id=&quot;apellido&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;correo&quot; id=&quot;correo&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; /&amp;gt;&#xA;   &amp;lt;/form&amp;gt;&#xA;&#xA;    &amp;lt;!--luego el boton de submit se encuentra fuera de el fom por x razon--&amp;gt;&#xA;    &amp;lt;!--el form es capturado con la etiqueta form de html--&amp;gt;&#xA;    &amp;lt;button type=&quot;submit&quot; id=&quot;send&quot; form=&quot;form&quot;&amp;gt;ENVIAR&amp;lt;/button&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;archivo.js&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    $(&quot;#send&quot;).click(function(){&#xA;&#xA;         var form=$(&quot;#form&quot;);//capturar fomulario&#xA;         var nombre=$(&quot;#nombre&quot;).val();&#xA;         var apellido=$(&quot;#apellido&quot;).val();&#xA;         var correo=$(&quot;#correo&quot;).val();&#xA;&#xA;       form.submit(function(e){&#xA;&#xA;          $.ajax({&#xA;                    url: 'ajax/info.php',&#xA;                    method: 'post',&#xA;                    data: fom.serialize(),&#xA;                    type:&quot;JSON&quot;,&#xA;                    contentType:&quot;application/json; charset=utf-8&quot;&#xA;&#xA;  }).done(function(res){&#xA;&#xA;         console.log(res)&#xA;&#xA;  }).fail(function(){&#xA;&#xA;         console.log(res)&#xA;&#xA;    })&#xA;&#xA;              e.preventDefautl();&#xA;            })&#xA;        })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;info.php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;   $nombre=$_POST[&quot;nomre&quot;];&#xA;   $apellido=$_POST[&quot;apellido&quot;];&#xA;   $correo=$_POST[&quot;correo&quot;];&#xA;   $destino=&quot;&quot;;&#xA;//intente sin if (isset()) tampoco funciono&#xA;  if(isset($_FILES[&quot;file&quot;])){&#xA;&#xA;      $file=$_FILES[&quot;file&quot;][&quot;name&quot;];&#xA;&#xA;       $tmp_name = $_FILES[&quot;pictures&quot;][&quot;tmp_name&quot;]&#xA;       $destino = &quot;img/&quot; . $_FILES['imagen']['name'];&#xA;        move_uploaded_file($tmp_name,$destino);&#xA;&#xA;  }&#xA;&#xA;echo json_encode(array(&#xA;&#xA;                &quot;nombre&quot;=&amp;gt;$nombre,&#xA;                &quot;apellido&quot;=&amp;gt;$apellido,&#xA;                &quot;correo&quot;=&amp;gt;$correo,&#xA;                &quot;file&quot;=&amp;gt;$file&#xA;                     ))&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;error:&lt;/strong&gt; undefined index file&lt;/p&gt;&#xA;&#xA;&lt;p&gt;si lo ago sin tratar de capturar el input tipo file esto funciona a la perfeccio no entiendo que pasa espero y me pueda ayudar&lt;/p&gt;&#xA;"" OwnerUserId=""81074"" LastActivityDate=""2018-11-16T15:57:04.233"" Title=""undefined index file"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""215042"" PostTypeId=""1"" AcceptedAnswerId=""215046"" CreationDate=""2018-11-19T15:41:16.013"" Score=""0"" ViewCount=""506"" Body=""&lt;p&gt;tengo una tabla en la que me gustaría cambiar de un click el estado del profesor, en activo o inactivo pero por lo que sea no funciona en datatable. Tengo el siguiente código:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;PHP&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php include('dbcon.php'); ?&amp;gt;&#xA;&amp;lt;?php include('session.php');  &#xA;        $id = $_POST['id'];&#xA;        echo $id;&#xA;&#xA;        $data = explode(&quot;-&quot;,$_POST['id']); &#xA;        $campo = $data[0]; // nombre del campo&#xA;        $id = $data[1]; // id del registro &#xA;        $value = $data[2]; // valor por el cual reemplazar &#xA;&#xA;&#xA;        $query = mysql_query(&quot;UPDATE teacher SET teacher_stat = '&quot;.$value.&quot;' &#xA;WHERE teacher_id = '&quot;.$id.&quot;'&quot; ); &#xA;        $value = 1;&#xA;        if ($value == 1 ) { echo (&quot;exitoso&quot;); } else { echo (&quot;noexitoso&quot;); }&#xA;&#xA;?&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;        $(function() {&#xA;&#xA;          $('#btnSi, #btnNo').on('click', function() {&#xA;            var elem = $(this);&#xA;            var activo = elem.text();&#xA;            var id = elem.val();&#xA;            alert(elem);&#xA;            var url = 'teachers_save2.php';&#xA;&#xA;            var request = $.ajax({&#xA;              data: {id: id, activo:activo},&#xA;              type: &quot;POST&quot;,&#xA;              url: url,&#xA;              dataType: &quot;html&quot;&#xA;            });&#xA;&#xA;            request.done(function(text) {&#xA;              console.log(text);&#xA;              if (text == &quot;exitoso&quot;) {&#xA;                if (activo == 'S') {&#xA;                  elem.removeClass('btn-danger').addClass('btn-success');&#xA;                  elem.text('S');&#xA;                } else {&#xA;                  elem.removeClass('btn-success').addClass('btn-danger');&#xA;                  elem.text('N');&#xA;                }&#xA;              }&#xA;            });&#xA;&#xA;            request.fail(function(jqXHR, textStatus) {&#xA;              alert(&quot;Error de petición: &quot; + textStatus);&#xA;            });&#xA;&#xA;          });&#xA;&#xA;        });&#xA;        &amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;?php if ($teacher_stat == 'Activated' ){ ?&amp;gt;&#xA;                                    &amp;lt;td data-order=&quot;&amp;lt;?php echo $teacher_stat    ; ?&amp;gt;&quot;&amp;gt;&amp;lt;button id=&quot;btnSi&quot; value=&quot;18&quot; class=&quot;btn btn-success btn-lg&quot;&amp;gt;S&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                                    &amp;lt;?php }else{ ?&amp;gt;&#xA;                                    &amp;lt;td data-order=&quot;&amp;lt;?php echo $teacher_stat; ?&amp;gt;&quot;&amp;gt;&amp;lt;button id=&quot;btnNo&quot; value=&quot;19&quot; class=&quot;btn btn-success btn-lg&quot;&amp;gt;N&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                                    &amp;lt;?php } ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""25828"" LastEditorUserId=""25828"" LastEditDate=""2018-11-19T17:15:20.063"" LastActivityDate=""2018-11-19T17:15:20.063"" Title=""Cambiar estado o valor de un botón en datatable"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;datatables&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""215050"" PostTypeId=""1"" AcceptedAnswerId=""215055"" CreationDate=""2018-11-19T16:18:00.467"" Score=""0"" ViewCount=""29"" Body=""&lt;p&gt;llevo vaarios dias estancado con esto y aun no he podido resolverlo ,la cosa es que tengo un formulario el cual envio con &lt;strong&gt;ajax&lt;/strong&gt; , el formulario cuenta con algunos campos de tipo text y uno de tipo &lt;code&gt;file&lt;/code&gt; que es mi gran problema he intentado de todas formas y no me quiere reconocer ese input. pero si envio el formulario sin ajax es decir recargando y enviado el formulario directamente a la otra pagina si reconoce el input de tipo &lt;code&gt;file&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;aqui les dejo lo que he intentado&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;form action=&quot;ajax/info.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; id=&quot;form&quot;&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;nombre&quot; id=&quot;nombre&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;apellido&quot; id=&quot;apellido&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;text&quot; name=&quot;correo&quot; id=&quot;correo&quot; /&amp;gt;&#xA;       &amp;lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; /&amp;gt;&#xA;&#xA;      &amp;lt;button type=&quot;submit&quot; id=&quot;send&quot; form=&quot;form&quot;&amp;gt;ENVIAR&amp;lt;/button&amp;gt;&#xA;   &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;       $(&quot;#form&quot;).submit(function(e){&#xA;&#xA;        var form=$(&quot;#form&quot;);&#xA;&#xA;         var url=&quot;ajax/info.php&quot;;&#xA;&#xA;          $.ajax({&#xA;                    url: url,&#xA;                    method: 'post',&#xA;                    data:  form.serialize(),&#xA;                    type:&quot;JSON&quot;,&#xA;                    contentType:&quot;application/json; charset=utf-8&quot;&#xA;&#xA;  }).done(function(res){&#xA;&#xA;         console.log(res)&#xA;&#xA;  }).fail(function(){&#xA;&#xA;         console.log(res)&#xA;&#xA;    })&#xA;&#xA;              e.preventDefautl();&#xA;            })&#xA;        })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;php&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;?php&#xA;&#xA;   $nombre=$_POST[&quot;nomre&quot;];&#xA;   $apellido=$_POST[&quot;apellido&quot;];&#xA;   $correo=$_POST[&quot;correo&quot;];&#xA;   $destino=&quot;&quot;;&#xA;//intente sin if (isset()) tampoco funciono&#xA;  if(isset($_FILES[&quot;file&quot;])){&#xA;&#xA;      $file=$_FILES[&quot;file&quot;][&quot;name&quot;];&#xA;&#xA;       $tmp_name = $_FILES[&quot;pictures&quot;][&quot;tmp_name&quot;]&#xA;       $destino = &quot;img/&quot; . $_FILES['imagen']['name'];&#xA;        move_uploaded_file($tmp_name,$destino);&#xA;&#xA;  }&#xA;&#xA;echo json_encode(array(&#xA;&#xA;                &quot;nombre&quot;=&amp;gt;$nombre,&#xA;                &quot;apellido&quot;=&amp;gt;$apellido,&#xA;                &quot;correo&quot;=&amp;gt;$correo,&#xA;                &quot;file&quot;=&amp;gt;$file&#xA;                     ))&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;en el &lt;strong&gt;output&lt;/strong&gt; resivo todos los inputs menos el tipo file,siempre me dice undefined  index file, pero como mencione mas arriva si lo hago directamente sin ajax si lo reconoce. alguna ayuda? &lt;/p&gt;&#xA;"" OwnerUserId=""81074"" LastActivityDate=""2018-11-20T18:32:15.610"" Title=""undefiened index file"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""215245"" PostTypeId=""1"" AcceptedAnswerId=""215258"" CreationDate=""2018-11-20T09:29:15.477"" Score=""0"" ViewCount=""142"" Body=""&lt;p&gt;Tengo una tabla datatable que en cada fila tiene un boton para cambiar el estado del profesor activo/inactivo. El JS que llamo me lo cambia pero no me cambia el formato del botón (de btn-success --&gt; Activo a btn-warning --&gt; Inactivo)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi tabla HTML&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php if ($teacher_stat == 'Activated' ){ ?&amp;gt;&#xA;&amp;lt;td data-order=&quot;&amp;lt;?php echo $teacher_stat    ; ?&amp;gt;&quot;&amp;gt;&amp;lt;button id=&quot;btnSi&quot; value=&quot;teacher_stat-&amp;lt;?php echo $id;?&amp;gt;-Deactivated&quot; class=&quot;btn btn-success&quot;&amp;gt;Active&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;&amp;lt;?php }else{ ?&amp;gt;&#xA;&amp;lt;td data-order=&quot;&amp;lt;?php echo $teacher_stat; ?&amp;gt;&quot;&amp;gt;&amp;lt;button id=&quot;btnNo&quot; value=&quot;teacher_stat-&amp;lt;?php echo $id;?&amp;gt;-Activated&quot; class=&quot;btn btn-danger&quot;&amp;gt;Inactive&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;  $(document).on('click', '#btnSi, #btnNo', function () {&#xA;    var elem = $(this);&#xA;    var activo = elem.text();&#xA;    var id = elem.val();&#xA;    var url = 'teachers_save2.php';&#xA;    /*e.preventDefault();*/&#xA;alert(id);&#xA;    var request = $.ajax({&#xA;      data: {id: id},&#xA;      type: &quot;POST&quot;,&#xA;      cache: false,&#xA;      url: url,&#xA;      dataType: &quot;html&quot;&#xA;    });&#xA;    request.done(function(text) {&#xA;      console.log(text);&#xA;                    if (activo == 'Active') {&#xA;          elem.removeClass('btn btn-danger').addClass('btn btn-success');&#xA;          elem.text('Active');&#xA;          alert('activo');&#xA;        } else {&#xA;          elem.removeClass('btn btn-success').addClass('btn btn-danger');&#xA;          elem.text('Inactive');&#xA;          alert('deactivo');&#xA;        }&#xA;&#xA;    });&#xA;&#xA;    request.fail(function(jqXHR, textStatus) {&#xA;      alert(&quot;Error de petición: &quot; + textStatus);&#xA;    });&#xA;&#xA;  });&#xA;&#xA;&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y el PHP&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php include('dbcon.php'); ?&amp;gt;&#xA;&amp;lt;?php include('session.php');  &#xA;        $id = $_POST['id'];&#xA;        echo $id;&#xA;&#xA;        $data = explode(&quot;-&quot;,$_POST['id']); &#xA;        $campo = $data[0]; // nombre del campo&#xA;        $id = $data[1]; // id del registro &#xA;        $value = $data[2]; // valor por el cual reemplazar &#xA;&#xA;&#xA;        $query = mysql_query(&quot;UPDATE teacher SET teacher_stat = '&quot;.$value.&quot;' &#xA;WHERE teacher_id = '&quot;.$id.&quot;'&quot; ); &#xA;&#xA;        if ($value == &quot;Activated&quot; ) { echo (&quot;exitoso&quot;); } else { echo (&quot;noexitoso&quot;); }&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""25828"" LastEditorUserId=""25828"" LastEditDate=""2018-11-20T11:24:58.200"" LastActivityDate=""2020-11-12T18:47:22.180"" Title=""Refrescar datatable después de POST"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;datatables&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""216426"" PostTypeId=""1"" AcceptedAnswerId=""216480"" CreationDate=""2018-11-23T17:24:36.297"" Score=""1"" ViewCount=""45"" Body=""&lt;p&gt;de antemano gracias por leer, y espero si no e smucha molestia me pudieran guiar para poder solucionar este problema.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tengo un formulario que se llama servidor, en ese formulario yo ingreso los datos importantes, entre ellos El servidor y la version que tiene.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/MOMYF.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/MOMYF.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El primer campo me trae los sistemas operativos, y a partir del sistema que se escoja, el segundo campo me lista las versiones de ese sistema.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;hasta ese punto todo bien&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El problema viene, cuando quiero editar un servidor que ya tengo inscrito, porque, lamentablemente, no me carga la version del sistema operativo almacenado anteriormente.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/MEHqq.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/MEHqq.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&#xA;Este es el codigo del mi form, me toco poner la version de esa manera, puesto que si lo ponia con el {!! Form que utilice para el campo sistema operativo, no me funcionaba el ajax que cree para que me funcionara como lo necesitaba(Que el campo version, se llene de acuerdo al sistema operativo que escoja).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ELEMENTO PADRE:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; {!! Form::mySelect('id_so', 'Sistema Operativo: ', App\SistemasOperativos::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['id' =&amp;gt; 'so', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ELEMENTO HIJO&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;            &amp;lt;br&amp;gt;&#xA;          &amp;lt;label class=&quot;chosen&quot; for=&quot;nombre&quot;&amp;gt;Version Sistema operativo&amp;lt;/label&amp;gt;&#xA;          &amp;lt;br&amp;gt;&#xA;            &amp;lt;select name=&quot;id_version&quot; id=&quot;version&quot; style=&quot;width: 100%&quot;&amp;gt;&#xA;               &amp;lt;option value=&quot;&quot;&amp;gt;Selecciona un sistema operativo primero&amp;lt;/option&amp;gt;&#xA;            &amp;lt;/select&amp;gt;&#xA;          &amp;lt;br&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt; &#xA;    var rutaConsulta = &quot;{{ route('admin.ruta.consulta.so') }}&quot;; &#xA;    $(document).ready(function(){ &#xA;    selectChange(); &#xA;    }); &#xA;&#xA;    function selectChange(){ &#xA;    $('#so').on('change', function(e){ &#xA;    var idSo = $(this).val(); &#xA;    ajaxSelect(idSo); &#xA;    }); &#xA;    } &#xA;&#xA;    function ajaxSelect(id)&#xA;    { &#xA;        $.ajax({ &#xA;        type: 'POST', &#xA;        headers: { &#xA;        'X-CSRF-TOKEN': $('meta[name=&quot;csrf-token&quot;]').attr('content') &#xA;        },   &#xA;        url: rutaConsulta, &#xA;        data: {id: id}, &#xA;        dataType: 'json', &#xA;        beforeSend: function(){ &#xA;        } &#xA;        }).done(function(response) { &#xA;        var html = '&amp;lt;option value=&quot;&quot;&amp;gt;Selecciona una opción&amp;lt;/option&amp;gt;'; &#xA;        $.each(response.versiones, function(i, elem){ &#xA;        html += '&amp;lt;option value=&quot;'+ elem.id +'&quot;&amp;gt;'+ elem.version +'&amp;lt;/option&amp;gt;' &#xA;        }); &#xA;        $('#version').html(html); &#xA;        }).fail(function(data) { &#xA;&#xA;        }); &#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el controlador ....&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  public function update(Request $request, $id)&#xA;    {&#xA;&#xA;        $item = Servidores::findOrFail($id);&#xA;        $item-&amp;gt;update($request-&amp;gt;all());&#xA;        //return back()-&amp;gt;withSuccess(trans('app.success_update'));&#xA;        return redirect()-&amp;gt;route(ADMIN.'.servidoresRoute.index')-&amp;gt;withSuccess(trans('app.success_update'));&#xA;    }&#xA;&#xA;public function edit($id)&#xA;{&#xA;    $item = Servidores::findOrFail($id);&#xA;    return view('admin.servidoresVistas.edit', compact('item'));&#xA;}&#xA;&#xA;public function index()&#xA;{&#xA;    $items = Servidores::with('parentServidores','servidores2','roles','so','versionn','marcas','modelos','tipos','estados','usos')-&amp;gt;get();&#xA;&#xA;    return view('admin.servidoresVistas.index', compact('items'));&#xA;}&#xA;&#xA;&#xA;public function consultarVersiones(Request $request)&#xA;{&#xA;   $id_so = $request-&amp;gt;id;&#xA;   $versiones = SoVersiones::where('id_so', $id_so)-&amp;gt;get();&#xA;&#xA;   $respuesta = array();&#xA;   $respuesta['versiones'] = $versiones-&amp;gt;toArray();   &#xA;   return response()-&amp;gt;json($respuesta);&#xA;}&#xA;&#xA;&#xA;public function consultarModelos(Request $request) &#xA;{ &#xA;    $id_marca = $request-&amp;gt;id; &#xA;    $modelos = Modelos::where('id_marca', $id_marca)-&amp;gt;get(); &#xA;&#xA;&#xA;    $respuesta = array(); &#xA;    $respuesta['modelos'] = $modelos-&amp;gt;toArray(); &#xA;    return response()-&amp;gt;json($respuesta); &#xA;}&#xA;&#xA;&#xA;&#xA; /**&#xA; * Show the form for creating a new resource.&#xA; *&#xA; * @return \Illuminate\Http\Response&#xA; */&#xA;public function create()&#xA;{&#xA;   $sistemas = SistemasOperativos::orderBy('nombre','asc')-&amp;gt;get();&#xA;   $marcas = Marcas::orderBy('nombre','asc')-&amp;gt;get();  &#xA;   return view ('admin.servidoresVistas.create', compact('sistemas','marcas'));&#xA;}&#xA;&#xA;/**&#xA; * Store a newly created resource in storage.&#xA; *&#xA; * @param  \Illuminate\Http\Request  $request&#xA; * @return \Illuminate\Http\Response&#xA; */&#xA;public function store(Request $request)&#xA;{&#xA;    Servidores::create($request-&amp;gt;all());&#xA;&#xA;    //return back()-&amp;gt;withSuccess(trans('app.success_store'));&#xA;    return redirect()-&amp;gt;route(ADMIN.'.servidoresRoute.index')-&amp;gt;withSuccess(trans('app.success_store'));&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si pongo el campo version de esta manera&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{!! Form::mySelect('id_version', 'Version: ', App\SoVersiones::pluck('version', 'id')-&amp;gt;toArray(), null, ['id' =&amp;gt; 'version', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si me trae la versión, pero no me funciona el ajax&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/i9atB.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/i9atB.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ojala me pudieran ayudar, ya le he dado mil vueltas y me tiene estancado este tema,&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Les agradezco por leer.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;edit:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta es toda la pagina&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php $title = isset($item) ? $item-&amp;gt;name: &quot;Agregar nuevo Servidor&quot; ?&amp;gt;&#xA;&amp;lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;{!! Form::myInput('text', 'hostname', 'Hostname', ['required']) !!}&#xA;{!! Form::myInput('text', 'ip', 'IP', ['required']) !!}&#xA;{!! Form::myInput('text', 'cpu', 'CPU', ['required']) !!}&#xA;{!! Form::myInput('number', 'cores', 'Cores', ['required']) !!}&#xA;{!! Form::myInput('number', 'ram', 'Ram (MB)', ['required']) !!}&#xA;{!! Form::myInput('number', 'disco', 'Disco (GB)', ['required']) !!}&#xA;{!! Form::mySelect('id_rol', 'Rol', App\Roles::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;&amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;  &amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;box&quot; style=&quot;border:1px solid #d2d6de;&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;box-body&quot; style=&quot;margin:10px;&quot;&amp;gt;&#xA;&#xA;          {!! Form::mySelect('id_so', 'Sistema Operativo: ', App\SistemasOperativos::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['id' =&amp;gt; 'so', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;            &amp;lt;br&amp;gt;&#xA;          &amp;lt;label class=&quot;chosen&quot; for=&quot;nombre&quot;&amp;gt;Version Sistema operativo&amp;lt;/label&amp;gt;&#xA;          &amp;lt;br&amp;gt;&#xA;            &amp;lt;select name=&quot;id_version&quot; id=&quot;version&quot; style=&quot;width: 100%&quot;&amp;gt;&#xA;               &amp;lt;option value=&quot;&quot;&amp;gt;Selecciona un sistema operativo primero&amp;lt;/option&amp;gt;&#xA;            &amp;lt;/select&amp;gt;&#xA;          &amp;lt;br&amp;gt;&#xA;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&#xA;           {!! Form::mySelect('id_version', 'Version: ', App\SoVersiones::pluck('version', 'id')-&amp;gt;toArray(), null, ['id' =&amp;gt; 'version', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;&#xA;    &amp;lt;script&amp;gt; &#xA;        var rutaConsulta = &quot;{{ route('admin.ruta.consulta.so') }}&quot;; &#xA;        $(document).ready(function(){ &#xA;        selectChange(); &#xA;        }); &#xA;&#xA;        function selectChange(){ &#xA;        $('#so').on('change', function(e){ &#xA;        var idSo = $(this).val(); &#xA;        ajaxSelect(idSo); &#xA;        }); &#xA;        } &#xA;&#xA;        function ajaxSelect(id)&#xA;        { &#xA;            $.ajax({ &#xA;            type: 'POST', &#xA;            headers: { &#xA;            'X-CSRF-TOKEN': $('meta[name=&quot;csrf-token&quot;]').attr('content') &#xA;            },   &#xA;            url: rutaConsulta, &#xA;            data: {id: id}, &#xA;            dataType: 'json', &#xA;            beforeSend: function(){ &#xA;            } &#xA;            }).done(function(response) { &#xA;            var html = '&amp;lt;option value=&quot;&quot;&amp;gt;Selecciona una opción&amp;lt;/option&amp;gt;'; &#xA;            $.each(response.versiones, function(i, elem){ &#xA;            html += '&amp;lt;option value=&quot;'+ elem.id +'&quot;&amp;gt;'+ elem.version +'&amp;lt;/option&amp;gt;' &#xA;            }); &#xA;            $('#version').html(html); &#xA;            }).fail(function(data) { &#xA;&#xA;            }); &#xA;        }&#xA;    &amp;lt;/script&amp;gt;&#xA;&#xA;{!! Form::mySelect('id_tipo', 'Tipo', App\Tipos::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['required','class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;{!! Form::mySelect('id_uso', 'Uso', App\Usos::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['required','id' =&amp;gt; 'listaUsos', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;&amp;lt;div class=&quot;requerido-con-virtual&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;box&quot; style=&quot;border:1px solid #d2d6de;&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;box-body&quot; style=&quot;margin:10px;&quot;&amp;gt;&#xA;&#xA;{!! Form::mySelect('id_padre', &#xA;               'Servidor padre:', &#xA;                App\Servidores::select(DB::raw(&quot;ip AS ip&quot;), &quot;id&quot;)-&amp;gt;where('id_uso', '=', 1)-&amp;gt; pluck('ip', 'id')-&amp;gt;toArray(),       &#xA;                null, &#xA;               ['class'=&amp;gt;'requerido-con-virtual', 'style' =&amp;gt; 'width: 100%;', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&#xA;&amp;lt;!-- MARCA Y MODELO --&amp;gt;&#xA;&#xA;&amp;lt;div class=&quot;requerido-con-fisico&quot;&amp;gt;&#xA;&#xA;        &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;box&quot; style=&quot;border:1px solid #d2d6de;&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;box-body&quot; style=&quot;margin:10px;&quot;&amp;gt;&#xA;&#xA;&#xA;              &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xA;                  &amp;lt;div class=&quot;box&quot; style=&quot;border:1px solid #d2d6de;&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;box-body&quot; style=&quot;margin:10px;&quot;&amp;gt;&#xA;&#xA;                        {!! Form::mySelect('id_marca', 'Marca: ', App\Marcas::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['id' =&amp;gt; 'marca', 'class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;                    &amp;lt;label class=&quot;col-sm-5&quot; for=&quot;nombre&quot;&amp;gt;Modelo&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select name=&quot;id_modelo&quot; id=&quot;modelo&quot; style=&quot;width: 100%&quot;&amp;gt; &#xA;                    &amp;lt;option value=&quot;70&quot; name=id_modelo&amp;gt;Selecciona un modelo primero&amp;lt;/option&amp;gt; &#xA;                    &amp;lt;/select&amp;gt;&#xA;&#xA;                    &amp;lt;br&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;&#xA;                    &amp;lt;script&amp;gt; &#xA;                      var rutaConsulta2 = &quot;{{ route('admin.ruta.consulta.mod') }}&quot;; &#xA;                      $(document).ready(function(){ &#xA;                      selectChange2(); &#xA;                      }); &#xA;&#xA;                      function selectChange2(){ &#xA;&#xA;                        $('#marca').on('change', function(e){ &#xA;                        var idMarca = $(this).val(); &#xA;                        ajaxSelect1(idMarca); &#xA;                        }); &#xA;                        } &#xA;&#xA;                      function ajaxSelect1(id){ &#xA;                        $.ajax({ &#xA;                        type: 'POST', &#xA;                        headers: { &#xA;                        'X-CSRF-TOKEN': $('meta[name=&quot;csrf-token&quot;]').attr('content') &#xA;                        } ,&#xA;                        url:  rutaConsulta2, &#xA;                        data: {id: id}, &#xA;                        dataType: 'json', &#xA;                        beforeSend: function(){ &#xA;                        } &#xA;                        }).done(function(response) { &#xA;                        var html = '&amp;lt;option value=&quot;&quot;&amp;gt;Selecciona una opción&amp;lt;/option&amp;gt;'; &#xA;                        $.each(response.modelos, function(i, elem){ &#xA;                        html += '&amp;lt;option value=&quot;'+ elem.id +'&quot;&amp;gt;'+ elem.modelo +'&amp;lt;/option&amp;gt;' &#xA;                        }); &#xA;                        $('#modelo').html(html); &#xA;                        }).fail(function(data) { &#xA;&#xA;                        }); &#xA;                        }&#xA;                    &amp;lt;/script&amp;gt;&#xA;&#xA;                {!! Form::myInput('text', 'mac', 'Mac: ', ['class' =&amp;gt; 'requerido-con-fisico', 'style' =&amp;gt; 'width: 100%;']) !!}&#xA;                {!! Form::myInput('text', 'serial', 'Serial: ', ['class' =&amp;gt; 'requerido-con-fisico', 'style' =&amp;gt; 'width: 100%;']) !!}&#xA;                {!! Form::mySelect('ubicacion', 'Ubicación: ', config('variables.ubicacion')) !!}&#xA;                {!! Form::myInput('text', 'propietario', 'Propietario: ', ['class' =&amp;gt; 'requerido-con-fisico', 'style' =&amp;gt; 'width: 100%;']) !!}&#xA;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;{!! Form::mySelect('id_estado', 'Estado', App\Estados::pluck('nombre', 'id')-&amp;gt;toArray(), null, ['class'=&amp;gt;'chosen', 'placeholder' =&amp;gt; 'Escoge una opción']) !!}&#xA;&#xA;{!! Form::myInput('text', 'observacion', 'Observacion', ['required']) !!}&#xA;&#xA;&#xA; &amp;lt;script&amp;gt;&#xA;     $(function() &#xA;      {&#xA;      $(&quot;#listaUsos&quot;).change(function()&#xA;        {&#xA;          if($(&quot;option:selected&quot;, this).text() == 'Fisico')&#xA;          {&#xA;              $(&quot;.requerido-con-fisico&quot;).show();&#xA;              $(&quot;.requerido-con-virtual&quot;).hide();&#xA;            }&#xA;            else&#xA;            {&#xA;              $(&quot;.requerido-con-fisico&quot;).hide();&#xA;              $(&quot;.requerido-con-virtual&quot;).show();                &#xA;            }&#xA;        });&#xA;      });&#xA;  &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""96913"" LastEditorUserId=""96913"" LastEditDate=""2018-11-23T19:58:18.283"" LastActivityDate=""2018-11-23T20:24:26.080"" Title=""Problemas al editar una linea Laravel"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;laravel-5&gt;&lt;postgresql&gt;"" AnswerCount=""1"" CommentCount=""7"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""217351"" PostTypeId=""1"" AcceptedAnswerId=""217363"" CreationDate=""2018-11-27T10:02:18.717"" Score=""0"" ViewCount=""110"" Body=""&lt;p&gt;Actualmente tengo un servicio rest genérico, que recibe todas las llamadas y las procesa de forma según el tipo de operación.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Algunas de las llamadas serian:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;/user/1/v3/personas&lt;/li&gt;&#xA;&lt;li&gt;/user/1/v3/maquinaria&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Luego según si son post o get o incluso si llevan un sufijo en especifico se llama a un listado, inserción, búsqueda con filtros, modificación o eliminación.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La cosa es que se quiere que para una operación especifico, cuando se le pase un &lt;strong&gt;POST sin ningún sufijo&lt;/strong&gt; (en la superclase seria un insert), se haga una búsqueda con filtros ( ya que en la superclase seria con el sufijo &quot;/search&quot;)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@Path(&quot;/user/{userId}{a:\\/v3\\/|\\/}{operation}&quot;)&#xA;public class Service {&#xA;&#xA; @POST&#xA; @Consumes(MediaType.APPLICATION_JSON)&#xA; @Produces(MediaType.APPLICATION_JSON)&#xA; public Response insert(@Context final HttpHeaders httpHeaders,         &#xA; @PathParam(USER_ID) final Integer userId,&#xA;        @PathParam(OPERATION_LABEL) final String oper, final String record) {&#xA;     //......&#xA; }&#xA;&#xA; @POST&#xA; @Path(&quot;/search&quot;)&#xA; @Consumes(MediaType.APPLICATION_JSON)&#xA; @Produces(MediaType.APPLICATION_JSON)&#xA; public Response search(@Context final UriInfo uriInfo, @Context final HttpHeaders httpHeaders,&#xA;        @PathParam(USER_ID) final Integer userId, @PathParam(OPERATION_LABEL) final String oper,&#xA;        final String record) {&#xA;&#xA;     //...........&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;He creado una clase nueva que tiene primero especificado el tipo de operación (&quot;tratamientos&quot;) y luego quiero sobrescribir la clase insert, para que en vez de hacer una inserción, haga una busqueda.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@Path(&quot;/user/{userId}{a:\\/v3\\/|\\/}tratamientos&quot;)&#xA;public class TratamientosService extends Service {&#xA;&#xA; @POST&#xA; @Consumes(MediaType.APPLICATION_JSON)&#xA; @Produces(MediaType.APPLICATION_JSON)&#xA; @Override&#xA; protected Response insert(final HttpHeaders httpHeaders, final Integer userId, final String oper, final String record) {&#xA;     //..............&#xA; }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero me esta dando un error de que no sobrescribe el método.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;GRAVE: Servlet [appServlet] in web application [/vnwebservicesnew] threw load() exception&#xA;org.glassfish.jersey.server.model.ModelValidationException: Validation of the application resource model has failed during application initialization.&#xA;[[FATAL] A resource model has ambiguous (sub-)resource method for HTTP method POST and input mime-types as defined by&quot;@Consumes&quot; and &quot;@Produces&quot; annotations at Java methods public javax.ws.rs.core.Response com.visualnacert.ws.version.base.services.TratamientosService.insert(javax.ws.rs.core.UriInfo,javax.ws.rs.core.HttpHeaders,java.lang.Integer,java.lang.String,java.lang.String) and public javax.ws.rs.core.Response com.visualnacert.ws.version.base.services.Service.insert(javax.ws.rs.core.HttpHeaders,java.lang.Integer,java.lang.String,java.lang.String) at matching regular expression /user/([^/]+)(\/v3\/|\/)tratamientos. These two methods produces and consumes exactly the same mime-types and therefore their invocation as a resource methods will always fail.; source='org.glassfish.jersey.server.model.RuntimeResource@18a82922']&#xA;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;h2&gt;&lt;strong&gt;Camino alternativo&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;He intentado también que la lógica dentro de los métodos esten en otro método protected y en &lt;code&gt;TratamientosService&lt;/code&gt; sobrescribir este método protected, pero a pesar de que no me salta error, al hacer la llamada, no pasa por la clase sobrescrita.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿habria alguna forma que &lt;code&gt;@Path(&quot;/user/{userId}{a:\\/v3\\/|\\/}tratamientos&quot;)&lt;/code&gt; tenga mayor prioridad que &lt;code&gt;@Path(&quot;/user/{userId}{a:\\/v3\\/|\\/}{operation}&quot;)&#xA;&lt;/code&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""17593"" LastActivityDate=""2018-11-27T11:01:21.303"" Title=""JAX-RS Sobrescribir metodo con mismo path"" Tags=""&lt;java&gt;&lt;rest&gt;&lt;rutas&gt;&lt;jersey&gt;&lt;jax-rs&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""217523"" PostTypeId=""1"" CreationDate=""2018-11-27T19:01:21.933"" Score=""0"" ViewCount=""70"" Body=""&lt;p&gt;Hola tengo el siguiente problema tengo un  select dinamico que le da al los usuario una opcion y dependiendo de esa opcion arroja otras opciones son 2 select este es el codigo&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;            &amp;lt;p&amp;gt;Cantidad de coolers&#xA;            &amp;lt;select id=&quot;cantidad&quot; name=&quot;cantidad&quot; class=&quot;form-control&quot;&amp;gt;&#xA;            &amp;lt;/select&amp;gt;&#xA;          &amp;lt;/p&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;          &amp;lt;p&amp;gt;Coolers&#xA;          &amp;lt;select id=&quot;coolers&quot; name=&quot;coolers&quot; class=&quot;form-control&quot;&amp;gt;&#xA;          &amp;lt;/select&amp;gt;&#xA;        &amp;lt;/p&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;          &amp;lt;p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;button id=&quot;enviar&quot; type=&quot;submit&quot; class=&quot;btn btn-default btn-block&quot;&amp;gt;Enviar&amp;lt;/button&amp;gt;&amp;lt;/p&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;          &amp;lt;p&amp;gt;&amp;lt;b&amp;gt;El resultado es: &amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p id=&quot;seleccion&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&amp;gt;&#xA;    &amp;lt;/script&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/index.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;esta selecion funciona con un codigo AJAX que almacenas los valores selecionados y luego los devuelve al html este es el codigo ajax&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $(document).ready(function(){&#xA;&#xA;  $.ajax({&#xA;      type: 'POST',&#xA;      url: 'cargar_listas.php'&#xA;    })&#xA;&#xA;    .done(function(listas_rep){&#xA;      $('#cantidad').html(listas_rep)&#xA;    })&#xA;&#xA;    .fail(function(){&#xA;&#xA;      alert('Hubo un errror al cargar las listas_rep')&#xA;    })&#xA;&#xA;&#xA;    $('#cantidad').on('change', function(){&#xA;&#xA;      var id = $('#cantidad').val()&#xA;&#xA;   $.ajax({&#xA;        type: 'POST',&#xA;        url: 'cargar_coolers.php',&#xA;        data: {'id': id}&#xA;      })&#xA;&#xA;      .done(function(listas_rep){&#xA;&#xA;        $('#coolers').html(listas_rep)&#xA;      })&#xA;&#xA;      .fail(function(){&#xA;&#xA;        alert('Hubo un errror al cargar los vídeos')&#xA;      })&#xA;    })&#xA;&#xA;    $('#enviar').on('click', function(){&#xA;&#xA;      var resultado = 'Cantidad: ' + $('#cantidad option:selected ').text() +&#xA;      ' Coolers elegido: ' + $('#coolers option:selected').text()&#xA;&#xA;      $('#resultado1').html(resultado);&#xA;&#xA;      $.post(&quot;envio.php&quot;, {&quot;resultado&quot;:resultado});&#xA;    });&#xA;&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ahora bien el Select y el ajax funcionan perfectamente ya que la al final se imprime por pantalla los valores selecionados&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora mi problema es el siguiente yo quiero tomar los Valores que se imprimen por pantalla por medio de AJAX en un ID y pasarlos a una variable php para almacenar o usar ese valor en otro lado&lt;/p&gt;&#xA;&#xA;&lt;p&gt;en este caso la variable que almacena los valores se llama (resultado)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  var resultado = 'Cantidad: ' + $('#cantidad option:selected ').text() +&#xA;      ' Coolers elegido: ' + $('#coolers option:selected').text()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y el ID donde se almacena la variable se llama #resultado1 &lt;/p&gt;&#xA;&#xA;&lt;p&gt;ahora yo utilizo este codigo en ajax para enviar la variable a php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $.post(&quot;envio.php&quot;, {&quot;resultado&quot;:resultado});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y en la url envio.php llamo la variable de este modo&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  &amp;lt;?php&#xA;&#xA;    echo $_GET['resultado'];&#xA;&#xA;  ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ahora mi pregunta es como puedo hacer para pasar la variable de ajax resultado a php y si la estoy pasando bien como la llamo en envio.php&lt;/p&gt;&#xA;&#xA;&lt;p&gt;gracias espero a ver sido claro&lt;/p&gt;&#xA;"" OwnerUserId=""108640"" LastEditorUserId=""3092"" LastEditDate=""2018-11-27T20:24:46.673"" LastActivityDate=""2018-11-27T20:24:46.673"" Title=""Pasar variable ajax a php y como realizar el llamado en php"" Tags=""&lt;php&gt;&lt;java&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""219056"" PostTypeId=""1"" CreationDate=""2018-12-03T16:52:58.613"" Score=""0"" ViewCount=""3113"" Body=""&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/I8YEM.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/I8YEM.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;hola llevo ya varios dias con este problema y he consultado por todos lados y nadie sabe ayudarme estoy realizando una pagina en donde quiero que el usuario pueda escoger una opcion y dependiendo de la opcion aparezcan otras opciones(select multiple) y que las opciones que el usuario escoja yo las pueda almacenar en una variable php para luego almacenarla en la BD,esto lo estoy haciendo con php y ajax mi problema es en el ajax ya que no puedo pasar el valor almacenado en el ID y llevarlo a PHP&lt;/p&gt;&#xA;&#xA;&lt;p&gt;dejo el codigo php&lt;/p&gt;&#xA;&#xA;&lt;p&gt;envio.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html lang=&quot;en&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;  &amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;  &amp;lt;title&amp;gt;empresa&amp;lt;/title&amp;gt;&#xA;  &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&amp;gt;&#xA;  &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&amp;gt;&#xA;&#xA;  &amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;  &amp;lt;?php&#xA;  session_start();&#xA;&#xA;  ?&amp;gt;&#xA;  &amp;lt;div class=&quot;logo&quot;&amp;gt;&#xA;    &amp;lt;img src=&quot;img/logo.jpg&quot;&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;  &amp;lt;header&amp;gt;&#xA;    &amp;lt;nav class=&quot;navegacion&quot;&amp;gt;&#xA;      &amp;lt;ul class=&quot;menu&quot;&amp;gt;&#xA;        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;&quot;&amp;gt;Envio de Sangre&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&#xA;        &amp;lt;li&amp;gt;&amp;lt;a href=&quot;soli_despacho.php&quot;&amp;gt;Despacho &amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&#xA;          &amp;lt;li&amp;gt;&amp;lt;a href=&quot;stacces.php&quot;&amp;gt;Servicios en Transitos&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&#xA;      &amp;lt;/ul&amp;gt;&#xA;    &amp;lt;/nav&amp;gt;&#xA;  &amp;lt;/header&amp;gt;&#xA;&amp;lt;center&amp;gt;&#xA;  &amp;lt;h1 style=&quot;font-size: 16px;&quot;&amp;gt;Envio de sangre&amp;lt;/h1&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;&#xA;  &amp;lt;h2&amp;gt;Envio de Sangre Completa&amp;lt;/h2&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;&amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;          &amp;lt;p&amp;gt;Cantidad de coolers&#xA;          &amp;lt;select id=&quot;cantidad&quot; name=&quot;cantidad&quot; class=&quot;form-control&quot;&amp;gt;&#xA;          &amp;lt;/select&amp;gt;&#xA;        &amp;lt;/p&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;        &amp;lt;p&amp;gt;Coolers&#xA;        &amp;lt;select id=&quot;coolers&quot; name=&quot;coolers&quot; class=&quot;form-control&quot;&amp;gt;&#xA;        &amp;lt;/select&amp;gt;&#xA;      &amp;lt;/p&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;        &amp;lt;p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;button id=&quot;enviar&quot; type=&quot;submit&quot; class=&quot;btn btn-default btn-block&quot;&amp;gt;Enviar&amp;lt;/button&amp;gt;&amp;lt;/p&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;        &amp;lt;p&amp;gt;&amp;lt;b&amp;gt;El resultado es: &amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p id=&quot;resultado1&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA;   &amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/index.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;  &amp;lt;/center&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;este es el codigo ajax&lt;/p&gt;&#xA;&#xA;&lt;p&gt;index.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'cargar_listas.php'&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    $('#cantidad').html(listas_rep)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Hubo un errror al cargar la cantidad')&#xA;  })&#xA;&#xA;  $('#cantidad').on('change', function(){&#xA;    var id = $('#cantidad').val()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'cargar_coolers.php',&#xA;      data: {'id': id}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $('#coolers').html(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al cargar los coolers')&#xA;    })&#xA;  })&#xA;&#xA;  $('#enviar').on('click', function(){&#xA;    var resultado = 'Cantidad: ' + $('#cantidad option:selected ').text() +&#xA;    ' Coolers elegido: ' + $('#coolers option:selected').text()&#xA;    $('#resultado1').html(resultado);&#xA;&#xA;    $.post( &quot;pagina.php&quot;, {resultado:resultado});&#xA;  });&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;estos los archivos de procesos&lt;/p&gt;&#xA;&#xA;&lt;p&gt;cargar_listas.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;require_once 'conexion2.php';&#xA;function getListasRep(){&#xA;  $mysqli = getConn();&#xA;  $query = 'SELECT * FROM `cantidad`';&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;  $listas = '&amp;lt;option value=&quot;0&quot;&amp;gt;Elige cantidad&amp;lt;/option&amp;gt;';&#xA;&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;    $listas .= &quot;&amp;lt;option value='$row[id]'&amp;gt;$row[cantidad]&amp;lt;/option&amp;gt;&quot;;&#xA;&#xA;  }&#xA;  return $listas;&#xA;}&#xA;echo getListasRep();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;cargar_coolers.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;require_once 'conexion2.php';&#xA;function getVideos(){&#xA;  $mysqli = getConn();&#xA;  $id = $_POST['id'];&#xA;  $query = &quot;SELECT * FROM `coolers` WHERE id_lista = $id&quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;  $videos = '&amp;lt;option value=&quot;0&quot;&amp;gt;Elige una opción&amp;lt;/option&amp;gt;';&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;    $videos .= &quot;&amp;lt;option value='$row[id]'&amp;gt;$row[cooler]&amp;lt;/option&amp;gt;&quot;;&#xA;&#xA;  }&#xA;  return $videos;&#xA;}&#xA;echo getVideos();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y este es el archivo php a donde estoy enviando el id para pasarlo a php&lt;/p&gt;&#xA;&#xA;&lt;p&gt;pagina.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;    $resultado = $_POST[&quot;resultado&quot;];&#xA;    print($resultado);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;aclaro un poco lo que hace el codigo, la funcion del codigo es darle al usuario escoger una opcion y dependiendo de que elija saldran otras opciones el funcionamiento del Select esta completamente bien y el de el AJAX igual esta perfecto ahora en funcion del ajax al fina esta este codigo&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#enviar').on('click', function(){&#xA;    var resultado = 'Cantidad: ' + $('#cantidad option:selected ').text() +&#xA;    ' Coolers elegido: ' + $('#coolers option:selected').text()&#xA;    $('#resultado1').html(resultado);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;aqui es donde asigo a RESULTADO como la variable que contendra todos los valores selecionado y son pasados al id en esta parte $('#resultado1').html(resultado);&lt;/p&gt;&#xA;&#xA;&lt;p&gt;yo quiero poder pasar los valores que estan almacenados en id para convertirlos en una variable y para eso utilizo la siguiente funcion&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.post( &quot;pagina.php&quot;, {resultado:resultado});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;pero me voy a PAGINA.PHP(url) y me dice esto&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Notice: Undefined index: resultado in C:\xampp\htdocs\empresa\pagina.php on line 3&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;de verda que he intentado de todo para pasar la variable por la url y nada me funciona no quiero desistir del codigo porq ya tengo la mayor parte echo y solo falta es detalle d pasar los datos a php si me pueden ayudar estare atento a sus respuestas&lt;a href=&quot;https://i.stack.imgur.com/Z0Kw3.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Z0Kw3.jpg&quot; alt=&quot;imagen de los codigos&quot;&gt;&lt;/a&gt;&#xA;introducir la descripción de la imagen aquí&lt;/p&gt;&#xA;"" OwnerUserId=""108640"" LastEditorUserId=""14963"" LastEditDate=""2018-12-03T17:03:47.290"" LastActivityDate=""2023-12-01T22:03:10.323"" Title=""Como pasar el valor de un ID a una variable PHP"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""220429"" PostTypeId=""1"" CreationDate=""2018-12-07T17:10:35.553"" Score=""0"" ViewCount=""639"" Body=""&lt;p&gt;estoy validando un LOGIN y necesito hacer que funcione tanto la validación de entrada, es decír, lo que ingresa el usuario, si es mayor a 20, menor a 3 etc, eso me funciona sin implementar AJAX, pero cuando implemento AJAX que es para verificar si ese usuario existe en la base de datos y la contraseña tammbién, me aparece solamente la respuesta que recibe ajax pero no la validación aparte de jQuery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Les dejo los ejemplos:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;// VALIDAR EL LOGIN - AREAD DE INICIAR SESIÓN...&#xD;&#xA;&#xD;&#xA;var btnLogin = $('#send');&#xD;&#xA; btnLogin.click(function(e){&#xD;&#xA; 	if (email.val().length &amp;gt; 40) {&#xD;&#xA; 		e.preventDefault();&#xD;&#xA; 		textWrn.text(&quot;El correo debe ser menor de 40 caractéres&quot;);&#xD;&#xA; 		textWrn.show();&#xD;&#xA; 	}&#xD;&#xA; 	else if(email.val().length &amp;lt; 3){&#xD;&#xA; 		e.preventDefault();&#xD;&#xA; 		textWrn.text(&quot;El correo debe ser mayor de 3 caractéres&quot;);&#xD;&#xA; 		textWrn.show();&#xD;&#xA; 	}&#xD;&#xA; 	else if(pass.val().length &amp;gt; 20){&#xD;&#xA; 		e.preventDefault();&#xD;&#xA; 		textWrn.text(&quot;La contraseña debe tener de 3 a 20 caractéres&quot;);&#xD;&#xA; 		textWrn.show();&#xD;&#xA; 	}&#xD;&#xA; })&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!-- 			INICIAR SESIÓN - AREA LOGIN 			--&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;section class=&quot;content1&quot; id=&quot;content1&quot; align=&quot;center&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;		&amp;lt;h2&amp;gt;&amp;lt;label class=&quot;fa fa-sign-in-alt&quot;&amp;gt;&amp;lt;/label&amp;gt; Inicia Sesión&amp;lt;/h2&amp;gt;&#xD;&#xA;		&#xD;&#xA;		&amp;lt;form method=&quot;POST&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;			&amp;lt;div class=&quot;frm-cnt&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;				&amp;lt;p class=&quot;bg-warning&quot; id=&quot;txtValue&quot;&amp;gt; Este texto contiene la validacion del login&amp;lt;/p&amp;gt;&#xD;&#xA;&#xD;&#xA;				&amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xD;&#xA;					&amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xD;&#xA;						&amp;lt;label class=&quot;sr-only&quot; for=&quot;e-mail&quot;&amp;gt;Correo: &amp;lt;/label&amp;gt;&#xD;&#xA;						&amp;lt;div class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;span class=&quot;fa fa-user&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;							&amp;lt;input class=&quot;form-control&quot; type=&quot;mail&quot; id=&quot;email&quot; placeholder=&quot;Nombre de usuario&quot; name=&quot;usuario&quot;&amp;gt;&#xD;&#xA;					&amp;lt;/div&amp;gt;&#xD;&#xA;				&amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;				&amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xD;&#xA;					&amp;lt;div class=&quot;input-group&quot;&amp;gt;&#xD;&#xA;						&amp;lt;label class=&quot;sr-only&quot; for=&quot;password&quot;&amp;gt;Contraseña: &amp;lt;/label&amp;gt;&#xD;&#xA;						&amp;lt;div class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;span class=&quot;fa fa-unlock-alt&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;							&amp;lt;input class=&quot;form-control&quot; type=&quot;password&quot; id=&quot;password&quot; placeholder=&quot;Contraseña&quot; name=&quot;passWord&quot;&amp;gt;&#xD;&#xA;					&amp;lt;/div&amp;gt;&#xD;&#xA;				&amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;			&amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;			&amp;lt;button type=&quot;submit&quot; id=&quot;send&quot; class=&quot;btn btn-primary&quot;&amp;gt;&amp;lt;span class=&quot;fa fa-sign-in-alt&quot;&amp;gt;&amp;lt;/span&amp;gt; Entrar&amp;lt;/button&amp;gt;&#xD;&#xA;&#xD;&#xA;		&amp;lt;/form&amp;gt;&#xD;&#xA;&#xD;&#xA;	&amp;lt;/section&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;// AJAX (FUNCIÓN PARA VALIDAR EL LOGIN)&#xD;&#xA; // LOGIN&#xD;&#xA;&#xD;&#xA;$('#send').click(function(e){&#xD;&#xA;	e.preventDefault();&#xD;&#xA;	var data = {usuario : $('#email').val(), passWord : $('#password').val() };&#xD;&#xA;	var request = $.ajax({&#xD;&#xA;		url: 'login.php',&#xD;&#xA;		method:'post',&#xD;&#xA;		data: data,&#xD;&#xA;		dataType: 'html',&#xD;&#xA;	})&#xD;&#xA;&#xD;&#xA;	request.done(function(response){&#xD;&#xA;		if(parseInt(response) == 1){&#xD;&#xA;			location.assign(&quot;profile.php&quot;);&#xD;&#xA;		}else{	&#xD;&#xA;			$('#txtValue').text(response).fadeIn();&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;&#xD;&#xA;	request.fail(function(jqXHR, textstatus){&#xD;&#xA;		$('#txtValue').text(&quot;Hubo un problema al enviar los datos&quot; + textstatus);&#xD;&#xA;	})&#xD;&#xA;})&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;?php &#xA;&#xA;#CODIGO PHP&#xA;#LOGIN.PHP&#xA;&#xA;session_start();&#xA;&#xA;$usuario = $_POST['usuario'];&#xA;$password = $_POST['passWord'];&#xA;&#xA;$_SESSION['usuario'] = $usuario;&#xA;&#xA;include('conexion.php');&#xA;&#xA;$existData = mysqli_query($conexion, &quot;SELECT Usuarios,Contrasena FROM datausers WHERE Usuarios = '&quot;.$usuario.&quot;' AND Contrasena = '&quot;.$password.&quot;'&quot;);&#xA;&#xA;if (mysqli_num_rows($existData) == 0) {&#xA;    $info = &quot;El nombre de usuario o la contraseña son incorrectos.!&quot;;&#xA;}&#xA;else{&#xA;    $info = 1;&#xA;}&#xA;&#xA;echo $info;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""107460"" LastActivityDate=""2018-12-07T17:33:08.963"" Title=""¿Como hacer funcionar validación y respuesta AJAX a la vez con jQuery?"" Tags=""&lt;php&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""221062"" PostTypeId=""1"" CreationDate=""2018-12-10T20:16:19.707"" Score=""0"" ViewCount=""69"" Body=""&lt;p&gt;tengo una duda sobre mi Jquery , con este escript envio informacion a un correo , el problema es que se me estan enviando 11 correos con la informacion distinta , eso esta bien pero lo que quiero es que toda esa informacion se me resuma en un solo correo , me han recomendado realizar una condicion con el indice.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Se enviara correo de notif. a Mantenimiento&#xA;var fecini  = &quot;&amp;lt;%=fInicio%&amp;gt;&quot;;&#xA;var fecfin  = &quot;&amp;lt;%=fTermino%&amp;gt;&quot;;&#xA;var func    = &quot;normal&quot;;&#xA;var fechaNotif = &quot;&amp;lt;%=fTermino%&amp;gt;&quot;;&#xA;&#xA;$.ajax({&#xA;    async:false,    &#xA;    cache:false,   &#xA;    dataType:&quot;html&quot;,&#xA;    type: 'POST',   &#xA;    url: &quot;rep3_notificacion.asp&quot;,&#xA;    data: {&#xA;            fecini:fecini&#xA;          , fecfin:fecfin  &#xA;          , werks:centro          &#xA;          , stort:emplazamiento       &#xA;          , func:func           &#xA;    }, &#xA;    success:  function(respuesta){  &#xA;        //$(&quot;#mostrarRep&quot;).html(respuesta);&#xA;        $.post(&quot;rep3_notificacion_email.asp&quot;, { werks:centro , stort:emplazamiento , tablas:contenidoCorreo, fechaNotif:fechaNotif }, function(data) {&#xA;          }).done(function() {&#xA;    // enviar mensaje de ejecucion correcta&#xA;            alert(&quot;Enviado correctamente&quot;);&#xA;          }).fail(function() {&#xA;         alert(&quot;Error al enviar correo&quot;);&#xA;      });&#xA;    },&#xA;    beforeSend:function(){},&#xA;    error:function(objXMLHttpRequest){}&#xA;});&#xA;&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""87183"" LastEditorUserId=""15855"" LastEditDate=""2018-12-12T07:40:13.837"" LastActivityDate=""2018-12-12T07:40:13.837"" Title=""Jquery como trabajar con each index"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;asp&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""221495"" PostTypeId=""1"" AcceptedAnswerId=""221615"" CreationDate=""2018-12-12T09:59:12.193"" Score=""0"" ViewCount=""7372"" Body=""&lt;p&gt;tengo una tabla Datatable en la cual hago una consulta php dentro para mostrar los campos que me interesan. Uno de ellos hace un POST por Ajax para modificar dinámicamente ese campo sin refrescar:&#xA;[![Tabla][1]][1]&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta es la consulta que hago antes del  con un while&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$query = mysql_query(&quot;select * from applications&#xA;LEFT JOIN u_universidades ON u_universidades.id_universidad = applications.id_university&#xA;LEFT JOIN student ON student.student_id = applications.id_student&#xA;where id_student = '$get_id'&quot;)or die(mysql_error());&#xA;$count_colleges = mysql_num_rows($query);&#xA;if ($count_colleges &amp;gt; 0){?&amp;gt;&#xA;&amp;lt;table class=&quot;display table table-striped&quot; id=&quot;universidad&quot; &amp;gt;&#xA;&#xA;&amp;lt;thead&amp;gt;&#xA;&amp;lt;tr&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;University&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;Type&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;Appl.&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot; align=&quot;center&quot;&amp;gt;C.A.&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;SAT&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;TOEFL&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;F.Aid&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;Status&amp;lt;/th&amp;gt;&#xA;&amp;lt;th style=&quot;color:#9F0&quot;&amp;gt;Final&amp;lt;/th&amp;gt;&#xA;&amp;lt;/tr&amp;gt;&#xA;&amp;lt;/thead&amp;gt;&#xA;&amp;lt;tbody&amp;gt;&#xA;&amp;lt;?php&#xA;while($row = mysql_fetch_array($query)){&#xA;?&amp;gt;&#xA;&amp;lt;tr&amp;gt;                                    &#xA;&amp;lt;td style=&quot;color:#FFF&quot;&amp;gt;&amp;lt;?php echo $row['uni_nombre']; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td style=&quot;color:#FFF&quot;&amp;gt;&amp;lt;div class=&quot;select1&quot; id=&quot;type-&amp;lt;?php echo $id_appl ?&amp;gt;&quot;&amp;gt;&amp;lt;?php echo $row['type']?&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;&#xA;&amp;lt;!-- class=&quot;text&quot; lo podemos cambiar a select en caso de que sea un select --&amp;gt;&#xA;&amp;lt;!--&amp;lt;td style=&quot;color:#FFF&quot;&amp;gt;&amp;lt;?php echo $row['type']; ?&amp;gt;&amp;lt;/td&amp;gt;--&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['application'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;btn2Si&quot; value=&quot;application-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-check green&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['application'] == 0) {?&amp;gt; &#xA;&amp;lt;button id=&quot;btn2No&quot; value=&quot;application-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-close red&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['commonapp'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;btn2Si&quot; value=&quot;commonapp-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-check green&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['commonapp'] == 0) {?&amp;gt;    &#xA;&amp;lt;button id=&quot;btn2No&quot; value=&quot;commonapp-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-close red&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['sat'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;bt2nSi&quot; value=&quot;sat-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-check green&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['sat'] == 0) {?&amp;gt;  &#xA;&amp;lt;button id=&quot;btn2No&quot; value=&quot;sat-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-close red&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['toefl'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;btn2Si&quot; value=&quot;toefl-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-check green&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['toefl'] == 0) {?&amp;gt;    &#xA;&amp;lt;button id=&quot;btn2No&quot; value=&quot;toefl-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-close red&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['faid'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;btn2Si&quot; value=&quot;faid-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-check green&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['faid'] == 0) {?&amp;gt;     &#xA;&amp;lt;button id=&quot;btn2No&quot; value=&quot;faid-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-close red&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php&#xA;if ($row['status_app'] == &quot;Accepted&quot;) {?&amp;gt;&#xA;&amp;lt;div class=&quot;select2&quot; style=&quot;color:green&quot; id=&quot;status_app-&amp;lt;?php echo $id_appl ?&amp;gt;&quot;&amp;gt;&amp;lt;?php echo $row['status_app']?&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;?php } else if ($row['status_app'] == &quot;Denied&quot;) {?&amp;gt;    &#xA;&amp;lt;div class=&quot;select2&quot; style=&quot;color:red&quot; id=&quot;status_app-&amp;lt;?php echo $id_appl ?&amp;gt;&quot;&amp;gt;&amp;lt;?php echo $row['status_app']?&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;?php } else {?&amp;gt;&#xA;&amp;lt;div class=&quot;select2&quot; id=&quot;status_app-&amp;lt;?php echo $id_appl ?&amp;gt;&quot;&amp;gt;&amp;lt;?php echo $row['status_app']?&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;td&amp;gt;&amp;lt;?php &#xA;if ($row['final'] == 1) {?&amp;gt;&#xA;&amp;lt;button id=&quot;btn6Si&quot; value=&quot;final-&amp;lt;?php echo $id_appl ?&amp;gt;-0&quot; class=&quot;zmdi zmdi-star zmdi-hc-lg yellow&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } else if ($row['final'] == 0) {?&amp;gt;    &#xA;&amp;lt;button id=&quot;btn6No&quot; value=&quot;final-&amp;lt;?php echo $id_appl ?&amp;gt;-1&quot; class=&quot;zmdi zmdi-star zmdi-hc-lg grey&quot; style=&quot;background:Transparent; border:Transparent&quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;&amp;lt;?php } ?&amp;gt;&#xA;&amp;lt;/td&amp;gt;&#xA;&amp;lt;?php  } ?&amp;gt;&#xA;&amp;lt;/tr&amp;gt;                                &#xA;&amp;lt;/tbody&amp;gt;&#xA;&amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El tema está en que cuando cambia el valor por AJAX no refresca la tabla y si intento modificar de nuevo el registro toma el valor original que tenía, no el valor que ha cambiado por AJAX. Me gustaría saber como refrescar de alguna manera la tabla y la consulta PHP que se hace dentro de la tabla.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;JAVASCRIPT&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).on('click', '#btn6Si, #btn6No', function () {&#xA;var elem = $(this);&#xA;var activo = elem.text();&#xA;var className = elem.attr('class');&#xA;var id = elem.val();&#xA;var res = id.split(&quot;-&quot;);&#xA;string1 = res[1];&#xA;var url = 'colleges_save3.php';&#xA;/*e.preventDefault();*/&#xA;var request = $.ajax({&#xA;  data: {id: id},&#xA;  type: &quot;POST&quot;,&#xA;  cache: false,&#xA;  url: url,&#xA;  dataType: &quot;html&quot;,&#xA;  success: function(response) {&#xA;      $('#resultado').html(response);&#xA;      var table = $('#universidad').DataTable();&#xA;      //table.ajax.reload();&#xA;      table.draw(false);&#xA;    if (response == 'verdadero') {    &#xA;      if (className == 'zmdi zmdi-star zmdi-hc-lg yellow') {&#xA;          elem.removeClass('zmdi zmdi-star zmdi-hc-lg yellow').addClass('zmdi zmdi-star zmdi-hc-lg grey');&#xA;          elem.val('final-' + string1 + '-1');&#xA;      } else if (className == 'zmdi zmdi-star zmdi-hc-lg grey') {&#xA;          elem.removeClass('zmdi zmdi-star zmdi-hc-lg grey').addClass('zmdi zmdi-star zmdi-hc-lg yellow');&#xA;          elem.val('final-' + string1 + '-1');&#xA;      }&#xA;    } else if (response == 'falso'){&#xA;        alert(&quot;El estudiante ya tiene asignada una universidad final. Si deseas cambiarla desactivala y vuelve a activar la universidad final deseada.&quot;);&#xA;    }&#xA;  }&#xA;});&#xA;request.done(function(text) {&#xA;  console.log(text);&#xA;&#xA;&#xA;});&#xA;&#xA;request.fail(function(jqXHR, textStatus) {&#xA;  alert(&quot;Error de petición: &quot; + textStatus);&#xA;});&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""25828"" LastEditorUserId=""25828"" LastEditDate=""2018-12-13T09:07:24.450"" LastActivityDate=""2018-12-13T09:07:24.450"" Title=""Actualizar Datatable después de AJAX Success"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;datatables&gt;"" AnswerCount=""4"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""225594"" PostTypeId=""1"" CreationDate=""2018-12-26T13:20:04.433"" Score=""1"" ViewCount=""315"" Body=""&lt;p&gt;estoy creando una aplicacion y necesito que se puedan mover los eventos del fullcalendar y editarlos, el codigo para editarlo ya esta y funciona, el problema es que al mover eventos y cancelarlos esta guardando los id de los eventos cancelados y al editar uno los edita a todos, hace el edit de todos como si fuera un ciclo, asi es mi codigo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; eventDrop: function(event, delta, revertFunc) {&#xA;  var id_edit=0;&#xA;  $('#moverDia').modal({backdrop: 'static', keyboard: false});&#xA;  $('#titulo_edit').html(event.title);&#xA;  var fecha = event.start.format();&#xA;  var separador = &quot;T&quot;;&#xA;  var resul = fecha.split(separador);&#xA;  $('#fecha_edit').html(resul[0]); &#xA;  var horaI=$('#hora_inicioE').val();&#xA;  var horaF=$('#hora_finE').val();&#xA; $('#aceptar_cambio').click(function(){&#xA;   id_edit=event.id;&#xA; /*  $.ajax({&#xA;     url:&quot;/editarC/&quot;+event.id,&#xA;     type:&quot;POST&quot;,&#xA;     data:{&quot;_token&quot;:&quot;{{ csrf_token() }}&quot;,fecha_inicio:resul[0],hora_inicio:horaI,hora_fin:horaF}&#xA;   }).done(function(){&#xA;    alert('funciono :v');&#xA;   }).fail(function(){&#xA;     alert('no funciono  :v ');&#xA;   }); */&#xA; });&#xA; $('#negar_cambio').click(function(){&#xA;&#xA;   alert('el tamaño es '+event.id);        &#xA;    revertFunc();&#xA;  });&#xA;},&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;no se porque al darle click en aceptar cambio los edita a todos, si alguien sabe porque pasa esto agradeceria mucho la informacion.&lt;/p&gt;&#xA;"" OwnerUserId=""93303"" LastActivityDate=""2018-12-26T13:20:04.433"" Title=""¿como editar un evento con eventdrop de fullcalendar y ajax?"" Tags=""&lt;javascript&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;web&gt;&lt;fullcalendar&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""226498"" PostTypeId=""1"" AcceptedAnswerId=""226531"" CreationDate=""2018-12-31T16:04:39.787"" Score=""1"" ViewCount=""89"" Body=""&lt;p&gt;Estoy creando un sistema de información con ajax y PHP en algunas tablas es necesario crear los ID como un conjunto de texto y en otros como número, el problema es que cuando necesito hacer una consulta por id solo reconoce números y cuando selecciono un ID que esta compuesto por letras me tira el siguiente error: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&quot;ACA&quot; es el el valor que tomo y lo pone como si fuera una variable caso contrario ocurre cuando selecciono un id de la tabla que es un número&#xA;&lt;a href=&quot;https://i.stack.imgur.com/bITYf.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bITYf.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;ReferenceError: &quot;ACA&quot; is not defined&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Este es el código: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    var tabla_materia;&#xA;    function refrescar_materia() {&#xA;        tabla_materia.ajax.reload();&#xA;    }&#xA;    $(document).ready(function () {&#xA;        tabla_materia = $('#tabla_materia').DataTable({&#xA;            language: {&#xA;                &quot;decimal&quot;: &quot;.&quot;,&#xA;                &quot;emptyTable&quot;: &quot;No hay información&quot;,&#xA;                &quot;info&quot;: &quot;Mostrando _START_ a _END_ de _TOTAL_ Registros&quot;,&#xA;                &quot;infoEmpty&quot;: &quot;Mostrando 0 to 0 of 0 Registros&quot;,&#xA;                &quot;infoFiltered&quot;: &quot;(Filtrado de _MAX_ total entradas)&quot;,&#xA;                &quot;infoPostFix&quot;: &quot;&quot;,&#xA;                &quot;thousands&quot;: &quot;,&quot;,&#xA;                &quot;lengthMenu&quot;: &quot;Mostrar _MENU_ Entradas&quot;,&#xA;                &quot;loadingRecords&quot;: &quot;Cargando...&quot;,&#xA;                &quot;processing&quot;: &quot;Procesando...&quot;,&#xA;                &quot;search&quot;: &quot;Buscar:&quot;,&#xA;                &quot;zeroRecords&quot;: &quot;Sin resultados&quot;,&#xA;                &quot;paginate&quot;: {&#xA;                    &quot;first&quot;: &quot;Primero&quot;,&#xA;                    &quot;last&quot;: &quot;Ultimo&quot;,&#xA;                    &quot;next&quot;: &quot;Siguiente&quot;,&#xA;                    &quot;previous&quot;: &quot;Anterior&quot;&#xA;                }&#xA;            },&#xA;            &quot;ajax&quot;: {&#xA;                &quot;url&quot;: &quot;../../modelo/obtener_materias1.php&quot;,&#xA;                &quot;type&quot;: &quot;get&quot;,&#xA;                &quot;datatype&quot;: &quot;json&quot;&#xA;            },&#xA;            &quot;columns&quot;: [&#xA;                {&quot;data&quot;: &quot;idMATERIA&quot;},             &#xA;                {&quot;data&quot;: &quot;nombre&quot;},&#xA;                {&quot;data&quot;: &quot;unidades&quot;},&#xA;                {&quot;data&quot;: &quot;carrera&quot;},&#xA;                {&quot;data&quot;: &quot;horas_semana&quot;},&#xA;                {&quot;data&quot;: &quot;creditos&quot;},&#xA;                {&quot;data&quot;: &quot;ESTATUS&quot;},&#xA;                {&quot;data&quot;: &quot;idMATERIA&quot;, &quot;width&quot;: &quot;50px&quot;, &quot;render&quot;: function (data) {&#xA;                        return '&amp;lt;a href=&quot;#formulario_editar_materia&quot; onclick=&quot;obtener_materia_id(' + data.valueOf()+ ')&quot; class=&quot;btn-large waves-effect modal-trigger waves-light  orange &quot; &amp;gt;&amp;lt;i class=&quot;material-icons centered&quot;&amp;gt;edit&amp;lt;/i&amp;gt;    &amp;lt;/a&amp;gt;';&#xA;                    }&#xA;                },&#xA;                {&quot;data&quot;: &quot;idMATERIA&quot;, &quot;width&quot;: &quot;50px&quot;, &quot;render&quot;: function (data) {&#xA;                        return '&amp;lt;a href=&quot;#formulario_eliminar_materia&quot; onclick=-&quot;obtener_materia_id_eliminar(' + data.valueOf() + ')&quot; class=&quot;btn-large modal-trigger waves-effect waves-light  red&quot;&amp;gt;&amp;lt;i class=&quot;material-icons centered&quot;&amp;gt;delete_forever&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;';&#xA;                    }&#xA;                }&#xA;            ]&#xA;        });&#xA;    }&#xA;    );&#xA;&#xA;    function obtener_materia_id(data) {            &#xA;        var datos = {&quot;idMATERIA&quot;: data.valueOf()};&#xA;        alert(datos.toString());&#xA;        var request = $.ajax({&#xA;            type: &quot;GET&quot;,&#xA;            url: &quot;../../modelo/obtener_materia_id.php&quot;,&#xA;            dataType: 'json',&#xA;            data: datos&#xA;        });&#xA;        request.done(function (data) {&#xA;            $(&quot;#idmateria_editar&quot;).val(data.idMateria);&#xA;            $(&quot;#nombre_materia_editar&quot;).val(data.nombre);&#xA;        });&#xA;        request.fail(function (jqXHR, textStatus) {&#xA;            alert(&quot;Hubo un error: &quot; + textStatus);&#xA;        });&#xA;        return false;&#xA;    }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""112856"" LastEditorUserId=""112856"" LastEditDate=""2018-12-31T17:27:32.970"" LastActivityDate=""2018-12-31T20:53:19.677"" Title=""Ajax no reconoce parametros como texto solo como número"" Tags=""&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""227918"" PostTypeId=""1"" CreationDate=""2019-01-07T22:41:05.353"" Score=""0"" ViewCount=""639"" Body=""&lt;p&gt;Mi pregunta es porque debemos poner un datatype igual a html si lo que voy a enviar solo es un id acaso no se puede enviar en json,,me podrian explicar ese codeigo??&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(&quot;.btn-edit-marcas&quot;).on('click',   function(event) {&#xD;&#xA;&#xD;&#xA;		event.preventDefault();&#xD;&#xA;&#xD;&#xA;		var _id =$(this).attr('id');&#xD;&#xA;&#xD;&#xA;        if(confirm(&quot;Deseas |modificar este registro?jjh&quot;)){&#xD;&#xA;                //  alert(_id);&#xD;&#xA;                $('#btn-add-marca').attr(&quot;disabled&quot;, true);&#xD;&#xA;&#xD;&#xA;		$.ajax({&#xD;&#xA;			url: baseURL +'marcas/action_edit',&#xD;&#xA;			type: 'POST',&#xD;&#xA;			dataType: 'html',&#xD;&#xA;			data: {&#xD;&#xA;				id:_id&#xD;&#xA;			},&#xD;&#xA;		})&#xD;&#xA;		.done(function(response) {&#xD;&#xA;&#xD;&#xA;			console.log(response)&#xD;&#xA;			$('#result').html(response) ;&#xD;&#xA;		})&#xD;&#xA;		.fail(function(response) {&#xD;&#xA;			console.log(&quot;error&quot;,response);&#xD;&#xA;		})&#xD;&#xA;&#xD;&#xA;        }&#xD;&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""113353"" LastEditorUserId=""81482"" LastEditDate=""2019-01-07T22:44:22.070"" LastActivityDate=""2019-01-07T22:53:41.017"" Title=""Porque tiene que ir datatype html siempre que voy a editar"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;codeigniter&gt;&lt;bootstrap&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""228457"" PostTypeId=""1"" CreationDate=""2019-01-09T19:12:38.417"" Score=""0"" ViewCount=""170"" Body=""&lt;p&gt;me acabo de encontrar con el siguiente problema que como bien dice el titulo  del post no puedo borrar una fila de una tabla en mysql usando ajax y jquery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Adjunto parte del código para que puedan ver  de que se trata y ayudarme a encontrar el error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;function eliminarObraSocialPaciente(id, idPaciente){&#xD;&#xA;    //$(document).ready(function(){&#xD;&#xA;    $(&quot;#eliminar&quot;).click();&#xD;&#xA;    alertify.confirm('¿Esta seguro que desea eliminar la obra social del paciente?', function(respuesta){&#xD;&#xA;        if(respuesta){&#xD;&#xA;        		var idObraSocial = id.toString();&#xD;&#xA;                $.ajax({&#xD;&#xA;			    &quot;url&quot;: &quot;lib/gestion/paciente/eliminar_obraSocialPaciente.php&quot;,&#xD;&#xA;			    &quot;type&quot;: &quot;POST&quot;,&#xD;&#xA;			    &quot;dataType&quot;: &quot;text&quot;,&#xD;&#xA;			    &quot;data&quot;: {&quot;parametro&quot;: idObraSocial}&#xD;&#xA;			    })&#xD;&#xA;			    .done(function(data) {&#xD;&#xA;			    	alertify.alert(&quot;Se ha eliminado con exito la obra social del paciente seleccionado.&quot;);&#xD;&#xA;					//window.location.href=&quot;files/paciente_modificar.php?&amp;amp;id=&quot;+idPaciente;&#xD;&#xA;			    })&#xD;&#xA;			    .fail(function() {&#xD;&#xA;			        alert(&quot;Error al eliminar la obra social del paciente seleccionado&quot;);&#xD;&#xA;			    }); &#xD;&#xA;            }&#xD;&#xA;        }); &#xD;&#xA;&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;  &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&amp;gt;&#xD;&#xA;  &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;  &amp;lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;  &amp;lt;script src=&quot;//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/alertify.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;div class=&quot;col-md-1 form-group&quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;col-md-3 form-group&quot;&amp;gt;&#xD;&#xA;							&amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xD;&#xA;								&amp;lt;label for=&quot;textAseguradorMedico&quot; class=&quot;control-label text-muted&quot;&amp;gt;Asegurador Medico&amp;lt;/label&amp;gt;&#xD;&#xA;								&amp;lt;input id=&quot;textAseguradorMedico&quot; class=&quot;form-control input-sm&quot; name=&quot;textAseguradorMedico&quot; value=&quot;Prepaga&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;							&amp;lt;/div&amp;gt;&#xD;&#xA; 						&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;col-md-2 form-group&quot;&amp;gt;&#xD;&#xA;							&amp;lt;label for=&quot;textNombreObraSocial&quot; class=&quot;control-label text-muted&quot;&amp;gt;Nombre&amp;lt;/label&amp;gt;&#xD;&#xA;							&amp;lt;input id=&quot;textNombreObraSocial&quot; class=&quot;form-control input-sm&quot; name=&quot;textNombreObraSocial&quot; value=&quot;Medife&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;						&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;col-md-2 form-group&quot;&amp;gt;&#xD;&#xA;							&amp;lt;label for=&quot;textPlanObraSocial&quot; class=&quot;control-label text-muted&quot;&amp;gt;Plan Obra social&amp;lt;/label&amp;gt;&#xD;&#xA;							&amp;lt;input id=&quot;textPlanObraSocial&quot; class=&quot;form-control input-sm&quot; value=&quot;oro&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;						&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;col-md-2 form-group&quot;&amp;gt;&#xD;&#xA;							&amp;lt;label for=&quot;textFechaVencimiento&quot; class=&quot;control-label text-muted&quot;&amp;gt;Fecha Vencimiento&amp;lt;/label&amp;gt;&#xD;&#xA;							&amp;lt;input id=&quot;textFechaVencimiento&quot; class=&quot;form-control input-sm&quot; name=&quot;textFechaVencimiento&quot; value=&quot;31/01/2019&quot; type=&quot;text&quot;&amp;gt;&#xD;&#xA;						&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;col-md-2  form-group&quot;&amp;gt;&#xD;&#xA;				    		&amp;lt;h1&amp;gt;&amp;lt;/h1&amp;gt;&#xD;&#xA;				    		&amp;lt;a href=&quot;javaScript:eliminarObraSocialPaciente(16, 39)&quot;&amp;gt;&#xD;&#xA;				    		&amp;lt;button id=&quot;buttonEliminar&quot; type=&quot;button&quot; name=&quot;eliminar&quot; class=&quot;btn btn-danger glyphicon glyphicon-remove btn-sm&quot; style=&quot;margin-top: 2px; padding-top: 4px; top: 3px;padding-bottom: 5px;&quot;&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;/a&amp;gt;&#xD;&#xA;						&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Adjunto el código del archivo &quot;eliminar_obraSocialPaciente.php&quot;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$id = filter_input(INPUT_POST,&quot;parametro&quot;);&#xA;echo $id;&#xA;require_once '../../../files/clases/Conexion.php';&#xA;$operacion = false;&#xA;$conexion = Conexion::establecer();&#xA;if(!$conexion-&amp;gt;connect_error){&#xA;    $sql = &quot;DELETE FROM Paciente_por_ObraSocial WHERE Paciente_por_ObraSocial.id_Paciente_ObraSocial = &quot;.$id.&quot;&quot;;&#xA;    echo $sql;&#xA;    if($conexion-&amp;gt;query($sql)){&#xA;        if($conexion-&amp;gt;affected_rows == 1){&#xA;            $operacion = true;&#xA;        }else echo 'No se encontraron coincidencia';&#xA;    else echo $conexion-&amp;gt;error;&#xA;    $conexion-&amp;gt;close();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;?&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Creería que el error se debe a que no se esta enviando la id correctamente para que se ejecute la consulta mysql. Porque de echo se esta devolviendo el callback de éxito &quot;.done(funtion(data)&quot; al ejecutar la función &quot;eliminar obraSocialPaciente(id, idPaciente)&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias por su atención. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Espero respuesta positivas&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Saludos.!&lt;/p&gt;&#xA;"" OwnerUserId=""39391"" LastActivityDate=""2019-01-09T19:46:09.890"" Title=""Problema para borrar un registro de una tabla usando ajax"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""232287"" PostTypeId=""1"" CreationDate=""2019-01-24T13:26:13.283"" Score=""0"" ViewCount=""117"" Body=""&lt;p&gt;Tengo una tabla llamada inventario, que tiene 4 columnas, nserie_inventario, tipo_arma_inventario, marca_arma_inventario y calibre_inventario, lo que quiero hacer es que cuando en un Select seleccione el tipo de nserie en los otros 3 select's muestre el tipo_arma_inventario, calibre_inventario y marca_arma_inventario. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/n36Kt.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/n36Kt.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;                        $(document).ready(function(){&#xA;                            $.ajax({&#xA;                                type: 'POST',&#xA;                                url: 'nuevo.php'&#xA;                            })&#xA;                            .done(function(tipos_armas){&#xA;                                $('#tiposArmas').html(tipos_armas)&#xA;                            })&#xA;                            .fail(function(){&#xA;                                alert(&quot;error al cargar los nserie&quot;)&#xA;                            })&#xA;                            $('#tiposArmas').on('change', function(){&#xA;                                var nserie_inventario = $('#tiposArmas').val()&#xA;                                $.ajax({&#xA;                                    type: 'POST',&#xA;                                    url: 'consultar.php',&#xA;                                    data: {'nserie_inventario': nserie_inventario}&#xA;                                })&#xA;                                .done(function(tipos_armas){&#xA;                                    $('#cbx_tipo_arma').html(tipos_armas)&#xA;                                })&#xA;                                .fail(function(){&#xA;                                    alert(&quot;arror al cargar los tipos de armas&quot;)&#xA;                                })&#xA;                            })&#xA;                        })&#xA;                    &amp;lt;/script&amp;gt;&#xA;                        &amp;lt;p&amp;gt;&#xA;                    &amp;lt;label for=&quot;exampleInputFile&quot;&amp;gt;Número de Identificación del Arma:&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select  id=&quot;tiposArmas&quot; class=&quot;form-control&quot; name=&quot;nserie&quot;  required&amp;gt;&#xA;                        &amp;lt;option value=&quot;&quot; style=&quot;color: grey;&quot; selected&amp;gt;--Seleccione el Nserie del arma--&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;?php &#xA;                    $consulta_registrada=&quot;SELECT nserie_inventario, tipo_arma_inventario, calibre_inventario, marca_arma_inventario FROM inventario WHERE registro_usuario_inventario = '$registrado_por2'&quot;;&#xA;                    $bd-&amp;gt;consulta($consulta_registrada);&#xA;                    ?&amp;gt;&#xA;                    &amp;lt;?php&#xA;                    while ($fila1=$bd-&amp;gt;mostrar_registros()) {&#xA;&#xA;                    ?&amp;gt;&#xA;                        &amp;lt;option value=&quot;&amp;lt;?php echo $fila1['nserie_inventario']; ?&amp;gt;&quot;&amp;gt; &amp;lt;?php echo $fila1['nserie_inventario']; ?&amp;gt;&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;?php } ?&amp;gt;&#xA;                    &amp;lt;/select&amp;gt;&#xA;                    &amp;lt;/p&amp;gt;&#xA;&#xA;                    &amp;lt;p&amp;gt;&#xA;                    &amp;lt;label for=&quot;exampleInputFile&quot;&amp;gt;Tipo de Arma:&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select  class=&quot;form-control&quot; id=&quot;tipos_armas&quot; name=&quot;tipo_arma&quot; title=&quot;seleccione el tipo de arma&quot; required&amp;gt;&#xA;                    &amp;lt;?php &#xA;&#xA;                    $nserie = $_POST['nserie'];&#xA;&#xA;                    $consultaserie=&quot;SELECT tipo_arma_inventario FROM inventario WHERE nserie_inventario = '$nserie' &quot;;&#xA;                    $bd-&amp;gt;consulta($consultaserie);&#xA;&#xA;                    while($fila_consultaserie=$bd-&amp;gt;mostrar_registros()){ ?&amp;gt;&#xA;&#xA;                        &amp;lt;option value=&quot;&amp;lt;?php echo $fila_consultaserie['tipo_arma_inventario']; ?&amp;gt;&quot;&amp;gt; &amp;lt;?php echo $fila_consultaserie['tipo_arma_inventario']; ?&amp;gt;&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;?php&#xA;                    }&#xA;                    ?&amp;gt;&#xA;                    &amp;lt;/select&amp;gt;&#xA;                    &amp;lt;/p&amp;gt;&#xA;                    &amp;lt;p&amp;gt;&#xA;                    &amp;lt;label for=&quot;exampleInputFile&quot;&amp;gt;Calibre:&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select id='calibre' name=&quot;calibre&quot; class=&quot;form-control&quot; title=&quot;seleccione el tipo de calibre del arma&quot; required&amp;gt;&#xA;                        &amp;lt;option value=&quot;&amp;lt;?php $fila1['calibre_inventario']; ?&amp;gt;&quot; selected&amp;gt;&amp;lt;?php echo $fila1['calibre_inventario']; ?&amp;gt;&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;/select&amp;gt;&#xA;                    &amp;lt;/p&amp;gt;&#xA;                    &amp;lt;p&amp;gt;&#xA;                    &amp;lt;label for=&quot;exampleInputFile&quot;&amp;gt;Marca del Arma:&amp;lt;/label&amp;gt;&#xA;                    &amp;lt;select id='marca' name=&quot;marca_arma&quot; class=&quot;form-control&quot; title=&quot;seleccione el tipo de marca del arma&quot; required&amp;gt;&#xA;                        &amp;lt;option value=&quot;&amp;lt;?php echo $fila1['marca_arma_inventario']; ?&amp;gt;&quot; selected&amp;gt;&amp;lt;?php echo $fila1['marca_arma_inventario']; ?&amp;gt;&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;/select&amp;gt;&#xA;                    &amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;esto es lo que estoy intentando, pero no me funciona.&lt;/p&gt;&#xA;"" OwnerUserId=""101589"" LastEditorUserId=""101589"" LastEditDate=""2019-01-24T15:15:30.217"" LastActivityDate=""2019-01-24T15:15:30.217"" Title=""Select anidado con una tabla"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""232770"" PostTypeId=""1"" AcceptedAnswerId=""232864"" CreationDate=""2019-01-25T21:22:11.377"" Score=""0"" ViewCount=""113"" Body=""&lt;p&gt;me pueden ayudar con el siguiente codigo ? Intento que me devuelva por Ajax la fecha anterior o siguiente. &#xA;El problema es que me devuelve la fecha segun el input, pero no se actualiza para seguir navegando entre las fechas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;index.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    $fecha = date('Y-m-d');&#xA;    $fecha_ant = date('Y-m-d', strtotime($fecha .' -1 day'));&#xA;    $fecha_sig = date('Y-m-d', strtotime($fecha .' +1 day'));&#xA;?&amp;gt;&#xA;&#xA;&#xA; &amp;lt;form id='marcador'&amp;gt;&#xA;        &amp;lt;button type='submit' name='fecha' value='&amp;lt;?$fecha_ant;?&amp;gt;'&amp;gt;Anteior&amp;lt;/button&amp;gt;&#xA;        &amp;lt;input type='text' name='fecha'  value='&amp;lt;?php echo date('Y-m-d'); ?&amp;gt;'&amp;gt;&#xA;        &amp;lt;button type='submit' name='fecha' value='&amp;lt;?$fecha_sig;?&amp;gt;'&amp;gt;Siguiente&amp;lt;/button&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&#xA;&#xA;&#xA;    &amp;lt;div id='response'&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;script&amp;gt;&#xA;        $(document).ready(function(){&#xA;            $('#marcador').submit(function(){&#xA;                $('#response').html(&quot;&amp;lt;b&amp;gt;cargando...&amp;lt;/b&amp;gt;&quot;);&#xA;                $.ajax({&#xA;                    type: 'POST',&#xA;                    url: 'info.php',&#xA;                    data: $(this).serialize()&#xA;                })&#xA;                .done(function(data){ &#xA;                    $('#response').html(data);&#xA;                })&#xA;                .fail(function() {&#xA;                    alert( &quot;Error.&quot; );&#xA;                });&#xA;&#xA;            return false;&#xA;            });&#xA;        });&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;info.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;&#xA;&#xA;$fecha = strtotime($_POST['fecha']);&#xA;&#xA;$anio = date('Y',$fecha);&#xA;$mes = date('m',$fecha);&#xA;$dia = date('d',$fecha);&#xA;&#xA;&#xA;echo $anio .&quot;/&quot;. $mes .&quot;/&quot;.  $dia;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""89966"" LastEditorUserId=""89966"" LastEditDate=""2019-01-25T21:51:34.907"" LastActivityDate=""2019-01-26T13:13:06.543"" Title=""Fechas Anterior Siguiente con PHP y Ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""233950"" PostTypeId=""1"" CreationDate=""2019-01-30T19:04:48.803"" Score=""-1"" ViewCount=""121"" Body=""&lt;p&gt;Comunidad, me encuentro desarrollando un panel de gestion de proyectos, al cargar un listado de proyecto el json cae en el .fail, me fue imposible saber cual fue el error luego de intentar varias formas de depurar termine realizando la pregunta en este foro.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo siguiente corresponde al controlador:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function listarProyecto(){&#xA;&#xA;    $dao = new ProyectDAO;&#xA;    $result = $dao-&amp;gt;listarProyecto();&#xA;&#xA;    while ($row = mysqli_fetch_array($result)){&#xA;        $idProyecto     =   $row['idProyecto'];&#xA;        $nombProyecto   =   $row['nombProyecto'];&#xA;        $codeProyecto   =   $row['codeProyecto'];&#xA;        $tipoProyecto   =   $row['tipoProyecto'];&#xA;        $estadoProyecto =   $row['estadoProyecto'];&#xA;        $nombUser       =   $row['nombUser'];&#xA;&#xA;        $resultSet[]    = array('idProyecto'    =&amp;gt;  $idProyecto,&#xA;                                'nombProyecto'  =&amp;gt;  $nombProyecto,&#xA;                                'codeProyecto'  =&amp;gt;  $codeProyecto,&#xA;                                'tipoProyecto'  =&amp;gt;  $tipoProyecto,&#xA;                                'estadoProyecto'=&amp;gt;  $estadoProyecto,&#xA;                                'nombUser'      =&amp;gt;  $nombUser,&#xA;                                );&#xA;&#xA;    }&#xA;    return $resultSet;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;A continuación podran ver mi funcion que recibe la cadena json.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function listarProyecto(){&#xA;&#xA;    $.getJSON('loadTableProyecto.htm')&#xA;    .fail(function(){ alert(&quot;asd&quot;); })&#xA;    .done(function(d){&#xA;        $('#tableProyect').find('tbody tr').remove();&#xA;        for (var i in d){&#xA;            var row = $('&amp;lt;tr&amp;gt;&amp;lt;td /&amp;gt;&amp;lt;td /&amp;gt;&amp;lt;tr&amp;gt;');&#xA;            row.find('td').eq(0).text(d[i].idProyecto);&#xA;            row.find('td').eq(1).append('&amp;lt;i&amp;gt;&amp;lt;img src=&quot;webapp/styles/img/modificar.png&quot; onclick=&quot;modificarProyecto.htm&quot; id=&quot;modificarProyecto&quot; name=&quot;modificarProyecto&quot; style=&quot;margin-left:15px;&quot; height=&quot;20&quot; width=&quot;20&quot;&amp;gt;&amp;lt;/i&amp;gt;');&#xA;            row.find('td').eq(2).text(d[i].nombProyecto);&#xA;            row.find('td').eq(3).text(d[i].codeProyecto);&#xA;            row.find('td').eq(4).text(d[i].nombUser);&#xA;            row.find('td').eq(5).text(d[i].estadoProyecto);&#xA;            row.find('td').eq(6).text(d[i].tipoProyecto);&#xA;            row.appendTo($('#tableProyect').find('tbody'));&#xA;        }&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;si le realizo un var_dump a mi $resultSet por consola puedo ver lo siguiente &#xA;adjunto preview&#xA;&lt;a href=&quot;https://i.stack.imgur.com/fdkrA.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/fdkrA.png&quot; alt=&quot;Preview encontrado al realizar var_dump a la variable $resultSet que nos retorna el controlado a la vista&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/daulp.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/daulp.png&quot; alt=&quot;Response encontrado al realizar var_dump a la variable $resultSet&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Wh9jA.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Wh9jA.png&quot; alt=&quot;Error al intentar cargar listado de proyectos&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""116006"" LastEditorUserId=""81482"" LastEditDate=""2019-01-30T19:06:33.580"" LastActivityDate=""2019-01-30T19:11:56.183"" Title=""JSON- PHP- AJAX - Imposible saber cual es el error al realizar una consulta json"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""7"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""236613"" PostTypeId=""1"" CreationDate=""2019-02-09T18:34:54.607"" Score=""0"" ViewCount=""58"" Body=""&lt;p&gt;Intento ejecutar la siguiente consulta: y me da error:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  function crearProducto() {&#xA;&#xA;    $con = getConn();&#xA;&#xA;    $categoria = $_POST['categoria'];&#xA;    $url = $_POST['url'];&#xA;    $title = $_POST['title'];&#xA;    $descripcion_pagina = $_POST['descripcion_pagina'];&#xA;    $canonical = $_POST['canonical'];&#xA;    $link_prod = $_POST['link_prod'];&#xA;    $h1 = $_POST['h1'];&#xA;    $nombre = $_POST['nombre'];&#xA;    $ref = $_POST['ref'];&#xA;    $precio = $_POST['precio'];&#xA;    $precio_oferta = $_POST['precio_oferta'];&#xA;    $stock = $_POST['stock'];&#xA;    $visible = $_POST['visible'];&#xA;    $envio = $_POST['envio'];&#xA;    $descripcion = $_POST['descripcion'];&#xA;    $img_princip = $_POST['img_princip'];&#xA;    $alt_img_princip = $_POST['alt_img_princip'];&#xA;&#xA;    // CREAR ARRAY CON LA IMÁGEN, ASÍ GUARDAR URL Y ALT:&#xA;&#xA;    $img = array(&#xA;        &quot;url&quot; =&amp;gt; $img_princip,&#xA;        &quot;alt&quot; =&amp;gt; $alt_img_princip&#xA;    );&#xA;&#xA;    $query = 'INSERT INTO bt_productos (categoria, url, title, description, canonical, afiliado, h1, nombre, ref, precio, precio_oferta, stock, visible, envio, descripcion) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)';&#xA;&#xA;    if($stmt = $con-&amp;gt;prepare($query)) {&#xA;        $stmt-&amp;gt;bind_param(&quot;issssssssddiiss&quot;, $categoria, $url, $title, $descripcion_pagina, $canonical, $link_prod, $h1, $nombre, $ref, $precio, $precio_oferta, $stock, $visible, $envio, $descripcion);&#xA;        $stmt-&amp;gt;execute();&#xA;        $stmt-&amp;gt;close();&#xA;&#xA;        if (mysqli_affected_rows($con) == true) {&#xA;            $resultado = 1;&#xA;        }&#xA;&#xA;     }&#xA;&#xA;    return $resultado;&#xA;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Además, mando desde aquí el ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    url: 'php/api.php',&#xA;    type: 'POST',&#xA;    data: {&#xA;      categoria: categoria,&#xA;      url: url,&#xA;      title: title,&#xA;      descripcion_pagina: descripcion_pagina,&#xA;      canonical: canonical,&#xA;      link_prod: link_prod,&#xA;      h1: h1,&#xA;      nombre: nombre,&#xA;      ref: ref,&#xA;      precio: precio,&#xA;      precio_oferta: precio_oferta,&#xA;      stock: stock,&#xA;      visible: visible,&#xA;      envio: envio,&#xA;      descripcion: descripcion,&#xA;      img_princip: img_princip,&#xA;      alt_img_princip: alt_img_princip,&#xA;      action: action&#xA;    },&#xA;    success: function(e) {&#xA;      console.log(e);&#xA;&#xA;    },&#xA;    error: function(e) {&#xA;      alert('fail');&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;** Añadir, que si que pasa por el success.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;No consigo localizar el error, pero no me inserta el producto, sin embargo, otras consultas si me funcionan. (la conexión es correcta).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias de antemano.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastEditorUserId=""64784"" LastEditDate=""2019-02-09T18:42:26.853"" LastActivityDate=""2019-02-10T03:42:38.673"" Title=""FALLO INSERT PHP con AJAX (No INSERTA)"" Tags=""&lt;php&gt;&lt;sql&gt;&lt;ajax&gt;&lt;mysqli&gt;&lt;insert&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""239117"" PostTypeId=""1"" CreationDate=""2019-02-19T16:56:06.107"" Score=""0"" ViewCount=""30"" Body=""&lt;p&gt;Intento crear una &quot;edición de categorías&quot;, mostradas en una tabla, y en la que al darle clic a &quot;editar&quot;: &lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;Carga una petición AJAX, con los datos en un Modal, de la categoría seleccionada.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;Entonces, si modifico algún dato en estos input (sacados desde la petición ajax) al darle a &quot;Actualizar&quot; no me ocurre absolutamente nada.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;-&#xA;ESTE ES EL PRIMER AJAX:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  $('.editar').click(function() {&#xA;    var idcat = $(this).attr('idcat');&#xA;    var action = &quot;buscar-categoria&quot;;&#xA;&#xA;    $.ajax({&#xA;        url: 'php/api.php',&#xA;        type: 'POST',&#xA;        data: {&#xA;          idcat: idcat,&#xA;          action: action&#xA;        },&#xA;        success: function(e) {&#xA;          $('#cat-content').html(e);&#xA;          $('.modal').show();&#xA;&#xA;        },&#xA;        error: function(e) {&#xA;          alert('fail');&#xA;        }&#xA;    });&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Me saca varios INPUT, como he comentado, bien, ahora, al intentar hacer el siguiente AJAX, no sucede nada:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;  $('.editarcategoria').click(function() {&#xA;    var idcat = $('#id_cat').val();&#xA;    var nombre_categoria = $('#nombre_categoria').val();&#xA;    var slash = $('#slash').val();&#xA;    var url_cat = $('#url_cat').val();&#xA;    var cat_destacada = $('#cat_destacada').val();&#xA;    var action = &quot;editar-categoria&quot;;&#xA;&#xA;    $.ajax({&#xA;        url: 'php/api.php',&#xA;        type: 'POST',&#xA;        data: {&#xA;          idcat: idcat,&#xA;          nombre_categoria: nombre_categoria,&#xA;          slash: slash,&#xA;          url_cat: url_cat,&#xA;          cat_destacada: cat_destacada,&#xA;          action: action&#xA;        },&#xA;        success: function(e) {&#xA;          $('.modal').hide();&#xA;          alert(e);&#xA;&#xA;        },&#xA;        error: function(e) {&#xA;          alert('fail');&#xA;        }&#xA;    });&#xA;  });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Voy a añadir el PHP de este último AJAX:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;  function editarCategoria() {&#xA;&#xA;    $con = getConn();&#xA;&#xA;    $idcat = $_POST['idcat'];&#xA;    $nombre_categoria = $_POST['nombre_categoria'];&#xA;    $slash = $_POST['slash'];&#xA;    $url_cat = $_POST['url_cat'];&#xA;    $cat_destacada = $_POST['cat_destacada'];&#xA;&#xA;    $query = 'UPDATE bt_categorias SET nombre = ?, slash = ?, url = ?, destacada = ? WHERE id_categoria = ?';&#xA;&#xA;    if($stmt = $con-&amp;gt;prepare($query)) {&#xA;        $stmt-&amp;gt;bind_param(&quot;sssii&quot;, $nombre_categoria, $slash, $url_cat, $cat_destacada, $idcat);&#xA;        $stmt-&amp;gt;execute();&#xA;&#xA;        $resultado = 'Filas Afectadas: '.$stmt-&amp;gt;affected_rows;&#xA;&#xA;        $stmt-&amp;gt;close();&#xA;    }&#xA;&#xA;&#xA;    return $resultado;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;¿Alguna sugerencia o forma de poder realizar este tipo de acciones?&#xA;Muchas gracias a todos de ante mano.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Javier.&lt;/p&gt;&#xA;"" OwnerUserId=""64784"" LastActivityDate=""2019-02-19T16:56:06.107"" Title=""Como REALIZAR UN AJAX A Datos sacados desde otro AJAX (*Update)"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;&lt;prepared-statements&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""240236"" PostTypeId=""1"" CreationDate=""2019-02-22T16:57:25.357"" Score=""1"" ViewCount=""112"" Body=""&lt;p&gt;Soy nuevo en la programación de javascript y tome un código fuente de un app que muestra un mapa con leaflet.  Modifique el código según mis necesidades, pero después que carga todos los marker sobre el mapa; vuelve a iniciar el código desde la primera función.  Me di cuenta por que llene de 'alert' el código y después de cargar las marcas en el mapa vuelve a cargar el mapa dejando todo como al inicio.&#xA;La función 'getNuevomapa()' es la que carga el mapa y verán que incluí un mensaje &quot;alert('Entre a getNuevomapa')&quot; que como comento se repite después de terminar la ejecución y al cargar nuevamente el mapa ya no se muestran los marker.&#xA;Ya tengo varias semanas con este problema y agradezco su apoyo a resolverlo.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery(document).ready(function ($) {&#xA;    var mapa = document.getElementById('mi-mapa');&#xA;    var autoRefresh = false;&#xA;    var viewingAllRoutes = true;&#xA;    var mapaTempus = getNuevoMapa();&#xA;    var $empresa_id = jQuery(&quot;#empresa_id&quot;).val();&#xA;&#xA;    // Carga los grupos&#xA;    cargaGrupos();&#xA;&#xA;    $('#cbx_grupo').on('change', function () {&#xA;        var grupo_id = $('#cbx_grupo').val()&#xA;        $.ajax({&#xA;            type: 'POST',&#xA;            url: 'funciones/listas.php',&#xA;            data: {'tipo': 'usuarios', 'grupo_id': grupo_id}&#xA;        })&#xA;                .done(function (lista_usuarios) {&#xA;                    $('#cbx_usuario').html(lista_usuarios);&#xA;                })&#xA;                .fail(function () {&#xA;                    alert('Hubo un errror al cargar la lista de Usuarios');&#xA;                })&#xA;    });&#xA;&#xA;    $('#bt_filtrar').on('click', function () {&#xA;        var grupo_id = $('#cbx_grupo').val();&#xA;        var usuario_id = $('#cbx_usuario').val();&#xA;        console.log('Grupo: ' + grupo_id);&#xA;        $.ajax({&#xA;            dataType: 'JSON',&#xA;            type: 'POST',&#xA;            url: 'funciones/listas.php',&#xA;            data: {'tipo': 'ubicacion', 'grupo_id': grupo_id, 'usuario_id': usuario_id}&#xA;        })&#xA;                .done(function (lista_usuarios_mapa) {&#xA;                    loadGPSLocations(lista_usuarios_mapa);&#xA;                    alert('Termine, a ver que pasa');&#xA;                })&#xA;                .fail(function () {&#xA;                    alert('Hubo un errror al cargar la lista de Usuarios del Mapa');&#xA;                })&#xA;    });&#xA;&#xA;    function cargaGrupos() {&#xA;        alert('cargaGrupos()');&#xA;        $.ajax({&#xA;            type: 'POST',&#xA;            url: 'funciones/listas.php',&#xA;            data: {'tipo': 'grupos', empresa_id: $empresa_id}&#xA;        })&#xA;                .done(function (lista_grupos) {&#xA;                    $('#cbx_grupo').html(lista_grupos);&#xA;                })&#xA;                .fail(function () {&#xA;                    alert('Hubo un errror al cargar la lista de Grupos');&#xA;                })&#xA;    }&#xA;&#xA;    function loadGPSLocations(json) {&#xA;        alert('loadGPSLocations(json)');&#xA;        if (json.length == 0) {&#xA;            showPermanentMessage('No hay datos para dar seguimiento');&#xA;            mapa.innerHTML = '';&#xA;        } else {&#xA;            var finalLocation = false;&#xA;            var counter = 0;&#xA;            var locationArray = [];&#xA;            // iterate through the locations and create map markers for each location&#xA;            $(json.locations).each(function (key, value) {&#xA;                var latitud = $(this).attr('trn_latitud');&#xA;                var longitud = $(this).attr('trn_longitud');&#xA;                var tempLocation = new L.LatLng(latitud, longitud);&#xA;                locationArray.push(tempLocation);&#xA;                counter++;&#xA;                // want to set the map center on the last location&#xA;                if (counter == $(json.locations).length) {&#xA;                    //gpsTrackerMap.setView(tempLocation, zoom);  if using fixed zoom&#xA;                    finalLocation = true;&#xA;&#xA;                    if (!viewingAllRoutes) {&#xA;//                        displayCityName(latitud, longitud);&#xA;                    }&#xA;                }&#xA;                var marker = createMarker(&#xA;                        latitud,&#xA;                        longitud,&#xA;                        $(this).attr('trn_velocidad'),&#xA;                        $(this).attr('trn_direccion_gps'),&#xA;                        $(this).attr('trn_distancia'),&#xA;                        $(this).attr('trn_fecha_tiempo_gps'),&#xA;                        $(this).attr('usr_nombre'),&#xA;                        $(this).attr('trn_sesion_id'),&#xA;                        $(this).attr('trn_exactitud'),&#xA;                        mapaTempus, finalLocation);&#xA;            });&#xA;            // fit markers within window&#xA;            var bounds = new L.LatLngBounds(locationArray);&#xA;            mapaTempus.fitBounds(bounds);&#xA;&#xA;            // restarting interval here in case we are coming from viewing all routes&#xA;            alert('autoRefresh: ' + autoRefresh);&#xA;            if (autoRefresh) {&#xA;                restartInterval();&#xA;            }&#xA;&#xA;        }&#xA;    }&#xA;&#xA;    function createMarker(latitude, longitude, speed, direction, distance, gpsTime,&#xA;            userName, sessionID, accuracy, mapaTempus, finalLocation) {&#xA;        alert('latitud: ' + latitude + ' long: ' + longitude + ' vel: ' + speed +&#xA;                ' direc: ' + direction + ' dist: ' + distance +&#xA;                ' gpsTimee: ' + gpsTime + ' name: ' + userName +&#xA;                ' session: ' + sessionID + ' exact: ' + accuracy);&#xA;        var iconUrl;&#xA;        if (finalLocation) {&#xA;            iconUrl = 'images/coolred_small.png';&#xA;        } else {&#xA;            iconUrl = 'images/coolgreen2_small.png';&#xA;        }&#xA;&#xA;        var markerIcon = new L.Icon({&#xA;            iconUrl: iconUrl,&#xA;            shadowUrl: 'images/coolshadow_small.png',&#xA;            iconSize: [12, 20],&#xA;            shadowSize: [22, 20],&#xA;            iconAnchor: [6, 20],&#xA;            shadowAnchor: [6, 20],&#xA;            popupAnchor: [-3, -25]&#xA;        });&#xA;&#xA;        var lastMarker = &quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;&#xA;        // when a user clicks on last marker, let them know it's final one&#xA;        if (finalLocation) {&#xA;            lastMarker = &quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td align=left&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;lt;b&amp;gt;Final location&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xA;        }&#xA;&#xA;        // convert from meters to feet&#xA;        accuracy = parseInt(accuracy * 3.28);&#xA;&#xA;        var popupWindowText = &quot;&amp;lt;table border=0 style=\&quot;font-size:95%;font-family:arial,helvetica,sans-serif;color:#000;\&quot;&amp;gt;&quot; +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td rowspan=2 align=right&amp;gt;&quot; +&#xA;                &quot;&amp;lt;img src=images/&quot; + getCompassImage(direction) + &quot;.jpg alt= /&amp;gt;&quot; + lastMarker +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;Speed:&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot; + speed + &quot; mph&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot; +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;Distance:&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot; + distance + &quot; mi&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot; +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;Time:&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td colspan=2&amp;gt;&quot; + gpsTime + &quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot; +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;Name:&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot; + userName + &quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot; +&#xA;                &quot;&amp;lt;tr&amp;gt;&amp;lt;td align=right&amp;gt;Accuracy:&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot; + accuracy + &quot; ft&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&amp;amp;nbsp;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&quot;;&#xA;&#xA;        var gpstMarker;&#xA;        var title = userName + &quot; - &quot; + gpsTime;&#xA;&#xA;        // make sure the final red marker always displays on top &#xA;        if (finalLocation) {&#xA;            gpstMarker = new L.marker(new L.LatLng(latitude, longitude), {title: title, icon: markerIcon, zIndexOffset: 999}).bindPopup(popupWindowText).addTo(mapaTempus);&#xA;        } else {&#xA;            gpstMarker = new L.marker(new L.LatLng(latitude, longitude), {title: title, icon: markerIcon}).bindPopup(popupWindowText).addTo(mapaTempus);&#xA;        }&#xA;    }&#xA;&#xA;    function getCompassImage(azimuth) {&#xA;        if ((azimuth &amp;gt;= 337 &amp;amp;&amp;amp; azimuth &amp;lt;= 360) || (azimuth &amp;gt;= 0 &amp;amp;&amp;amp; azimuth &amp;lt; 23))&#xA;            return &quot;compassN&quot;;&#xA;        if (azimuth &amp;gt;= 23 &amp;amp;&amp;amp; azimuth &amp;lt; 68)&#xA;            return &quot;compassNE&quot;;&#xA;        if (azimuth &amp;gt;= 68 &amp;amp;&amp;amp; azimuth &amp;lt; 113)&#xA;            return &quot;compassE&quot;;&#xA;        if (azimuth &amp;gt;= 113 &amp;amp;&amp;amp; azimuth &amp;lt; 158)&#xA;            return &quot;compassSE&quot;;&#xA;        if (azimuth &amp;gt;= 158 &amp;amp;&amp;amp; azimuth &amp;lt; 203)&#xA;            return &quot;compassS&quot;;&#xA;        if (azimuth &amp;gt;= 203 &amp;amp;&amp;amp; azimuth &amp;lt; 248)&#xA;            return &quot;compassSW&quot;;&#xA;        if (azimuth &amp;gt;= 248 &amp;amp;&amp;amp; azimuth &amp;lt; 293)&#xA;            return &quot;compassW&quot;;&#xA;        if (azimuth &amp;gt;= 293 &amp;amp;&amp;amp; azimuth &amp;lt; 337)&#xA;            return &quot;compassNW&quot;;&#xA;&#xA;        return &quot;&quot;;&#xA;    }&#xA;&#xA;    function showPermanentMessage(message) {&#xA;        alert('showPermanentMessage(message)');&#xA;        $('#messages').html(message);&#xA;    }&#xA;&#xA;&#xA;    function getNuevoMapa() {&#xA;        alert('Entre a getNuevomapa');&#xA;        // use leaflet (http://leafletjs.com/) to create our map and map layers&#xA;        var mapaTempus = new L.map('mi-mapa', {&#xA;            center: [9.0689430, -79.4519100],&#xA;            zoom: 15,&#xA;            scrollWheelZoon: false&#xA;        });&#xA;//        var capaOpenStreetMapsRelieve = new L.tileLayer('http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg');&#xA;        var openStreetMapsURL = ('https:' == document.location.protocol ? 'https://' : 'http://') +&#xA;                '{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';&#xA;        var openStreetMapsLayer = new L.TileLayer(openStreetMapsURL,&#xA;                {attribution: '&amp;amp;copy; &amp;lt;a href=&quot;http://openstreetmap.org&quot;&amp;gt;OpenStreetMap&amp;lt;/a&amp;gt; contributors'});&#xA;        mapaTempus.addControl(openStreetMapsLayer);&#xA;        return mapaTempus;&#xA;    }&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""118236"" LastEditorUserId=""98629"" LastEditDate=""2019-02-22T17:03:26.480"" LastActivityDate=""2019-02-22T17:03:26.480"" Title=""JavaScript que se repite"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""246535"" PostTypeId=""1"" CreationDate=""2019-03-18T03:27:40.417"" Score=""0"" ViewCount=""437"" Body=""&lt;p&gt;tengo 2 formularios iguales y me gustara que mi funcion en ajax funcione para los dos al mismo tiempo pero solo me toma en cuenta el primero, quiero saber como hago para que tome en cuenta el otro form&lt;/p&gt;&#xA;&#xA;&lt;p&gt;es un buscador de dominio, incresas el dominio y te dice si esta disponible o no, y coloco 2 forms iguales porque en el proyecto que tengo se van agregando de forma dinamica es decir pueden ser 1, 2 o mas forms &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;form style=&quot;margin-bottom:20px; &quot;&amp;gt;&#xD;&#xA;        &amp;lt;!--Creamos un input para guardar el nombre del dominio en una variable--&amp;gt;&#xD;&#xA;            &amp;lt;input type=&quot;text&quot;  id=&quot;Nomb&quot; name=&quot;Nomb&quot; placeholder=&quot;Dominio&quot; style=&quot;border-right: none;&quot;&amp;gt;&#xD;&#xA;        &amp;lt;!--Creamos una lista select para guardar la extencion del dominio en una variable--&amp;gt;&#xD;&#xA;            &amp;lt;select  id=&quot;Ext&quot; name=&quot;Ext&quot;&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.com&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.net&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.bo&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.mx&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.pe&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.co&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.name&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.org&amp;lt;/option&amp;gt;&#xD;&#xA;            &amp;lt;/select&amp;gt;&#xD;&#xA;            &amp;lt;button id=&quot;Enviar&quot; type=&quot;button&quot;&amp;gt;Buscar&amp;lt;/button&amp;gt;&#xD;&#xA;        &amp;lt;/form&amp;gt;&#xD;&#xA;        &amp;lt;form style=&quot;margin-bottom:20px; &quot;&amp;gt;&#xD;&#xA;        &amp;lt;!--Creamos un input para guardar el nombre del dominio en una variable--&amp;gt;&#xD;&#xA;            &amp;lt;input type=&quot;text&quot;  id=&quot;Nomb&quot; name=&quot;Nomb&quot; placeholder=&quot;Dominio&quot; style=&quot;border-right: none;&quot;&amp;gt;&#xD;&#xA;        &amp;lt;!--Creamos una lista select para guardar la extencion del dominio en una variable--&amp;gt;&#xD;&#xA;            &amp;lt;select  id=&quot;Ext&quot; name=&quot;Ext&quot;&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.com&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.net&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.bo&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.mx&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.pe&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.co&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.name&amp;lt;/option&amp;gt;&#xD;&#xA;                &amp;lt;option&amp;gt;.org&amp;lt;/option&amp;gt;&#xD;&#xA;            &amp;lt;/select&amp;gt;&#xD;&#xA;            &amp;lt;button id=&quot;Enviar&quot; type=&quot;button&quot;&amp;gt;Buscar&amp;lt;/button&amp;gt;&#xD;&#xA;        &amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xD;&#xA;        //Creamos la variable Incremento y la igualamos a 0&#xD;&#xA;        var Incremento = 0;&#xD;&#xA;        //Seleccionamos el boton Enviar y creamos una funcion que se ejecutara al hacer click en el&#xD;&#xA;        $(&quot;:input[type= 'text']&quot;).keyup(function(event) {&#xD;&#xA;            // incrementamos la variable en 1 &#xD;&#xA;            Incremento++;&#xD;&#xA;            //Validamos si el usuario a ingresado el nombre del dominio&#xD;&#xA;            if ($(&quot;#Nomb&quot;).val() == &quot;&quot;) {&#xD;&#xA;                $(&quot;#loader&quot;).html(&quot;&amp;lt;strong style='color:red;'&amp;gt;Error escriba el nombe del Dominio&amp;lt;/strong&amp;gt;&quot;);&#xD;&#xA;            } else {&#xD;&#xA;                // Si cargamos un gif para indicar la espera de la respuesta &#xD;&#xA;                $(&quot;#loader&quot;).html(&quot;&amp;lt;img src='img/carga.gif' style='width: 100px; height: 60px'&amp;gt;&quot;);&#xD;&#xA;                // Enviamos los datos (Nombre del dominio,Extencion,incremento) mediante AJAX al archivo buscador.php&#xD;&#xA;                $.ajax({&#xD;&#xA;                        url: 'includes/buscador.php',&#xD;&#xA;                        type: 'POST',&#xD;&#xA;                        dataType: 'text',&#xD;&#xA;                        data: {&#xD;&#xA;                            Nomb: $(&quot;#Nomb&quot;).val(),&#xD;&#xA;                            &quot;Ext&quot;: $(&quot;#Ext&quot;).val(),&#xD;&#xA;                            &quot;Incremento&quot;: Incremento&#xD;&#xA;                        },&#xD;&#xA;                    })&#xD;&#xA;                    // Resivimos los resultados de buscador.php y eliminamos el gif&#xD;&#xA;                    .done(function(data) {&#xD;&#xA;                        $(&quot;#loader&quot;).html(&quot;&quot;);&#xD;&#xA;                        $(&quot;#Mostrar&quot;).empty().append(data);&#xD;&#xA;                    })&#xD;&#xA;                    //Si falla la operacion mandamos un mensaje mediante consola&#xD;&#xA;                    .fail(function() {&#xD;&#xA;                        console.log(&quot;error&quot;);&#xD;&#xA;                    })&#xD;&#xA;&#xD;&#xA;                    .always(function() {&#xD;&#xA;                        console.log(&quot;complete&quot;);&#xD;&#xA;                    });&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;&#xD;&#xA;    &amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y este es mi codigo PHP&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php &#xD;&#xA;    //La funcion Whois utiliza 2 parametos: $whois donde almacenaremos el nombre del servidor WOIS y $dominio  &#xD;&#xA;    function Whois($whois='',$dominio){&#xD;&#xA;&#xD;&#xA;      $stringDatoWois=&quot;&quot;;&#xD;&#xA;      $Mostrar =array();&#xD;&#xA;      //Con la el método fsockopen se abre una conexión vía sockets a Internet&#xD;&#xA;      //lo cual devuelve un puntero&#xD;&#xA;      $sock = fsockopen($whois, 43);&#xD;&#xA;&#xD;&#xA;      //Determinamos la conexion&#xD;&#xA;      //Si la conexión no se realiza correctamente&#xD;&#xA;      //se imprime el mensaje de error, por otro lado &#xD;&#xA;      //se accede a los datos.&#xD;&#xA;      &#xD;&#xA;      if(!$sock){&#xD;&#xA;&#xD;&#xA;        $Mostrar[0]=false;&#xD;&#xA;&#xD;&#xA;      }else{&#xD;&#xA;&#xD;&#xA;        $Mostrar[0]=true;&#xD;&#xA;         //Con el método fwrite() escribimos el contenido del del dominio apuntado por el sokect&#xD;&#xA;         //que devuelve un puntero a fichero.&#xD;&#xA;        fwrite($sock, $dominio.&quot;\r\n&quot;);&#xD;&#xA;        // hacemos un bucle para ir al final del archivo&#xD;&#xA;        while(!feof($sock) ){&#xD;&#xA;          //Recuperamos el método fgets las líneas desde el puntero al fichero.&#xD;&#xA;          $stringDatoWois .= fgetss($sock,128);&#xD;&#xA;        }&#xD;&#xA;        //Se cierra la conexión al sockect de Internet&#xD;&#xA;        fclose($sock);&#xD;&#xA;        $Mostrar[1]=$stringDatoWois;   &#xD;&#xA;      } &#xD;&#xA;      return $Mostrar;   &#xD;&#xA;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // la variable  $WoisNombre en un array bidimencional que almancena la extencion del dominio junto el URL del servidor WOIS&#xD;&#xA;    $WoisNombre = array(&#xD;&#xA;      '.com'   =&amp;gt;array('whois.crsnic.net','No match for'),//.com&#xD;&#xA;      '.net'   =&amp;gt;array('whois.crsnic.net','No match for'),// .net&#xD;&#xA;      '.bo'    =&amp;gt;array('whois.nic.bo','whois.nic.bo solo acepta consultas con dominios .bo'),//.bo&#xD;&#xA;      '.mx'    =&amp;gt;array('whois.nic.mx','No_Se_Encontro_El_Objeto'),//.mx&#xD;&#xA;      '.pe'    =&amp;gt;array('whois.nic.pe','No Object Found'),//.pe&#xD;&#xA;      '.co'    =&amp;gt;array('whois.nic.co','Not found'), //.co&#xD;&#xA;      '.name'  =&amp;gt;array('whois.nic.name','No match'), //.name&#xD;&#xA;      '.org'   =&amp;gt;array('whois.pir.org','Not found')//.org&#xD;&#xA;    );&#xD;&#xA;    //Confirmamos si las variables enviados con AJAX no esten vacias y las guardamos &#xD;&#xA;    $NombreDominio    =empty($_POST['Nomb']) ? false :  $_POST['Nomb'];&#xD;&#xA;    $ExtesionDominio  =empty($_POST['Ext'])  ? false :  $_POST['Ext'];&#xD;&#xA;    $incremento       =empty($_POST['Incremento']) ? false :  $_POST['Incremento'];&#xD;&#xA;&#xD;&#xA;    if(strlen($NombreDominio)&amp;gt;0){&#xD;&#xA;&#xD;&#xA;      $stringParser=&quot;&quot;;&#xD;&#xA;      $NombreDominio   = preg_replace(array('/www./','/http:\//','/\//','/.com/','/.bo/','/.com.bo/','/edu.bo/','/.org.bo/','/.net/','/.mx/','/.name/','/.pe/','/.co/','/.org/'), '', $NombreDominio);&#xD;&#xA;&#xD;&#xA;      foreach ($WoisNombre as $key =&amp;gt; $value) {&#xD;&#xA;&#xD;&#xA;        if($key==$ExtesionDominio){&#xD;&#xA;&#xD;&#xA;          if (Whois($value[0],$NombreDominio.$ExtesionDominio)[0]==true){&#xD;&#xA;            //Guardamos todos los datos en una variable y guardamos 2 mensajes de respuesta al usuario, uno si esta disponlible el dominio o si no lo esta&#xD;&#xA;            $DatoSWois= Whois($value[0],$NombreDominio.$ExtesionDominio)[1];&#xD;&#xA;            $Disponible='El dominio '.$NombreDominio.$ExtesionDominio.'&amp;lt;strong&amp;gt; esta disponible.&amp;lt;/strong&amp;gt;&amp;lt;br&amp;gt;';&#xD;&#xA;            $NoDisponible='El dominio '.$NombreDominio.$ExtesionDominio.'&amp;lt;strong&amp;gt; no esta disponible.&amp;lt;/strong&amp;gt;&amp;lt;br&amp;gt;';&#xD;&#xA;&#xD;&#xA;            //Quitamos algunos caracteres&#xD;&#xA;            //del servidor WHOIS Boliviano&#xD;&#xA;            if($key==&quot;.bo&quot;){&#xD;&#xA;&#xD;&#xA;              $DatoSWois=str_replace(array(&quot;\r\n&quot;, &quot;\n&quot;, &quot;\r&quot;), '', $DatoSWois);&#xD;&#xA;&#xD;&#xA;              if($DatoSWois==$value[1]){&#xD;&#xA;&#xD;&#xA;                  echo $Disponible;&#xD;&#xA;              }else{&#xD;&#xA;&#xD;&#xA;                  echo $NoDisponible; &#xD;&#xA;              }&#xD;&#xA;            }else{&#xD;&#xA;              //Buscamos &#xD;&#xA;              if (preg_match(&quot;/&quot;.$value[1].&quot;/i&quot;,$DatoSWois)){&#xD;&#xA;&#xD;&#xA;                echo $Disponible ;&#xD;&#xA;              }else{&#xD;&#xA;&#xD;&#xA;                echo $NoDisponible; &#xD;&#xA;              }&#xD;&#xA;            }&#xD;&#xA;          }&#xD;&#xA;        }&#xD;&#xA;      }       &#xD;&#xA;    }    &#xD;&#xA;?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;el codigo funciona pero repito solo me funciona en el primer form y quiero que funcione para ambos &lt;/p&gt;&#xA;"" OwnerUserId=""121246"" LastEditorUserId=""121246"" LastEditDate=""2019-03-18T22:00:08.480"" LastActivityDate=""2019-03-18T22:00:08.480"" Title=""enviar 2 formularios con ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""248257"" PostTypeId=""1"" CreationDate=""2019-03-23T15:53:41.167"" Score=""2"" ViewCount=""1325"" Body=""&lt;p&gt;Estoy teniendo problemas desde hace poco con esta llamada &lt;strong&gt;ajax&lt;/strong&gt;, siempre he ejecutado el mismo proceso en mis &lt;strong&gt;ajax&lt;/strong&gt; pero últimamente estoy confrontando este error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Unexpected end of JSON input&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Este es mi archivo &lt;strong&gt;html&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;ul class=&quot;vote-container&quot;&amp;gt;&#xA;   &amp;lt;li id=&quot;vote-up&quot;&amp;gt;&amp;lt;span data-id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot; class=&quot;vote vote-up&quot; id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-angle-up&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&#xA;    &amp;lt;li id=&quot;vote-count&quot;&amp;gt;&amp;lt;span data-id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot; class=&quot;vote-count&quot; id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&#xA;   &amp;lt;li id=&quot;vote-down&quot;&amp;gt;&amp;lt;span data-id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot;  class=&quot;vote vote-down&quot; id=&quot;&amp;lt;?php echo$id[2];?&amp;gt;&quot;&amp;gt;&amp;lt;i class=&quot;fas fa-angle-down&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&#xA;  &amp;lt;/ul&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es mi archivo &lt;strong&gt;ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function(){&#xA;    $(&quot;.vote-container li &quot;).click(function(e){&#xA;&#xA;        var vote=$(this).attr(&quot;id&quot;)&#xA;        var vote_id=$(&quot;.&quot;+vote).data(&quot;id&quot;);&#xA;        e.preventDefault();&#xA;        var url=&quot;/ajax/votacion_denunciantes.php&quot;;&#xA;&#xA;        $.ajax({&#xA;            url:url,&#xA;            type:&quot;POST&quot;,&#xA;            data:{vote:vote,vote_id:vote_id},&#xA;            dataType:&quot;json&quot;,&#xA;            contenttype: &quot;application/json; charset=utf-8&quot;,&#xA;&#xA;        }).done(function(response){&#xA;&#xA;         console.log(response);&#xA;&#xA;        }).fail(function( jqXHR, textStatus, errorThrown ) {&#xA;&#xA;            if( console &amp;amp;&amp;amp; console.log ) {&#xA;                console.log( &quot;La solicitud a fallado: &quot; +  textStatus);&#xA;                console.log( &quot;La solicitud a fallado: &quot; +  errorThrown);&#xA;            }         &#xA;        }) &#xA;     })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;la salida por la consola es &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Unexpected end of JSON input&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;No creo que sea necesario publicar el archivo php ya que el error lo esta provocando el mismo &lt;strong&gt;ajax&lt;/strong&gt;, alguien puede darme una mano please?&lt;/p&gt;&#xA;"" OwnerUserId=""81074"" LastEditorUserId=""53715"" LastEditDate=""2019-03-23T16:14:09.443"" LastActivityDate=""2023-09-06T15:07:45.937"" Title=""Problemas con ajax ,condigo de error: Unexpected end of JSON input"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""251244"" PostTypeId=""1"" AcceptedAnswerId=""251260"" CreationDate=""2019-04-03T13:39:56.820"" Score=""0"" ViewCount=""485"" Body=""&lt;p&gt;Estoy tratando de consumir un Web Service SOAP desde un Ajax pero al invocar dicho Ajax algo falla. ¿Qué puedo hacer? El Web Service se encuentra alojado en un servidor IIS con la siguiente ruta.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;http://iis:8888/WebServices.asmx?op=ActualizarPassword&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://iis:8888/WebServices.asmx?op=ActualizarPassword&lt;/a&gt; &lt;/p&gt;&#xA;&#xA;&lt;p&gt;cuando ejecuto esta ruta en el navegador desde mi equipo se ve así:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Dy6CC.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Dy6CC.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pero al ejecutar la misma ruta desde el servidor IIS se ve así:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/RJHdx.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RJHdx.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;La petición Ajax que estoy ejecutando es la siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$('#btnAceptar').on('click', function () {&#xD;&#xA;                if (Validar() === false) {&#xD;&#xA;                    $.post(&quot;http://iis:8888/WebServices.asmx/ActualizarPassword&quot;, { claveAntigua: $(&quot;#txtClave&quot;).val(), claveNueva: $(&quot;#txtClaveNueva&quot;).val(), nit: $(&quot;#nitUsuario&quot;).val() })&#xD;&#xA;                        .done(function (resultado) {&#xD;&#xA;                            num = resultado&#xD;&#xA;                            var respuesta = parseInt(num.documentElement.textContent)&#xD;&#xA;                            if (respuesta &amp;gt;= 1) {&#xD;&#xA;                                toastr.success('Su contraseña fue actualizada correctamente');&#xD;&#xA;                                Limpiar();&#xD;&#xA;                            } else {&#xD;&#xA;                                toastr.error('No se ha podido actualizar la información.');&#xD;&#xA;                                Limpiar();&#xD;&#xA;                            }&#xD;&#xA;&#xD;&#xA;                        }).fail(function (resultado) {&#xD;&#xA;                            toastr.error('Hubo un error en el sistema, intente de nuevo más tarde.');&#xD;&#xA;                            Limpiar();&#xD;&#xA;                        });&#xD;&#xA;                }&#xD;&#xA;            });&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y tengo una &lt;code&gt;ServiceReference&lt;/code&gt; referenciando la url del &lt;code&gt;IIS&lt;/code&gt; así:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/FRbJ8.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/FRbJ8.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;He intentado también poner en la ruta de la petición la url del servidor &lt;a href=&quot;http://iis:8888/WebServices.asmx?op=ActualizarPassword&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://iis:8888/WebServices.asmx?op=ActualizarPassword&lt;/a&gt; pero tampoco funciona.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Al ejecutar la petición se va por el fail de la petición y sale un &lt;strong&gt;error 500&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/vzs0r.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/vzs0r.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Cualquier aporte me ayudará mucho para conocer cuál es el problema el cual se está presentando.&lt;/p&gt;&#xA;"" OwnerUserId=""114260"" LastActivityDate=""2019-04-03T14:15:51.100"" Title=""Problema con Web Service tipo Soap"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;asp.net&gt;&lt;vb.net&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""251811"" PostTypeId=""1"" CreationDate=""2019-04-05T01:34:34.463"" Score=""0"" ViewCount=""240"" Body=""&lt;p&gt;estoy tratando de implementar un buscador. Es decir en base a un valor que se ingresa en un campo de texto necesito devolver un mensaje de alerta indicando si dicho valor se encuentra o no en la base de datos mostrando un mensaje de alerta. Para ello estoy realizando lo siguiente.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;var sugestion = false;&#xD;&#xA;&#xD;&#xA;function validarAutosugestion(event, input) {&#xD;&#xA;  var cod = event.which;&#xD;&#xA;  if (cod == null) cod = event.keyCode;&#xD;&#xA;  if ((cod == 8) || (cod &amp;gt;= 48 &amp;amp;&amp;amp; cod &amp;lt;= 57) || (cod &amp;gt;= 96 &amp;amp;&amp;amp; cod &amp;lt;= 105)) {&#xD;&#xA;    if ((cod == 8) || (cod &amp;gt;= 48 &amp;amp;&amp;amp; cod &amp;lt;= 57) || (cod &amp;gt;= 96 &amp;amp;&amp;amp; cod &amp;lt;= 105)) sugestion = true;&#xD;&#xA;    return true;&#xD;&#xA;  } else return false;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;function activarAutosugestion(input) {&#xD;&#xA;  if (sugestion) {&#xD;&#xA;    sugestion = false;&#xD;&#xA;    $(&quot;#imagen&quot;).empty();&#xD;&#xA;    busquedaPaciente(input.value);&#xD;&#xA;  }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;function busquedaPaciente(texto) {&#xD;&#xA;  if (texto.length == 0) {&#xD;&#xA;    return false;&#xD;&#xA;  }&#xD;&#xA;  $.ajax({&#xD;&#xA;      &quot;url&quot;: &quot;lib/gestion/historia_clinica/procesar_busqueda_paciente.php&quot;,&#xD;&#xA;      &quot;type&quot;: &quot;post&quot;,&#xD;&#xA;      &quot;dataType&quot;: &quot;json&quot;,&#xD;&#xA;      &quot;data&quot;: {&#xD;&#xA;        &quot;clave&quot;: texto&#xD;&#xA;      }&#xD;&#xA;    }).done(function(data, statusText) {&#xD;&#xA;      for (var i = 0; i &amp;lt; data.valor.length; i++) {&#xD;&#xA;        if (data.valor[i].resultado == 1) {&#xD;&#xA;         alert('El paciente cuenta con una historia clinica.');&#xD;&#xA;        }&#xD;&#xA;        alert('El paciente no tiene con una historia clinica.');&#xD;&#xA;      }&#xD;&#xA;    })&#xD;&#xA;    .fail(function(data, statusText) {&#xD;&#xA;      alert(statusText);&#xD;&#xA;    });&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;div id=&quot;divAutosugestion&quot; class=&quot;form-group inner-addon right-addon&quot;&amp;gt;&#xD;&#xA;  &amp;lt;i class=&quot;glyphicon glyphicon-search&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xD;&#xA;  &amp;lt;input id=&quot;textCampoBuscar&quot; type=&quot;text&quot; class=&quot;form-control&quot; onkeyup=&quot;activarAutosugestion(this)&quot; onkeypress=&quot;return validarAutosugestion(event,this)&quot; placeholder=&quot;Ingrese el dni del paciente&quot; maxlength=&quot;8&quot; autofocus/&amp;gt;&#xD;&#xA;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Codigo PHP&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;   $clave = filter_input(INPUT_POST,&quot;clave&quot;);&#xA;   //echo $clave;&#xA;   require_once '../../../files/clases/Conexion.php';&#xA;   $respuesta = '{&quot;valor&quot;:[]}';&#xA;   $conexion = Conexion::establecer();&#xA;   if(!$conexion-&amp;gt;connect_error){&#xA;       $sql = &quot;SELECT IF(COUNT(id_historia_clinica) &amp;gt; 0,1, 0) as resultado FROM Historia_Clinica_Paciente WHERE paciente_id = ( SELECT id_paciente FROM Paciente WHERE dni = '&quot;.$clave.&quot;%'&quot;;&#xA;       if($resultado = $conexion-&amp;gt;query($sql)){&#xA;           $respuesta = '{&quot;valor&quot;:'.json_encode($resultado-&amp;gt;fetch_all(MYSQLI_ASSOC)).'}';&#xA;&#xA;           $resultado-&amp;gt;free_result();&#xA;           }&#xA;       else echo $conexion-&amp;gt;error;&#xA;       $conexion-&amp;gt;close();&#xA;   }&#xA;&#xA;   echo $respuesta;&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Como debería ser la comunicación con la base de datos usando ajax? Dado que me esta devolviendo un &quot;parsererror&quot;. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lo que estaría necesitando es devolver un valor y luego analizarlo desde JavaScript y no recorrer un objeto json. Esto es posible?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Muchas gracias&lt;/p&gt;&#xA;"" OwnerUserId=""39391"" LastEditorUserId=""66217"" LastEditDate=""2019-04-05T08:01:58.577"" LastActivityDate=""2019-04-05T11:56:35.240"" Title=""Como devolver un único valor usando Ajax para mostrar un mensaje de alerta"" Tags=""&lt;javascript&gt;&lt;mysql&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""260959"" PostTypeId=""1"" CreationDate=""2019-05-05T19:00:57.240"" Score=""0"" ViewCount=""100"" Body=""&lt;p&gt;realize un buscador con ajax para mi base de datos en MySql, el buscador busca 3 datos, Id, Nombre y una imagen, cuando lo uso en mi aplicacion web me funciona a la perfeccion, pero despues de hacer unas 3 busquedas se empieza a tardar como 1 minuto, y como en la 4 o 5 ya no busca nada. Ya cheque mi conexion y es correcta, y tambien es necesario decirles que las primeras busquedas tardan alrededor de 5 o 6 segundos. Si tienen alguna otra duda o quieren saber otro fragmento de mi codigo diangme. Gracias&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es mi codigo de  js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $('#search').focus()&#xA;&#xA;  $('#button').on('click', function(){&#xA;    var search = $('#search').val()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: 'mostrar.php',&#xA;      data: {'search': search},&#xA;      beforeSend: function(){&#xA;        $('#result').html('&amp;lt;img src=&quot;img/pacman.gif&quot;&amp;gt;')&#xA;      }&#xA;    })&#xA;    .done(function(resultado){&#xA;      $('#result').html(resultado)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un error :(')&#xA;    })&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Mi codigo php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;tabla.css&quot;&amp;gt;&#xA;&amp;lt;link href=&quot;https://fonts.googleapis.com/css?family=Noto+Serif|Poppins|Quicksand&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;    &amp;lt;title&amp;gt;Mostrar imagenes&amp;lt;/title&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;   &amp;lt;center&amp;gt;&#xA;       &amp;lt;table id=&quot;mitabla&quot; border=&quot;1&quot;&amp;gt;&#xA;       &amp;lt;thead&amp;gt;&#xA;       &amp;lt;tr&amp;gt;&#xA;          &amp;lt;th colspan=&quot;6&quot;&amp;gt;&amp;lt;a href=&quot;index2.php&quot; class=&quot;Titulo&quot;&amp;gt;Volver&amp;lt;/a&amp;gt;&amp;lt;/th&amp;gt;&#xA;           &amp;lt;/tr&amp;gt;&#xA;           &amp;lt;tr&amp;gt;&#xA;           &amp;lt;th&amp;gt;id&amp;lt;/th&amp;gt;&#xA;           &amp;lt;th&amp;gt;Nombre&amp;lt;/th&amp;gt;&#xA;           &amp;lt;th&amp;gt;Imagen&amp;lt;/th&amp;gt;&#xA;           &amp;lt;th colspan=&quot;2&quot;&amp;gt;Opciones&amp;lt;/th&amp;gt;&#xA;       &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;/thead&amp;gt;&#xA;    &amp;lt;tbody&amp;gt;&#xA;       &amp;lt;?php&#xA;        include(&quot;conexion.php&quot;);&#xA;          $mysqli = getConnexion();&#xA;       $search = $mysqli-&amp;gt;real_escape_string($_POST['search']);&#xA;  $query = &quot;SELECT id, nombre, Imagen FROM tabla_imagen WHERE nombre LIKE '%$search%' &quot;;&#xA;         $res = $mysqli-&amp;gt;query($query);&#xA;&#xA;    while ($row = $res-&amp;gt;fetch_array(MYSQLI_ASSOC)) {&#xA;        ?&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;?php echo $row['id']; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;?php echo $row['nombre']; ?&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td&amp;gt;&amp;lt;img height=&quot;80px&quot; src=&quot;data:image/jpg;base64,&amp;lt;?php echo base64_encode($row['Imagen']); ?&amp;gt;&quot;/&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;th&amp;gt;&amp;lt;a href=&quot;modificar.php?Id=&amp;lt;?php echo $row['id']; ?&amp;gt;&quot;&amp;gt;Modificar&amp;lt;/a&amp;gt;&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;&amp;lt;a href=&quot;eliminar.php?Id=&amp;lt;?php echo $row['id']; ?&amp;gt;&quot;&amp;gt;Eliminar&amp;lt;/a&amp;gt;&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;&#xA;        &amp;lt;?php&#xA;        }&#xA;&#xA;        ?&amp;gt;   &#xA;    &amp;lt;/tbody&amp;gt;&#xA;&amp;lt;/table&amp;gt;&#xA;   &amp;lt;/center&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""96195"" LastActivityDate=""2019-05-05T19:00:57.240"" Title=""Buscador de base de datos con ajax y js no responde"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;buscador&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""261127"" PostTypeId=""1"" AcceptedAnswerId=""261141"" CreationDate=""2019-05-06T13:59:38.193"" Score=""1"" ViewCount=""520"" Body=""&lt;p&gt;Tengo la siguiente funcion y necesito transformarla para poder incluirla en mi pagina con Vue: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/**&#xA;     * Obtiene el producto por id y completa el formulario con la info en caso de exito&#xA;     * @param productId&#xA;     */&#xA;    this.getProductById = function(productId) {&#xA;        showMainContentLoading();&#xA;        $(&quot;#product-form&quot;).removeClass('preventLeavingForm');&#xA;&#xA;        var jqxhr = $.post('/stock/ajaxFindProduct/', {id: productId}, null, 'json')&#xA;            .fail(function (data) {&#xA;                messageManager.showErrorMessage(i18nHelper.getText('No se ha podido encontrar el producto seleccionado'));&#xA;            })&#xA;            .always(function (data) {&#xA;                removeMainContentLoading();&#xA;            });&#xA;&#xA;        return jqxhr;&#xA;    };&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En Vue tengo un link de un producto seleccionado por el cliente, que al clickear lo debe redirigir a la pagina de &lt;code&gt;/stock/product/&lt;/code&gt; + el producto seleccionado. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;b-link&#xA;        @click=&quot;openProductDetail()&quot;&#xA;      &amp;gt;&#xA;        {{ row.item.name }}&#xA;      &amp;lt;/b-link&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Como transformarla e incluirla correctamente en Vue?&#xA;No estoy utilizando Vue router en este caso.  &lt;/p&gt;&#xA;"" OwnerUserId=""118416"" LastActivityDate=""2019-05-07T13:58:36.817"" Title=""Como obtener el producto por id al hacer click en boton con VUE?"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;&lt;vue.js&gt;&lt;vuex&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""264147"" PostTypeId=""1"" CreationDate=""2019-05-16T14:02:23.353"" Score=""-1"" ViewCount=""72"" Body=""&lt;p&gt;Buenas, estoy haciendo un buscador a tiempo real en laravel con AJAX jquery, pero los datos del controlador no se retornan a success. Aqui les dejo el ejemplo...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$('#searchReports').on('keyup', function(){&#xD;&#xA;&#xD;&#xA;     var data = $('#searchReports').val();&#xD;&#xA;&#xD;&#xA;         var request =&#xD;&#xA;         $.ajax({&#xD;&#xA;             url:&quot;127.0.0.1:8000/buscar&quot;,&#xD;&#xA;             data: data,&#xD;&#xA;             dataType: 'json',&#xD;&#xA;             method: 'GET',&#xD;&#xA;         })&#xD;&#xA;         request.done(function(response)&#xD;&#xA;         {&#xD;&#xA;             $('tbody').text(response);&#xD;&#xA;         })&#xD;&#xA;         request.fail(function(jqXHR, textstatus)&#xD;&#xA;         {&#xD;&#xA;             console.log(&quot;Hubo un error&quot; + textstatus);&#xD;&#xA;        })&#xD;&#xA;})&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;el controlador: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function select(Request $request)&#xA;{&#xA;&#xA;    $data = $request-&amp;gt;input('searcher');&#xA;&#xA;    $query = Reporte::select('*')-&amp;gt;where('instituto','like' ,'%'.$data.'%')&#xA;                    -&amp;gt;orWhere('representante','like' ,'%'.$data.'%')&#xA;                    -&amp;gt;orWhere('asunto','like' ,'%'.$data.'%')&#xA;                    -&amp;gt;orWhere('estado','like' ,'%'.$data.'%')-&amp;gt;get();&#xA;&#xA;    $total = $query-&amp;gt;count();&#xA;&#xA;    if ($total &amp;gt; 0) {&#xA;&#xA;        foreach ($query as $row) {&#xA;            $response = &quot;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;&quot;.$row-&amp;gt;instituto.&quot;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&quot;.$row-&amp;gt;representante.&quot;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&quot;.$row-&amp;gt;asunto.&quot;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&quot;.$row-&amp;gt;estado.&quot;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;        &quot;;&#xA;        }&#xA;    }&#xA;    echo $response;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cuando empiezo a escribir en el buscador lo unico que me aparece en consola es : &quot;hubo un error&quot; , lo que envia el codigo ajax desde &quot;request.fail()&quot;...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;¿Alguna solución?.&lt;/p&gt;&#xA;"" OwnerUserId=""107460"" LastActivityDate=""2019-05-16T18:43:27.420"" Title=""Funcion AJAX en laravel no retorna los datos del controlador"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;laravel&gt;"" AnswerCount=""1"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""269640"" PostTypeId=""1"" CreationDate=""2019-06-05T00:37:39.650"" Score=""1"" ViewCount=""24"" Body=""&lt;p&gt;Estimados estoy haciendo una pagina donde necesito una listado de resultados, una pagina php donde  tengo la solicitud de la variable principal que es cod_proyecto con un formulario, con esta variable debo realizar el filtrado de la base de datos, para esto uso ajax con el evento click del  button y uso con parametros de cantidad de registros (para usar un paginador), el ajax solicita a un php los datos segun el criterio. el mismo ajax crea la tabla con los datos. el problema es que tengo las variables de parametros estaticas, aun no he consegido como pasarlas, y para realizar el paginador  necesito realizar una consulta de los registros totales para determinar la cantidad de paginas, pero no logro como hacer el pase variables, me  disculpo si es un poco engorroso.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;mainconsultarcc1.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;mainconten&quot;&amp;gt;&#xA;      &amp;lt;h4&amp;gt;Listado&amp;lt;/h4&amp;gt;&#xA;      &amp;lt;div class=&quot;head_Consult&quot;&amp;gt;&#xA;        &amp;lt;form&amp;gt;&#xA;              &amp;lt;label for=&quot;cod_proyecto&quot;&amp;gt;Codigo del Proyecto:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;input type=&quot;text&quot; name=&quot;cod_proyecto&quot; id=&quot;cod_proyecto&quot;&amp;gt; &amp;lt;/input&amp;gt;&#xA;              &amp;lt;input type=&quot;button&quot; name=&quot;btn1&quot; id=&quot;btn1&quot;  value=&quot;Buscar&quot;&amp;gt;&#xA;              &amp;lt;label for=&quot;lbl_total_reg&quot; &amp;gt;Total de registros:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;input type=&quot;text&quot; name=&quot;total_Reg&quot; id=&quot;total_Reg&quot; disabled &amp;gt;&amp;lt;/input&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;tabla_Bloqueresultados&quot;&amp;gt;&#xA;          &amp;lt;table class=&quot;tabla_resultados&quot;&amp;gt;&#xA;            &amp;lt;thead id=&quot;Headlistadoconsulta&quot;&amp;gt;&amp;lt;/thead&amp;gt;&#xA;            &amp;lt;tbody id=&quot;listadoconsulta&quot;&amp;gt;&amp;lt;/tbody&amp;gt;&#xA;          &amp;lt;/table&amp;gt;&#xA;&#xA;          &amp;lt;?php&#xA;            include ('../conexion.php');&#xA;&#xA;            $varobra= 2;&#xA;            $VarRegistrospagina=10;&#xA;&#xA;            if (!empty($varobra)) {&#xA;              $result= mysqli_query($conexion, &quot;Call BuscarResultadosCantProbetasRCC1('$varobra')&quot;);&#xA;              $Result_register = mysqli_fetch_array($result);&#xA;              $Total_register = $Result_register[0];&#xA;              $paginasmostar = $Total_register / $VarRegistrospagina;&#xA;              $paginasmostar = ceil($paginasmostar);&#xA;              // echo $CodObra1;&#xA;              mysqli_close($conexion);&#xA;            }&#xA;&#xA;          ?&amp;gt;&#xA;&#xA;&#xA;          &amp;lt;div class=&quot;paginador&quot;&amp;gt;&#xA;            &amp;lt;nav arial-label=&quot;pagina de navegacion&quot; &amp;gt;&#xA;              &amp;lt;ul class=&quot;paginacion&quot; id=&quot;NavPaginador&quot;&amp;gt;&#xA;                &amp;lt;!-- Ir al primero --&amp;gt;&#xA;                            &amp;lt;li class= &quot;item-pagina&quot;&amp;gt;&#xA;                              &amp;lt;a class=&quot;page-link&quot; href=&quot;mainconsultarcc1.php?pagina=&amp;lt;?php echo 1 ?&amp;gt;&quot;&amp;gt;&#xA;                                |&amp;lt;&#xA;                              &amp;lt;/a&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                &amp;lt;!-- Ir al anterior --&amp;gt;&#xA;                            &amp;lt;li class= &quot;item-pagina&quot;&amp;gt;&#xA;                              &amp;lt;a class=&quot;page-link&quot; href=&quot;mainconsultarcc1.php?pagina=&amp;lt;?php echo $_GET['pagina']-1 ?&amp;gt;&quot;&amp;gt;&#xA;                                &amp;lt;&amp;lt;&#xA;                              &amp;lt;/a&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                &amp;lt;!-- Ir cuerpo del paginador --&amp;gt;&#xA;                            &amp;lt;?php for($i=0;$i&amp;lt;$paginasmostar;$i++): ?&amp;gt;&#xA;                              &amp;lt;li class= &quot;item-pagina &amp;lt;?php echo $_GET['pagina']==$i+1 ? 'active' : '' ?&amp;gt;&quot;&amp;gt;&#xA;                                &amp;lt;a class=&quot;page-link&quot;&#xA;                                href=&quot;mainconsultarcc1.php?pagina=&amp;lt;?php echo $i+1 ?&amp;gt;&quot;&amp;gt;&#xA;                                &amp;lt;?php echo $i+1;?&amp;gt;&#xA;                                &amp;lt;/a&amp;gt;&#xA;                              &amp;lt;/li&amp;gt;&#xA;                            &amp;lt;?php endfor ?&amp;gt;&#xA;                &amp;lt;!-- Ir al siguiente --&amp;gt;&#xA;                            &amp;lt;li class= &quot;item-pagina&quot;&amp;gt;&#xA;                              &amp;lt;a class=&quot;page-link&quot; href=&quot;mainconsultarcc1.php?pagina=&amp;lt;?php echo $_GET['pagina']+1 ?&amp;gt;&quot;&amp;gt;&#xA;                                &amp;gt;&amp;gt;&#xA;                              &amp;lt;/a&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                &amp;lt;!-- Ir al ultimo --&amp;gt;&#xA;                            &amp;lt;li class= &quot;item-pagina&quot;&amp;gt;&#xA;                              &amp;lt;a class=&quot;page-link&quot; href=&quot;mainconsultarcc1.php?pagina=&amp;lt;?php echo $paginasmostar ?&amp;gt;&quot;&amp;gt;&#xA;                                &amp;gt;|&#xA;                              &amp;lt;/a&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;              &amp;lt;/ul&amp;gt;&#xA;            &amp;lt;/nav&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ConsultaRcc1.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;&#xA;    $('#btn1').on('click', function(){&#xA;      var valor = $('#cod_proyecto').val();&#xA;      // console.log(valor);&#xA;      var valorIni = 1; // estos valores sdeberian de venir de mainconsultarcc1&#xA;      var regporpagina = 20;&#xA;      if(valor !=&quot;&quot;){&#xA;        $.ajax({&#xA;          url: 'tablaconsultaRCC1.php',&#xA;          type: 'POST',&#xA;          data:{consulta1: valor, valorIni: valorIni, regporpagina:regporpagina},&#xA;          success: function(response){&#xA;          console.log(response);&#xA;          let Resultconsulta1 = JSON.parse(response);&#xA;          // console.log(Resultconsulta1);&#xA;          let template = '';&#xA;          let templateHead ='';&#xA;          templateHead += `&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Muesta Interna&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Muestra Cliente&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Diseño&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Asent&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Vaciado&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Planta&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Fecha Toma&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Fecha Ensayo&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Edad&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Area&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Carga&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;Rcc&amp;lt;/th&amp;gt;&#xA;                        &amp;lt;th&amp;gt;%&amp;lt;/th&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    `&#xA;          Resultconsulta1.forEach(Resultconsulta1 =&amp;gt; {&#xA;              template += `&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.MuestraInterna}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.MuestraCliente}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Diseno}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Asent}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Vaciado}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Planta}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.FechaToma}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.FechaEnsayo}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Edad}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Area}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Carga}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Rcc}&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;td&amp;gt;${Resultconsulta1.Porcentaje}&amp;lt;/td&amp;gt;&#xA;                    &amp;lt;/tr&amp;gt;&#xA;                    `&#xA;          })&#xA;&#xA;          $('#Headlistadoconsulta').html(templateHead);&#xA;          $('#listadoconsulta').html(template);&#xA;        }&#xA;        });&#xA;      }&#xA;    });&#xA;});&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;tablaconsultaRCC1.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;  require_once ('../conexion.php');&#xA;&#xA;  $varobra= $_POST['consulta1'];&#xA;  $varIni= $_POST['valorIni'];&#xA;  $varFin= $_POST['regporpagina'];&#xA;&#xA;  if (!empty($varobra)) {&#xA;    $result= mysqli_query($conexion, &quot;Call BuscarResultadosProbetasRCC1('$varobra', '$varIni', '$varFin')&quot;);&#xA;&#xA;    if (!$result) {&#xA;      die (&quot;query fail:&quot;.mysqli.error($conexion));&#xA;    }&#xA;&#xA;    $json = array();&#xA;    while($row = mysqli_fetch_array($result)){&#xA;      $json[] = array(&#xA;        'MuestraInterna' =&amp;gt; $row['MuestraInterna'],&#xA;        'MuestraCliente'=&amp;gt; $row['MuestraCliente'],&#xA;        'Diseno'=&amp;gt; $row['RccDiseno'],&#xA;        'Asent'=&amp;gt; ($row['Asentamiento']),&#xA;        'Vaciado'=&amp;gt; utf8_encode($row['Vaciado']),&#xA;        'Planta'=&amp;gt; utf8_encode($row['idtblPlanta']),&#xA;        'FechaToma'=&amp;gt;($row['FechaToma']),&#xA;        'FechaEnsayo'=&amp;gt; ($row['FechaEnsayoReal']),&#xA;        'Edad'=&amp;gt; ($row['EdadProg']),&#xA;        'Area'=&amp;gt; ($row['Area']),&#xA;        'Carga'=&amp;gt; ($row['Carga']),&#xA;        'Rcc'=&amp;gt; ($row['Rcc']),&#xA;        'Porcentaje'=&amp;gt; ($row['PorcentajeRcc'])&#xA;      );&#xA;    }&#xA;&#xA;    $jsonstring = json_encode($json);&#xA;&#xA;    echo $jsonstring;&#xA;    }&#xA;&#xA;    mysqli_close($conexion);&#xA;&#xA;  ?&amp;gt;&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""131251"" LastEditorUserId=""131251"" LastEditDate=""2019-06-05T01:06:47.537"" LastActivityDate=""2019-06-05T01:06:47.537"" Title=""hacer una consuta en php y usar la variable en un ajax"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;paginación&gt;&lt;tabla-dinámica&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""271773"" PostTypeId=""1"" AcceptedAnswerId=""271775"" CreationDate=""2019-06-13T10:29:33.487"" Score=""0"" ViewCount=""1703"" Body=""&lt;p&gt;estoy tratando de borrar archivos pdf previamente subidos de una carpeta de mi servidor, he seguido varios tutoriales pero no me funciona y no encuentro el error, este es mi código: &#xA;Aquí meto todos los archivos de la carpeta en un array &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; $path = &quot;documentos/polizas/&quot;;&#xA;        $directorio = dir($path);&#xA;        while ($archivo = $directorio-&amp;gt;read()) {&#xA;            if ($archivo != &quot; . &quot; AND $archivo != &quot;..&quot;)&#xA;            if (strtolower(substr($archivo, -3) == &quot;pdf&quot;)) {&#xA;                $polizas[]=array(&#xA;                    &quot;doc&quot;=&amp;gt;$doc=&quot;&amp;lt;a href='documentos/polizas/$archivo' rel='nofollow' &amp;gt;$archivo&amp;lt;/a&amp;gt;&quot;&#xA;                );&#xA;            }&#xA;        }&#xA;    $directorio-&amp;gt;close();&#xA;    include (&quot;polizas.html&quot;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aquí los listo en el html&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   &amp;lt;a id=&quot;tabladocumentos&quot;&amp;gt;&#xA;        &amp;lt;label class=&quot;col-lg-4&quot;&amp;gt;Documentos:&amp;lt;/label&amp;gt;&#xA;             &amp;lt;?php&#xA;                foreach($polizas as $poliza){&#xA;                    echo $poliza['doc'];&#xA;                    echo &quot;&amp;lt;a id='borrar'style='float:right;'&amp;gt;&amp;lt;img src='img/borrar.png'&amp;gt;&amp;lt;/a&amp;gt;&quot;;&#xA;                    echo &quot;&amp;lt;br&amp;gt;&quot;;&#xA;                 }&#xA;             ?&amp;gt;&#xA;     &amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el script que uso para borrarlo&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xD;&#xA;    $(document).on('ready', function() {&#xD;&#xA;        $('#borrar').on('click', function(e) {&#xD;&#xA;            var file=$(this).prev().attr(&quot;href&quot;);&#xD;&#xA;            console.log(file)&#xD;&#xA;            e.preventDefault();&#xD;&#xA;            $.ajax({&#xD;&#xA;                url: 'ajax/borrados/polizas.php',&#xD;&#xA;                type: 'post',&#xD;&#xA;                data:{ file:file },&#xD;&#xA;            })&#xD;&#xA;                .done(function() {&#xD;&#xA;                    alert(&quot;Eliminado correctamente!&quot;);&#xD;&#xA;                })&#xD;&#xA;                .fail(function() {&#xD;&#xA;                    alert(&quot;Ha ocurrido un error&quot;);&#xD;&#xA;                })&#xD;&#xA;                .always(function() {&#xD;&#xA;&#xD;&#xA;                });&#xD;&#xA;&#xD;&#xA;        })&#xD;&#xA;    })&#xD;&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y por ultimo el ajax que &quot;lo borra&quot; aunque no lo hace&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;unlink($_POST['file']);&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""129981"" LastActivityDate=""2019-06-13T10:46:47.297"" Title=""Borrar Archivos de carpeta servidor"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""274015"" PostTypeId=""1"" CreationDate=""2019-06-22T18:53:07.977"" Score=""9"" ViewCount=""1163"" Body=""&lt;p&gt;Este es mi archivo PHP, que me permite agregar productos a la cesta:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;session_start();&#xA;&#xA;$itemId = isset($_GET['itemId']) ? $_GET['itemId'] : &amp;quot;&amp;quot;;&#xA;&#xA;&#xA;&#xA;if ($_SERVER['REQUEST_METHOD'] == 'POST' and isset($_POST['qtyupdate'])) {&#xA;    for ($i = 0; $i &amp;lt; count($_POST['qtyupdate']); $i++) {&#xA;        $key = $_POST['arr_key_' . $i];&#xA;        $_SESSION['qty'][$key] = $_POST['qtyupdate'][$i];&#xA;    }&#xA;&#xA;} else {&#xA;    $qty = isset($_POST['qty']) ? $_POST['qty'] : 1;&#xA;    if (!isset($_SESSION['cart'])) {&#xA;        $_SESSION['cart'] = array();&#xA;        $_SESSION['qty'][] = array();&#xA;    }&#xA;    if (in_array($itemId, $_SESSION['cart'])) {&#xA;        $key = array_search($itemId, $_SESSION['cart']);&#xA;        $_SESSION['qty'][$key] = $_SESSION['qty'][$key] + $qty;&#xA;    } else {&#xA;        array_push($_SESSION['cart'], $itemId);&#xA;        $key = array_search($itemId, $_SESSION['cart']);&#xA;        $_SESSION['qty'][$key] = $qty;&#xA;    }&#xA;}&#xA;header('location:cart.php');&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es mi código &lt;code&gt;ajax&lt;/code&gt;, funciona bien cuando el botón añadir esta en una pagina individual y si el único botón que existe:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    $(document).on('click', '.close', function(e){&#xA;        e.preventDefault();&#xA;        $('.alert-success').hide();&#xA;        $('.alert-danger').hide();&#xA;    });&#xA;&#xA;    var frm = $('#frmCart');&#xA;    frm.submit(function(e){&#xA;        e.preventDefault();&#xA;        var formData = frm.serialize();&#xA;        formData += '&amp;amp;' + $('#addCart').attr('name') + '=' + $('#addCart').attr('value');&#xA;&#xA;        var url = &amp;quot;addItem_cart.ini.php&amp;quot;;&#xA;        $.ajax({&#xA;            type: frm.attr('method'),&#xA;            url: url,&#xA;            data: formData,&#xA;        })&#xA;        .done(function(data) {&#xA;            console.log(data);&#xA;            let res = JSON.parse(data);&#xA;            if(res.status){&#xA;                $(&amp;quot;#wrapp-basket&amp;quot;).load(&amp;quot; #wrapp-basket&amp;quot;).fadeIn();&#xA;                $(&amp;quot;#qty&amp;quot;).load(&amp;quot; #qty&amp;quot;).fadeIn();&#xA;                $('.alert-success').fadeIn();&#xA;                $('.alert-success').html(res.message).delay(2000).fadeOut(2000);&#xA;                $(&amp;quot;.alert-success&amp;quot;).append(&amp;quot;&amp;lt;button class='close' type='button'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;quot;);&#xA;            } else {&#xA;                $('.alert-danger').fadeIn();&#xA;                $('.alert-danger').html(res.message).delay(2000).fadeOut(2000);&#xA;                $(&amp;quot;.alert-danger&amp;quot;).append(&amp;quot;&amp;lt;button class='close' type='button'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;quot;);&#xA;            }&#xA;        })&#xA;        .fail(function( jqXHR, textStatus ) {&#xA;            alert(&amp;quot;Ajax Request fail&amp;quot;);&#xA;            //$('.warning').fadeIn();&#xA;            //$('.warning').html(textStatus).delay(3000).fadeOut(3000);&#xA;            //console.log(jqXHR.responseText);&#xA;            //console.log(&amp;quot;Request failed: &amp;quot; + textStatus );&#xA;        })&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El problema es cuando tengo varios botones de añadir productos en este caso desde un paginador, el botón no funciona o más bien el &lt;code&gt;ajax&lt;/code&gt; deja de funcionar:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/TmqR6.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/TmqR6.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Así es el &lt;code&gt;HTML&lt;/code&gt; de los botones cuando están en la paginación:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;                        &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;                        &amp;lt;em&amp;gt;$13,00&amp;lt;/em&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot; name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;                        &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;                        &amp;lt;em&amp;gt;$8,00&amp;lt;/em&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot; name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;                        &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;                        &amp;lt;em&amp;gt;$10,00&amp;lt;/em&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;                        &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot; name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El botón de añadir esta dentro de un &lt;code&gt;form&lt;/code&gt; es porque envió otros datos adicionales de otros campos &lt;code&gt;input, select, radio&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como le puede decir a &lt;code&gt;ajax&lt;/code&gt; o &lt;code&gt;jquery&lt;/code&gt; que datos debe tomar y que funcione al presionar el botón añadir teniendo en cuanta que todos tiene el mismo nombre: &lt;code&gt;id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot;&lt;/code&gt; ya que se encuentra listado en una paginación.&lt;/p&gt;&#xA;"" OwnerUserId=""132934"" LastEditorUserId=""9897"" LastEditDate=""2022-11-13T18:18:49.440"" LastActivityDate=""2022-11-13T18:18:49.440"" Title=""¿Cómo añadir producto desde la paginación al carro de la compra usando ajax?"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""9"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""277931"" PostTypeId=""1"" CreationDate=""2019-07-10T03:57:28.487"" Score=""0"" ViewCount=""196"" Body=""&lt;p&gt;Tengo un problema que no he podido solucionar.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esto en mi equipo personal (localhost) funciona sin problemas, pero cuando subí el sistema a mi hosting, no funciona el logueo.&#xA;El error que me da es&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Requested JSON parse failed.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Tengo lo siguiente: &lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi formulario: &lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form class=&quot;form-horizontal form-material&quot; id=&quot;Frm&quot; action=&quot;&quot;&amp;gt;&#xA;&#xA;      &amp;lt;div class=&quot;form-group m-t-40&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-xs-12&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-control&quot; name=&quot;t_user&quot; type=&quot;text&quot; required=&quot;&quot; placeholder=&quot;Usuario&quot; autofocus autocomplete=&quot;off&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-xs-12&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-control&quot; name=&quot;t_pass&quot; type=&quot;password&quot; required=&quot;&quot; placeholder=&quot;Password&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;form-group text-center m-t-20&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;col-xs-12&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;btn btn-info btn-block botonlg&quot; type=&quot;submit&quot; value=&quot;Ingrese&quot;/&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&#xA;&amp;lt;script src=&quot;plugins/bower_components/jquery/dist/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;bower_components/bootstrap/dist/js/bootstrap.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;main.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el archivo &lt;code&gt;main.js&lt;/code&gt; tengo lo siguiente: &lt;br&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    jQuery(document).on('submit','#Frm',function(event){&#xA;    &quot;use strict&quot;;&#xA;    event.preventDefault();&#xA;&#xA;    $.ajax({&#xA;        url: 'loginexe.php',&#xA;        type: 'POST',&#xA;        dataType: 'json',&#xA;        data: $(this).serialize(),&#xA;        beforeSend: function(){&#xA;            $('.botonlg').val('Validando...');&#xA;        }&#xA;    })&#xA;&#xA;    .done(function(respuesta){&#xA;        console.log(&quot;respuesta&quot;);&#xA;        if (!respuesta.error){&#xA;            if(respuesta.tipo === 'gim'){&#xA;                location.href = 'gim/';&#xA;            }&#xA;        }else{&#xA;            $('.error').slideDown('slow');&#xA;            setTimeout(function(){&#xA;                $('.error').slideUp('slow');&#xA;            },3000);&#xA;            $('#Frm')[0].reset();&#xA;            $('.botonlg').val('Ingrese'); &#xA;        }&#xA;    })&#xA;&#xA;    .fail( function( jqXHR, textStatus, errorThrown ) {&#xA;        if (jqXHR.status === 0) {&#xA;&#xA;            alert('Not connect: Verify Network.');&#xA;&#xA;          } else if (jqXHR.status == 404) {&#xA;&#xA;            alert('Requested page not found [404]');&#xA;&#xA;          } else if (jqXHR.status == 500) {&#xA;&#xA;            alert('Internal Server Error [500].');&#xA;&#xA;          } else if (textStatus === 'parsererror') {&#xA;&#xA;            alert('Requested JSON parse failed.');&#xA;&#xA;          } else if (textStatus === 'timeout') {&#xA;&#xA;            alert('Time out error.');&#xA;&#xA;          } else if (textStatus === 'abort') {&#xA;&#xA;            alert('Ajax request aborted.');&#xA;&#xA;          } else {&#xA;&#xA;            alert('Uncaught Error: ' + jqXHR.responseText);&#xA;&#xA;          }&#xA;    })&#xA;    .always(function(){&#xA;        console.log(&quot;complete&quot;);&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y en mi archivo &lt;code&gt;loginexe.php&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (!empty($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;amp;&amp;amp; strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest'){&#xA;&#xA;require 'config.php';&#xA;session_start();&#xA;&#xA;$mysqli-&amp;gt;set_charset('utf8');&#xA;&#xA;$usuario = $mysqli-&amp;gt;real_escape_string($_POST['t_user']);&#xA;$pas = $mysqli-&amp;gt;real_escape_string($_POST['t_pass']);&#xA;&#xA;if ($nueva_consulta = $mysqli-&amp;gt;prepare(&quot;SELECT id, nombre, tipo FROM clientes WHERE user = ? AND pass = ? &quot;)){&#xA;&#xA;    $nueva_consulta-&amp;gt;bind_param('ss', $usuario, $pas);&#xA;    $nueva_consulta-&amp;gt;execute();&#xA;    $resultado = $nueva_consulta-&amp;gt;get_result();&#xA;    if($resultado-&amp;gt;num_rows == 1){&#xA;            $datos = $resultado-&amp;gt;fetch_assoc();&#xA;            $_SESSION['usuario'] = $datos;&#xA;            echo json_encode(array('error' =&amp;gt; false, 'tipo' =&amp;gt; $datos['tipo']));&#xA;    }else{&#xA;            echo json_encode(array('error' =&amp;gt; true));&#xA;    }&#xA;    $nueva_consulta-&amp;gt;close();&#xA;}&#xA;&#xA;}&#xA;&#xA; $mysqli-&amp;gt;close();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Tanto la conexión a la base de datos y los datos de la tabla cliente, son correctos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Actualmente, para acceder al sistema, lo hago a través de un subdominio. Pensé que ese era el problema, pero lo agregue como una carpeta interna del dominio y el problema persiste.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Si alguien tiene alguna idea de como solucionarlo, agradezco me oriente para aplicar una posible solución.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Como siempre, agradecido por su ayuda.&#xA;Saludos a todos.&lt;/p&gt;&#xA;"" OwnerUserId=""47164"" LastEditorUserId=""109169"" LastEditDate=""2019-07-10T04:06:49.437"" LastActivityDate=""2020-04-21T22:02:06.200"" Title=""Requested JSON parse failed en Login"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""279867"" PostTypeId=""1"" AcceptedAnswerId=""279926"" CreationDate=""2019-07-18T14:44:22.737"" Score=""1"" ViewCount=""214"" Body=""&lt;p&gt;Uso &lt;code&gt;Javascript&lt;/code&gt; para capturar la ubicación y necesito enviarla a la &lt;code&gt;BD&lt;/code&gt; cuando de clic en un botón de la siguiente forma, pero no me los esta grabando en la &lt;code&gt;BD&lt;/code&gt; debo usar &lt;code&gt;ajax&lt;/code&gt; para que no me recargue la pagina y ademas que debe ser sin formulario de forma que al darle al botón haga el proceso de traer la ubicación y grabarlas en la &lt;code&gt;BD&lt;/code&gt;, debe ser automático porque el usuario usa ese botón solo para desplegar un listado.&#xA;la idea es que guarde la ubicación del usuario con su nombre para consultarlas luego en otro rol que seria &lt;code&gt;admin&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function () {&#xA;     $(document).ready(function () {&#xA;&#xA;        $(&quot;#encuentrame&quot;).click(function () {&#xA;        $('#encuentrame').prop(&quot;disabled&quot;, true);&#xA;             //Si el navegador soporta geolocalizacion&#xA;             if (!!navigator.geolocation) {&#xA;                 //Pedimos los datos de geolocalizacion al navegador&#xA;                 navigator.geolocation.getCurrentPosition(&#xA;                     //Si el navegador entrega los datos de geolocalizacion los imprimimos&#xA;                     function (position) {&#xA;                         //window.alert(&quot;permite&quot;);&#xA;                         $(&quot;#lat&quot;).text(position.coords.latitude);&#xA;                         $(&quot;#lon&quot;).text(position.coords.longitude);&#xA;                         var element = document.getElementById('lat');&#xA;                         valor = element.innerHTML;&#xA;                         agregarDatos(valor);&#xA;                         console.log(&quot;Aquí se envía a la base de datos el valor de : &quot; + valor);&#xA;                     },&#xA;                     //Si no los entrega manda un alerta de error&#xA;                     function () {&#xA;                         window.alert(&quot;nav no permitido&quot;);&#xA;                     }&#xA;                 );&#xA;             }&#xA;         });&#xA;&#xA;function agregarDatos(valor) {&#xA;            usuario = '&amp;lt;?php echo $_SESSION['user_name']; ?&amp;gt;';&#xA;            datos = {&#xA;                usuario: usuario,&#xA;                respuesta: valor&#xA;            };&#xA;            console.log(datos);&#xA;&#xA;            var request = $.ajax({&#xA;                url: &quot;insertar.php&quot;, &#xA;                method: &quot;POST&quot;,&#xA;                data: datos,&#xA;                dataType: &quot;json&quot;&#xA;            });&#xA;&#xA;            request.done(function (data) {&#xA;                console.log(&quot;Se agregaron los datos: &quot; + data);&#xA;            });&#xA;&#xA;            request.fail(function (jqXHR, textStatus) {&#xA;                alert(&quot;Error petición Ajax: &quot; + textStatus);&#xA;            });&#xA;&#xA;        }&#xA;&#xA;     });&#xA;&#xA; });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;insertar.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;/*Verificar que estén todos los datos*/&#xA;if (isset($_POST['usuario']) &amp;amp;&amp;amp; !empty($_POST['usuario']) &amp;amp;&amp;amp; isset($_POST['respuesta']) &amp;amp;&amp;amp; !empty($_POST['respuesta'])) &#xA;{&#xA;    $usuario = $_POST['usuario'];&#xA;    $respuesta = $_POST['respuesta'];&#xA;    //Datos de conexión a la base de datos&#xA;    $host       = &quot;localhost&quot;;&#xA;    $usuario_db = &quot;root&quot;; //Había dos variables $usuario&#xA;    $clave      = &quot;&quot;;&#xA;    $basedatos  = &quot;login&quot;;&#xA;    $tabla      = &quot;datos&quot;;&#xA;&#xA;    // Conectar a la base&#xA;    //  la variable $myslqi contendrá el objeto con la conexión&#xA;    $mysqli = mysqli_connect($host, $usuario_db, $clave, $basedatos);&#xA;&#xA;    /*Verificar si la conexión se realizó*/&#xA;    if (mysqli_connect_errno($mysqli)) &#xA;    {&#xA;        $error=&quot;Error al conectar a MySQL: &quot; . mysqli_connect_error();&#xA;        $json=array(1=&amp;gt;$error);&#xA;    }&#xA;&#xA;    $sql = &quot;INSERT INTO $tabla (nombre, latitud) VALUES ('&quot;.$usuario.&quot;', '&quot;.$respuesta.&quot;')&quot;;&#xA;    if ($conn-&amp;gt;query($sql) === TRUE) {&#xA;&#xA;    } else {&#xA;&#xA;    }&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""95464"" LastEditorUserId=""133271"" LastEditDate=""2019-07-18T15:29:30.590"" LastActivityDate=""2019-07-18T17:24:39.077"" Title=""¿Cómo enviar con AJAX datos a la BD?"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""14"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""286186"" PostTypeId=""1"" CreationDate=""2019-08-15T23:14:54.860"" Score=""0"" ViewCount=""131"" Body=""&lt;p&gt;Resulta que estoy haciendo un &lt;code&gt;request&lt;/code&gt; mediante &lt;code&gt;AJAX&lt;/code&gt; a un archivo &lt;code&gt;.php&lt;/code&gt; y la ruta es la siguiente:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;url: 'assets/db/verificarEmail.php'&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Todo funciona bien en local&lt;/strong&gt;, pero al subirlo a un servidor no funciona, y el error que me tira la consola de chrome es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;POST &lt;a href=&quot;http://pedrofumero.com/memoria/assets/db/verificarEmail.php&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://pedrofumero.com/memoria/assets/db/verificarEmail.php&lt;/a&gt; 500&#xA;  (Internal Server Error)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Captura:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/P2RjQ.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/P2RjQ.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A continuación el código &lt;code&gt;AJAX&lt;/code&gt; implementado:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;                type: 'POST',&#xA;                url: 'assets/db/verificarEmail.php',&#xA;                dataType: 'json',&#xA;                data: 'email=' + $(this).val()&#xA;            })&#xA;            .done(function(data) {&#xA;              if(data.err) {&#xA;                Swal.fire({&#xA;                    position: 'top-end',&#xA;                    type: 'error',&#xA;                    title: 'El email ingresado ya se encuentra registado',&#xA;                    showConfirmButton: false,&#xA;                    timer: 2500&#xA;                  });&#xA;                  $('#password').attr('disabled','');&#xA;                $(this).removeClass('border-success');&#xA;              }&#xA;&#xA;            })&#xA;            .fail(function(data) {&#xA;                console.log('Falló!');&#xA;                console.log( data ); &#xA;            }) &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El problema tiene que ver con las rutas, pero no he logrado dar con la solución, cómo se puede solventar?&lt;/p&gt;&#xA;"" OwnerDisplayName=""user13764"" LastEditorUserId=""133271"" LastEditDate=""2019-08-16T17:18:25.470"" LastActivityDate=""2019-08-16T17:18:25.470"" Title=""Petición AJAX y problemas con rutas en producción"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""294477"" PostTypeId=""1"" CreationDate=""2019-09-18T02:04:09.643"" Score=""0"" ViewCount=""37"" Body=""&lt;p&gt;estoy intentado hacer un formulario de registro con php, mysql y ajax.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;El error es que no me registra el usuario en la base de datos, doy todos los parametros con las variables correspondientes sin embargo no registra nada en la base de datos&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy usando PDO, sucede que al mandar el submit mediante el botón salta error y no entiendo por qué, gracias de antemano =D&lt;/p&gt;&#xA;&#xA;&lt;p&gt;También hago uso de google recaptcha, he borrado la clave secreta por motivos de seguridad.&#xA;Agradecería cualquier sugerencia para mejorar la seguridad del formulario!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Código de PHP:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require '../../config.php'; // datos de la base de datos, database data&#xA;&#xA;function isNull($data){&#xA;    if (strlen(trim($data)) &amp;lt; 1) {&#xA;        return true;&#xA;    } else {&#xA;        return false;&#xA;    }&#xA;}&#xA;&#xA;function verifyPassword($pass1, $pass2) {&#xA;    if (strcmp($pass1, $pass2) !== 0) {&#xA;        return false;&#xA;    } else {&#xA;        return true;&#xA;    }&#xA;}&#xA;&#xA;function isEmail($email) {&#xA;    if (filter_var($email, FILTER_VALIDATE_EMAIL)) {&#xA;        return true;&#xA;    } else {&#xA;        return false;&#xA;    }&#xA;}&#xA;&#xA;function registerUser($username, $email, $password, $btc_wallet, $user_type){&#xA;    global $con;&#xA;    $stmt = $con-&amp;gt;prepare(&quot;INSERT INTO usuarios (username, email, password, btc_wallet, user_type) VALUES(:username, :email, :password, :btc_wallet, :user_type)&quot;);&#xA;    $stmt-&amp;gt;bindParam(':username', $username, PDO::PARAM_STR);&#xA;    $stmt-&amp;gt;bindParam(':email', $email, PDO::PARAM_STR);&#xA;    $stmt-&amp;gt;bindParam(':password', $password, PDO::PARAM_STR);&#xA;    $stmt-&amp;gt;bindParam(':btc_wallet', $btc_wallet, PDO::PARAM_STR);&#xA;    $stmt-&amp;gt;bindParam(':user_type', $user_type, PDO::PARAM_STR);&#xA;&#xA;    if ($stmt-&amp;gt;execute()) {&#xA;        return $con-&amp;gt;insert_id;&#xA;    } else {&#xA;        return 0;&#xA;    }&#xA;}&#xA;&#xA;if (!empty($_POST)) {&#xA;    $giveBack = [];&#xA;    $user_type = 2;&#xA;    $secretKey = &quot;google_secret_key&quot;;&#xA;    introducir el código aquí&#xA;    $username = $_POST['username'];&#xA;    $btc_wallet = $_POST['wallet'];&#xA;    $email = strtolower($_POST['email']);&#xA;    $clave = $_POST['password'];&#xA;    $con_password = $_POST['con_password'];&#xA;    $captcha = $_POST['grecaptcha'];&#xA;&#xA;    $search_user = $con-&amp;gt;prepare(&quot;SELECT * FROM usuarios WHERE username='$username' LIMIT 1&quot;);&#xA;    $search_user-&amp;gt;bindParam(':username', $username, PDO::PARAM_STR);&#xA;    $search_user-&amp;gt;execute();&#xA;&#xA;    //if (!captcha) $giveBack[] = &quot;Por favor, verifica el captcha&quot;;&#xA;    if (isNull($username) || isNull($btc_wallet) || isNull($email) || isNull($clave) || isNull($con_password)) $giveBack[] = &quot;Por favor, completa todos los campos.&quot;;&#xA;    if (!isEmail($email)) $giveBack[] = &quot;Email invalido&quot;;&#xA;    if (!verifyPassword($clave, $con_password)) $giveBack[] = &quot;Las contraseñas no coinciden&quot;;&#xA;    if ($search_user-&amp;gt;rowCount() == 1) {&#xA;        # Usuario ya existe, proceder a enviar un mensaje&#xA;        $giveBack['usernameError'] = &quot;Este usuario ya existe&quot;;&#xA;        $giveBack['isLogin'] = false;&#xA;    }&#xA;&#xA;    if (count($giveBack) == 0) {&#xA;        $response = file_get_contents(&quot;https://www.google.com/recaptcha/api/siteverify?secret=$secret&amp;amp;response=$captcha&quot;);&#xA;        $arr = json_decode($response, TRUE);&#xA;&#xA;        if ($arr['success']) {&#xA;            # Creamos el hash para el password&#xA;            $password = password_hash($clave, PASSWORD_DEFAULT);&#xA;&#xA;            $register = registerUser($username, $email, $password, $btc_wallet, $user_type);&#xA;&#xA;            if ($register &amp;gt; 0) {&#xA;                # Recuperando el id&#xA;                $user_id = $con-&amp;gt;lastInsertId();&#xA;                $_SESSION['user_id'] = (int) $user_id;&#xA;                $giveBack['redirect'] = '';&#xA;                $giveBack['isLogin'] = true;&#xA;            } else {&#xA;                $giveBack[] = 'Error al registrar';&#xA;            }&#xA;        } else {&#xA;            $giveBack['errorToCheckCaptcha'] = 'Error al comprobar el captcha';&#xA;        }&#xA;    }&#xA;    json_encode($giveBack);&#xA;} else {&#xA;    exit(&quot;Fuera de aquí&quot;);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Código de Javascript:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;const url = 'http://localhost/faucet_st/api/user/signup/process-signup.php';&#xA;&#xA;var username = document.getElementById(&quot;username&quot;).value;&#xA;var wallet = document.getElementById(&quot;btc_wallet&quot;).value;&#xA;var email = document.getElementById(&quot;email&quot;).value;&#xA;var password = document.getElementById(&quot;password&quot;).value;&#xA;var con_password = document.getElementById(&quot;con_password&quot;).value;&#xA;&#xA;var data = {&#xA;    username: username,&#xA;    wallet: wallet,&#xA;    email: wallet,&#xA;    password: wallet,&#xA;    con_password: con_password,&#xA;    grecaptcha: grecaptcha.getResponse()&#xA;}&#xA;&#xA;$.ajax({&#xA;    type: 'POST',&#xA;    url: url,&#xA;    data: data,&#xA;    dataType: 'json',&#xA;})&#xA;.done((res) =&amp;gt; {&#xA;    console.log(res);&#xA;})&#xA;.fail((e) =&amp;gt; {&#xA;    console.log(e);&#xA;})&#xA;.always(() =&amp;gt; {});&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Agradecería que me ayudaran con este problema, he intentado resolverlo todo el día, pero no encontré solución, seguiré buscando la solución, pero agradezco cualquier ayuda de parte suya.&lt;/p&gt;&#xA;"" OwnerUserId=""142091"" LastEditorUserId=""65107"" LastEditDate=""2019-09-18T04:09:05.397"" LastActivityDate=""2019-09-18T04:09:05.397"" Title=""Error al registrarse en un formulario php, mysql, ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;pdo&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""296360"" PostTypeId=""1"" AcceptedAnswerId=""296404"" CreationDate=""2019-09-26T07:47:32.240"" Score=""0"" ViewCount=""820"" Body=""&lt;p&gt;Tengo el siguiente problema, tengo un formulario muy extenso que se envía por ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function submitform() {&#xA;    var data= $('#wizardform').serializeArray();&#xA;&#xA;    $.ajax({&#xA;        url : './DAO/crearestudio.php',&#xA;        type: 'POST',&#xA;        data : {&#xA;            data : data&#xA;        }&#xA;    }).done(function(response){&#xA;        console.log(&quot;click en finalizar&quot;)&#xA;    }).fail(function () {&#xA;        console.log(&quot;no se puede enviar&quot;)&#xA;    })&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Luego en &lt;code&gt;crearestudio.php&lt;/code&gt; recibo los datos y relleno una web html con los datos generados y la meto en una variable:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$body='   &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;Gastos repuestos media por vehículo año&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;'.$jsonestudio[16][&quot;value&quot;].'&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt; esto es un ejemplo porque el html tiene 600 lineas';&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;He intentado guardarlo como archivo PDF pero no me sale como quiero, se me rompe el estilo. Entonces he pensado en imprimir esta variable por la impresora o guardarla de alguna manera ya que si hago un &lt;code&gt;echo $body;&lt;/code&gt;, Sí se muestra el contenido correctamente.&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;¿Como puedo imprimir esa variable, o que se me muestre en el navegador esa web? Ayuda por favor, estoy atascado, Gracias de antemano&lt;/p&gt;&#xA;"" OwnerUserId=""129981"" LastEditorUserId=""129981"" LastEditDate=""2019-09-26T10:34:28.867"" LastActivityDate=""2019-09-26T13:17:37.543"" Title=""Abrir en nueva ventana variable con una pagina html rellenada dinámicamente por Ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""9"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""297634"" PostTypeId=""1"" CreationDate=""2019-10-01T17:32:14.770"" Score=""1"" ViewCount=""184"" Body=""&lt;p&gt;Tengo el siguiente problema sin resolver desde hace semanas:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tengo una pequeña aplicación híbrida para móvil realizada con apache cordova (sin uso de frameworks tipo ionic jquery mobile, etc...)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta aplicación realiza una llamada a un web service para recuperar un json. Para ello utilizo la función fetch de javascript &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Al probar la aplicación con phonegap desde el movil funciona perfectamente&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Al compilar, generar la firma y instalarla como icono de escritorio en el movil, la llamada al web service deja de funcionar (aparece un error del tipo: fail to fetch)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En el config.xml de la aplicación tengo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;plugin name=&quot;cordova-plugin-whitelist&quot; spec=&quot;1.0.0&quot; /&amp;gt;&#xA;&amp;lt;access origin=&quot;http://*&quot; /&amp;gt;&#xA;&amp;lt;allow-navigation href=&quot;*&quot; /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el archivo AndroidManifest.xml tengo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el index.html, dentro de la meta de content-security-policy tengo&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline' http://alcyon-it.com/; style-src 'self' 'unsafe-inline' ; media-src *; img-src 'self' data: content:&quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En la llamada ajax al web service tengo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;fetch(url, {&#xA;   method: 'POST', &#xA;   mode: 'cors', &#xA;   body: datos,&#xA;   cache: 'no-cache'&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y en el web service php al que llamo (que es propio) tengo:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;header('Access-Control-Allow-Origin: *');&#xA;header('Access-Control-Allow-Methods: POST');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Es decir, tengo activo todo para que la llamada funcione pero sin embargo no hay forma de que lo haga&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Agracedería si hay alguien que pueda orientarme&lt;/p&gt;&#xA;"" OwnerUserId=""143532"" LastActivityDate=""2019-10-01T17:32:14.770"" Title=""Error en fetch al consumir un web service en una aplicación hibrida realizada con apache cordova"" Tags=""&lt;ajax&gt;&lt;apache&gt;&lt;cordova&gt;&lt;fetch&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""302557"" PostTypeId=""1"" AcceptedAnswerId=""302563"" CreationDate=""2019-10-21T20:54:36.040"" Score=""3"" ViewCount=""1980"" Body=""&lt;p&gt;Tengo un problema  al momento de recibir el &lt;code&gt;json&lt;/code&gt; me dice este error: &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;strong&gt;SyntaxError: Unexpected end of JSON input.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Aquí esta mi código.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En esta parte tengo mi código de &lt;code&gt;php&lt;/code&gt; con el que hago la consulta a la base de datos y retornarla al archivo &lt;code&gt;javascript&lt;/code&gt; como formato &lt;code&gt;json&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;edita_usuario.php:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php  &#xA; //fetch.php  &#xA; include_once '../conexion.php'; &#xA; if(isset($_POST[&quot;id_user&quot;]))  &#xA; {   &#xA;&#xA;&#xA;    $Query = &quot;SELECT * FROM usuarios WHERE id_usuario = '&quot;.$_POST[&quot;id_user&quot;].&quot;'&quot;;&#xA;    $sql = $conn-&amp;gt;prepare($Query);&#xA;    $sql-&amp;gt;execute();&#xA;    if ($sql-&amp;gt;rowCount() &amp;gt; 0) {&#xA;        while ($rows = $sql -&amp;gt;fetch(PDO::FETCH_ASSOC)) {&#xA;            $datos[] = $rows;&#xA;        }&#xA;        echo json_encode($datos);die;&#xA;    }&#xA;}&#xA; ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En esta función envío el &lt;strong&gt;&lt;em&gt;id_user&lt;/em&gt;&lt;/strong&gt; lo cual si funciona correctamente, el problema viene cuando intenta recibir el &lt;code&gt;json&lt;/code&gt;.&#xA;ajax:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function editUser(id_user) {&#xA;    var id = $(this).attr('id');&#xA;    $.ajax({&#xA;        type: &quot;POST&quot;,&#xA;        url: &quot;model/usuario/edita_usuario.php&quot;,&#xA;        data: { id: id_user },&#xA;        dataType: 'json',&#xA;        beforeSend: function(data) {&#xA;            console.log(id_user);&#xA;        },&#xA;        success: function(data) {&#xA;            $('#nombre').val(data.nombre);&#xA;            $('#apellidop').val(data.apellidop);&#xA;            $('#apellidom').val(data.apellidom);&#xA;            $('#contrasena').val(data.contrasena);&#xA;            $('#id_rol').val(data.id_rol);&#xA;            $('#nombre_usuario').val(data.username);&#xA;            $('#status').val(data.status);&#xA;            $('#modalForm').modal('show');&#xA;&#xA;        }&#xA;&#xA;    }).fail(function(jqXHR, textStatus, errorThrown) {&#xA;        console.log(errorThrown, textStatus, jqXHR);&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""146031"" LastEditorUserId=""131184"" LastEditDate=""2019-10-21T22:46:47.463"" LastActivityDate=""2019-10-21T22:46:47.463"" Title=""SyntaxError: Unexpected end of JSON input"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""302660"" PostTypeId=""1"" CreationDate=""2019-10-22T09:12:15.210"" Score=""0"" ViewCount=""1372"" Body=""&lt;p&gt;En consola me muestra este error. No consigo subir un fichero a un servidor utilizando modales con php y el metódo $.post. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;El modals sería este incluido en index: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;modal fade addModal&quot; id=&quot;addModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;addModalLabel&quot; aria-hidden=&quot;true&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;modal-dialog modal-lg&quot; role=&quot;group&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xA;                &amp;lt;h5 class=&quot;modal-title&quot;&amp;gt;&amp;lt;/h5&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&#xA;                    &amp;lt;span aria-hidden=&quot;true&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&#xA;                &amp;lt;/button&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;                &amp;lt;?php include 'new_version.php'; ?&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;                        &#xA;                &amp;lt;div id=&quot;operations&quot;&amp;gt;&#xA;                    &amp;lt;form class=&quot;add-form-modal&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;                        &amp;lt;button class=&quot;fa fa-edit btn btn-success&quot;&amp;gt; Guardar&amp;lt;/button&amp;gt;&#xA;                        &amp;lt;button type=&quot;button&quot; class=&quot;fa fa-ban btn btn-warning&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&amp;gt; Ignorar&amp;lt;/button&amp;gt;&#xA;                    &amp;lt;/form&amp;gt;&#xA;                &amp;lt;/div&amp;gt; &#xA;            &amp;lt;/div&amp;gt;                        &#xA;            &amp;lt;div id=&quot;infoAdd&quot;&amp;gt;&#xA;            &amp;lt;/div&amp;gt;                     &#xA;            &amp;lt;div id=&quot;errorsAdd&quot;&amp;gt;&#xA;            &amp;lt;/div&amp;gt;                     &#xA;        &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;               &#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El div que recoge la imágen es este:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;custom-file target_file&quot;&amp;gt;&#xA;    &amp;lt;input type=&quot;file&quot; class=&quot;custom-file-input&quot; id=&quot;data&quot; name=&quot;data&quot; value=&quot;&amp;lt;?php echo $versionfile-&amp;gt;target_file ?&amp;gt;&quot; required=&quot;&quot;&amp;gt;&#xA;    &amp;lt;label class=&quot;custom-file-label&quot; for=&quot;data&quot;&amp;gt; Seleccionar archivo ... &amp;lt;/label&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y el ajax es este:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        $(document).ready(function () {&#xA;            $('.add-form-modal').submit(processFormAdd);&#xA;//&#xA;            function processFormAdd() {&#xA;                //Stop form from submitting normally&#xA;                event.preventDefault();&#xA;&#xA;                target_name = $(&quot;#newtarget_name&quot;).val();&#xA;                disabled = $(&quot;#newdisabled&quot;).val();&#xA;                iduser = $(&quot;#newiduser&quot;).val();&#xA;                modificatedate = $(&quot;#newmodificatedate&quot;).val();&#xA;&#xA;                var frmData = new FormData(this);&#xA;                var files = $(&quot;#data&quot;)[0].files[0];&#xA;                frmData.append('file', files);&#xA;&#xA;                var url = &quot;&amp;lt;?php echo url_for('/views/staff/docum/new_version.php?iddoc='); ?&amp;gt;&quot; + iddoc;&#xA;                // hay que mirar la BBDD como se llaman las columnas (o en admin.class.php)&#xA;                var options = {'idfile': iddoc, 'target_name': target_name, 'disabled': disabled, 'iduser': iduser, 'modificatedate': modificatedate, 'target_file': frmData};&#xA;&#xA;                // Send the data using post&#xA;                var posting = $.post(url, options);&#xA;                // Put the results in a div&#xA;                posting.done(function (data, textStatus, jQxhr) {&#xA;                    alert(&quot;Ajax success data perform &quot; + data);&#xA;                    $('#errorsAdd').html('&amp;lt;div class=&quot;alert alert-success&quot;&amp;gt; Información añadida con exito &amp;lt;/div&amp;gt;').delay(2000).fadeOut(&quot;slow&quot;);&#xA;&#xA;                    $('.add-form-modal')[0].reset();&#xA;                    setTimeout(function () {&#xA;                        location.reload();&#xA;                    }, 3000);&#xA;&#xA;                }).fail(function (jqXhr, textStatus, errorThrown) {&#xA;                    $('#info').html('&amp;lt;div class=&quot;alert alert-error&quot;&amp;gt; Error al procesar la información &amp;lt;/div&amp;gt;').fadeOut(5000);&#xA;                    alert(&quot;Ajax show throws: &quot; + errorThrown);&#xA;                    if (console &amp;amp;&amp;amp; console.log) {&#xA;                        console.log(&quot;La solicitud a fallado: &quot; + textStatus);&#xA;                    }&#xA;                });&#xA;            }&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero me muestra ese error y no consigo de ningún modo de subir el fichero. Por internet encontré que con el metódo &lt;strong&gt;$.ajax&lt;/strong&gt; se tiene que añadir &lt;strong&gt;proccessData:false&lt;/strong&gt; pero aquí como se hace?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;De mencionar que anteriormente tenia toda la app solo php y me funcionaba, me subia el fichero al servidor.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Gracias de antemano. Saludos&lt;/p&gt;&#xA;"" OwnerDisplayName=""user76018"" LastEditorDisplayName=""user76018"" LastEditDate=""2019-10-22T10:36:10.213"" LastActivityDate=""2019-10-22T10:36:10.213"" Title=""TypeError: 'append' called on an object that does not implement interface FormData con el metódo $.post()"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;bootstrap&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""303526"" PostTypeId=""1"" CreationDate=""2019-10-25T03:13:42.797"" Score=""2"" ViewCount=""91"" Body=""&lt;p&gt;Actualmente he estado probando y practicando laravel, ajax y datatables, arme una estructura básica de ajax para recibir y obtener unos datos al recargar la pagina es decir hago una solicitud a un controlador  y la respuesta al cargar la web me  trae unos datos  sencillos , cual serie el error? A veces al cargar por ejemplo una tabla ponte que 1 de 30 me genera un error y se va por el .fail() cosa que no entiendo,el código ajax es el siguiente&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  function change_number(){&#xA;  $.ajax({&#xA;    url: comprasurl,&#xA;    type: 'POST',&#xA;    dataType: 'json',&#xA;    data: {'action': 'change_number','fecha':$('#fecha_number').val()},&#xA;  })&#xA;  .done(function(data) {&#xA;    $('.content-numbers').html('');&#xA;    if (data &amp;gt; 0) {&#xA;      var content =data+1;&#xA;      $('.content-numbers').append('&amp;lt;input type=&quot;hidden&quot; name=&quot;codigo_num&quot; value=&quot;'+content+'&quot;&amp;gt;');&#xA;    }else{&#xA;      $('.content-numbers').append('&amp;lt;input type=&quot;hidden&quot; name=&quot;codigo_num&quot; value=&quot;1&quot;&amp;gt;');&#xA;    }&#xA;  })&#xA;  .fail(function() {&#xA;    console.log(&quot;error&quot;);&#xA;  })&#xA;  .always(function() {&#xA;    console.log(&quot;complete&quot;);&#xA;  });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el archivo que recibe en este caso el controlador  simplemente tengo esto para pruebas y saco un alert o mensaje solo para probar y aprender pero a veces cuando le doy f5 en la consola pinta error y en la herramienta para ver el status sale como si no llegara a la dirección de la url  soy novato en este punto y quisiera implementar buenas practicas y todo pero que podría estar mal con mi código?&#xA;Esto ultimo seria la función store de mi controlador que recibe la data &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function store(Request $request){&#xA;    if ($request-&amp;gt;has('action')) {&#xA;        $data = $request-&amp;gt;all();&#xA;        switch ($data['action']) {&#xA;            case 'change_number':&#xA;                $fech = explode('-', $request-&amp;gt;input('fecha'));&#xA;                $num = $this-&amp;gt;compras::whereMonth('create_at',$fech[1])-&amp;gt;whereYear('create_at',$fech[0])-&amp;gt;orderBy('codigo_num','DESC')-&amp;gt;first();&#xA;                if (!empty($num)) {&#xA;                    return $num-&amp;gt;codigo_num;&#xA;                }else{&#xA;                    return 0;&#xA;                }&#xA;            break;&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""146535"" LastActivityDate=""2019-10-25T03:13:42.797"" Title=""Solicitud ajax al cargar pagina termina con error a veces"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;laravel&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""306369"" PostTypeId=""1"" CreationDate=""2019-11-06T15:51:58.973"" Score=""0"" ViewCount=""949"" Body=""&lt;p&gt;tengo un problema la momento de cambiar los estado de activo a inactivo se me cambia en la vista pero en la base de datos no se me cambia sigue estando activo, solo tengo ese problema, aquí debajo pongo a disposición el código fuente de ese apartado. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Iv6ms.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Iv6ms.png&quot; alt=&quot;IMAGEN 1 ACTIVO EN BD&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/1QpEl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/1QpEl.png&quot; alt=&quot;IMAGEN 2 VISTAS ACTIVOS&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/pcVoY.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/pcVoY.png&quot; alt=&quot;VISTA INACTIVOS&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Qmmv5.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Qmmv5.png&quot; alt=&quot;SIGUEN ACTIVOS AUNQUE YA EN LA VISTA ESTAN INACTIVOS&quot;&gt;&lt;/a&gt;&#xA;..........................................................................................................................................................................&#xA;....................................................................................................................................................................................................................................................................................................................................................&#xA;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;_recursos/js/consola_personal.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;_recursos/input-file/css/diseño_input_2.css&quot;&amp;gt;&#xD;&#xA;&amp;lt;script src=&quot;_recursos/input-file/js/bootstrap-uploader/file-upload.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;contendor_kn&quot;&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;panel panel-default&quot;&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;panel-heading&quot;&amp;gt;&#xD;&#xA;        &amp;lt;h2&amp;gt;&amp;lt;b&amp;gt;PERSONAL REGISTRADO&amp;lt;/b&amp;gt;&amp;lt;/h2&amp;gt;            &#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;panel-body&quot;&amp;gt;&#xD;&#xA;	    &amp;lt;br&amp;gt;&#xD;&#xA;	    &amp;lt;div class=&quot;col-md-10&quot;&amp;gt; &#xD;&#xA;	        &amp;lt;div class=&quot; input-group&quot;&amp;gt;&#xD;&#xA;	          	&amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Ingrese el documento de identidad nacional&quot; id=&quot;txtbuscar_personal&quot;  onkeypress=&quot;return soloNumeros(event)&quot;  &amp;gt;&#xD;&#xA;	          	&amp;lt;span class=&quot;input-group-addon&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-search&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&#xD;&#xA;	        &amp;lt;/div&amp;gt;&#xD;&#xA;	    &amp;lt;/div&amp;gt;&#xD;&#xA;	    &amp;lt;div class=&quot;col-md-2&quot;&amp;gt;&#xD;&#xA;	       &amp;lt;button style=&quot;width:100%&quot; class=&quot;btn btn-danger&quot; onclick=&quot;cargar_contenido('main-content','Personal/vista_registrar_personal.php')&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-plus-square&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;amp;nbsp;&amp;lt;b&amp;gt;Nuevo Registro&amp;lt;/b&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&#xD;&#xA;        &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xD;&#xA;            &amp;lt;div class=&quot;table-responsive&quot; style=&quot;text-align: center;&quot;&amp;gt;&#xD;&#xA;            	&amp;lt;br&amp;gt;&#xD;&#xA;            	&amp;lt;label&amp;gt;LISTADO DEL PERSONAL ADMINISTRATIVO&amp;lt;/label&amp;gt;&#xD;&#xA;                &amp;lt;div id=&quot;lista_personal_tabla&quot; class=&quot;icon-loading&quot;&amp;gt;&#xD;&#xA;                &amp;lt;/div&amp;gt;&#xD;&#xA;                &amp;lt;p id=&quot;paginador_personal_tabla&quot; style=&quot;text-align:right&quot; class=&quot;mi_paginador&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;              &amp;lt;/div&amp;gt;&#xD;&#xA;         &amp;lt;/div&amp;gt;&#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;!-- INICIO MODAL --&amp;gt;&#xD;&#xA;&amp;lt;div class=&quot;modal fade bs-example-modal-lg&quot; id=&quot;modal_editar_personal&quot;&amp;gt;&#xD;&#xA;  &amp;lt;div class=&quot;modal-dialog modal-lg&quot;&amp;gt;&#xD;&#xA;    &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xD;&#xA;         &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xD;&#xA;           &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&amp;lt;span aria-hidden=&quot;true&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&#xD;&#xA;           &amp;lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&amp;gt;&amp;lt;b&amp;gt;Editar Personal&amp;lt;/b&amp;gt;&amp;lt;/h4&amp;gt;&#xD;&#xA;         &amp;lt;/div&amp;gt;&#xD;&#xA;      	&amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xD;&#xA;			&amp;lt;div class=&quot;panel-body&quot;&amp;gt;&#xD;&#xA;	                    &amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot; id=&quot;txtidciudadano&quot; hidden &amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Nombres &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; onkeypress=&quot;return soloLetras(event)&quot; id=&quot;txtnombre_alimentos&quot; placeholder=&quot;Ingrese Nombres&quot; maxlength=&quot;&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;&#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Apellido Paterno &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot;onkeypress=&quot;return soloLetras(event)&quot;id=&quot;txtapellidopaterno&quot; placeholder=&quot;Ingrese Apellido Paterno&quot; maxlength=&quot;&quot;&amp;gt;&#xD;&#xA;	                       &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;&#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label &amp;gt;Apellido Materno &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; onkeypress=&quot;return soloLetras(event)&quot; id=&quot;txtapellidomaterno&quot; placeholder=&quot;Ingrese Apelido Materno&quot; maxlength=&quot;&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt; &#xD;&#xA;	                    &amp;lt;div class=&quot;col-sm-6&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label &amp;gt;Tel&amp;amp;eacute;fono &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; onkeypress=&quot;return soloNumeros(event)&quot; id=&quot;txttelefono_modal&quot; placeholder=&quot;Ingrese nro telefóno&quot; maxlength=&quot;9&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;        &#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-6&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Movil &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot;class=&quot;form-control&quot; id=&quot;txtmovil_modal&quot;  onkeypress=&quot;return soloNumeros(event)&quot; placeholder=&quot;Ingrese nro movil&quot; maxlength=&quot;9&quot;&amp;gt;&#xD;&#xA;	                            &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt; &#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-8&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Direcci&amp;amp;oacute;n &amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot;  class=&quot;form-control&quot; id=&quot;txtdireccion_modal&quot; placeholder=&quot;Ingrese dirección&quot; maxlength=&quot;200&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt; &#xD;&#xA;	                    &amp;lt;div class=&quot;col-sm-4&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Fecha Nacimiento&amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;div class=&quot; input-group&quot;&amp;gt;&#xD;&#xA;	                          &amp;lt;div class=&quot;input-group-addon&quot;&amp;gt;&#xD;&#xA;	                            &amp;lt;i class=&quot;fa fa-calendar&quot;&amp;gt;&amp;lt;/i&amp;gt;&#xD;&#xA;	                          &amp;lt;/div&amp;gt;&#xD;&#xA;	                          &amp;lt;input type=&quot;date&quot; style=&quot;padding: 0px 12px;background-color: #FFFFFF;font-weight:bold;&quot; id=&quot;txtfecha_modal&quot;  class=&quot;form-control&quot;  &amp;gt;&#xD;&#xA;	                        &amp;lt;/div&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;&#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Nro Documento&amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot;  class=&quot;form-control&quot;  onkeypress=&quot;return soloNumeros(event)&quot; id=&quot;txtnrodocumento&quot; style=&quot;width: 100%;&quot; placeholder=&quot;Ingrese nro Documento&quot; maxlength=&quot;8&quot;&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;&#xD;&#xA;	                    &amp;lt;div class=&quot;col-sm-4&quot;&amp;gt;&#xD;&#xA;	                        &amp;lt;label&amp;gt;Email&amp;lt;/label&amp;gt;&#xD;&#xA;	                        &amp;lt;input type=&quot;text&quot;  class=&quot;form-control&quot; id=&quot;txtemail_modal&quot; style=&quot;width: 100%;&quot; placeholder=&quot;Ingrese nro Documento&quot; maxlength=&quot;80&quot;&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt; &#xD;&#xA;	                    &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xD;&#xA;	                    	&amp;lt;label&amp;gt;Estado&amp;lt;/label&amp;gt;&#xD;&#xA;					        &amp;lt;select id=&quot;cmb_estadopersonal&quot; style=&quot;width: 100%&quot; class=&quot;form-control select2&quot;&amp;gt;&#xD;&#xA;					           &amp;lt;option value=&quot;ACTIVO&quot;&amp;gt;ACTIVO&amp;lt;/option&amp;gt;&#xD;&#xA;					           &amp;lt;option value=&quot;INACTIVO&quot;&amp;gt;INACTIVO&amp;lt;/option&amp;gt;&#xD;&#xA;					        &amp;lt;/select&amp;gt;&#xD;&#xA;	                    &amp;lt;/div&amp;gt;  &#xD;&#xA;			&amp;lt;/div&amp;gt;         &#xD;&#xA;        &amp;lt;/div&amp;gt; &#xD;&#xA;        &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xD;&#xA;        	&amp;lt;button  class=&quot;btn btn-success&quot; onclick=&quot;Editar_personal()&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-check&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;amp;nbsp;&amp;lt;b&amp;gt;Modificar Personal&amp;lt;/b&amp;gt;&amp;lt;/button&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&#xD;&#xA;            &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-close&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;amp;nbsp;&amp;lt;b&amp;gt;Cancelar&amp;lt;/b&amp;gt;&amp;lt;/button&amp;gt;&#xD;&#xA;        &amp;lt;/div&amp;gt; &#xD;&#xA;    &amp;lt;/div&amp;gt;&#xD;&#xA;  &amp;lt;/div&amp;gt; &#xD;&#xA;&amp;lt;/div&amp;gt;&#xD;&#xA;&amp;lt;style type=&quot;text/css&quot;&amp;gt;&#xD;&#xA;	.contendor_kn{&#xD;&#xA;		padding: 10px;&#xD;&#xA;	}&#xD;&#xA;&amp;lt;/style&amp;gt; &#xD;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;listar_personal_vista('','1');&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xD;&#xA;  $(&quot;#txtbuscar_personal&quot;).keyup(function(){&#xD;&#xA;    var dato_buscar = $(&quot;#txtbuscar_personal&quot;).val();&#xD;&#xA;    listar_personal_vista(dato_buscar,'1');&#xD;&#xA;  });&#xD;&#xA;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script&amp;gt;&#xD;&#xA;    function soloLetras(e){&#xD;&#xA;       key = e.keyCode || e.which;&#xD;&#xA;       tecla = String.fromCharCode(key).toLowerCase();&#xD;&#xA;       letras = &quot; áéíóúabcdefghijklmnñopqrstuvwxyz&quot;;&#xD;&#xA;       especiales = &quot;8-37-39-46&quot;;&#xD;&#xA;&#xD;&#xA;       tecla_especial = false&#xD;&#xA;       for(var i in especiales){&#xD;&#xA;            if(key == especiales[i]){&#xD;&#xA;                tecla_especial = true;&#xD;&#xA;                break;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        if(letras.indexOf(tecla)==-1 &amp;amp;&amp;amp; !tecla_especial){&#xD;&#xA;            return false;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;  	function soloNumeros(e){&#xD;&#xA;      	tecla = (document.all) ? e.keyCode : e.which;&#xD;&#xA;      //Tecla de retroceso para borrar, siempre la permite&#xD;&#xA;	    if (tecla==8){&#xD;&#xA;          return true;&#xD;&#xA;    	}  &#xD;&#xA;      // Patron de entrada, en este caso solo acepta numeros&#xD;&#xA;      	patron =/[0-9]/;&#xD;&#xA;      	tecla_final = String.fromCharCode(tecla);&#xD;&#xA;      	return patron.test(tecla_final);&#xD;&#xA;  	}&#xD;&#xA;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script&amp;gt;&#xD;&#xA;    $(function () {&#xD;&#xA;        $('.select2').select2();&#xD;&#xA;    })&#xD;&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;PROCEDIMIENTO ALMACENADO!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;CREATE DEFINER=`root`@`localhost` PROCEDURE `PA_VERIFICARUSUARIO`(IN `_usu` VARCHAR(30), IN `_pass` VARCHAR(30))&#xD;&#xA;SELECT&#xD;&#xA;usuario.usu_nombre,&#xD;&#xA;usuario.usu_clave,&#xD;&#xA;CONCAT_WS(' ',personal.pers_nombres,personal.pers_apellidoPate,personal.pers_apellidoMate),&#xD;&#xA;&#xD;&#xA;tipo_usuario.cod_tipousuario,&#xD;&#xA;usuario.usu_foto,&#xD;&#xA;personal.personal_cod,&#xD;&#xA;tipo_usuario.tipusu_descripcion,&#xD;&#xA;usuario.cod_usuario,&#xD;&#xA;usuario.usu_estado&#xD;&#xA;FROM&#xD;&#xA;personal&#xD;&#xA;INNER JOIN usuario ON personal.usuario_cod = usuario.cod_usuario&#xD;&#xA;INNER JOIN tipo_usuario ON usuario.cod_tipousuario = tipo_usuario.cod_tipousuario&#xD;&#xA;WHERE usuario.usu_nombre = _usu AND usuario.usu_clave = _pass&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CONSOLA PERSONAL&#xA;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;function Limpieza_post_personal(){&#xD;&#xA;	$(&quot;#txtPersonaNombre&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtApellidoPaterno&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtApellidoMaterno&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtDireccion&quot;).val(&quot;&quot;);	&#xD;&#xA;	$(&quot;#txtDNI&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtGenero&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtFechaNacimiento&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtDistrito&quot;).val(&quot;&quot;);	&#xD;&#xA;	$(&quot;#txtProvincia&quot;).val(&quot;&quot;);	&#xD;&#xA;	$(&quot;#txtDepartamento&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtDireccion&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtTelefono&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#txtEmail&quot;).val(&quot;&quot;);&#xD;&#xA;	$(&quot;#combo_TipoPersonal&quot;).val(1);&#xD;&#xA;	$('#id_archivo_Fotografia').fileinput('reset');&#xD;&#xA;	$(&quot;#main-content&quot;).load(&quot;Personal/vista_listar_personal.php&quot;) &#xD;&#xA;}&#xD;&#xA;function listar_personal_vista(valor,pagina){&#xD;&#xA;	var pagina = Number(pagina);&#xD;&#xA;	$.ajax({&#xD;&#xA;		url:'../controlador/personal/controlador_ListarBuscar_personal.php',&#xD;&#xA;		type: 'POST',&#xD;&#xA;		data:'valor='+valor+'&amp;amp;pagina='+pagina+'&amp;amp;boton=buscar',&#xD;&#xA;		beforeSend: function(){&#xD;&#xA;			$(&quot;#loading_almacen&quot;).addClass(&quot;fa fa-refresh fa-spin fa-3x fa-fw&quot;);&#xD;&#xA;		},&#xD;&#xA;	    complete: function(){&#xD;&#xA;	      $(&quot;#loading_almacen&quot;).removeClass(&quot;fa fa-refresh fa-spin fa-3x fa-fw&quot;);&#xD;&#xA;	    },&#xD;&#xA;		success: function(resp){&#xD;&#xA;			var datos = resp.split(&quot;*&quot;); &#xD;&#xA;			var valores = eval(datos[0]); &#xD;&#xA;			if(valores.length&amp;gt;0){&#xD;&#xA;				var cadena = &quot;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;table  class='table table-condensed jambo_table'&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;thead  class=''&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;tr &amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center' hidden='true' &amp;gt;ID&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;NOMBRE Y APELLIDOS&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;DNI&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;SEXO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;FECHA NACIMIENTO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;PUESTO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;USUARIO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;ESTADO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th&amp;gt;ACCI&amp;amp;Oacute;N&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/thead&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;tbody&amp;gt;&quot;;&#xD;&#xA;				for(var i = 0 ; i&amp;lt;valores.length; i++){&#xD;&#xA;					cadena += &quot;&amp;lt;tr&amp;gt;&quot;;			&#xD;&#xA;					cadena += &quot;&amp;lt;td align='center' hidden&amp;gt;&quot;+valores[i][0]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td&amp;gt;&quot;+valores[i][1]+&quot; &quot;+valores[i][2]+&quot; &quot;+valores[i][3]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td align='center'&amp;gt;&quot;+valores[i][4]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td align='center'&amp;gt;&quot;+valores[i][5]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td align='center'&amp;gt;&quot;+valores[i][6]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td style='color:#9B0000; text-align:center;font-weight: bold;'&amp;gt;&quot;+valores[i][14]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;td style='color:#9B0000; text-align:center;font-weight: bold;'&amp;gt;&quot;+valores[i][13]+&quot;&amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					if (valores[i][12]==&quot;INACTIVO&quot;) {&#xD;&#xA;						cadena += &quot;&amp;lt;td style = 'text-align: center'&amp;gt; &amp;lt;span class='badge bg-danger' style='color:White;'&amp;gt;&quot;+valores[i][12]+&quot;&amp;lt;/span&amp;gt; &amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					}else{&#xD;&#xA;						cadena += &quot;&amp;lt;td  style = 'text-align: center'&amp;gt; &amp;lt;span class='badge bg-success' style='color:White;'&amp;gt;&quot;+valores[i][12]+&quot;&amp;lt;/span&amp;gt; &amp;lt;/td&amp;gt;&quot;;&#xD;&#xA;					}&#xD;&#xA;					cadena += &quot;&amp;lt;td&amp;gt;&amp;lt;button name='&quot;+valores[i][0]+&quot;*&quot;+valores[i][1]+&quot;*&quot;+valores[i][2]+&quot;*&quot;+valores[i][3]+&quot;*&quot;+valores[i][4]+&quot;*&quot;+valores[i][5]+&quot;*&quot;+valores[i][6]+&quot;*&quot;+valores[i][7]+&quot;*&quot;+valores[i][8]+&quot;*&quot;+valores[i][9]+&quot;*&quot;+valores[i][10]+&quot;*&quot;+valores[i][11]+&quot;*&quot;+valores[i][12]+&quot;*&quot;+valores[i][13]+&quot;*&quot;+valores[i][14]+&quot;' class='btn btn-primary' onclick='AbrirModalEditarPersonal(this)'&amp;gt;&amp;lt;span class='glyphicon glyphicon-pencil'&amp;gt;&amp;lt;/span&amp;gt;&quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt; &quot;;&#xD;&#xA;					cadena += &quot;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;				}&#xD;&#xA;				cadena += &quot;&amp;lt;/tbody&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/table&amp;gt;&quot;;&#xD;&#xA;				$(&quot;#lista_personal_tabla&quot;).html(cadena);&#xD;&#xA;				var totaldatos = datos[1];&#xD;&#xA;				var numero_paginas = Math.ceil(totaldatos/5); &#xD;&#xA;				var paginar = &quot;&amp;lt;ul class='pagination'&amp;gt;&quot;;&#xD;&#xA;				if(pagina&amp;gt;1){&#xD;&#xA;					paginar += &quot;&amp;lt;li&amp;gt;&amp;lt;a href='javascript:void(0)' onclick='listar_personal_vista(&quot;+'&quot;'+valor+'&quot;,&quot;'+1+'&quot;'+&quot;)'&amp;gt;&amp;amp;laquo;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					paginar += &quot;&amp;lt;li&amp;gt;&amp;lt;a href='javascript:void(0)' onclick='listar_personal_vista(&quot;+'&quot;'+valor+'&quot;,&quot;'+(pagina-1)+'&quot;'+&quot;)'&amp;gt;Anterior&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;				}&#xD;&#xA;				else{&#xD;&#xA;					paginar += &quot;&amp;lt;li class='disabled'&amp;gt;&amp;lt;a href='javascript:void(0)'&amp;gt;&amp;amp;laquo;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					paginar += &quot;&amp;lt;li class='disabled'&amp;gt;&amp;lt;a href='javascript:void(0)'&amp;gt;Anterior&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;				}&#xD;&#xA;				limite = 10;&#xD;&#xA;				div = Math.ceil(limite/2);&#xD;&#xA;				pagina_inicio = (pagina &amp;gt; div) ? (pagina - div):1;&#xD;&#xA;				if(numero_paginas &amp;gt; div){&#xD;&#xA;					pagina_restante = numero_paginas - pagina;&#xD;&#xA;					pagina_fin = (pagina_restante &amp;gt; div) ? (pagina + div) : numero_paginas;&#xD;&#xA;				}&#xD;&#xA;				else{&#xD;&#xA;					pagina_fin = numero_paginas;&#xD;&#xA;				}&#xD;&#xA;				for(i = pagina_inicio;i&amp;lt;=pagina_fin;i++){&#xD;&#xA;					if(i==pagina){&#xD;&#xA;						paginar +=&quot;&amp;lt;li class='active'&amp;gt;&amp;lt;a href='javascript:void(0)'&amp;gt;&quot;+i+&quot;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					}&#xD;&#xA;					else{&#xD;&#xA;						paginar += &quot;&amp;lt;li&amp;gt;&amp;lt;a href='javascript:void(0)' onclick='listar_personal_vista(&quot;+'&quot;'+valor+'&quot;,&quot;'+i+'&quot;'+&quot;)'&amp;gt;&quot;+i+&quot;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					}&#xD;&#xA;				}&#xD;&#xA;				if(pagina &amp;lt; numero_paginas){&#xD;&#xA;					paginar += &quot;&amp;lt;li&amp;gt;&amp;lt;a href='javascript:void(0)' onclick='listar_personal_vista(&quot;+'&quot;'+valor+'&quot;,&quot;'+(pagina+1)+'&quot;'+&quot;)'&amp;gt;Siguiente&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					paginar += &quot;&amp;lt;li&amp;gt;&amp;lt;a href='javascript:void(0)' onclick='listar_personal_vista(&quot;+'&quot;'+valor+'&quot;,&quot;'+numero_paginas+'&quot;'+&quot;)'&amp;gt;&amp;amp;raquo;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;				}&#xD;&#xA;				else{&#xD;&#xA;					paginar += &quot;&amp;lt;li class='disabled'&amp;gt;&amp;lt;a href='javascript:void(0)'&amp;gt;Siguiente&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;					paginar += &quot;&amp;lt;li class='disabled'&amp;gt;&amp;lt;a href='javascript:void(0)'&amp;gt;&amp;amp;raquo;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&quot;;&#xD;&#xA;				}&#xD;&#xA;				paginar += &quot;&amp;lt;/ul&amp;gt;&quot;;&#xD;&#xA;				$(&quot;#paginador_personal_tabla&quot;).html(paginar);&#xD;&#xA;			}else{&#xD;&#xA;				var cadena = &quot;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;table  class='table table-condensed jambo_table'&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;thead  class=''&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;tr &amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center' hidden='true' &amp;gt;ID&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;NOMBRE Y APELLIDOS&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;DNI&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;SEXO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;FECHA NACIMIENTO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;USUARIO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th style = 'text-align: center'&amp;gt;ESTADO&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;th&amp;gt;ACCI&amp;amp;Oacute;N&amp;lt;/th&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/thead&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;tbody&amp;gt;&quot;;&#xD;&#xA;				cadena +=&quot;&amp;lt;tr style = 'text-align: center'&amp;gt;&amp;lt;td colspan='8'&amp;gt;&amp;lt;strong&amp;gt;No se encontraron registros&amp;lt;/strong&amp;gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/tbody&amp;gt;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;/table&amp;gt;&quot;;&#xD;&#xA;				$(&quot;#lista_personal_tabla&quot;).html(cadena);&#xD;&#xA;				$(&quot;#paginador_personal_tabla&quot;).html(&quot;&quot;);&#xD;&#xA;			}&#xD;&#xA;		},&#xD;&#xA;		error: function(XMLHttpRequest, textStatus, errorThrown, jqXHR){&#xD;&#xA;			alert(&quot;SE PRODUJO UN ERROR&quot;);&#xD;&#xA;		}&#xD;&#xA;	});&#xD;&#xA;}&#xD;&#xA;function AbrirModalEditarPersonal(control){&#xD;&#xA;	var datos = control.name;&#xD;&#xA;	var datos_split = datos.split(&quot;*&quot;);&#xD;&#xA;	$(&quot;#modal_editar_personal&quot;).modal({backdrop: 'static', keyboard: false})&#xD;&#xA;	$(&quot;#modal_editar_personal&quot;).modal('show');&#xD;&#xA;	$(&quot;#txtidciudadano&quot;).val(datos_split[0]);&#xD;&#xA;	$(&quot;#txtnombre_alimentos&quot;).val(datos_split[1]);&#xD;&#xA;	$(&quot;#txtapellidopaterno&quot;).val(datos_split[2]);&#xD;&#xA;	$(&quot;#txtapellidomaterno&quot;).val(datos_split[3]);&#xD;&#xA;	$(&quot;#txtemail_modal&quot;).val(datos_split[10]);&#xD;&#xA;	$(&quot;#txtnrodocumento&quot;).val(datos_split[4]);&#xD;&#xA;	$(&quot;#txttelefono_modal&quot;).val(datos_split[8]);&#xD;&#xA;	$(&quot;#txtmovil_modal&quot;).val(datos_split[9]);&#xD;&#xA;	$(&quot;#txtdireccion_modal&quot;).val(datos_split[7]);&#xD;&#xA;	$(&quot;#txtfecha_modal&quot;).val(datos_split[6]);	&#xD;&#xA;	$(&quot;#cmb_estadopersonal&quot;).val(datos_split[12]).trigger(&quot;change&quot;);	&#xD;&#xA;}&#xD;&#xA;function Editar_personal(){&#xD;&#xA;	var codigo    = $(&quot;#txtidciudadano&quot;).val();&#xD;&#xA;	var nombre    = $(&quot;#txtnombre_alimentos&quot;).val();&#xD;&#xA;	var apepat    = $(&quot;#txtapellidopaterno&quot;).val();&#xD;&#xA;	var apemat    = $(&quot;#txtapellidomaterno&quot;).val();&#xD;&#xA;	var telefono  = $(&quot;#txttelefono_modal&quot;).val();&#xD;&#xA;	var movil     = $(&quot;#txtmovil_modal&quot;).val();&#xD;&#xA;	var direccion = $(&quot;#txtdireccion_modal&quot;).val();&#xD;&#xA;	var fecha     = $(&quot;#txtfecha_modal&quot;).val();&#xD;&#xA;	var nrodocume = $(&quot;#txtnrodocumento&quot;).val();&#xD;&#xA;	var email     = $(&quot;#txtemail_modal&quot;).val();&#xD;&#xA;	var estado    = $(&quot;#cmb_estadopersonal&quot;).val();&#xD;&#xA;	if(nombre.length&amp;gt;0 &amp;amp;&amp;amp; apepat.length&amp;gt;0 &amp;amp;&amp;amp; apemat.length&amp;gt;0 &amp;amp;&amp;amp; direccion.length&amp;gt;0 &amp;amp;&amp;amp; nrodocume.length&amp;gt;0 &amp;amp;&amp;amp; email.length&amp;gt;0 ){&#xD;&#xA;	}&#xD;&#xA;	else{&#xD;&#xA;		return swal(&quot;Falta Llenar Datos&quot;, &quot;&quot;, &quot;info&quot;);	&#xD;&#xA;	}	&#xD;&#xA;	$.ajax({&#xD;&#xA;		url:'../controlador/personal/controlador_editar_personal.php',&#xD;&#xA;		type:'POST',&#xD;&#xA;		data:{&#xD;&#xA;		codigo:codigo,&#xD;&#xA;		nombre:nombre,&#xD;&#xA;		apepat:apepat,		&#xD;&#xA;		apemat:apemat,&#xD;&#xA;		telefono:telefono,	&#xD;&#xA;		movil:movil,&#xD;&#xA;		direccion:direccion,&#xD;&#xA;		fecha:fecha,&#xD;&#xA;		nrodocume:nrodocume,&#xD;&#xA;		email:email,&#xD;&#xA;		estado:estado&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;	.done(function(resp){&#xD;&#xA;	&#xD;&#xA;&#xD;&#xA;		if (resp &amp;gt; 0) {&#xD;&#xA;			$(&quot;#modal_editar_personal&quot;).modal('hide');&#xD;&#xA;			 swal(&quot;Datos Actualizados!&quot;, &quot;&quot;, &quot;success&quot;);&#xD;&#xA;			 var dato_buscar = $(&quot;#txtbuscar_personal&quot;).val();&#xD;&#xA;			  listar_personal_vista(dato_buscar,'1');&#xD;&#xA;		}&#xD;&#xA;		else{&#xD;&#xA;			swal(&quot;! Registro no completado!&quot;, &quot;&quot;, &quot;error&quot;);	&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;	.fail(function( jqXHR, textStatus, errorThrown){&#xD;&#xA;		if (jqXHR.status === 0) {&#xD;&#xA;&#xD;&#xA;	    alert('Not connect: Verify Network.');&#xD;&#xA;&#xD;&#xA;	  } else if (jqXHR.status == 404) {&#xD;&#xA;&#xD;&#xA;	    alert('Requested page not found [404]');&#xD;&#xA;&#xD;&#xA;	  } else if (jqXHR.status == 500) {&#xD;&#xA;&#xD;&#xA;	    alert('Internal Server Error [500].');&#xD;&#xA;&#xD;&#xA;	  } else if (textStatus === 'parsererror') {&#xD;&#xA;&#xD;&#xA;	    alert('Requested JSON parse failed.');&#xD;&#xA;&#xD;&#xA;	  } else if (textStatus === 'timeout') {&#xD;&#xA;&#xD;&#xA;	    alert('Time out error.');&#xD;&#xA;&#xD;&#xA;	  } else if (textStatus === 'abort') {&#xD;&#xA;&#xD;&#xA;	    alert('Ajax request aborted.');&#xD;&#xA;&#xD;&#xA;	  } else {&#xD;&#xA;&#xD;&#xA;	    alert('Uncaught Error: ' + jqXHR.responseText);&#xD;&#xA;&#xD;&#xA;	  }&#xD;&#xA;	})			&#xD;&#xA;}&#xD;&#xA;function revisar_dni_personal(){&#xD;&#xA;	var nombre    = $(&quot;#txtnombre&quot;).val();&#xD;&#xA;	var apepat    = $(&quot;#txtapellidopaterno&quot;).val();&#xD;&#xA;	var apemat    = $(&quot;#txtapellidomaterno&quot;).val();&#xD;&#xA;	var fecha     = $(&quot;#txtfecha&quot;).val();&#xD;&#xA;	var direccion = $(&quot;#txtdireccion&quot;).val();&#xD;&#xA;	var dni       = $(&quot;#txtdni&quot;).val();&#xD;&#xA;	var sexo      = $(&quot;#txtGenero&quot;).val();&#xD;&#xA;	var email     = $(&quot;#txtemail&quot;).val();&#xD;&#xA;	var telefono  = $(&quot;#txttelefono&quot;).val();&#xD;&#xA;	var movil     = $(&quot;#txtmovil&quot;).val();&#xD;&#xA;	var usuario   = $(&quot;#txtusuario&quot;).val();&#xD;&#xA;	var clave     = $(&quot;#txtclave&quot;).val();&#xD;&#xA;	var tipo      = $(&quot;#cmbTipousuario&quot;).val();&#xD;&#xA;	var puesto    = $(&quot;#txtpuesto&quot;).val();&#xD;&#xA;	&#xD;&#xA;	if (nombre.length&amp;gt;0  &amp;amp;&amp;amp; apemat.length&amp;gt;0 &amp;amp;&amp;amp; apepat.length&amp;gt;0 &amp;amp;&amp;amp; fecha.length&amp;gt;0 &amp;amp;&amp;amp; direccion.length&amp;gt;0 ) {&#xD;&#xA;	}else{&#xD;&#xA;		return swal(&quot;Faltan Llenar Datos&quot;,&quot;&quot;,&quot;info&quot;);&#xD;&#xA;	}&#xD;&#xA;	if (dni.length==0 ) {&#xD;&#xA;		return swal(&quot;Faltan Llenar Su Documento de Identidad&quot;,&quot;&quot;,&quot;info&quot;);&#xD;&#xA;	}&#xD;&#xA;	if (usuario.length==0) {&#xD;&#xA;		return swal(&quot;Faltan Llenar Su usuario&quot;,&quot;&quot;,&quot;info&quot;);&#xD;&#xA;	}&#xD;&#xA;	if (clave.length==0) {&#xD;&#xA;		return swal(&quot;Faltan Llenar Su Clave&quot;,&quot;&quot;,&quot;info&quot;);&#xD;&#xA;	}&#xD;&#xA;	if (tipo=='otro') {&#xD;&#xA;		return swal(&quot;Falta Seleccionar el Tipo de usuario&quot;,&quot;&quot;,&quot;error&quot;);&#xD;&#xA;	}&#xD;&#xA;	$.ajax({&#xD;&#xA;		url:'../controlador/ciudadano/controlador_verificar_existencia_dni.php',&#xD;&#xA;		type:'POST',&#xD;&#xA;		data:{&#xD;&#xA;			dni:dni&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;	.done(function(resp){&#xD;&#xA;		var data = JSON.parse(resp);&#xD;&#xA;		if (data.length&amp;lt;=0) {&#xD;&#xA;			Registrar_personal();&#xD;&#xA;			&#xD;&#xA;		}else{&#xD;&#xA;			swal(&quot;Lo sentimos el DNI Ingresado ya esta siendo utilizado por otro personal&quot;,&quot;&quot;,&quot;warning&quot;);&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;}&#xD;&#xA;function Registrar_personal(){&#xD;&#xA;	var nombre    = $(&quot;#txtnombre&quot;).val();&#xD;&#xA;	var apepat    = $(&quot;#txtapellidopaterno&quot;).val();&#xD;&#xA;	var apemat    = $(&quot;#txtapellidomaterno&quot;).val();&#xD;&#xA;	var fecha     = $(&quot;#txtfecha&quot;).val();&#xD;&#xA;	var direccion = $(&quot;#txtdireccion&quot;).val();&#xD;&#xA;	var dni       = $(&quot;#txtdni&quot;).val();&#xD;&#xA;	var sexo      = $(&quot;#txtGenero&quot;).val();&#xD;&#xA;	var email     = $(&quot;#txtemail&quot;).val();&#xD;&#xA;	var telefono  = $(&quot;#txttelefono&quot;).val();&#xD;&#xA;	var movil     = $(&quot;#txtmovil&quot;).val();&#xD;&#xA;	var usuario   = $(&quot;#txtusuario&quot;).val();&#xD;&#xA;	var clave     = $(&quot;#txtclave&quot;).val();&#xD;&#xA;	var tipo      = $(&quot;#cmbTipousuario&quot;).val();&#xD;&#xA;	var puesto    = $(&quot;#txtpuesto&quot;).val();&#xD;&#xA;	if (tipo=='otro') {&#xD;&#xA;		return swal(&quot;Falta Seleccionar el Tipo de usuario&quot;,&quot;&quot;,&quot;error&quot;);&#xD;&#xA;	}&#xD;&#xA;	$.ajax({&#xD;&#xA;		url:'../controlador/personal/controlador_registrar_personal.php',&#xD;&#xA;		type:'POST',&#xD;&#xA;		data:{&#xD;&#xA;			nombre:nombre,&#xD;&#xA;			apepat:apepat,		&#xD;&#xA;			apemat:apemat,&#xD;&#xA;			telefono:telefono,	&#xD;&#xA;			movil:movil,&#xD;&#xA;			direccion:direccion,&#xD;&#xA;			fecha:fecha,&#xD;&#xA;			nrodocume:dni,&#xD;&#xA;			email:email,&#xD;&#xA;			sexo:sexo,&#xD;&#xA;			usuario:usuario,&#xD;&#xA;			clave:clave,&#xD;&#xA;			tipo:tipo,&#xD;&#xA;			puesto:puesto&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;	.done(function(resp){&#xD;&#xA;		if (resp &amp;gt; 0) {&#xD;&#xA;			 swal(&quot;Datos Registrados!&quot;, &quot;&quot;, &quot;success&quot;)&#xD;&#xA;			 .then ( ( value ) =&amp;gt;  { &#xD;&#xA;				  $(&quot;#main-content&quot;).load(&quot;Personal/vista_listar_personal.php&quot;); &#xD;&#xA;			});&#xD;&#xA;			&#xD;&#xA;		}&#xD;&#xA;		else{&#xD;&#xA;			swal(&quot;! Registro no completado!&quot;, &quot;&quot;, &quot;error&quot;);	&#xD;&#xA;		}&#xD;&#xA;	})		&#xD;&#xA;}&#xD;&#xA;function Listar_tipousuario_combo() {&#xD;&#xA;	$.ajax({&#xD;&#xA;		url:'../controlador/personal/controlador_combolistar_tipousuario.php',&#xD;&#xA;		type:'POST'&#xD;&#xA;	})&#xD;&#xA;	.done(function(resp) {&#xD;&#xA;		var data = JSON.parse(resp);&#xD;&#xA;		if (data.length &amp;gt; 0) {&#xD;&#xA;			var cadena = &quot;&quot;;&#xD;&#xA;				cadena += &quot;&amp;lt;option value='otro'&amp;gt;&quot;+&quot;SELECCIONAR TIPO USUARIO&quot;+&quot;&amp;lt;/option&amp;gt;&quot;;&#xD;&#xA;			for (var i = 0; i &amp;lt; data.length; i++) {&#xD;&#xA;				cadena += &quot;&amp;lt;option value='&quot;+data[i][0]+&quot;'&amp;gt;&quot;+data[i][1]+&quot;&amp;lt;/option&amp;gt;&quot;;&#xD;&#xA;			}&#xD;&#xA;			$(&quot;#cmbTipousuario&quot;).html(cadena);	&#xD;&#xA;		}&#xD;&#xA;		else{&#xD;&#xA;			var cadena = &quot;&amp;lt;option value='NO'&amp;gt;no se encontraron tipo de usuario Disponibles&amp;lt;/option&amp;gt;&quot;;&#xD;&#xA;			$(&quot;#cmbTipousuario&quot;).html(cadena);&#xD;&#xA;		}&#xD;&#xA;	})&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""74416"" LastEditorUserId=""74416"" LastEditDate=""2019-11-06T16:26:54.043"" LastActivityDate=""2019-11-06T16:26:54.043"" Title=""AL MOMENTO DE CAMBIAR LOS ESTADOS DE ACTIVO A INACTIVO NO SE VISUALIZAN LOS CAMBIOS EN LA BASE DE DATOS"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""7"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""315221"" PostTypeId=""1"" AcceptedAnswerId=""315230"" CreationDate=""2019-12-10T18:59:19.740"" Score=""0"" ViewCount=""325"" Body=""&lt;blockquote&gt;&#xA;  &lt;p&gt;EDIT  con los ajustes de Rimuru Tempest&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;estoy creado un buscador en tiempo real pero me lanza este error &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/u05HS.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/u05HS.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;este es el codigo del buscador&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;if(!isset($_POST['search'])) exit('No se recibió el valor a buscar');&#xA;require_once 'conexion.php';&#xA;function search()&#xA;{&#xA;  $base = getConnexion();&#xA;&#xA;  $h_list = &quot;SELECT * FROM series WHERE StrNombre LIKE :search&quot;;&#xA;  $h_set = $base-&amp;gt;prepare($h_list);&#xA;  $h_set-&amp;gt;bindValue(&quot;:search&quot;, &quot;%{$search}%&quot;);&#xA;  $h_set-&amp;gt;execute();&#xA;  while ($h_res = $h_set-&amp;gt;fetchAll()) {&#xA;      echo '&#xA;&#xA;      &amp;lt;tr&amp;gt;&#xA;         &amp;lt;td&amp;gt;'.$h_res['Id'].'&amp;lt;/td&amp;gt;&#xA;         &amp;lt;td&amp;gt;'.$h_res['StrNombre'].'&amp;lt;/td&amp;gt;&#xA;         &amp;lt;td&amp;gt;'.$h_res['japanesename'].'&amp;lt;/td&amp;gt;&#xA;         &amp;lt;td&amp;gt;&amp;lt;a href=&quot;'.$web.'/cpanel/editar-serie?Id='.$h_res['Id'].'&quot;&amp;gt;Editar&amp;lt;/a&amp;gt;|&amp;lt;a href=&quot;'.$web.'/form/del.php?Id='.$h_res['Id'].'&quot;&amp;gt;Borrar&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&#xA;     &amp;lt;/tr&amp;gt;&#xA;&#xA;&#xA;      ';&#xA;  }&#xA;}&#xA;search();&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;si añado &lt;code&gt;$search = $_POST['search'];&lt;/code&gt;&#xA;me sale esto&#xA;&lt;a href=&quot;https://i.stack.imgur.com/fDQwe.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/fDQwe.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;pero si añado &lt;code&gt;$search = $base-&amp;gt;quote($_POST['search']);&lt;/code&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/OmMZC.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/OmMZC.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;y este el de mi js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;  $('#search').focus()&#xA;&#xA;  $('#search').on('keyup', function(){&#xA;    var search = $('#search').val()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url: '../admin/browser/brow.php',&#xA;      data: {'search': search},&#xA;      dataType: &quot;html&quot;,&#xA;      beforeSend: function(){&#xA;        $('#result').html('Cargando')&#xA;      }&#xA;    })&#xA;    .done(function(resultado){&#xA;      $('#result').html(resultado)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un error :(')&#xA;    })&#xA;  })&#xA;})&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y mi archivo de conexion&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function getConnexion()&#xA;{&#xA;  $base = new PDO('mysql:host=localhost; dbname=page;charset=utf8','root','');&#xA;  $base-&amp;gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);&#xA;  $base-&amp;gt;exec(&quot;set names utf8mb4&quot;);&#xA;  return $base;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;en principio el codigo estaba para Mysql y no para pdo intente adaptarlo lo mas que pude&lt;/p&gt;&#xA;&#xA;&lt;p&gt;alguien tiene idea de como arreglar este error?&lt;/p&gt;&#xA;"" OwnerUserId=""135076"" LastEditorUserId=""135076"" LastEditDate=""2019-12-10T20:38:26.417"" LastActivityDate=""2019-12-10T20:51:39.003"" Title=""Buscador en tiempo real no funciona"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;pdo&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""315316"" PostTypeId=""1"" CreationDate=""2019-12-11T01:53:05.973"" Score=""0"" ViewCount=""62"" Body=""&lt;p&gt;Tengo un formulario para login con ajax, php y mysql.&#xA;La cuestion es que funciona solo en localhost&#xA;Mi codigo en cuestion: &lt;br&gt;&#xA;index.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;body&amp;gt;&#xA;&amp;lt;div class=&quot;error&quot;&amp;gt;&#xA;&amp;lt;span&amp;gt;DATOS INGRESADOS INCORRECTOS. INTENTE NUEVAMENTE.&amp;lt;/span&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;div class=&quot;app-container app-theme-white body-tabs-shadow&quot;&amp;gt;&#xA;&amp;lt;div class=&quot;app-container&quot;&amp;gt;&#xA;  &amp;lt;div class=&quot;h-100 bg-plum-plate bg-animation&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;d-flex h-100 justify-content-center align-items-center&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;mx-auto app-login-box col-md-8&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-dialog w-100 mx-auto&quot;&amp;gt;&#xA;          &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;h5 modal-title text-center&quot;&amp;gt;&#xA;                &amp;lt;h4 class=&quot;mt-2&quot;&amp;gt;&#xA;                  &amp;lt;img src=&quot;images/bt.jpg&quot;&amp;gt;&#xA;                &amp;lt;/h4&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;              &amp;lt;form id=&quot;Frm&quot; action=&quot;&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;form-row&quot;&amp;gt;&#xA;                  &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;position-relative form-group&quot;&amp;gt;&amp;lt;input name=&quot;t_user&quot; required placeholder=&quot;Usuario&quot; type=&quot;text&quot; class=&quot;form-control&quot; autofocus autocomplete=&quot;off&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                  &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;position-relative form-group&quot;&amp;gt;&amp;lt;input name=&quot;t_pass&quot; required placeholder=&quot;Contraseña&quot; type=&quot;password&quot; class=&quot;form-control&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-footer clearfix&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;float-right&quot;&amp;gt;&#xA;                &amp;lt;input class=&quot;btn btn-primary btn-block botonlg&quot; type=&quot;submit&quot; value=&quot;Ingresar al Sistema&quot;/&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/form&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&quot;text-center text-white opacity-8 mt-3&quot;&amp;gt;Copyright © 2019 - 2020 Web Services&amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;css/main.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot;&#xA;integrity=&quot;sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=&quot;&#xA;crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;script src=&quot;main.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;loginexe.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;if (!empty($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;amp;&amp;amp; &#xA;strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest'){&#xA;&#xA;require 'config.php';&#xA;session_start();&#xA;&#xA;$mysqli-&amp;gt;set_charset('utf8');&#xA;&#xA;$usuario =  $mysqli-&amp;gt;real_escape_string($_POST['t_user']);&#xA;$pas = $mysqli-&amp;gt;real_escape_string($_POST['t_pass']);&#xA;&#xA;if ($nueva_consulta = $mysqli-&amp;gt;prepare(&quot;SELECT id, cliente, nombre, tipo_user FROM usuarios WHERE user = ? AND password = ? AND estado = 'S'&quot;)){&#xA;&#xA;    $nueva_consulta-&amp;gt;bind_param('ss', $usuario, $pas);&#xA;&#xA;    $nueva_consulta-&amp;gt;execute();&#xA;&#xA;    $resultado = $nueva_consulta-&amp;gt;get_result();&#xA;&#xA;    if($resultado-&amp;gt;num_rows &amp;gt; 0){&#xA;            $datos = $resultado-&amp;gt;fetch_assoc();&#xA;            $_SESSION['user'] = $datos;&#xA;            echo json_encode(array('error' =&amp;gt; false, 'tipo' =&amp;gt; $datos['tipo_user']));&#xA;    }else{&#xA;            echo json_encode(array('error' =&amp;gt; true));&#xA;    }&#xA;    $nueva_consulta-&amp;gt;close();&#xA;}&#xA;}&#xA;&#xA;$mysqli-&amp;gt;close();&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;main.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery(document).on('submit','#Frm',function(event){&#xA;&quot;use strict&quot;;&#xA;event.preventDefault();&#xA;&#xA;$.ajax({&#xA;    url: 'loginexe.php',&#xA;    type: 'POST',&#xA;    dataType: 'json',&#xA;    data: $(this).serialize(),&#xA;    beforeSend: function(){&#xA;        $('.botonlg').val('Validando...');&#xA;    }&#xA;})&#xA;&#xA;.done(function(respuesta){&#xA;    console.log(&quot;respuesta&quot;);&#xA;    if (!respuesta.error){&#xA;        if(respuesta.tipo === 1){&#xA;            location.href = 'administracion/';&#xA;        }else if (respuesta.tipo === 2){&#xA;            location.href = 'atencion/';&#xA;        }else if (respuesta.tipo === 3){&#xA;            location.href = 'atencion/';&#xA;        }&#xA;    }else{&#xA;        $('.error').slideDown('slow');&#xA;        setTimeout(function(){&#xA;            $('.error').slideUp('slow');&#xA;        },3000);&#xA;        $('#Frm')[0].reset();&#xA;        $('.botonlg').val('Intente Nuevamente');&#xA;    }&#xA;})&#xA;.fail(function(resp){&#xA;    console.log(&quot;resp.responseText&quot;);&#xA;})&#xA;.always(function(){&#xA;    console.log(&quot;complete&quot;);&#xA;});&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;config.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$mysqli = new mysqli('iphost','user','pass','bd');&#xA;if ($mysqli-&amp;gt;connect_errno):&#xA;echo &quot;ERROR AL CONECTAR BD &quot;.$mysqli-&amp;gt;connect_error;&#xA;endif;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Como les mencione al comienzo, todo funciona bien en mi maquina (localhost) pero en el hosting, ni siquiera da un error en la consola como para guiarme.&#xA;Esta demas mencionar, que los datos de conexion a la BD estan correctos y la tabla usuarios tambien con sus respectivos usuarios donde cada usuario tiene un tipo, por ej, el usuario1 es tipo 1 (administrador) y tipo2 (usuario normal) y dependiendo de eso, en main.js se hace la redireccion hacia sus respectivas carpetas dentro del servidor.&#xA;Alguien tiene alguna idea del porque pueda estar pasando esto?&#xA;Agradezco cualquier ayuda u orientacion con respecto a esto.&lt;/p&gt;&#xA;"" OwnerUserId=""47164"" LastEditorUserId=""47164"" LastEditDate=""2019-12-15T00:09:05.687"" LastActivityDate=""2019-12-15T00:18:30.010"" Title=""inicio de sesion fallido"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;json&gt;&lt;sesiones&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""317194"" PostTypeId=""1"" CreationDate=""2019-12-18T23:03:54.077"" Score=""0"" ViewCount=""280"" Body=""&lt;p&gt;Al intentar enviar un formulario cuyo contenido únicamente es un documento de excel me regresa el mensaje &quot;Ha ocurrido un error&quot; que se encuentra dentro de la parte Fail de mi Js, revisando la consola en Google y Firefox e visto que me regresa el error 500, supuse que podría tratarse de la ruta asi que fui a verificar que mi ruta estuviera bien, después de eso supuse que podría ser mi codigo de php pero el problema es que nunca entra en mi codigo php, esto lo supongo debido a que programe un mensaje dentro del codigo para imprimir lo que tuviera mi request y ese mensaje nunca se imprime, ya revise la documentacion parecida o de preguntas similares a esta y en la mayoria de casos el problema es un error de sintaxis en el Ajax o en php. Pero aparentemente esa no es mi situación o cuando menos eso creo&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Codigo de AJAX&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function confirmarCarga(e){&#xA;confirm(e, function(){&#xA;    cargarArchivo(e);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;function cargarArchivo(e){&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(e).hide();&#xA;$('#espere').show();&#xA;$('#alertaError').hide();&#xA;$('#alertaErrorEtiqueta').hide();&#xA;var token=$('[name=_token]').val();&#xA;var datos = new FormData();&#xA;datos.append('request', $('#formularioCargarArchivo').serialize());&#xA;datos.append('_token', token);&#xA;datos.append('_method','POST');&#xA;$.each(archivos, function(key, value){&#xA;    datos.append(key, value);&#xA;});&#xA;$.ajax({&#xA;    type: 'POST',&#xA;    url: base_url+'/cargar',&#xA;    cache: false,&#xA;    dataType: 'json',&#xA;    data:datos,&#xA;    processData: false,&#xA;    contentType: false&#xA;}).done(function(respuesta){&#xA;    $('[id^=alerta').hide();&#xA;    if (respuesta['status']) {&#xA;        $('[id^=alertaExito]').show(500);&#xA;        $('#alertaExitoEtiqueta').html(respuesta['msg']);&#xA;    }else{&#xA;        $('#alertaError').show(500)&#xA;        $('#alertaErrorEtiqueta').show(500);&#xA;        $('#alertaErrorEtiqueta').html(respuesta['msg']);&#xA;        if (respuesta.datos['tipoError']==2) {&#xA;            var erroresHTML='&amp;lt;div style=&quot;color: #FFF; background-color: #A94442; border-radius: 10px&quot;&amp;gt;CADENAERRORES&amp;lt;/div&amp;gt;&amp;lt;hr&amp;gt;';&#xA;            $('#alertaErrorLista').empty();&#xA;            $.each(respuesta['datos']['erroresArray'], function(llave,valor){&#xA;                $('#alertaErrorLista').append(erroresHTML.replace('CADENAERRORES', valor));&#xA;            });&#xA;            $('#alertaErrorLista').show(500)&#xA;        }&#xA;    }&#xA;    $('#espere').hide();&#xA;    $(e).show();&#xA;}).fail(function(respuesta){&#xA;&#xA;    $('#alertaError').show(500);&#xA;    $('#alertaErrorEtiqueta').show(500);&#xA;    $('#alertaErrorEtiqueta').html('Ha ocurrido un error.');&#xA;    $('#espere').hide();&#xA;    $(e).show();&#xA;    console.log('FAIL');&#xA;    console.log(respuesta);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;function confirmarCarga esta para hacer que se ejecute el envió del formulario después de que sea aceptado el envió y la otra funcion es donde paso la información a la ruta de mi función php &lt;/p&gt;&#xA;&#xA;&lt;p&gt;El Codigo de PHP &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function archivoRegistrarNeumaticos(Request $request){&#xA;    // post_max_size =&amp;gt; 128M&#xA;    // upload_max_filesize =&amp;gt; 128M&#xA;    // max_execution_time =&amp;gt; ¿?&#xA;    // max_execution_time =&amp;gt; 30&#xA;&#xA;    Debugbar::addMessage('request', 'mylabel');&#xA;    Debugbar::info($request);&#xA;&#xA;    ini_set('memory_limit','512M');&#xA;    ini_set('max_execution_time', 600);&#xA;&#xA;    try {&#xA;&#xA;    }&#xA;    catch(\Exception $e)&#xA;    {&#xA;&#xA;        return json_encode([&#xA;            'status' =&amp;gt; false,&#xA;            'msg' =&amp;gt; 'Se ha producido un error en el proceso de registro.',&#xA;            'datos' =&amp;gt; ['tipoError' =&amp;gt; 1]&#xA;        ]);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Por cuestiones de tamaño del codigo solo muestro a grandes rasgos a donde direcciona la url y la parte que mencionaba en la que muestro lo que trae el request &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi codigo de rutas &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Route::post('/cargar', 'Controller@archivoRegistrarNeumaticos');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y finalmente mi codigo de HTML donde esta mi formulario &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;form class=&quot;form-horizontal&quot; role=&quot;form&quot; method=&quot;POST&quot; action=&quot;{{ url('/cargar') }}&quot; enctype=&quot;multipart/form-data&quot; onsubmit=&quot;return false;&quot; id=&quot;formularioCargarArchivo&quot;&amp;gt;&#xA;                            {{ csrf_field() }}&#xA;&#xA;                            &amp;lt;div class=&quot;col-md-6 col-md-offset-3&quot;&amp;gt;                                            &#xA;                                &amp;lt;input type=&quot;file&quot; class=&quot;form-control-file&quot; accept=&quot;.xls,.xlsx&quot; name=&quot;excel&quot; required id=&quot;excel&quot;&amp;gt;&#xA;                                &amp;lt;label for=&quot;excel&quot;&amp;gt;&amp;lt;small&amp;gt;(Formatos admitidos: &quot;.xls&quot; y &quot;.xlsx&quot;)&amp;lt;/small&amp;gt;&amp;lt;/label&amp;gt;&amp;lt;br&amp;gt;&#xA;                                &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;div class=&quot;col-md-12&quot;&amp;gt;&#xA;                                &amp;lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot; confirmar=&quot;¿Está seguro que desea subir este archivo para ser procesado?&quot; onclick=&quot;confirmarCarga(this)&quot; data-toggle=&quot;modal&quot; data-target=&quot;#confirmacion&quot; id=&quot;filtrar&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-upload&quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;amp;nbsp;&amp;lt;strong&amp;gt;Subir&amp;lt;/strong&amp;gt;&amp;lt;/button&amp;gt;&#xA;                                &amp;lt;div class=&quot;col-md-6 col-md-offset-3&quot; style=&quot;background-color: #449D44; color: #FFF; border: 2px solid #00263E; border-radius: 5px;&quot; hidden title=&quot;Esto puede tardar varios minutos&quot; id=&quot;espere&quot;&amp;gt;&#xA;                                    &amp;lt;label&amp;gt;Espere...&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;                                &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;/form&amp;gt;     &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Y esto es lo que ocurre cuando lo envio &#xA;&lt;a href=&quot;https://i.stack.imgur.com/mbFFU.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/mbFFU.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;                &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Y esto es lo que me muestra la consola &#xA;&lt;a href=&quot;https://i.stack.imgur.com/YxK8F.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/YxK8F.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ahora bien no sabría cual es la solucion ya intente de todas las formas que encontré y la única que me falta es configurar el servidor para que dure mas el tiempo de espera porque según algunas fuentes mi problema podría ser que se agota el tiempo y por eso recibo el error 500&lt;/p&gt;&#xA;"" OwnerUserId=""77266"" LastActivityDate=""2019-12-18T23:03:54.077"" Title=""Error 500 AJAX, Laravel y JQuery"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;html5&gt;&lt;ajax&gt;&lt;laravel-5&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""317603"" PostTypeId=""1"" CreationDate=""2019-12-20T19:02:47.460"" Score=""0"" ViewCount=""256"" Body=""&lt;p&gt;Con el siguiente código realizo una petición Ajax y todo va bien si se emplea &quot;&lt;a href=&quot;https://urlEjemplo.com&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://urlEjemplo.com&lt;/a&gt;&quot; se ejecuta desde la web y desde una app compilada; pero si se cambia a &quot;&lt;a href=&quot;http://urlEjemplo.com&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://urlEjemplo.com&lt;/a&gt;&quot; con el mismo código solo funciona desde el navegador  en la App sale el error de la imagen,y en la consola del navegador no tengo advertencias de recursos de origen cruzado.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;jQuery.ajax({&#xA;            url: api+&quot;usuario/login&quot;,&#xA;            type:'POST',&#xA;            dataType: &quot;json&quot;,&#xA;            crossDomain: true,&#xA;            timeout: 15000, &#xA;            contentType: 'application/json; charset=utf-8',&#xA;            data: JSON.stringify(data),&#xA;            beforeSend: function(xhr) {&#xA;            }&#xA;            })&#xA;            .done(function (resp){ &#xA;                alert('done'+JSON.stringify(resp))&#xA;            })&#xA;            .fail(function(error) { &#xA;                alert('fail'+JSON.stringify(error))&#xA;            })&#xA;            .always(function(resp){&#xA;            }&lt;br&gt;&#xA;        );&#xA;&lt;/code&gt; &#xA;la petición desde el navegador web  funciona&#xA;&lt;a href=&quot;https://i.stack.imgur.com/RByrv.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RByrv.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;pero desde un celular al compilar una App con (Jquery mobile y cordova)&#xA;&lt;a href=&quot;https://i.stack.imgur.com/5uPJa.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/5uPJa.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Falta alguna configuración en la petición, o en el servicio se debe tener alguna configuración adicional o servidor?&lt;/p&gt;&#xA;"" OwnerUserId=""131003"" LastActivityDate=""2019-12-20T19:02:47.460"" Title=""Petición AJAX en chrome,postman sirve, en el celular compilado con cordova no funciona"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;cordova&gt;&lt;jquery-mobile&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""319716"" PostTypeId=""1"" CreationDate=""2020-01-04T02:19:22.400"" Score=""2"" ViewCount=""161"" Body=""&lt;p&gt;Estoy usando pushState para crear una aplicación web que no sea necesario recargar la página, incluso para cambiar el link (por ejemplo, youtube,  cuando activas la vista de un vídeo en miniatura, puedes navegar por todo el youtube sin recargar la página, incluso retorcer), el problema es cuando doy click en retroceder, cambia el link pero la página sigue mostrando el mismo contenido aunque el link sea diferente. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Encontré lo siguente buscando en Youtube:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;var tabs = document.querySelectorAll(&quot;a[data-tab-for]&quot;);&#xD;&#xA;var contents = document.querySelectorAll(&quot;.content&amp;gt;p&quot;);&#xD;&#xA;&#xD;&#xA;tabs.forEach(tab =&amp;gt; tab.addEventListener('click', tabClicked));&#xD;&#xA;window.onpopstate = checkState;&#xD;&#xA;&#xD;&#xA;history.replaceState({&#xD;&#xA;    tabForId: tabs[0].dataset.tabFor&#xD;&#xA;}, null, &quot;tab-&quot;+tabs[0].dataset.tabFor);&#xD;&#xA;&#xD;&#xA;function showContent(id) {&#xD;&#xA;    contents.forEach(content =&amp;gt; {&#xD;&#xA;        if (content.getAttribute('id') === id) content.classList.remove('hide');&#xD;&#xA;        else content.classList.add('hide');&#xD;&#xA;    });&#xD;&#xA;    tabs.forEach(tab =&amp;gt; {&#xD;&#xA;        if (tab.dataset.tabFor === id) tab.classList.add(&quot;active&quot;);&#xD;&#xA;        else tab.classList.remove(&quot;active&quot;);&#xD;&#xA;    });&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;function tabClicked(e) {&#xD;&#xA;    var contentId = e.target.dataset.tabFor;&#xD;&#xA;    e.preventDefault();&#xD;&#xA;    showContent(contentId);&#xD;&#xA;    history.pushState({&#xD;&#xA;        tabForId: contentId&#xD;&#xA;    }, null, &quot;tab-&quot;+contentId);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;function checkState(e) {&#xD;&#xA;    // page reload&#xD;&#xA;    if(e.state) {&#xD;&#xA;        console.log(e.state.tabForId);&#xD;&#xA;        showContent(e.state.tabForId);&#xD;&#xA;    }&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;.hide {&#xD;&#xA;    display : none;&#xD;&#xA;}&#xD;&#xA;p {&#xD;&#xA;    padding: 5px;&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!doctype html&amp;gt;&#xD;&#xA;&amp;lt;html lang=&quot;en&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;head&amp;gt;&#xD;&#xA;    &amp;lt;!-- Required meta tags --&amp;gt;&#xD;&#xA;    &amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xD;&#xA;    &amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;    &amp;lt;!-- Bootstrap CSS --&amp;gt;&#xD;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&#xD;&#xA;&#xD;&#xA;    &amp;lt;title&amp;gt;History pushState, popstate&amp;lt;/title&amp;gt;&#xD;&#xA;&amp;lt;/head&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;body class=&quot;container&quot;&amp;gt;&#xD;&#xA;    &amp;lt;h1&amp;gt;History pushState, popstate&amp;lt;/h1&amp;gt;&#xD;&#xA;    &amp;lt;ul class=&quot;nav nav-pills&quot;&amp;gt;&#xD;&#xA;        &amp;lt;li class=&quot;nav-item&quot;&amp;gt;&#xD;&#xA;          &amp;lt;a class=&quot;nav-link active&quot; href=&quot;&quot; data-tab-for=&quot;content-1&quot;&amp;gt;Tab-1&amp;lt;/a&amp;gt;&#xD;&#xA;        &amp;lt;/li&amp;gt;&#xD;&#xA;        &amp;lt;li class=&quot;nav-item&quot;&amp;gt;&#xD;&#xA;          &amp;lt;a class=&quot;nav-link&quot; href=&quot;&quot; data-tab-for=&quot;content-2&quot;&amp;gt;Tab-2&amp;lt;/a&amp;gt;&#xD;&#xA;        &amp;lt;/li&amp;gt;&#xD;&#xA;        &amp;lt;li class=&quot;nav-item&quot;&amp;gt;&#xD;&#xA;          &amp;lt;a class=&quot;nav-link&quot; href=&quot;&quot; data-tab-for=&quot;content-3&quot;&amp;gt;Tab-3&amp;lt;/a&amp;gt;&#xD;&#xA;        &amp;lt;/li&amp;gt;&#xD;&#xA;      &amp;lt;/ul&amp;gt;&#xD;&#xA;      &amp;lt;div class=&quot;content&quot;&amp;gt;&#xD;&#xA;          &amp;lt;p id=&quot;content-1&quot;&amp;gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi atque earum sit excepturi quisquam, eos reprehenderit doloremque culpa sunt id debitis corporis mollitia at qui dicta enim repellat nostrum eius. Placeat neque voluptas accusamus fugiat ipsum, adipisci totam excepturi ratione dolore sequi nesciunt culpa! Quae vitae suscipit placeat amet animi!&amp;lt;/p&amp;gt;&#xD;&#xA;          &amp;lt;p id=&quot;content-2&quot; class=&quot;hide&quot;&amp;gt;Laborum, beatae deleniti. Sint placeat vel vero aspernatur itaque, aliquid facilis. Incidunt error in sit, expedita vel deleniti dignissimos sapiente distinctio doloribus mollitia vitae quisquam accusamus eos ratione quidem cumque ullam odit reiciendis vero? Delectus aspernatur fuga eos voluptate ratione atque incidunt, cumque facere aliquid, soluta deleniti, facilis perspiciatis quam?&amp;lt;/p&amp;gt;&#xD;&#xA;          &amp;lt;p id=&quot;content-3&quot; class=&quot;hide&quot;&amp;gt;Aut nobis sequi officiis commodi. Ipsa quae natus maxime officiis reprehenderit facere enim id dolore expedita numquam, error ratione repellendus sit, quis animi nobis impedit dignissimos officia suscipit. Quaerat numquam laudantium explicabo debitis omnis corporis, sunt cumque nulla odio, libero doloremque veniam nobis voluptate incidunt qui nisi quisquam distinctio quam?&amp;lt;/p&amp;gt;&#xD;&#xA;      &amp;lt;/div&amp;gt;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    &amp;lt;!-- Optional JavaScript --&amp;gt;&#xD;&#xA;    &amp;lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&amp;gt;&#xD;&#xA;    &amp;lt;script src=&quot;app.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&amp;lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.slim.min.js&quot; integrity=&quot;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js&quot; integrity=&quot;sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;/body&amp;gt;&#xD;&#xA;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Resulta que este me permite retroceder, pero no quiero hacerlo de esta manera, quiero cargar un archivo .html con AJAX y esa es la forma en el que lo he hecho, ¡pero no sé como implemetar la parte de retoceder! AYUDA.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es el código que yo estoy implementado:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; var url = window.location.host;&#xA; var urlC = window.location;&#xA; $(document).ready(function(){&#xA; $('#open_post').on('click', function(){OpenPost()});&#xA;  $('#open_dashboard').on('click', function(){OpenDashboard()});&#xA; $('#open_dashboardw').on('click', function(){OpenDashboard()});&#xA; })&#xA;&#xA;function OpenPost() {&#xA;    $.ajax({&#xA;        type: 'GET',&#xA;        url: '/dashboard/ajax/Ajax-sites/post.ajax.php'   &#xA;    })&#xA;    .done(function(result){&#xA;&#xA;     if(urlC!= 'http://'+url+'/dashboard/post/'){ //compruebo si el link ha sido cambiado.&#xA;     window.history.pushState(null, 'new post', &quot;/post/&quot;);&#xA;      $('#cont').html(result);&#xA;        }else{&#xA;      console.log('ya esta abierto.');&#xA;        }&#xA;    })&#xA;    .fail(function(){&#xA;          console.log('Error with AJAX!');&#xA;    })&#xA;   }&#xA;&#xA;function OpenDashboard() {&#xA;$.ajax({&#xA;    type: 'GET',&#xA;    url: '/dashboard/ajax/Ajax-sites/dashboard.ajax.php'   &#xA;})&#xA;.done(function(result){&#xA;  if(urlC != 'http://'+url+'/dashboard/'){&#xA;  window.history.pushState(null, 'Dashboard', &quot;/home/&quot;);&#xA;  $('#cont').html(result);&#xA;    }else{&#xA;  console.log('ya esta abierto.');&#xA;    }&#xA;})&#xA;.fail(function(){&#xA;      console.log('Error with AJAX!');&#xA;  })&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""154091"" LastEditorUserId=""150611"" LastEditDate=""2020-01-04T19:04:36.113"" LastActivityDate=""2020-10-23T06:03:58.220"" Title=""¿Cómo habilitar &quot;retroceder&quot; usando pushState?"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""320304"" PostTypeId=""1"" CreationDate=""2020-01-07T19:32:34.677"" Score=""0"" ViewCount=""347"" Body=""&lt;p&gt;Tengo un modal donde recibo información desde una consulta sql, quiero modificar un campo y actualizar esa información en la base de datos enviando esa misma información mediante ajax a php para realizar el update, pero no logro hacer, no recibo el echo desde php y pasa a la funcion fail.... y no se donde ver el error que causa o por que falla...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tambien como podria depurar mi codigo para ver el comportamiento del script?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;GRACIAS...!!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Este es mi modal.....&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;modal fade&quot; id=&quot;veregistro&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;myModalLabel&quot; aria-hidden=&quot;true&quot; action=&quot;actuAva.php&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;modal-dialog&quot;&amp;gt;  &#xA;        &amp;lt;form id=&quot;actua&quot;  role=&quot;form&quot;&amp;gt;&#xA;        &amp;lt;div class=&quot;modal-content&quot; id=&quot;contenido&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-header&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&#xA;                &amp;lt;center&amp;gt;&amp;lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&amp;gt;Ver informe / Editar&amp;lt;/h4&amp;gt;&amp;lt;/center&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;container-fluid&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;ID:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;ida&quot; readonly=&quot;readonly&quot; name=&quot;ida&quot;&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Carpeta:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;carpeta&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Num. intervenidos:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;textarea type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;intervenidos&quot; readonly=&quot;readonly&quot; &amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Juez:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;juez&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Num. de resolucion:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;resolucion&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Fecha de Inicio:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;finicio&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Fecha de termino:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;ftermino&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Informe inicial:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;inicial&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Mes 1:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;mes1&quot; readonly=&quot;readonly&quot;&amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Mes 2:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;mes2&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Mes 3:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;mes3&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Terminacion:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;terminacion&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Conclusion A.:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;input type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;conclusion&quot; readonly=&quot;readonly&quot; &amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Objetivos:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;textarea type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;objetivos&quot; readonly=&quot;readonly&quot; &amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&quot;form-group input-group&quot;&amp;gt;&#xA;                    &amp;lt;span class=&quot;input-group-addon&quot; style=&quot;width:150px;&quot;&amp;gt;Avances:&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;textarea type=&quot;text&quot; style=&quot;width:350px;&quot; class=&quot;form-control&quot; id=&quot;avances&quot;  name=&quot;avances&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                &amp;lt;/div&amp;gt;  &#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;                  &#xA;                &amp;lt;div class=&quot;modal-footer&quot; id=&quot;footer-2&quot;&amp;gt;  &#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-remove&quot;&amp;gt;&amp;lt;/span&amp;gt; Cancelar / Cerrar&amp;lt;/button&amp;gt;                           &#xA;                    &amp;lt;a class=&quot;btn btn-success&quot; href=&quot;#&quot;  type=&quot;submit&quot; data-toggle=&quot;modal&quot; data-dismiss=&quot;modal&quot; &amp;gt;&amp;lt;span class=&quot;glyphicon glyphicon-edit&quot;&amp;gt;&amp;lt;/span&amp;gt; Actualizar&amp;lt;/a&amp;gt; &#xA;                &amp;lt;/div&amp;gt;                       &#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el scrip. Aquí donde imprimo la variable actualizar recibe correctamente la información, pero no se ejecuta la funcion done...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; $(function(){&#xA;       $('body').on('click', '#footer-2 a', function(event){&#xA;           event.preventDefault();&#xA;           var actualizar = $('#avances').val();&#xA;           var ida = $('#ida').val();&#xA;           console.log(actualizar+&quot; &quot;+ida);&#xA;           $.ajax({&#xA;                 url: 'actuAva.php',&#xA;                 type: 'POST',&#xA;                 dataType: 'json',&#xA;                 data: 'action=upFuncion&amp;amp;id_lista='+ida+'&amp;amp;avances='+actualizar,&#xA;                 cache: false&#xA;           }).done(function(response){&#xA;               console.log(&quot;aqui estoy&quot;);&#xA;               alert(response.mensaje);&#xA;           }).fail(function(resp){&#xA;               console.log(&quot;error no termino correctamente..&quot;);&#xA;           }).always(function(resp){&#xA;               console.log(&quot;complete SEGUNDO&quot;);&#xA;           })                                      &#xA;       });&#xA;   });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Codigo PHP para realizar la operacion de actualizacion de datos en la base de datos.....&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ID =$_POST['ida2'];&#xA;$AVA = $_POST['avances2'];&#xA;&#xA;&#xA;//conexion&#xA;$conexion = mysqli_connect(&quot;192.168.0.13&quot;, &quot;XXX&quot;, &quot;XXXXX&quot;, &quot;BD&quot;);&#xA;$consulta = &quot;UPDATE intervenciones SET avances='$AVA' Where &#xA;idintervenciones='$ID'&quot;;&#xA;&#xA;if(mysqli_query($conexion, $consulta)){&#xA;&#xA;   echo '&amp;lt;script language=&quot;javascript&quot;&amp;gt;alert(&quot;Record updated  Successfully&quot;); &#xA;   window.location.href=&quot;home.php&quot;&amp;lt;/script&amp;gt;';  &#xA;}&#xA;else{&#xA;  echo &quot;error al guardar registro verifique sus datos&quot;;&#xA;  echo '&amp;lt;script language=&quot;javascript&quot;&amp;gt;alert(&quot;Error&quot;.$consulta.&quot; &#xA;  &amp;lt;br&amp;gt;&quot;.mysqli_error($conexion)); window.location.href=&quot;home.php&quot;&amp;lt;/script&amp;gt;';&#xA;}&#xA;&#xA;mysqli_close($conexion);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""72439"" LastActivityDate=""2020-01-30T16:51:20.200"" Title=""Enviar Modal con Ajax a php"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;modal&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""326423"" PostTypeId=""1"" CreationDate=""2020-02-03T15:26:14.183"" Score=""0"" ViewCount=""165"" Body=""&lt;p&gt;Hola que tal? Llevo varios dias tratando de enviar datos desde un formulario a mi correo electrónico. Al menos ya hice que mi función validar se ejecute dentro de la función por donde envio los datos de ajax pero ahora tengo un error con el envío de datos.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Uptedate:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Esta es la función completa que tengo actualmente en mi código fuente.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function validarform()&#xA;{&#xA;  $('.alert').remove();&#xA;&#xA;  var nombre=$('#nombre').val(),&#xA;      email=$('#email').val(),&#xA;      asunto=$('#asunto').val(),&#xA;      mensaje=$('#mensaje').val();&#xA;&#xA;   if(nombre==&quot;&quot; || nombre==null)&#xA;  {&#xA;      color(&quot;nombre&quot;);&#xA;      Alerta(&quot;Campo Nombre es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[a-zA-ZñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;      if (!error.test(nombre)) {&#xA;&#xA;        color(&quot;nombre&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales, ingresar un nombre valido&quot;);&#xA;      return false;&#xA;      }&#xA;  }&#xA;&#xA;    if(email==&quot;&quot; || email==null)&#xA;    {&#xA;      color(&quot;email&quot;);&#xA;      Alerta(&quot;Campo Email es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/;&#xA;      if (!error.test(email)) {&#xA;&#xA;        color(&quot;email&quot;);&#xA;      Alerta(&quot;Por favor ingrese un Email valido&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    if(asunto==&quot;&quot; || asunto==null)&#xA;    {&#xA;      color(&quot;asunto&quot;);&#xA;      Alerta(&quot;Campo Asunto es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[,\\.\\a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;&#xA;      if (!error.test(asunto)) {&#xA;&#xA;        color(&quot;asunto&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    if(mensaje==&quot;&quot; || mensaje==null)&#xA;    {&#xA;&#xA;      color(&quot;mensaje&quot;);&#xA;      Alerta(&quot;Por favor ingrese un mensaje&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[,\\.\\a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;      if (!error.test(mensaje)) {&#xA;&#xA;        color(&quot;mensaje&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    return true;&#xA;&#xA;}&#xA;&#xA;&#xA;$('input').focus(function(){&#xA;&#xA;    $('.alert').remove();&#xA;    $('.success').remove();&#xA;    colordefecto('nombre');&#xA;    colordefecto('email');&#xA;    colordefecto('asunto');&#xA;});&#xA;&#xA;&#xA;$('textarea').focus(function(){&#xA;    $('.success').remove();&#xA;    $('.alert').remove;&#xA;    colordefecto('mensaje');&#xA;});&#xA;&#xA;&#xA;function color(color)&#xA;{&#xA;    $('#' + color).css({&#xA;&#xA;        border: &quot;1px solid #f77474&quot;&#xA;    });&#xA;&#xA;    //$('#' + color).val('');&#xA;}&#xA;&#xA;&#xA;function colordefecto(color)&#xA;{&#xA;  $('#' + color).css({&#xA;    border: &quot;1px solid #999&quot;&#xA;    });&#xA;&#xA;}&#xA;&#xA;&#xA;//alerta&#xA;&#xA;function Alerta(alert){&#xA;&#xA;  $('#nombre').before ('&amp;lt;div class=&quot;alert&quot;&amp;gt; Alerta: '+ alert +'&amp;lt;/div&amp;gt;');&#xA;&#xA;}&#xA;&#xA;//enviamos el formulario&#xA;&#xA;$(function() {&#xA;    $('#btn_enviar_contacto').on('click',function(e){&#xA;        e.preventDefault();&#xA;        if( validarform() ){&#xA;            var url=&quot;Mail.php&quot;;&#xA;            var nombre=$('#nombre').val();&#xA;            var email=$('#email').val();&#xA;            var asunto=$('#asunto').val();&#xA;            var mensaje=$('#mensaje').val();&#xA;            var toPost={nombre:nombre,email:email,asunto:asunto,mensaje:mensaje};&#xA;&#xA;            var request = $.ajax({&#xA;                url: url,&#xA;                method: &quot;POST&quot;,&#xA;                data: toPost,&#xA;                cache: false, &#xA;                contentType: false,&#xA;                processData: false,&#xA;                dataType: &quot;json&quot;&#xA;            });&#xA;&#xA;            request.done(function(respuesta) {&#xA;                   console.log(&quot;respuesta&quot;,respuesta);&#xA;                   $('.contacto')[0].reset(); &#xA;                   if(respuesta){&#xA;                        $('#nombre').before ('&amp;lt;div class=&quot;success&quot;&amp;gt; &amp;lt;strong&amp;gt;Gracias '+ respuesta.success +' !!! : &amp;lt;/strong&amp;gt; en breve nos contactaremos contigo&amp;lt;/div&amp;gt;');&#xA;                   }&#xA;            });&#xA;&#xA;            request.fail(function(jqXHR, textStatus) {&#xA;                alert(`La petición falló ${textStatus}`);&#xA;            });     &#xA;        }&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;HTML: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;form action=&quot;Mail.php&quot; method=&quot;POST&quot; class=&quot;contacto&quot;&amp;gt;&#xA;                    &amp;lt;div id=&quot;contactform&quot;&amp;gt;&#xA;                        &amp;lt;div class=&quot;col-input&quot;&amp;gt;&#xA;    &amp;lt;label for=&quot;nombre&quot;&amp;gt;Name&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; name=&quot;nombre&quot; id=&quot;nombre&quot; &amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;&#xA;    &amp;lt;div class=&quot;col-input&quot;&amp;gt;&#xA;    &amp;lt;label for=&quot;Email&quot;&amp;gt;Email&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;email&quot; name=&quot;correo-e&quot; id=&quot;email&quot; &amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;div class=&quot;col-input&quot;&amp;gt;&#xA;    &amp;lt;label for=&quot;asunto&quot;&amp;gt;Asunto&amp;lt;/label&amp;gt;&#xA;    &amp;lt;input type=&quot;text&quot; name=&quot;asunto&quot; id=&quot;asunto&quot; &amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;div id=&quot;col-text&quot;&amp;gt;&#xA;  &amp;lt;label for=&quot;mensaje&quot;&amp;gt;Escribe un comentario&amp;lt;/label&amp;gt;&#xA; &amp;lt;textarea name=&quot;mensaje&quot; id=&quot;mensaje&quot; cols=&quot;30&quot; rows=&quot;10&quot; &amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;&#xA;   &amp;lt;button type=&quot;button&quot; id=&quot;btn_enviar_contacto&quot;&amp;gt;Enviar&amp;lt;/button&amp;gt;&#xA;&#xA;    &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Tendre algun error con la URL de archivos? o sera que debo aplicar otra cosa a mi función?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Funcion de validaciones:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function validarform()&#xA;{&#xA;  $('.alert').remove();&#xA;&#xA;  var nombre=$('#nombre').val(),&#xA;      email=$('#email').val(),&#xA;      asunto=$('#asunto').val(),&#xA;      mensaje=$('#mensaje').val();&#xA;&#xA;   if(nombre==&quot;&quot; || nombre==null)&#xA;  {&#xA;      color(&quot;nombre&quot;);&#xA;      Alerta(&quot;Campo Nombre es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[a-zA-ZñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;      if (!error.test(nombre)) {&#xA;&#xA;        color(&quot;nombre&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales, ingresar un nombre valido&quot;);&#xA;      return false;&#xA;      }&#xA;  }&#xA;&#xA;    if(email==&quot;&quot; || email==null)&#xA;    {&#xA;      color(&quot;email&quot;);&#xA;      Alerta(&quot;Campo Email es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/;&#xA;      if (!error.test(email)) {&#xA;&#xA;        color(&quot;email&quot;);&#xA;      Alerta(&quot;Por favor ingrese un Email valido&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    if(asunto==&quot;&quot; || asunto==null)&#xA;    {&#xA;      color(&quot;asunto&quot;);&#xA;      Alerta(&quot;Campo Asunto es obligatorio&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[,\\.\\a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;&#xA;      if (!error.test(asunto)) {&#xA;&#xA;        color(&quot;asunto&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    if(mensaje==&quot;&quot; || mensaje==null)&#xA;    {&#xA;&#xA;      color(&quot;mensaje&quot;);&#xA;      Alerta(&quot;Por favor ingrese un mensaje&quot;);&#xA;      return false;&#xA;&#xA;    }&#xA;    else&#xA;    {&#xA;      var error =  /^[,\\.\\a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ ]*$/;&#xA;      if (!error.test(mensaje)) {&#xA;&#xA;        color(&quot;mensaje&quot;);&#xA;      Alerta(&quot;No se permiten caracteres especiales&quot;);&#xA;      return false;&#xA;      }&#xA;    }&#xA;&#xA;    return true;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;PHP: Mi codig PHP actual en mi codigo fuente, debido a varias actualizaciones no he conseguido que el mail llegue a mi correo.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    #$_POST es super global, no necesitas pasarle los datos a la funcion&#xA;    function ajaxEnviarDatos(){&#xA;        #$_POST es superglobal y un array por tanto podemos referirnos a él directamente&#xA;        $nombre=$_POST['nombre'];&#xA;        $email=$_POST['email'];&#xA;        $asunto=$_POST['asunto'];&#xA;        $mensaje=$_POST['mensaje'];&#xA;&#xA;        $enviar_a = 'guillermo12@gmail.com'; /*Estaba probando otros correos*/&#xA;        $asunto = $asunto;&#xA;        $mensaje_preparado = &quot;De: $nombre \n&quot;;&#xA;        $mensaje_preparado .= &quot;Correo: $email \n&quot;;&#xA;        $mensaje_preparado .= &quot;Mensaje: &quot; . $mensaje;&#xA;&#xA;&#xA;&#xA;&#xA;        #Evaluamos qué ocurre cuando usamos mail&#xA;        if ( mail($enviar_a, $asunto, $mensaje_preparado) ) {&#xA;            $respuesta=$nombre;&#xA;            $respuesta.=$email;&#xA;            $respuesta.=$asunto;&#xA;            $respuesta.=$mensaje;&#xA;            #En vez de un texto plano, creamos un array&#xA;            #tendrá la clave success si mail es exitoso&#xA;            $mData=array(&quot;success&quot;=&amp;gt;$respuesta);&#xA;        }else{&#xA;            #O tendrá la clave error si hay un error&#xA;            $mData=array(&quot;error&quot;=&amp;gt;&quot;mail no ha funciona, revisa tu configuración&quot;);          &#xA;        }&#xA;        return $mData;&#xA;    }&#xA;&#xA;    if(isset($_POST['nombre'])){&#xA;        $mData=ajaxEnviarDatos();&#xA;    }else{&#xA;        $mData=array(&quot;error&quot;=&amp;gt;&quot;Falta el nombre&quot;, &quot;datos&quot;=&amp;gt;$_POST);          &#xA;    }&#xA;    echo json_encode($mData);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/bOCRP.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bOCRP.jpg&quot; alt=&quot;Localizacion de archivos&quot;&gt;&lt;/a&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/3FRRj.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/3FRRj.jpg&quot; alt=&quot;introducir la descripción de la imagen aquí&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""128303"" LastEditorUserId=""128303"" LastEditDate=""2020-02-04T19:34:11.780"" LastActivityDate=""2020-02-04T19:34:11.780"" Title=""Ajax ejecuta las validaciones pero no envía el formulario"" Tags=""&lt;php&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""11"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""327158"" PostTypeId=""1"" CreationDate=""2020-02-06T01:15:31.850"" Score=""3"" ViewCount=""499"" Body=""&lt;p&gt;Estuve mirando por todo &lt;code&gt;Stackoverflow&lt;/code&gt;, pero no encuentro forma de que funcione mi código.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Básicamente es un formulario de contacto y quiero enviar las variables a un &lt;code&gt;PHP&lt;/code&gt; por medio de &lt;code&gt;ajax&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Javascript&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;&#xA;    $('#template-contactform-submit').click(function(){&#xA;&#xA;        var email = $('#template-contactform-email').val();&#xA;        var nombre = $('#template-contactform-name').val();&#xA;        var telefono = $('#template-contactform-phone').val();&#xA;        var mensaje = $('#template-contactform-message').val();&#xA;        var asunto = $('#template-contactform-subject').val();&#xA;        var datos = 'email=' + email + '&amp;amp;nombre=' + nombre + '&amp;amp;telefono=' + telefono + '&amp;amp;mensaje=' + mensaje + '&amp;amp;asunto=' + asunto;&#xA;&#xA;        $.ajax({&#xA;            url: 'include/contact-form.php',&#xA;            type: 'POST',&#xA;            data: datos&#xA;        })&#xA;&#xA;        .done(function(res){&#xA;            $('#respuesta3').html(res)&#xA;        })&#xA;&#xA;        .fail(function(fail_resp){&#xA;            Swal.fire({&#xA;                title: 'Error!',&#xA;                text: 'No se ha podido realizar la suscripción. Intentelo nuevamente más tarde..',&#xA;                icon: 'error',&#xA;                confirmButtonText: 'Cerrar'&#xA;                })&#xA;        })&#xA;&#xA;    });&#xA;&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y acá el &lt;strong&gt;PHP&lt;/strong&gt; que lo recibe&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;    $nombre = $_POST['nombre'];&#xA;    $email = $_POST['email'];&#xA;    $telefono = $_POST['telefono'];&#xA;    $asunto = $_POST['asunto'];&#xA;    $mensaje = $_POST['mensaje'];&#xA;&#xA;    if ($nombre=='' | $email=='' | $telefono=='' | $asunto=='' | $mensaje==''){&#xA;&#xA;        echo &quot;&amp;lt;script&amp;gt;alert('Los campos marcados con * son obligatorios');&amp;lt;/script&amp;gt;&quot;;&#xA;&#xA;    }else{&#xA;&#xA;        date_default_timezone_set('America/Argentina/Buenos_Aires');&#xA;        require(&quot;class.phpmailer.php&quot;);&#xA;        include(&quot;class.smtp.php&quot;);&#xA;&#xA;        $mail = new PHPMailer(true); // the true param means it will throw exceptions on errors, which we need to catch&#xA;&#xA;        $mail-&amp;gt;IsSMTP(); // telling the class to use SMTP&#xA;        $cuerpo=&quot;Consulta desde &amp;lt;a href='http://tertiarium.com.ar/'&amp;gt;Tertiarium&amp;lt;/a&amp;gt;&amp;lt;br /&amp;gt;&#xA;        &amp;lt;br /&amp;gt;&#xA;        Nombre y apellido: &quot;.$nombre.&quot;&amp;lt;br /&amp;gt;&#xA;        ===============================&amp;lt;br /&amp;gt;&#xA;        Email: &quot;.$email.&quot;&amp;lt;br /&amp;gt;&#xA;        Telefono: &quot;.$telefono.&quot;&amp;lt;br /&amp;gt;&#xA;        ===============================&amp;lt;br /&amp;gt;&#xA;        Asunto: &quot;.$asunto.&quot; &amp;lt;br /&amp;gt;&#xA;        ===============================&amp;lt;br /&amp;gt;&#xA;        Consulta: &quot;.$mensaje.&quot;&amp;lt;br /&amp;gt;&quot;;&#xA;        try {&#xA;            $mail-&amp;gt;SMTPSecure = 'tls';&#xA;            $mail-&amp;gt;Host       = 'smtp.gmail.com'; // SMTP server&#xA;            $mail-&amp;gt;SMTPAuth   = true;                  // enable SMTP authentication&#xA;            $mail-&amp;gt;Port       = 587;  // set the SMTP port for the GMAIL server&#xA;            $mail-&amp;gt;Username   = &quot;mail@gmail.com&quot;; // SMTP account username&#xA;            $mail-&amp;gt;Password   = &quot;password&quot;;        // SMTP account password&#xA;            $mail-&amp;gt;AddReplyTo($email);&#xA;            $mail-&amp;gt;AddAddress('mail@gmail.com', 'Tertiarium');&#xA;            $mail-&amp;gt;AddCC('mail@gmail.com', 'Tertiarium');&#xA;            $mail-&amp;gt;SetFrom('mail@gmail.com', 'Tertiarium');&#xA;            $mail-&amp;gt;IsHTML(true);&#xA;            $mail-&amp;gt;Subject = &quot;Suscripcion de Tertiarium&quot;;&#xA;&#xA;            $mail-&amp;gt;MsgHTML($cuerpo);&#xA;            $mail-&amp;gt;Send();&#xA;&#xA;            echo &quot;&amp;lt;script&amp;gt;Swal.fire({&#xA;                    title: 'Suscripción realizada!',&#xA;                    text: 'Pronto nos pondremos en contacto.',&#xA;                    icon: 'success',&#xA;                    timeOut: 5000,&#xA;                    });&amp;lt;/script&amp;gt;&quot;;&#xA;&#xA;&#xA;            if(!$Correo-&amp;gt;Send()){&#xA;                echo &quot;Error: $Correo-&amp;gt;ErrorInfo&quot;;&#xA;            } else {&#xA;                echo &quot;Mensaje enviado&quot;;&#xA;            }&#xA;        } catch (phpmailerException $e) {&#xA;            echo $e-&amp;gt;errorMessage(); //Pretty error messages from PHPMailer&#xA;        } catch (Exception $e) {&#xA;            echo $e-&amp;gt;getMessage(); //Boring error messages from anything else!&#xA;        }&#xA;    }&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;El error que recibo es: &lt;strong&gt;error 500&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;Ahora lo estoy pasando como &lt;strong&gt;JSON&lt;/strong&gt; pero sigue fallando. Tira error 500&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;&#xA;        $('#template-contactform-submit').click(function(){&#xA;&#xA;            var email = $('#template-contactform-email').val();&#xA;            var nombre = $('#template-contactform-name').val();&#xA;            var telefono = $('#template-contactform-phone').val();&#xA;            var mensaje = $('#template-contactform-message').val();&#xA;            var asunto = $('#template-contactform-subject').val();&#xA;            var datos = {email: email,nombre:nombre,telefono:telefono,mensaje:mensaje,asunto:asunto};&#xA;&#xA;            $.ajax({&#xA;                url: 'include/contact-form.php',&#xA;                type: 'POST',&#xA;                dataType: &quot;json&quot;,&#xA;                data: datos&#xA;            })&#xA;&#xA;            .done(function(res){&#xA;                $('#respuesta3').html(res)&#xA;            })&#xA;&#xA;            .fail(function(fail_resp){&#xA;                Swal.fire({&#xA;                    title: 'Error!',&#xA;                    text: 'No se ha podido realizar la suscripción. Intentelo nuevamente más tarde..',&#xA;                    icon: 'error',&#xA;                    confirmButtonText: 'Cerrar'&#xA;                    })&#xA;            })&#xA;&#xA;        });&#xA;&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;NOTA: Tengo el mismo código funcionando en el campo de suscripción, en el que solo se pone el email para que lleguen newsletters. Solo falla cuando son varios campos como en este caso, el formulario de contacto&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""157517"" LastEditorUserId=""157517"" LastEditDate=""2020-02-06T12:42:53.613"" LastActivityDate=""2020-02-06T15:43:25.203"" Title=""Error al enviar variables desde Ajax a PHP"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""4"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""327610"" PostTypeId=""1"" CreationDate=""2020-02-07T17:53:00.803"" Score=""0"" ViewCount=""171"" Body=""&lt;p&gt;hola amig@s tengo un problema que al generarse las graficas haciendo evento change de un select en vez de reiniciarse se sobrepone una grafica sobre la otra y al pasar el mouse sobre ella a veces muestra los resultados anteriores o los actuales&#xA;Codigo php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;    &amp;lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/estilo.css&quot;&amp;gt; &#xA;    &amp;lt;title&amp;gt;DATATABLES&amp;lt;/title&amp;gt;&#xA;    &amp;lt;script src=&quot;../vendor/jquery/jquery-3.4.1.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;  &amp;lt;script src=&quot;Chart.js/dist/Chart.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;&amp;lt;section class=&quot;principal&quot;&amp;gt;&#xA;    &amp;lt;h1&amp;gt;BUSQUEDA DE JUGADORES&amp;lt;/h1&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    document.writeln(e);&#xA;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;div class=&quot;formulario&quot;&amp;gt;&#xA;        &amp;lt;label for=&quot;caja_busqueda&quot;&amp;gt;Buscar&amp;lt;/label&amp;gt;&#xA;        &amp;lt;select type=&quot;button&quot; name=&quot;caja_busqueda&quot; id=&quot;caja_busqueda&quot;  value=&quot;gonzalez acosta&quot;&amp;gt;&amp;lt;option&amp;gt;1&amp;lt;/option&amp;gt;&amp;lt;option&amp;gt;2&amp;lt;/option&amp;gt;&amp;lt;/select&amp;gt;        &#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;div id=&quot;datos&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;    &amp;lt;div id=&quot;canvas&quot; style=&quot;width: 300px; height: 200px&quot;&amp;gt;&#xA;        &amp;lt;canvas id=&quot;mybarChart&quot;&amp;gt;&amp;lt;/canvas&amp;gt;&#xA;    &amp;lt;/div&amp;gt;  &#xA;&amp;lt;/section&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;js/main.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Codigo js - para consultar &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(buscar_datos());&#xA;function buscar_datos(consulta){&#xA;    $.ajax({&#xA;        url: 'buscar.php' ,&#xA;        type: 'POST' ,&#xA;        dataType: 'html',&#xA;        data: {consulta: consulta},&#xA;    })&#xA;    .done(function(respuesta){&#xA;        $(&quot;#datos&quot;).html(respuesta);&#xA;         e = respuesta;&#xA;&#xA;        var ctx = document.getElementById(&quot;mybarChart&quot;);&#xA;              var mybarChart = new Chart(ctx, {&#xA;                type: 'bar',&#xA;                data: {&#xA;                  labels: [&quot;Enero&quot;, &quot;Febrero&quot;, &quot;Marzo&quot;, &quot;Abril&quot;, &quot;Mayo&quot;, &quot;Junio&quot;, &quot;Jjulio&quot;],&#xA;                  datasets: [{&#xA;                    label: '# of Votes',&#xA;                    backgroundColor: &quot;#26B99A&quot;,&#xA;                    data: [e, 30, 40, 28, 92, 50, 45]&#xA;                  }, {&#xA;                    label: '# of Votes',&#xA;                    backgroundColor: &quot;#03586A&quot;,&#xA;                    data: [41, 56, 25, 48, 72, 34, 12]&#xA;                  }]&#xA;                },&#xA;&#xA;                options: {&#xA;                  scales: {&#xA;                    yAxes: [{&#xA;                      ticks: {&#xA;                        beginAtZero: true&#xA;                      }&#xA;                    }]&#xA;                  }&#xA;                }&#xA;              });&#xA;&#xA;    })&#xA;    .fail(function(){&#xA;        console.log(&quot;error&quot;);&#xA;    });&#xA;}&#xA;&#xA;&#xA;$(document).on('change','#caja_busqueda', function(){&#xA;&#xA;    var valor = $(this).val();&#xA;    if (valor != &quot;&quot;) {&#xA;&#xA;        buscar_datos(valor);&#xA;    }else{&#xA;        buscar_datos();&#xA;    }&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;codigo php - este codigo lo que hace es consultar en la base de datos y enviar con la informacion al ajax.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    $servername = &quot;localhost&quot;;&#xA;    $username = &quot;root&quot;;&#xA;    $password = &quot;&quot;;&#xA;    $dbname = &quot;tienda&quot;;&#xA;    $conn = new mysqli($servername, $username, $password, $dbname);&#xA;      if($conn-&amp;gt;connect_error){&#xA;        die(&quot;Conexión fallida: &quot;.$conn-&amp;gt;connect_error);&#xA;      }&#xA;    $salida = &quot;&quot;;&#xA;    $query = &quot;SELECT sum(monto_venta)  as r from ventas where month(fecha_venta)= 1&quot;;&#xA;    if (isset($_POST['consulta'])) {&#xA;        $q = $conn-&amp;gt;real_escape_string($_POST['consulta']);&#xA;        $query = &quot;SELECT sum(monto_venta)  as r from ventas where month(fecha_venta) = '$q' &quot;;&#xA;    }&#xA;&#xA;    $resultado = $conn-&amp;gt;query($query);&#xA;&#xA;    if ($resultado-&amp;gt;num_rows&amp;gt;0) {&#xA;&#xA;&#xA;        while ($fila = $resultado-&amp;gt;fetch_assoc()) {&#xA;            $salida.=$fila['r'];&#xA;&#xA;        }&#xA;&#xA;    }else{&#xA;        $salida.=&quot;NO HAY DATOS :(&quot;;&#xA;    }&#xA;&#xA;&#xA;    echo $salida;&#xA;&#xA;    $conn-&amp;gt;close();&#xA;&#xA;&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;la base de datos lleva como nombre : tienda &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;-- phpMyAdmin SQL Dump&#xA;-- version 4.8.5&#xA;-- https://www.phpmyadmin.net/&#xA;--&#xA;-- Servidor: 127.0.0.1:3306&#xA;-- Tiempo de generación: 07-02-2020 a las 13:17:21&#xA;-- Versión del servidor: 5.7.26&#xA;-- Versión de PHP: 7.2.18&#xA;&#xA;SET SQL_MODE = &quot;NO_AUTO_VALUE_ON_ZERO&quot;;&#xA;SET AUTOCOMMIT = 0;&#xA;START TRANSACTION;&#xA;SET time_zone = &quot;+00:00&quot;;&#xA;&#xA;&#xA;/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;&#xA;/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;&#xA;/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;&#xA;/*!40101 SET NAMES utf8mb4 */;&#xA;&#xA;--&#xA;-- Base de datos: `tienda`&#xA;--&#xA;&#xA;-- --------------------------------------------------------&#xA;&#xA;--&#xA;-- Estructura de tabla para la tabla `ventas`&#xA;--&#xA;&#xA;DROP TABLE IF EXISTS `ventas`;&#xA;CREATE TABLE IF NOT EXISTS `ventas` (&#xA;  `id_venta` int(11) NOT NULL,&#xA;  `fecha_venta` date NOT NULL,&#xA;  `monto_venta` float NOT NULL&#xA;) ENGINE=MyISAM DEFAULT CHARSET=latin1;&#xA;&#xA;--&#xA;-- Volcado de datos para la tabla `ventas`&#xA;--&#xA;&#xA;INSERT INTO `ventas` (`id_venta`, `fecha_venta`, `monto_venta`) VALUES&#xA;(1, '2014-01-15', 15000),&#xA;(2, '2014-02-13', 10000),&#xA;(3, '2014-03-11', 12000),&#xA;(4, '2014-04-22', 13000),&#xA;(5, '2014-05-22', 30000),&#xA;(6, '2014-06-14', 11500),&#xA;(7, '2014-07-30', 10200),&#xA;(8, '2014-08-16', 15000),&#xA;(9, '2014-09-23', 10000),&#xA;(10, '2014-10-02', 12000),&#xA;(11, '2014-11-20', 13000),&#xA;(12, '2015-01-20', 30000),&#xA;(13, '2015-03-11', 11500),&#xA;(14, '2014-11-20', 10200),&#xA;(15, '2015-01-20', 9500);&#xA;COMMIT;&#xA;&#xA;/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;&#xA;/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;&#xA;/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;agradezco me puedan brindar su ayuda o en su defecto enviarme otro tema relacionado para con Dashboard mensuales&lt;/p&gt;&#xA;"" OwnerUserId=""157760"" LastActivityDate=""2020-02-07T17:53:00.803"" Title=""graficando con chartjs -ajax - php"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;chart.js&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""331375"" PostTypeId=""1"" CreationDate=""2020-02-21T18:53:48.300"" Score=""1"" ViewCount=""247"" Body=""&lt;p&gt;Buen día, tengo el problema de una calculadora que estoy elaborando usando AJAX ya que quiero hacer la operación y que el resultado se muestre en el SPAN RESULTADO pero no logro hacer que el script funcione y pienso que la problematica esta ahi y en el combo box para que tome la operacion que el usuario desee. Les adjunto parte del codigo junto con el home controller.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;                     &amp;lt;div class=&quot;col-md-4&quot;&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;label&amp;gt;Valor A&amp;lt;/label&amp;gt;&#xA;&#xA;                            &amp;lt;input type=&quot;number&quot; name=&quot;a&quot; step=&quot;any&quot; class=&quot;form-control&quot; value=&quot;&quot; id=&quot;txtDato1&quot; /&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;label&amp;gt;Valor B&amp;lt;/label&amp;gt;&#xA;&#xA;                            &amp;lt;input type=&quot;number&quot; name=&quot;b&quot; step=&quot;any&quot; class=&quot;form-control&quot; value=&quot;&quot; id=&quot;txtDato2&quot;/&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group&quot;&amp;gt;&#xA;                            &amp;lt;label&amp;gt;Operacion&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;select typeof=&quot;text&quot; name=&quot;c&quot; class=&quot;form-control&quot; value=&quot;&quot; id=&quot;txtOperacion&quot;&amp;gt;&#xA;                                &amp;lt;option value=&quot;suma&quot;&amp;gt;Suma&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option value=&quot;resta&quot;&amp;gt;Resta&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option value=&quot;multiplicación&quot;&amp;gt;Multiplicación&amp;lt;/option&amp;gt;&#xA;&#xA;                            &amp;lt;/select&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;&#xA;                        &amp;lt;div class=&quot;form-control-static&quot;&amp;gt;&#xA;                            &amp;lt;input type=&quot;button&quot; value=&quot;Resultado&quot; id=&quot;btnResultado&quot;/&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        Resultado: &amp;lt;span id=&quot;spanResultado&quot;&amp;gt;&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Este es el script:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;//Accion al apretar el boton de resultado&#xA;$(&quot;#btnResultado&quot;).click(function () {&#xA;    var url = &quot;@Url.Action(&quot;Resultado&quot;, &quot;Home&quot;)&quot;;&#xA;    var cantidad1 = $(&quot;#txtDato1&quot;).val();&#xA;    var cantidad2 = $(&quot;#txtDato2&quot;).val();&#xA;    var operacion = $(&quot;#txtOperacion&quot;).val();&#xA;    var data = { a: cantidad1, b: cantidad2, c: operacion };&#xA;&#xA;    //jQuery&#xA;    $.post(url, data).done(function (data){&#xA;        $(&quot;#spanResultado&quot;).html(data);&#xA;    }).fail(manejarErrorAjax).always(function () {&#xA;    });&#xA;&#xA;    function manejarErrorAjax(err) {&#xA;    console.log(err.responseText);&#xA;}    &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&#xA;Y este la operacion json que tengo en el home controller&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;[HttpPost]&#xA;    public JsonResult Resultado(string a, string b, string c)&#xA;    {&#xA;        var Resultado = 0.0;&#xA;        switch (c)&#xA;        { &#xA;            case &quot;suma&quot;:&#xA;                Resultado= float.Parse(a) + float.Parse(b);&#xA;&#xA;                break;&#xA;            case &quot;resta&quot;:&#xA;               Resultado =  float.Parse(a) - float.Parse(b);&#xA;                break;&#xA;&#xA;            case &quot;mutiplicacion&quot;:&#xA;&#xA;                Resultado= float.Parse(a) * float.Parse(b);&#xA;                break;&#xA;&#xA;&#xA;&#xA;        }&#xA;        return Json(Resultado);&#xA;&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Espero puedan ayudarme muchas gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""141945"" LastEditorUserId=""141945"" LastEditDate=""2020-02-21T19:08:26.490"" LastActivityDate=""2020-02-21T22:28:44.433"" Title=""Como puedo usar un combo box de html para AJAX"" Tags=""&lt;javascript&gt;&lt;html5&gt;&lt;ajax&gt;&lt;json&gt;&lt;asp.net-mvc&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""335000"" PostTypeId=""1"" CreationDate=""2020-03-06T09:32:03.787"" Score=""1"" ViewCount=""78"" Body=""&lt;p&gt;Bien aclaro que yo lo hice de otra forma pero tengo curiosidad por saber en que fallaba ya que quiero entender mejor como trabaja el $.ajax de jquery.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Yo tenia esta función que me enviaba un post hacia un controller:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;        url: '/Prd/CreateOrden', // Url&#xA;        type: 'POST',&#xA;        dataType: 'json',&#xA;        data: {&#xA;            nombrecliente: $(&quot;#nombrecliente&quot;).val(),&#xA;            productoID: $(&quot;#productoID&quot;).val(),&#xA;            fechaorden: $(&quot;#fechaorden&quot;).val(),&#xA;            largotablero: $(&quot;#largotablero&quot;).val(),&#xA;            anchotablero: $(&quot;#anchotablero&quot;).val(),&#xA;            areaxtab: $(&quot;#anchotablero&quot;).val(),&#xA;            tableros: $(&quot;#tableros&quot;).val(),&#xA;            cinta: $(&quot;#cinta&quot;).val(),&#xA;            porcentajeused: $(&quot;#porcentajeused&quot;).val(),&#xA;            porcentajedes: $(&quot;#porcentajedes&quot;).val(),&#xA;            presupuesto: $(&quot;#presupuesto&quot;).val(),&#xA;            areatotaltab: $(&quot;#areatotaltab&quot;).val(),&#xA;            areatotaltab: $(&quot;#areatotaltab&quot;).val(),&#xA;            detalle: orderItems&#xA;        },&#xA;        asyn: true,&#xA;        success: function (result) {&#xA;            quitaesperar();&#xA;            if (result.estado) {&#xA;                window.location.href = &quot;/Prd/IndexOrden&quot;;&#xA;            } else {&#xA;                window.location.href = &quot;/Home/Mensaje&quot;;                &#xA;            }&#xA;        error:function () {&#xA;            quitaesperar();&#xA;            window.location.href = &quot;/Home/MensajeJQ?Titulo='Error'&amp;amp;Mensaje='Un error no permitió enviar la información póngase en contacto el Administrador'&quot;;&#xA;&#xA;        }&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero me daba problemas se ejecutaba antes que terminara de responder el ajax por lo que la función &quot;quitaresperar()&quot; no servia, lo que hace esta función era quitar ese icono que te indica que esta haciendo algo la pagina web. Además &quot;result&quot; venia indefinido porque nunca esperaba a terminar el proceso en el controller:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;// POST: Prd/CreateOrden&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  [HttpPost]&#xA;  public async Task&amp;lt;ActionResult&amp;gt; CreateOrden(OrdenModel Modelo)&#xA;  {&#xA;       var estado = false;&#xA;       int iId = 0;&#xA;       try&#xA;       { &#xA;&#xA;            var Entidad = _iMap.Map&amp;lt;orden&amp;gt;(Modelo);&#xA;            var result = _iOrd.Insertar(Entidad);&#xA;            //Convertimos de Task&amp;lt;Int&amp;gt; a Int&#xA;            iId = await result;&#xA;            ordendetail det;&#xA;            foreach(var item in Modelo.detalle)&#xA;            {&#xA;                 item.ordenID = iId;&#xA;                 det = _iMap.Map&amp;lt;ordendetail&amp;gt;(item);&#xA;                 await _iOrdDet.Insertar(det);&#xA;            }&#xA;&#xA;            estado = true;&#xA;&#xA;            return Json(new { estado = estado, Id = iId});&#xA;       } &#xA;       catch(Exception e)&#xA;       {&#xA;            //SI USAMOS MODELSTATE CON ESTO OBTENEMOS LISTADO DE ERRORES&#xA;            //string.Join(&quot;; &quot;, ModelState.Values.SelectMany(x =&amp;gt; x.Errors).Select(x =&amp;gt; x.ErrorMessage));&#xA;            TempData[&quot;Titulo&quot;] = &quot;Error&quot;;&#xA;            TempData[&quot;Mensaje&quot;] = &quot;La información no puedo ser guardada, contacte al administrador: &quot; + e.Message; &#xA;            return Json(new { estado = estado, Id = iId });&#xA;       }&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Si la sugerencia es cambiar &quot;async: false&quot; os digo que no :), ya lo intente y no me dio resultado, entonces como lo solucione y si funciono de la siguente forma:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;        url: '/Prd/CreateOrden', // Url&#xA;        type: 'POST',&#xA;        dataType: 'json',&#xA;        data: {&#xA;            nombrecliente: $(&quot;#nombrecliente&quot;).val(),&#xA;            productoID: $(&quot;#productoID&quot;).val(),&#xA;            fechaorden: $(&quot;#fechaorden&quot;).val(),&#xA;            largotablero: $(&quot;#largotablero&quot;).val(),&#xA;            anchotablero: $(&quot;#anchotablero&quot;).val(),&#xA;            areaxtab: $(&quot;#anchotablero&quot;).val(),&#xA;            tableros: $(&quot;#tableros&quot;).val(),&#xA;            cinta: $(&quot;#cinta&quot;).val(),&#xA;            porcentajeused: $(&quot;#porcentajeused&quot;).val(),&#xA;            porcentajedes: $(&quot;#porcentajedes&quot;).val(),&#xA;            presupuesto: $(&quot;#presupuesto&quot;).val(),&#xA;            areatotaltab: $(&quot;#areatotaltab&quot;).val(),&#xA;            areatotaltab: $(&quot;#areatotaltab&quot;).val(),&#xA;            detalle: orderItems&#xA;        },&#xA;        asyn: true&#xA;    })&#xA;        .done(function (result) {&#xA;            quitaesperar();&#xA;            if (result.estado) {&#xA;                window.location.href = &quot;/Prd/IndexOrden&quot;;&#xA;            } else {&#xA;                window.location.href = &quot;/Home/Mensaje&quot;;                &#xA;            }&#xA;        })&#xA;        .fail(function () {&#xA;            quitaesperar();&#xA;            window.location.href = &quot;/Home/MensajeJQ?Titulo='Error'&amp;amp;Mensaje='Un error no permitió enviar la información póngase en contacto el Administrador'&quot;;&#xA;&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Pero me queda la duda porque no funcionaba de la forma anterior, si alguien tiene una idea me la coment es por saber más sobre esto y si alguien tiene el mismo problema pues tambien ya tiene una solucion saludos.&lt;/p&gt;&#xA;"" OwnerUserId=""155803"" LastActivityDate=""2020-03-06T09:32:03.787"" Title=""Una consulta sobre Ajax y porque no me funciona de esta forma el Success en Jquery a un ASP Core controller"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;asp.net-core&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""335013"" PostTypeId=""1"" AcceptedAnswerId=""335063"" CreationDate=""2020-03-06T10:25:56.607"" Score=""0"" ViewCount=""348"" Body=""&lt;p&gt;El problema es que no me ejecuta el ajax, ya que me falla algo en la validacion, el error que me da es el siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;TypeError: document.getElementById(...) &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Aquí va el código:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;function validar() {&#xA;  var res = true;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Error en esta línea&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  if (document.getElementById(&quot;tema&quot;).value === &quot;&quot; || document.getElementById(&quot;experiencia&quot;).value === &quot;&quot; ||&#xA;    document.getElementById(&quot;tiempo&quot;).value === &quot;&quot;) {&#xA;    res = false;&#xA;  }&#xA;  if (!res) {&#xA;    alert('Debes seleccionar todos los campos');&#xA;  }&#xA;  return res;&#xA;}&#xA;//Envio datos del formulario mediante ajax&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Y error al intentar acceder al ajax&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if (validar()) {&#xA;  $(document).ready(function() {&#xA;    $(&quot;#enviar&quot;).click(function() {&#xA;      var datos = $(&quot;form&quot;).serialize(); //serialize recoge los values del formulario, identificados por su name&#xA;      $.ajax({&#xA;          type: &quot;POST&quot;,&#xA;          url: &quot;guardarDatos.php&quot;,&#xA;          data: datos&#xA;        })&#xA;        .done(function(response) {&#xA;          if (response.success) {&#xA;            alert(&quot;Fallo con la Base de Datos&quot;);&#xA;          }&#xA;        })&#xA;        .fail(function() {&#xA;          alert(&quot;error&quot;);&#xA;        });&#xA;    });&#xA;  });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Aqui os dejo el formulario&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&quot;form&quot; onsubmit=&quot;return validar()&quot; method=&quot;POST&quot; action=&quot;index.php&quot;&amp;gt;&#xA;    &amp;lt;select id=&quot;tema&quot; name=&quot;tema&quot;&amp;gt;&#xA;        &amp;lt;option value=&quot;&quot;&amp;gt;¿En qué tema estás interesado?&amp;lt;/option&amp;gt;&#xA;        &amp;lt;option&amp;gt;Programación&amp;lt;/option&amp;gt;&#xA;    &amp;lt;/select&amp;gt;&#xA;    &amp;lt;select id=&quot;experiencia&quot; name=&quot;experiencia&quot;&amp;gt;&#xA;        &amp;lt;option value=&quot;&quot;&amp;gt;¿Qué experiencia tienes?&amp;lt;/option&amp;gt;&#xA;        &amp;lt;option&amp;gt;Sin experiencia&amp;lt;/option&amp;gt;&#xA;    &amp;lt;/select&amp;gt;&#xA;    &amp;lt;select id=&quot;tiempo&quot; name=&quot;tiempo&quot;&amp;gt;&#xA;        &amp;lt;option value=&quot;&quot;&amp;gt;¿De que tiempo dispones?&amp;lt;/option&amp;gt;&#xA;        &amp;lt;option&amp;gt;1-3 horas al día&amp;lt;/option&amp;gt;&#xA;    &amp;lt;/select&amp;gt;&#xA;    &amp;lt;/br&amp;gt;&#xA;    &amp;lt;input type=&quot;submit&quot; value=&quot;ENCUENTRA TU FORMACIÓN AHORA&quot; id=&quot;enviar &quot;name=&quot;enviar&quot;&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Supongo que el error es en la parte de javascript que no realizo los pasos correctamente&lt;/p&gt;&#xA;"" OwnerUserId=""127946"" LastEditorUserId=""109169"" LastEditDate=""2020-03-06T15:44:09.543"" LastActivityDate=""2020-03-06T18:15:30.143"" Title=""Problema con validacion y envio, javascript y ajax"" Tags=""&lt;javascript&gt;&lt;html5&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""336505"" PostTypeId=""1"" CreationDate=""2020-03-12T04:30:32.410"" Score=""0"" ViewCount=""20"" Body=""&lt;p&gt;es la primera vez que intento hacer un buscador en tiempo real usando listas desplegables como filtro. En Internet no encontré uno que use listas desplegables, así que ando bastante perdido, ya que también es mi primera vez usando este tipo de código, intenté copiar características del buscador tradicional y arreglarme como puede, pero no consigo nada :/&#xA;Sé que una pregunta como esta puede llegar a molestar, pero ando muuy perdido, hace poco comencé a programar.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Les dejo mi código.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Página con el &quot;buscador&quot;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&quot;buscador&quot;&amp;gt;&#xA;&#xA;   &amp;lt;select id=&quot;buscar-esto&quot; name=&quot;marca&quot;&amp;gt;&#xA;     &amp;lt;option value=&quot;0&quot;&amp;gt;Marca&amp;lt;/option&amp;gt;&#xA;     &amp;lt;?php&#xA;         include &quot;../2.inc/actualizar-marca.inc&quot;;&#xA;     ?&amp;gt;&#xA;   &amp;lt;/select&amp;gt;&#xA;&#xA;   &amp;lt;select id=&quot;buscar-esto&quot; name=&quot;categoria&quot;&amp;gt;&#xA;     &amp;lt;option value=&quot;0&quot;&amp;gt;Categoría&amp;lt;/option&amp;gt;&#xA;     &amp;lt;?php&#xA;         include &quot;../2.inc/actualizar-categoria.inc&quot;;&#xA;     ?&amp;gt;&#xA;   &amp;lt;/select&amp;gt;&#xA;&#xA;   &amp;lt;select id=&quot;buscar-esto&quot; name=&quot;pais&quot;&amp;gt;&#xA;     &amp;lt;option value=&quot;0&quot;&amp;gt;País&amp;lt;/option&amp;gt;&#xA;     &amp;lt;option value=&quot;China&quot;&amp;gt;China&amp;lt;/option&amp;gt;&#xA;     &amp;lt;option value=&quot;USA&quot;&amp;gt;USA&amp;lt;/option&amp;gt;&#xA;     &amp;lt;option value=&quot;UK&quot;&amp;gt;UK&amp;lt;/option&amp;gt;&#xA;   &amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;div id=&quot;datos&quot;&amp;gt;&#xA;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ajax.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(buscar_datos());&#xA;function buscar_datos(consulta) {&#xA;       $.ajax({&#xA;            url: '1.paginas/buscar.php',&#xA;            type: 'POST',&#xA;            dataType: 'html',&#xA;            data: {consulta: consulta},&#xA;       })&#xA;         .done(function(respuesta) {&#xA;           $(&quot;#resultado&quot;).html(respuesta);&#xA;         })&#xA;         .fail(function() {&#xA;           console.log(&quot;error&quot;);&#xA;         })&#xA;}&#xA;&#xA;$(document).on('keyup','#buscar-esto', function(){&#xA;   var valor = $(this).val();&#xA;&#xA;    if(valor !=&quot;&quot;){&#xA;       buscar_datos(valor);&#xA;    } else {&#xA;      buscar_datos();&#xA;    }&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;y buscar.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA; $conexion = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;,&quot;minos&quot;);&#xA;&#xA; if (!$conexion) {&#xA;     header(&quot;Location: error.php?mensaje=No se pudo conectar a la base de datos&quot;);&#xA; } else {&#xA;&#xA;$salida =&quot;&quot;;&#xA;$query = &quot;SELECT * FROM productos ORDER By id&quot;;&#xA;&#xA;if(isset($_POST['consulta'])){&#xA;  $q = $conexion -&amp;gt;real_escape_string($_POST['consulta']);&#xA;  $query = &quot;SELECT id, descri, precio, marca, catego, pais, imagen FROM productos&#xA;  WHERE marca LIKE '%&quot;.$q.&quot;%' OR categoria LIKE '%&quot;.$q.&quot;%' OR pais LIKE '%&quot;.$q.&quot;%'&quot;;&#xA;&#xA; }&#xA;&#xA; $resultado = $mysqli-&amp;gt;query($query);&#xA; if($resultado-&amp;gt;num_rows &amp;gt; 0){&#xA;   $salida.= &quot;&amp;lt;table class='tabla_datos'&amp;gt;&#xA;                  &amp;lt;thead&amp;gt;&#xA;                    &amp;lt;tr&amp;gt;&#xA;                        &amp;lt;td&amp;gt;id&amp;lt;/td&amp;gt; &amp;lt;td&amp;gt;descri&amp;lt;/td&amp;gt; &amp;lt;td&amp;gt;precio&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;marca&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;catego&amp;lt;/td&amp;gt; &#xA;                        &amp;lt;td&amp;gt;pais&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;imagen&amp;lt;/td&amp;gt;                &#xA;                    &amp;lt;/tr&amp;gt;&#xA;                  &amp;lt;/thead&amp;gt;&#xA;                  &amp;lt;tbody&amp;gt;&quot;;&#xA;      while($fila =$resultado-&amp;gt;fetch_assoc() ){&#xA;        $salida.= &quot;&amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;&quot;.$fila['id'].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$fila['descri'].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$fila['descri'].&quot;&amp;lt;/td&amp;gt; &#xA;                &amp;lt;td&amp;gt;&quot;.$fila['precio'].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$fila['marca'].&quot;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&quot;.$fila['catego'].&quot;&amp;lt;/td&amp;gt; &#xA;                &amp;lt;td&amp;gt;&quot;.$fila['pais'].&quot;&amp;lt;/td&amp;gt; &amp;lt;td&amp;gt;&quot;.$fila['imagen'].&quot;&amp;lt;/td&amp;gt;           &#xA;        &amp;lt;/tr&amp;gt;&quot;;&#xA;}&#xA;  $salida.=&quot;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&quot;;&#xA;} else {&#xA;   $salida.=&quot;No hay datos :()&quot;;&#xA;}&#xA;  echo &quot;$salida&quot;;&#xA;  mysqli_close($conexion);&#xA;&#xA;}&#xA;&#xA;  ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerDisplayName=""user138470"" LastActivityDate=""2020-03-12T04:30:32.410"" Title=""Algo falla en mi buscador en tiempo real"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ClosedDate=""2020-03-12T18:35:46.083"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""336542"" PostTypeId=""1"" CreationDate=""2020-03-12T10:19:40.813"" Score=""0"" ViewCount=""144"" Body=""&lt;p&gt;ya hace unas cuantas horas vengo intentando hacer que me funcione un buscador en tiempo real, y por más que busque tutoriales en internet, no logro hacer que funcione, no encuentro la falla en mi código y ya estoy desesperado. Quizá ustedes podrían ayudarme.Cuando me dirijo a la pagina &quot;buscar.php&quot; me salen todos los datos de mi tabla, pero como que no interviene el código que escribi en &quot;ajax.js&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;agregué con un script una librería y obviamente otro script con la ubicacion de la carpeta &quot;ajax.js&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Consultas.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;selection class=&quot;principal&quot;&amp;gt;&#xA;   &amp;lt;div class=&quot;form-1-2&quot;&amp;gt;&#xA;     &amp;lt;label for=&quot;caja_busqueda&quot;&amp;gt;Buscar:&amp;lt;/label&amp;gt;&#xA;     &amp;lt;input type=&quot;text&quot; name=&quot;caja_busqueda&quot; id=&quot;caja_busqueda&quot; placeholder=&quot;Buscar...&quot;&amp;gt;&#xA;   &amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;div id=&quot;datos&quot;&amp;gt; &amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;/selection&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ajax.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(buscar_datos());&#xA;&#xA;function buscar_datos(consulta) {&#xA;&#xA;  $.ajax({&#xA;    url: '1.paginas/buscar.php',&#xA;    type: 'POST',&#xA;    dataType: 'php',&#xA;    data: {consulta: consulta},&#xA;&#xA;    })&#xA;    .done(function(respuesta) {&#xA;      $(&quot;#datos&quot;).php(respuesta);&#xA;    })&#xA;    .fail(function() {&#xA;      console.log(&quot;error&quot;);&#xA;    })&#xA;}&#xA;&#xA;$(document).on('keyup', '#caja_busqueda',function() {&#xA;     var valor = $(this).val();&#xA;     if(valor != &quot;&quot;){&#xA;       buscar_datos(valor);&#xA;     } else {&#xA;       buscar_datos();&#xA;     }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;buscar.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA; $mysqli = new mysqli(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;,&quot;minos&quot;);&#xA;&#xA;&#xA;$salida= &quot;&quot;;&#xA;$query = &quot;SELECT * FROM productos ORDER By id&quot;;&#xA;&#xA;if (isset($_POST['consulta'])) {&#xA;  $q = $mysqli-&amp;gt;real_escape_string($_POST['consulta']);&#xA;  $query = &quot;SELECT id, descri, precio, marca, catego, pais, imagen FROM productos&#xA;  WHERE marca LIKE '%&quot;.$q.&quot;%' OR catego LIKE '%&quot;.$q.&quot;%' OR pais LIKE '%&quot;.$q.&quot;%'&quot;;&#xA;}&#xA;&#xA;$resultado = $mysqli-&amp;gt;query($query);&#xA;&#xA;if($resultado-&amp;gt;num_rows &amp;gt; 0){&#xA;&#xA;     $salida.=&quot;&amp;lt;table class='tabla_datos'&amp;gt;&#xA;                 &amp;lt;thead&amp;gt;&#xA;                      &amp;lt;tr&amp;gt;&#xA;                           &amp;lt;td&amp;gt;id&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;descri&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;precio&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;marca&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;catego&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;pais&amp;lt;/td&amp;gt;&#xA;                           &amp;lt;td&amp;gt;imagen&amp;lt;/td&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                    &amp;lt;/thead&amp;gt;&#xA;                    &amp;lt;tbody&amp;gt;&quot;;&#xA;   while($fila = $resultado-&amp;gt;fetch_assoc()){&#xA;     $salida.=&quot; &amp;lt;tr&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['id'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['descri'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['precio'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['marca'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['catego'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['pais'].&quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&quot;.$fila['imagen'].&quot;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&quot;;&#xA;   }&#xA;   $salida.=&quot;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&quot;;&#xA;} else {&#xA;   $salida.=&quot;No hay datos :c&quot;;&#xA;}&#xA;&#xA;echo &quot;$salida&quot;;&#xA;&#xA;$mysqli-&amp;gt;close();&#xA;&#xA;  ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerDisplayName=""user138470"" LastEditorDisplayName=""user138470"" LastEditDate=""2020-03-12T11:27:16.107"" LastActivityDate=""2020-03-12T11:27:16.107"" Title=""No funciona mi buscador en tiempo real"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""346850"" PostTypeId=""1"" CreationDate=""2020-04-17T10:23:25.513"" Score=""1"" ViewCount=""1078"" Body=""&lt;p&gt;Estoy intentando editar registros con laravel por medio de Ajax con un modal. Tengo la ruta creada, el controlador creado y creo que todo lo necesario. Pero cuando intento hacer la modificación, siempre me devuelve un error 419 en el inspector de elementos y no se porqué, ya que la ruta la tengo configurada como &quot;post&quot;, en ajax envio por post... Adjunto mi código.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ruta&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//rutas funcionalidad modales editar&#xA; Route::post('/editarInstalaciones', 'adminController@editarInstalaciones')- &#xA; &amp;gt;name('editarInstalaciones');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Controlador&lt;/strong&gt;&#xA;    public function editarInstalaciones(Request $request){&#xA;        $id = $request-&gt;id;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    echo $id;&#xA;    echo var_dump($id);&#xA;&#xA;    exit();&#xA;&#xA;    /*$instalaciones = instalaciones::find($id);&#xA;    if(is_null($instalaciones)){&#xA;        App::abort(404);&#xA;    }else{&#xA;        $instalaciones-&amp;gt;fill($request-&amp;gt;all());&#xA;        $instalaciones-&amp;gt;save();&#xA;&#xA;    return response()-&amp;gt;json([&#xA;            &quot;mensaje&quot; =&amp;gt; &quot;listo&quot;,&#xA;        ]);&#xA;    }*/&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;corregido&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function editarInstalaciones(Request $request){&#xA;&#xA;    $id = $request-&amp;gt;input('id-instalacion');&#xA;    $nombreI = $request-&amp;gt;input('nombre-instalacion');&#xA;    $capacidadI = $request-&amp;gt;input('capacidad-instalacion');&#xA;&#xA;    $instalaciones = instalaciones::where('id','=',$id)-&amp;gt;update(['nombre'=&amp;gt;$nombreI,'capacidad'=&amp;gt;$capacidadI]);&#xA;    return response()-&amp;gt;Json($instalaciones);    &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Ajax&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//función boton modal instalaciones&#xA;    $('#modificarInstalaciones').on('click', function(){&#xA;    //serelizamos el formulario&#xA;        var serializado = $(&quot;#formularioModal&quot;).serialize();&#xA;        var idInstalacion = $(&quot;#idInstalacion&quot;).val();&#xA;        var nombre = $(&quot;#instalacion&quot;).val();&#xA;        var capacidad = $(&quot;#capacidad&quot;).val();&#xA;&#xA;        // limpiamos la tabla&#xA;        $('#listado tr').remove();&#xA;&#xA;        // función Ajax&#xA;        $.ajax({&#xA;            //headers: {'X-CSRF-Token': '{{csrf_token()}}'},&#xA;            url: &quot;/editarInstalaciones&quot;,&#xA;            data: {&#xA;                &quot;_token&quot;: $(&quot;meta[name='csrf-token']&quot;).attr(&quot;content&quot;),&#xA;                &quot;id&quot;:idInstalacion,&#xA;                &quot;nombre&quot;:nombre,&#xA;                &quot;capacidad&quot;:capacidad,&#xA;                },&#xA;            type: &quot;post&quot;,&#xA;                success:function(data){ &#xA;                    listadoInstalaciones();&#xA;                    console.log(data);&#xA;                },&#xA;                error: function(){&#xA;                    alert('imposible Modificar');&#xA;                }&#xA;            });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Corregido&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//función boton modal instalaciones&#xA;    $('#modificarInstalaciones').on('click', function(){&#xA;    //serelizamos el formulario&#xA;        var serializado = $(&quot;#formularioModal&quot;).serialize();&#xA;        var idInstalacion = $(&quot;#idInstalacion&quot;).val();&#xA;        var nombre = $(&quot;#instalacion&quot;).val();&#xA;        var capacidad = $(&quot;#capacidad&quot;).val();&#xA;&#xA;        // limpiamos la tabla&#xA;        $('#listado tr').remove();&#xA;&#xA;        let datos = $('#formularioModal').serialize();&#xA;        let send = $('#formularioModal').attr('action');&#xA;&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            url:send,&#xA;            data:datos,&#xA;&#xA;        }).done(function(data){&#xA;            listadoInstalaciones();&#xA;&#xA;        }).fail(function(err){&#xA;&#xA;            console.log(err);   &#xA;        });     &#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt;&#xA;Tras hacer un var_dump he visto esto: &lt;code&gt;49&amp;lt;pre class='xdebug-var-dump' dir='ltr'&amp;gt;&#xA;&amp;lt;small&amp;gt;/application/app/Http/Controllers/adminController.php:122:&amp;lt;/small&amp;gt;&amp;lt;small&amp;gt;string&amp;lt;/small&amp;gt; &amp;lt;font color='#cc0000'&amp;gt;'49'&amp;lt;/font&amp;gt; &amp;lt;i&amp;gt;(length=2)&amp;lt;/i&amp;gt;&#xA;&amp;lt;/pre&amp;gt;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;por lo que el id está llegando bien.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Tengo que mencionar, que todos los parámetros los recibo perfectamente, así se ve en el inspector de elementos:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&#xA;    _token: HpcLw7bIwWpLhe58G7UMAGUcVWOo3v5C0emcnafy&#xA;    id: 49&#xA;    nombre: Sala+yuhu4&#xA;    capacidad: 30&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Error&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Request URL: http://localhost:8000/editarInstalaciones&#xA;Request Method: POST&#xA;Status Code: 500 Internal Server Error&#xA;Remote Address: [::1]:8000&#xA;Referrer Policy: no-referrer-when-downgrade&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Gracias de antemano por la ayuda&lt;/p&gt;&#xA;"" OwnerUserId=""45880"" LastEditorUserId=""45880"" LastEditDate=""2020-04-17T17:05:29.170"" LastActivityDate=""2020-04-17T17:05:29.170"" Title=""Enviar parámetros controlador laravel con ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;laravel&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""350076"" PostTypeId=""1"" AcceptedAnswerId=""350126"" CreationDate=""2020-04-27T19:22:02.010"" Score=""0"" ViewCount=""152"" Body=""&lt;p&gt;Estoy queriendo pasar un dato desde un archivo &lt;code&gt;js&lt;/code&gt; a un &lt;code&gt;php&lt;/code&gt; por medio de &lt;code&gt;ajax&lt;/code&gt;. &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Lo unico que necesito haces es obtener el valor de la variable &lt;code&gt;idTurno&lt;/code&gt; (del archivo js) en mi archivo php, para de esa manera llamar una funcion desde este mismo php.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Hice lo siguiente:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;                    var idTurno = calEvent.event._def.publicId;&#xA;                    // el valor de idTurno es un string con un numero entero, por ejemplo&#xA;                    // idTurno = &quot;2&quot;&#xA;                    var turno = { 'idTurno': idTurno }&#xA;&#xA;&#xA;                    $.ajax({&#xA;                        type: 'POST',&#xA;                        url: 'ajax/turnos.ajax.php',&#xA;                        dataType: 'json',&#xA;                        data: turno,&#xA;                        success: function(respuesta) {&#xA;                            console.log(&quot;bien&quot;,respuesta)&#xA;                        },&#xA;                        error: function(respuesta) {&#xA;                            console.log(&quot;error&quot;,respuesta)&#xA;                        }&#xA;                    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;En el &lt;code&gt;php&lt;/code&gt;tengo lo siguiente &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require_once &quot;../modelos/turnos.modelo.php&quot;;&#xA;class AjaxTurnos{&#xA;&#xA;&#xA;    public $turno;&#xA;    public function ajaxEliminarTurno(){&#xA;        $datos = ($this-&amp;gt;idTurno);&#xA;        $tabla = &quot;turnos&quot;;&#xA;              $respuesta = ModeloTurnos::mdlEliminarTurno($tabla,$datos);&#xA;&#xA;        return $respuesta;&#xA;    }&#xA;&#xA;}&#xA;&#xA;/*==============================&#xA;ACTUALIZAR TURNOS&#xA;==============================*/&#xA;if(isset($_POST[&quot;idTurno&quot;])){&#xA;&#xA;    $turnos = new AjaxTurnos();&#xA;    $turnos -&amp;gt; data = $_POST[&quot;idTurno&quot;];&#xA;    $turnos -&amp;gt; ajaxEliminarTurno();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;En consola estoy recibiendo la respuesta &lt;code&gt;error&lt;/code&gt; de &lt;code&gt;ajax&lt;/code&gt;, no pongo el código del modelo ya que aunque devuelva únicamente un &lt;code&gt;return&lt;/code&gt; en la funcion &lt;code&gt;ajaxEliminarTurno&lt;/code&gt; sigo recibiendo un error. &lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;Edit. Ya que me preguntaron si podia poner el error, lo raro es que devuelve un error con &lt;code&gt;responseText = &quot;&quot;&lt;/code&gt; y un &lt;code&gt;statusText = &quot;OK&quot;&lt;/code&gt;, le aplique la propiedad &lt;code&gt;fail&lt;/code&gt; como se indica a continuación, recibiendo el alerta &lt;strong&gt;Request JSON parse failed&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;                        $.ajax({&#xA;                        type: 'POST',&#xA;                        url: 'ajax/turnos.ajax.php',&#xA;                        dataType: 'json',&#xA;                        data: turno,&#xA;                        success: function(respuesta) {&#xA;                            console.log(&quot;bien&quot;,respuesta)&#xA;                        },&#xA;                        error: function(respuesta) {&#xA;                            console.log(&quot;error&quot;,respuesta)&#xA;                        }&#xA;                        }).fail( function( jqXHR, textStatus, errorThrown ) {&#xA;                          if (jqXHR.status === 0) {&#xA;&#xA;                          alert('Not connect: Verify Network.');&#xA;&#xA;                        } else if (jqXHR.status == 404) {&#xA;&#xA;                          alert('Requested page not found [404]');&#xA;&#xA;                        } else if (jqXHR.status == 500) {&#xA;&#xA;                          alert('Internal Server Error [500].');&#xA;&#xA;                        } else if (textStatus === 'parsererror') {&#xA;&#xA;                          alert('Requested JSON parse failed.');&#xA;&#xA;                        } else if (textStatus === 'timeout') {&#xA;&#xA;                          alert('Time out error.');&#xA;&#xA;                        } else if (textStatus === 'abort') {&#xA;&#xA;                          alert('Ajax request aborted.');&#xA;&#xA;                        } else {&#xA;&#xA;                          alert('Uncaught Error: ' + jqXHR.responseText);&#xA;&#xA;                        }&#xA;&#xA;                      });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""143803"" LastEditorUserId=""143803"" LastEditDate=""2020-04-27T21:04:20.573"" LastActivityDate=""2020-04-27T21:16:52.743"" Title=""Enviar dato numerico a través de Ajax retorna error"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""12"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""358664"" PostTypeId=""1"" AcceptedAnswerId=""358668"" CreationDate=""2020-05-24T01:14:50.703"" Score=""0"" ViewCount=""41"" Body=""&lt;p&gt;alguien sabe qué pueda estar pasando...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Estoy haciendo un login, el cual sólo tiene un campo para e-mail y otro para contraseña...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mi idea es validar primero por JavaScript, recibo la información, llamo a la función validar(x,y) la cual se encarga de validar haciendo uso de expresiones regulares, devuelve true si es correcto o false si no lo es.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Si validar(x,y) devuelve true mando a llamar a correoPss(x,y) que contiene el tema de Ajax...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&quot;use strict&quot;;&#xA;&#xA;window.addEventListener('load',function(){&#xA;    var form = document.querySelector(&quot;#form_login&quot;);&#xA;&#xA;    form.addEventListener(&quot;submit&quot;,function(){&#xA;&#xA;        var x = document.getElementById(&quot;usuario&quot;).value;&#xA;        var y = document.getElementById(&quot;password&quot;).value;&#xA;&#xA;        x.trim();&#xA;        y.trim();&#xA;&#xA;        //console.log(x,y);&#xA;&#xA;        if(validar(x,y) == true){&#xA;            correoPss(x,y);&#xA;            //console.log(x,y);&#xA;        }&#xA;        else{&#xA;            window.location = &quot;login.php&quot;;&#xA;        }&#xA;    });&#xA;&#xA;});&#xA;&#xA;function validar(x,y){&#xA;    if( (x.match(/^[a-z0-9\.]*[a-z0-9]@.[gmail]{5}\.[com]{3}/g)) &amp;amp;&amp;amp; (y.match(/[a-zA-Z0-9_!#.]/g)) ){&#xA;        return true;&#xA;    }&#xA;    else{&#xA;        return false;&#xA;    }&#xA;}&#xA;&#xA;function correoPss(x,y){&#xA;    $.ajax({&#xA;        type:&quot;POST&quot;,&#xA;        url:&quot;logeo.php&quot;,&#xA;        data:{correo:x,pss:y},&#xA;    })&#xA;    .done(function(data){&#xA;        alertify.success(&quot;Bienvenid@.&quot;);&#xA;        window.location = &quot;logeo.php&quot;;&#xA;        console.log(x,y);&#xA;    })&#xA;    .fail(function(e){&#xA;        alertify.error(&quot;Error al iniciar sesión.&quot;);&#xA;    })&#xA;    .always(function(){&#xA;        console.log(&quot;Final de la llamada ajax.&quot;);&#xA;    })&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;La información es bien recibida en JavaScript, incluso si la muestro en .done() se muestra.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Una vez que la información es enviada a logeo.php me tengo que ir a éste (dentro de .done() está la instrucción para ir), y cuando estoy ya en logeo.php, $_POST['correo'] y $_POST['pss'] no existen!!!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Aquí es donde ya no sé qué hacer...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Alguna idea?&lt;/p&gt;&#xA;"" OwnerUserId=""160906"" LastActivityDate=""2020-05-24T01:37:47.963"" Title=""$_POST[''] no es recibido en PHP después de ser enviado a través de Ajax"" Tags=""&lt;php&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""359521"" PostTypeId=""1"" AcceptedAnswerId=""359536"" CreationDate=""2020-05-26T17:24:29.907"" Score=""0"" ViewCount=""1746"" Body=""&lt;p&gt;Estoy trabajando con ASP.Net MVC y quiero implementar Ajax para una proceso, el problema es que al momento de enviar un modelo al servidor este llega nulo, pero con otras variables que le pase esta si pasan correctas.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Codigo de la vista&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var CollectionViewModelJs = '@Model';&#xA;$(function () {&#xA;&#xA;    $(&quot;#btnajax&quot;).click(function () {&#xA;        swal.showLoading();&#xA;        $(&quot;#TableMemories&quot;).empty();&#xA;        var url = &quot;@Url.Action(&quot;DepositMethod&quot;,&quot;DescriptiveMemories&quot;)&quot;;&#xA;&#xA;        var datos = &quot;Hola&quot;;&#xA;        var data = { CollectionViewModel: CollectionViewModelJs};&#xA;&#xA;&#xA;        $.post(url, data).done(function (data) {&#xA;&#xA;            $(&quot;#TableMemories&quot;).append(data);&#xA;            swal.close();&#xA;        }).fail(&quot;&quot;);&#xA;&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Código de mi controlador, he intentado usar con Bind pero sigue llegando nulo incluso una lista pero aun asi sigue llegando nulo, CollectionViewModel es el modelo.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;[HttpPost]&#xA;        public ActionResult DepositMethod(CollectionViewModel CollectionViewModel, String datos)&#xA;        {&#xA;&#xA;        var cv = db.DescriptiveMemories.Where(row =&amp;gt; row.Folio == 18516).ToList();&#xA;        int s = cv.Count();&#xA;        var model = new CollectionViewModel();&#xA;        model.DescriptiveMemories = cv.ToList();&#xA;        model.DescriptiveMemories[0].FolioInvoice = &quot;Folio desde ajax&quot;;&#xA;        return PartialView(&quot;_CollectionPartial&quot;, model);&#xA;    } &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Clase CollectionViewModel&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public class CollectionViewModel&#xA;    {&#xA;        public List&amp;lt;DescriptiveMemory&amp;gt; DescriptiveMemories { get; set; }&#xA;&#xA;        [Display(Name = &quot;Fecha inicial&quot;)]&#xA;        public DateTime? Startdate { get; set; }&#xA;&#xA;        [Display(Name = &quot;Fecha final&quot;)]&#xA;        public DateTime? Enddate { get; set; }&#xA;&#xA;        public CollectionViewModel()&#xA;        {&#xA;            DescriptiveMemories = new List&amp;lt;DescriptiveMemory&amp;gt;();&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""52086"" LastEditorUserId=""52086"" LastEditDate=""2020-05-26T18:39:12.547"" LastActivityDate=""2020-05-26T18:39:12.547"" Title=""Enviar un modelo a ActionResult por ajax MVC C#"" Tags=""&lt;javascript&gt;&lt;c#&gt;&lt;ajax&gt;&lt;asp.net-mvc&gt;&lt;mvc&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""360331"" PostTypeId=""1"" CreationDate=""2020-05-28T22:14:08.780"" Score=""0"" ViewCount=""754"" Body=""&lt;p&gt;Tengo la siguiente función en javascript:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;function fn_infobasica_tipo_doc(){&#xD;&#xA;		var data = {&#xD;&#xA;		action : 'lista_tipo_documento'&#xD;&#xA;	}&#xD;&#xA;	$.ajax({&#xD;&#xA;		data: data,&#xD;&#xA;		type: &quot;POST&quot;,&#xD;&#xA;		dataType: &quot;html&quot;,&#xD;&#xA;		url: &quot;app/controllers/FormularioController.php&quot;,		&#xD;&#xA;	})&#xD;&#xA;	 .done(function(data){&#xD;&#xA;		$('#in_infobasica_tipo_doc').html('&amp;lt;option&amp;gt;Seleccione&amp;lt;/option&amp;gt;' + data);	&#xD;&#xA;	  })&#xD;&#xA;	  .fail( function( jqXHR, textStatus, errorThrown ) {&#xD;&#xA;&#xD;&#xA;		if (jqXHR.status === 0){alert('Not connect: Verify Network.'); } &#xD;&#xA;		else if (jqXHR.status == 404) {alert('Requested page not found [404]');} &#xD;&#xA;		else if (jqXHR.status == 500) {alert('Internal Server Error [500].');} &#xD;&#xA;		else if (textStatus === 'parsererror') {alert('Requested JSON parse failed.');} &#xD;&#xA;		else if (textStatus === 'timeout') {alert('Time out error.');} &#xD;&#xA;		else if (textStatus === 'abort') {alert('Ajax request aborted.');} &#xD;&#xA;		else {alert('Uncaught Error: ' + jqXHR.responseText);}	  &#xD;&#xA;	  });&#xD;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;En donde tengo como rutas a los archivos:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;app-&gt;controller-&gt;FormularioController.php &lt;/li&gt;&#xA;&lt;li&gt;app-&gt;js-&gt;Formulario.js&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;FormularioController es el archivo que necesito llamar, Formulario.js es el archivo en donde ejecuto la función de javascript, la cual me da como respuesta:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Utilizando la url: &quot;app/controllers/FormularioController.php&quot;,  Internal Server Error (500)&lt;/li&gt;&#xA;&lt;li&gt;Utilizando la url: &quot;/app/controllers/FormularioController.php&quot;, Requested page not found [404]&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;Vale aclarar que con versiones antiguas de jquery me funcionan bien las rutas.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Sera que alguien identifica que esta mal con las URL?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Quedo atento.&lt;/p&gt;&#xA;"" OwnerUserId=""175251"" LastActivityDate=""2020-05-28T22:14:08.780"" Title=""URL en ajax jquery 3.5.1"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;url&gt;"" AnswerCount=""0"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""372044"" PostTypeId=""1"" AcceptedAnswerId=""372108"" CreationDate=""2020-07-08T19:47:45.510"" Score=""1"" ViewCount=""613"" Body=""&lt;p&gt;Buenas este tengo un problema al mostrar mis datos en una grafica echarts. En primer lugar estoy utilizando datepicker para mostrar mi grafica en un rango de fechas. Pues en el ajax hago un petición a mi controlador lo cual recibo la data en formato JSON y pues los recibo:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/hqG9C.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/hqG9C.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Mi problema es que los datos númericos no se estan representando en la gráfica solo me muestra las fechas en el xAxis:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/JoYKy.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/JoYKy.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Este es mi codigo javascript junto con la grafica echart que lo estoy utilizando de la plataforma de gentelella.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;{{asset('/js/bootstrap-datetimepicker.min.js')}}&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&#xA;&amp;lt;script &amp;gt;&#xA;    &#xA;   var errores='';&#xA;    function grafica(){&#xA;&#xA;    var _desde=$('#desde&amp;gt;input').val();&#xA;    var _hasta=$('#hasta&amp;gt;input').val();&#xA;&#xA;    var datachart = new Array();&#xA;&#xA;     $.ajax({&#xA;&#xA;                url:&amp;quot;{{route('post')}}&amp;quot;,&#xA;                mehtod:&amp;quot;post&amp;quot;,&#xA;                data:{desde: _desde , hasta: _hasta}&#xA;               &#xA;            })&#xA;     .done(function(msg) {&#xA;&#xA;      datachart=msg.data;&#xA;&#xA;&#xA;&#xA;&#xA;      if (datachart.length==0){&#xA;        alert(&amp;quot;No hay datos&amp;quot;);&#xA;      } else {&#xA;&#xA;&#xA;     var echartLine = echarts.init(document.getElementById('echart_line'));&#xA;&#xA;      echartLine.setOption({&#xA;        title: {&#xA;          text: 'PSI Remolienda',&#xA;          subtext: 'Comparación Muestras'&#xA;        },&#xA;        tooltip: {&#xA;          trigger: 'axis'&#xA;        },&#xA;        legend: {&#xA;          x: 220,&#xA;          y: 40,&#xA;          data: ['% M + 200-PSI', '% M + 200-LAB', '% M + 400-PSI', '% M + 400-LAB']&#xA;        },&#xA;        toolbox: {&#xA;          show: true,&#xA;          feature: {&#xA;            magicType: {&#xA;              show: true,&#xA;              title: {&#xA;                line: 'Line',&#xA;                bar: 'Bar',&#xA;                stack: 'Stack',&#xA;                tiled: 'Tiled'&#xA;              },&#xA;              type: ['line', 'bar', 'stack', 'tiled']&#xA;            },&#xA;            restore: {&#xA;              show: true,&#xA;              title: &amp;quot;Restore&amp;quot;&#xA;            },&#xA;            saveAsImage: {&#xA;              show: true,&#xA;              title: &amp;quot;Save Image&amp;quot;&#xA;            }&#xA;          }&#xA;        },&#xA;        calculable: true,&#xA;        xAxis: [{&#xA;          type: 'category',&#xA;          boundaryGap: false,&#xA;          data: datachart['fecha']&#xA;        }],&#xA;        yAxis: [{&#xA;          type: 'value',&#xA;&#xA;       &#xA;        }],&#xA;        series: [{&#xA;          name: '% M + 400-PSI',&#xA;          type: 'line',&#xA;          smooth: true,&#xA;          itemStyle: {&#xA;            normal: {&#xA;              areaStyle: {&#xA;                type: 'default'&#xA;              }&#xA;            }&#xA;          },&#xA;          data: datachart[&amp;quot;series&amp;quot;]&#xA;        },{&#xA;          name: '% M + 400-LAB',&#xA;          type: 'line',&#xA;          smooth: true,&#xA;          itemStyle: {&#xA;            normal: {&#xA;              areaStyle: {&#xA;                type: 'default'&#xA;              }&#xA;            }&#xA;          },&#xA;          data:  datachart[&amp;quot;series&amp;quot;]&#xA;        }, {&#xA;          name: '% M + 200-LAB',&#xA;          type: 'line',&#xA;          smooth: true,&#xA;          itemStyle: {&#xA;            normal: {&#xA;              areaStyle: {&#xA;                type: 'default'&#xA;              }&#xA;            }&#xA;          },&#xA;          data: datachart[&amp;quot;series&amp;quot;]&#xA;        }, {&#xA;          name: '% M + 200-PSI',&#xA;          type: 'line',&#xA;          smooth: true,&#xA;          itemStyle: {&#xA;            normal: {&#xA;              areaStyle: {&#xA;                type: 'default'&#xA;              }&#xA;            }&#xA;          },&#xA;          data: datachart[&amp;quot;series&amp;quot;]&#xA;        }]&#xA;      });&#xA;   }&#xA;&#xA;&#xA;&#xA;    }).fail(function(objectError, textStatus){&#xA;&#xA;      if( objectError.status == '422'){&#xA;&#xA;          errors = objectError.responseJSON;&#xA;          $.each( errors, function (key, value){&#xA;&#xA;            errores +=value[0]=&amp;quot;\n&amp;quot;;&#xA;          });&#xA;&#xA;          if (errores.trim()!=&amp;quot;&amp;quot;) {&#xA;            alert(errores);&#xA;          }&#xA;&#xA;      }else{&#xA;&#xA;        alert(&amp;quot;Error de procesamiento&amp;quot; + objectError.status + &amp;quot;\n&amp;quot; + objectError.statusText)&#xA;      }&#xA;&#xA;    });&#xA;&#xA;&#xA;&#xA;}&#xA;&#xA;      $(function () {&#xA;        $('#desde').datetimepicker(&#xA;          { format: &amp;quot;YYYY-MM-DD&amp;quot;}&#xA;&#xA;        );&#xA;        $('#hasta').datetimepicker({&#xA;            &#xA;            format: &amp;quot;YYYY-MM-DD&amp;quot;,&#xA;            useCurrent: false //Important! See issue #1075&#xA;        });&#xA;        $(&amp;quot;#desde&amp;quot;).on(&amp;quot;dp.change&amp;quot;, function (e) {&#xA;            $('#hasta').data(&amp;quot;DateTimePicker&amp;quot;).minDate(e.date);&#xA;        });&#xA;        $(&amp;quot;#hasta&amp;quot;).on(&amp;quot;dp.change&amp;quot;, function (e) {&#xA;            $('#desde').data(&amp;quot;DateTimePicker&amp;quot;).maxDate(e.date);&#xA;        });&#xA;          &#xA;&#xA;  $(&amp;quot;#btnReport&amp;quot;).on('click', function(){&#xA;&#xA;    grafica();&#xA;&#xA;    });&#xA;&#xA;  });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;2.- Esta son las rutas del ajax&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Route::get('chart/index', 'ChartRemolienda@index');&#xA;&#xA;Route::match(['get', 'post'], 'remolienda/chart', 'VisualizarRemoliendaController@chart')-&amp;gt;name('post');&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es mi codigo del controlador donde recibo con un request el rango de fechas introducidas en el input y se envia la data pero mi gráfica no me esta cargando esos valores como dije solo me carga las fechas en el Xasis. La verdad este soy nuevo utilizando AJAX en laravel y pues no se cual es mi falla, de todas formas les agradezco de antemano cualquier referencia que me pueda ayudar gracias.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; public function chart( Request $request){&#xA;&#xA;      if($request-&amp;gt;ajax()){&#xA;&#xA;        $this-&amp;gt;validate($request,[&#xA;&#xA;            'desde' =&amp;gt; 'required|date',&#xA;            'hasta' =&amp;gt; 'required|date'&#xA;        ]);&#xA;&#xA;          $remolienda = Dataremolienda::select('m200', 'm200lab', 'scheduled_date'&#xA;      , 'm400', 'm400lab')&#xA;            -&amp;gt;whereBetween('scheduled_date', [$request-&amp;gt;desde, $request-&amp;gt;hasta])&#xA;            -&amp;gt;get();&#xA;&#xA;      $data = [];&#xA;      $data ['fecha'] = $remolienda-&amp;gt;pluck('scheduled_date');&#xA;&#xA;      $series1['data']= $remolienda-&amp;gt;pluck('m200');&#xA;      $series2['data']= $remolienda-&amp;gt;pluck('m200lab');&#xA;      $series3['data']= $remolienda-&amp;gt;pluck('m400');&#xA;      $series4['data']= $remolienda-&amp;gt;pluck('m400lab');&#xA;&#xA;      $series[] = $series1;&#xA;      $series[] = $series2;&#xA;      $series[] = $series3;&#xA;      $series[] = $series4;&#xA;&#xA;      $data['series'] = $series;&#xA;&#xA;     //  return $data;&#xA;&#xA;         return response()-&amp;gt;json(['data'=&amp;gt;$data]);&#xA;        }else{&#xA;&#xA;          abort(401);&#xA;        }&#xA;    &#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""182341"" LastEditorUserId=""342"" LastEditDate=""2020-09-28T16:12:49.347"" LastActivityDate=""2020-09-28T16:12:49.347"" Title=""¿Como mostrar datos en JSON con ajax en una grafica en laravel?"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;json&gt;&lt;charts&gt;&lt;echarts&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""375253"" PostTypeId=""1"" CreationDate=""2020-07-21T21:02:48.923"" Score=""0"" ViewCount=""116"" Body=""&lt;p&gt;cabe aclarar que soy nuevo en php y jquery, he intentado varias cosas y no me funciono ninguna...&#xA;lo que quiero hacer es que cuando hago click en una fila de una tabla que previamente cargo del servido, quiero que me pase esa informacion de la fila a otra pagina y esos valores los cargo en variables para despues hacer un echo dentro de labels...todo parece funcionar bien, de hecho no arroja error y sale por el .done, pero al parecer la variable superglobal $_POST dice que esta indefinida, por lo que interpreto como vacia...&#xA;les paso parte del codigo&#xA;aclaro que los enlaces a jquery y el codigo script estan antes de la etiqueta de cierre del body...&lt;/p&gt;&#xA;&lt;p&gt;este es el codigo script.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;      &amp;lt;script src=&amp;quot;vendor/jquery/jquery.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;      &amp;lt;script src=&amp;quot;https://unpkg.com/@popperjs/core@2/dist/umd/popper.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;      &amp;lt;script src=&amp;quot;vendor/bootstrap/js/bootstrap.bundle.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&#xA;      &amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;&#xA;&#xA;     $(document).ready(function () {&#xA;&#xA;      $('.BusquedaRapida tr').click(function(){&#xA;&#xA;           var nombre = $(this).find('td:eq(1)').html();&#xA;           var direccion = $(this).find('td:eq(2)').html();&#xA;           var telefono = $(this).find('td:eq(3)').html();&#xA;           var correo = $(this).find('td:eq(4)').html();&#xA;           var localidad = $(this).find('td:eq(5)').html();&#xA;&#xA;         $.ajax({&#xA;&#xA;                url:'historial_clientes.php',&#xA;                type:'post',&#xA;                data: {nom: nombre,&#xA;                      direc: direccion,&#xA;                      tel: telefono,&#xA;                      cor: correo,&#xA;                      loc: localidad},&#xA;              })&#xA;             .done(function(respuesta) {&#xA;                 $(location).attr('href','historial_clientes.php');&#xA;             })&#xA;              .fail(function() {&#xA;                  console.log('Error');   })&#xA;             });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;si hago un console.log de las variables las imprime perfectamente antes de pasar a la pagina historial_clientes y si hago console.log de respuesta, me trae todo el html de la pagina historial_clientes, no se si eso es correcto...por consola no arroja ningun error!!&lt;/p&gt;&#xA;&lt;p&gt;la pagina receptora tiene el siguiente codigo de encabezado...&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;     &amp;lt;?php&#xA;     require 'encabezado.php';&#xA;     require 'config.php';&#xA;&#xA;      $nombre1 =&amp;quot;&amp;quot;;&#xA;      $direccion1 =&amp;quot;&amp;quot;;&#xA;      $telefono1 =&amp;quot;&amp;quot;;&#xA;      $correo1 =&amp;quot;&amp;quot;;&#xA;      $localidad1 =&amp;quot;&amp;quot;;&#xA;&#xA;      if (isset($_POST['nombre'])) {&#xA;&#xA;         $nombre1 = $_POST['nombre'];&#xA;         $direccion1 = $_POST['direccion'];&#xA;         $telefono1 = $_POST['telefono'];&#xA;         $correo1 = $_POST['correo'];&#xA;         $localidad1 = $_POST['localidad'];&#xA;    }else{&#xA;        echo &amp;quot;No se puede realizar la accion solicitada&amp;quot;;&#xA;    }&#xA;&#xA;    ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;siempre sale por el else.... y lo que haria mas abajo es en los labels que nombre anteriormente hago un echo de las variables a las que les otorgo el valor de $_POST...&lt;/p&gt;&#xA;&lt;p&gt;agradezco de antemano cualquier asesoramiento y este blog es el mas completo de los que he visitado... gracias!!&lt;/p&gt;&#xA;"" OwnerUserId=""184057"" LastActivityDate=""2020-07-22T01:00:35.407"" Title=""no me funciona AJAX de jquery"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""6"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""377034"" PostTypeId=""1"" AcceptedAnswerId=""377451"" CreationDate=""2020-07-28T23:06:38.900"" Score=""0"" ViewCount=""78"" Body=""&lt;p&gt;Estoy creando una aplicación en laravel 7 con un crud a través de ajax, datatbles y modales. Mi problema realamente es que cuando intento borrar un elemento seleccionado hace todo el proceso pero en realidad no borra nada pero no me muestra ningún error en consola ni network del navegador ni laravel. Esto es lo que obtengo cuando seleccion el url del elemento borrado (No hay datos de respuesta disponibles para esta solicitud) Anexo mi código para sugerencias. Gracias de antemano.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Metodo destroy de mi controlador&#xA;&#xA;public function destroy(Role $role)&#xA;{    &#xA;  $role-&amp;gt;delete();&#xA;}&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;CRUD.js&#xA;&#xA;$(document).ready(function($) {&#xA;    $.ajaxSetup({&#xA;        headers: {&#xA;            'X-CSRF-TOKEN': $('meta[name=&amp;quot;csrf-token&amp;quot;]').attr('content')&#xA;        }&#xA;    });&#xA;&#xA;    const Toast = Swal.mixin({&#xA;        toast: true,&#xA;        position: 'top',&#xA;        showConfirmButton: false,&#xA;        timer: 3000,&#xA;        timerProgressBar: true,&#xA;        onOpen: (toast) =&amp;gt; {&#xA;            toast.addEventListener('mouseenter', Swal.stopTimer)&#xA;            toast.addEventListener('mouseleave', Swal.resumeTimer)&#xA;        }&#xA;    })&#xA;&#xA;    //Delete&#xA;    $('body').on('click', '#modal-delete', function (event) {&#xA;        event.preventDefault();&#xA;        var route   =   $(this).data('route');&#xA;        console.log(route);&#xA;        &#xA;        Swal.fire({&#xA;            title: 'Are you sure?',&#xA;            text: &amp;quot;You won't be able to revert this!&amp;quot;,&#xA;            icon: 'warning',&#xA;            showCancelButton: true,&#xA;            confirmButtonColor: '#3085d6',&#xA;            cancelButtonColor: '#d33',&#xA;            confirmButtonText: 'Yes, delete it!'&#xA;        }).then((result) =&amp;gt; {&#xA;            if (result.value) {&#xA;                $.ajax({&#xA;                    url: route,&#xA;                    type: 'DELETE',&#xA;                })&#xA;                .done(function(data) {&#xA;                    $(&amp;quot;#dataTable&amp;quot;).DataTable().ajax.reload();&#xA;                    Toast.fire({&#xA;                        icon: 'success',&#xA;                        title: 'Data stored successfully'&#xA;                    });&#xA;                    console.log(&amp;quot;success&amp;quot;, data);&#xA;                })&#xA;                .fail(function(data) {&#xA;                    console.log('Error:', data);&#xA;                })&#xA;                .always(function(data) {&#xA;                    console.log(&amp;quot;complete&amp;quot;);&#xA;                });&#xA;            }&#xA;        })&#xA;    });&#xA;});&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""185013"" LastActivityDate=""2020-07-30T14:12:59.333"" Title=""Problemas con borrado en laravel 7 con ajax"" Tags=""&lt;ajax&gt;&lt;datatables&gt;&lt;modal&gt;&lt;laravel-7&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""400300"" PostTypeId=""1"" CreationDate=""2020-10-22T04:31:25.383"" Score=""0"" ViewCount=""37"" Body=""&lt;p&gt;Lo que pasa es que tengo por defecto un boton ya seleccionado el cual quiero que, si un usuario no le hunde a ninguno de los dos botones, entonces quede uno seleccionado por defecto y se pueda enviar por jquery. Les muestro cómo lo he estado haciendo.&lt;/p&gt;&#xA;&lt;p&gt;Si hay alguna forma de hacer que quede por defecto uno de esos dos botones y se pueda enviar, o si tengo que cambiar toda la estructura, le agradecería&lt;/p&gt;&#xA;&lt;p&gt;HTML&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(&quot;body&quot;).on(&quot;click&quot;, &quot;.botones&quot;, function() {&#xA;&#xA;  &#xA;    const valorEnviar= $(this).data('value');&#xA;&#xA;&#xA;        $(&quot;body&quot;).on(&quot;click&quot;, &quot;#botonSubmit&quot;, function(e) {&#xA;           &#xA;&#xA;            $.ajax({&#xA;                 type: 'POST',&#xA;                 url: 'datos/enviar/',&#xA;                 dataType: 'text',&#xA;                 data: $('#formID').serialize() + '&amp;amp;caja='+ valorEnviar,&#xA;                success: function(response){&#xA;    &#xA;                 console.log(response);                    &#xA;&#xA;                }&#xA;                 &#xA;            })&#xA;&#xA;            e.preventDefault();&#xA;        })&#xA;&#xA;    &#xA;&#xA;})&#xA;//La busque si era posible esto, y no&#xA;.fail(function(){&#xA;&#xA;    //Esto me lo inventé, es un ejemplo de lo que pasaría si no presiona el boton y entonces &#xA;    $(&quot;body&quot;).on(&quot;click&quot;, &quot;#botonSubmit&quot;, function(e) {&#xA;           &#xA;&#xA;        $.ajax({&#xA;             type: 'POST',&#xA;             url: 'datos/enviar/',&#xA;             dataType: 'text',&#xA;             data: $('#formID').serialize() + '&amp;amp;caja=9876',&#xA;            success: function(response){&#xA;&#xA;             console.log(response);                    &#xA;   &#xA;            }&#xA;             &#xA;        })&#xA;        &#xA;&#xA;        e.preventDefault();&#xA;    })&#xA;&#xA;})&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!---&amp;lt;form action='datos/enviar/' method='POST' id='formID'&amp;gt;---&amp;gt;&#xA;&amp;lt;button data-value='1234' type='button' class='botones'&amp;gt;CAJA 1&amp;lt;/button&amp;gt;&#xA;&amp;lt;button data-value='9876' type='button' class='botones'&amp;gt;CAJA POR DEFECTO&amp;lt;/button&amp;gt;&#xA;&amp;lt;button&amp;gt;Enviar post&amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""198005"" LastActivityDate=""2020-10-22T04:31:25.383"" Title=""¿Hay una forma de que al no presionar ningún botón, quede por defecto uno y se pueda enviar con jquery?"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""407982"" PostTypeId=""1"" CreationDate=""2020-11-19T02:24:40.727"" Score=""1"" ViewCount=""41"" Body=""&lt;p&gt;Envio los datos al servidor mediante la función ajax y se envian correctamente ya que se almacenan en la BD.Utilizo ARC y la respuesta es la esperada.&#xA;Ahora mi problema esta en el cliente.Al recibir el objeto json en el argumento de la función done e imprimirlo mediante un alert, este no imprime el contenido o mensaje.&#xA;Prob hacer lo mismo pero con el debugger del navegador y ahi me muestra correctamente el contenido del argumento de la función done. Creo que el error esta en el cliente, pero no lo estoy viendo.&#xA;Que esta pasando? Como puedo solucionarlo?&#xA;adjunto el código cliente y el código del servidor&lt;/p&gt;&#xA;&lt;p&gt;código del cliente&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    $(&amp;quot;#botonEnviar&amp;quot;).on(&amp;quot;click&amp;quot;, function () {&#xA;        var deporte = localStorage.getItem(&amp;quot;deporte&amp;quot;);&#xA;        var h = $(&amp;quot;#hora&amp;quot;).val();&#xA;        var datosJson = JSON.stringify({&#xA;            nombreCliente: $(&amp;quot;#nombre&amp;quot;).val(),&#xA;            apellidoCliente: $(&amp;quot;#apellido&amp;quot;).val(),&#xA;            deporte: deporte,&#xA;            fecha: $(&amp;quot;#fecha&amp;quot;).val(),&#xA;            hora: parseInt(h,10),&#xA;            cod:20&#xA;        });&#xA;        //alert(datosJson);&#xA;        localStorage.removeItem('deporte');&#xA;        $.ajax({&#xA;            type: &amp;quot;post&amp;quot;,&#xA;            url: 'http://localhost:8080/LA_GLORIA1/rest/restfull.php',&#xA;            dataType: &amp;quot;json&amp;quot;,&#xA;            contentType: false,&#xA;            data: datosJson,&#xA;            processData: false}).&#xA;            done(function(data) {&#xA;                //$(&amp;quot;#divServidor&amp;quot;).css(&amp;quot;display&amp;quot;,&amp;quot;block&amp;quot;);&#xA;                //$(&amp;quot;#pServidor&amp;quot;).val(data);&#xA;                try {&#xA;                    var resp= data;&#xA;                    alert(resp.mensaje);&#xA;                }&#xA;                catch (e) {&#xA;                    alert(e);&#xA;                }&#xA;&#xA;            }).&#xA;            fail(function(){&#xA;            }); &#xA;        });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;código del servidor- PHP&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$datos = file_get_contents('php://input');&#xA;        $solicitud = json_decode($datos, true);&#xA;        $cod1 = $solicitud['cod'];&#xA;        $nom = $solicitud['nombreCliente'];&#xA;        $ape = $solicitud['apellidoCliente'];&#xA;        $deport = $solicitud['deporte'];&#xA;        $fecha = $solicitud['fecha'];&#xA;        $hora = $solicitud['hora'];&#xA;        $insert = new Consultas();&#xA;        $mensaje = $insert-&amp;gt;insertar($cod1, $nom, $ape, $deport, $fecha, $hora); //$solicitud['deporte']);&#xA;        //$mensaje1 = utf8_encode($mensaje);&#xA;        $m = utf8_encode($mensaje);&#xA;        //header('Content-type: application/json');&#xA;        //echo json_encode($mensaje1);&#xA;        $a = array(&amp;quot;mensaje&amp;quot; =&amp;gt; $m);&#xA;        header('Content-type: application/json');&#xA;        echo json_encode($a);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""201980"" LastActivityDate=""2020-11-19T03:07:43.433"" Title=""La respuesta del servidor se muestra en la consola del navegador pero no en la página"" Tags=""&lt;ajax&gt;&lt;alert&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""408618"" PostTypeId=""1"" CreationDate=""2020-11-20T22:31:40.250"" Score=""1"" ViewCount=""24"" Body=""&lt;p&gt;Ayuda, necesito pasar ese parámetro a ese método en, pero el javascript no entra a la parte del type y la url&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function buscarId() {&#xA;    var cliente = GridViewBuscarCliente.GetRowKey(GridViewBuscarCliente.GetFocusedRowIndex());&#xA;    $.ajax({&#xA;        type: 'POST',&#xA;        url: &amp;quot;/Consumidores/GridViewPartialConsumidores&amp;quot;,&#xA;        data: { &amp;quot;id&amp;quot;: cliente },&#xA;        success: function (cliente) {&#xA;            $(&amp;quot;#modalConsumidor&amp;quot;).modal(&amp;quot;hide&amp;quot;);&#xA;        },&#xA;        fail: function (err) {&#xA;            console.log(err);&#xA;        }&#xA;    });&#xA;    console.log(cliente);&#xA;}&#xA;&#xA;public ActionResult GridViewPartialConsumidores(int ? id)&#xA;        {&#xA;            var model = db.TablaConsumidores.Where(s =&amp;gt; s.Id_Cliente == id);&#xA;            return PartialView(&amp;quot;_GridViewPartialConsumidores&amp;quot;, model.ToList());&#xA;        }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;este es el método al que necesito entrar&lt;/p&gt;&#xA;"" OwnerUserId=""202293"" LastActivityDate=""2020-11-20T22:31:40.250"" Title=""No se ejecuta el ajax"" Tags=""&lt;javascript&gt;&lt;c#&gt;&lt;ajax&gt;&lt;devexpress&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""419263"" PostTypeId=""1"" CreationDate=""2021-01-07T23:52:07.743"" Score=""1"" ViewCount=""29"" Body=""&lt;p&gt;estoy tratando de utilizar un elemento de un plantilla para mostrar una alerta de error con Ajax, tengo la siguiente función de JavaScript:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function message_error(obj){&#xA; var html = '&amp;lt;ul&amp;gt;';&#xA; $.each(obj,function(key, value){&#xA;     html+='&amp;lt;li&amp;gt;'+key+': '+value+'&amp;lt;/li&amp;gt;';&#xA; });&#xA; html+='&amp;lt;/ul&amp;gt;';&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y lo mando llamar mediante Ajax de la siguiente manera:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var parameters = $(this).serializeArray();&#xA;    $.ajax({&#xA;            url: '{% url 'sistema:add' %}',&#xA;            type: 'POST',&#xA;            data: parameters,&#xA;            dataType: 'json'&#xA;        }).done(function(data){&#xA;            if(!data.hasOwnProperty('error')){&#xA;                location.href = '{{ list_url }}';&#xA;                return false;&#xA;            }&#xA;            message_error(data.error);&#xA;        }).fail(function(jqXHR, textStatus, errorThrown ){&#xA;            alert(textStatus+': '+errorThrown)&#xA;        }).always(function(data){&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Esa función en lugar de mostrarla en consola quisiera mostrarla dentro del siguiente código:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;card-body&amp;quot;&amp;gt;&#xA;{% csrf_token %}&#xA;&amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;action&amp;quot; value=&amp;quot;{{ action }}&amp;quot;&amp;gt;&#xA;{% if form.errors %}&#xA;    &amp;lt;div id=&amp;quot;alert-AdminLTE&amp;quot; class=&amp;quot;alert alert-danger alert-dismissible&amp;quot;&amp;gt;&#xA;        &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;close&amp;quot; data-dismiss=&amp;quot;alert&amp;quot; aria-hidden=&amp;quot;true&amp;quot;&amp;gt;×&amp;lt;/button&amp;gt;&#xA;        &amp;lt;h5&amp;gt;&amp;lt;i class=&amp;quot;icon fas fa-ban&amp;quot;&amp;gt;&amp;lt;/i&amp;gt; Ha ocurrido un error al guardar el registro&amp;lt;/h5&amp;gt;&#xA;        &amp;lt;ul&amp;gt;&#xA;            {% for field in form %}&#xA;                {% for error in field.errors %}&#xA;                    &amp;lt;li&amp;gt; {{ error }} &amp;lt;/li&amp;gt;&#xA;                {% endfor %}&#xA;            {% endfor %}&#xA;        &amp;lt;/ul&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;{% endif %}&#xA;{% for field in form.visible_fields %}&#xA;&amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Pero no logro hacerlo funcionar, al darle guardar simplemente retorna el mensaje en una página nueva en blanco. Algún consejo de que hacer para que funcione&lt;/p&gt;&#xA;"" OwnerUserId=""201856"" LastActivityDate=""2021-01-07T23:52:07.743"" Title=""Problema con Django y Ajax"" Tags=""&lt;javascript&gt;&lt;python&gt;&lt;ajax&gt;&lt;python-3.x&gt;&lt;django&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""420436"" PostTypeId=""1"" CreationDate=""2021-01-13T13:39:51.813"" Score=""0"" ViewCount=""80"" Body=""&lt;p&gt;Desde JS hago una llamada mediante Ajax a un fichero php para borrar un registro de una tabla.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function eliminar_archivo(id_a_eliminar) {&#xA;&#xA;    $('img[data-hook=&amp;quot;eliminar-doc&amp;quot;]').attr('src', './library/images/trash.svg');&#xA;    $('img[data-hook=&amp;quot;eliminar-doc&amp;quot;]').prop('disabled', false);&#xA;    console.log(id_a_eliminar);&#xA;    $.post({&#xA;        url: &amp;quot;./site/xhr/_share/eliminar_doc.php?&amp;quot;,&#xA;        data: {'id_doc': id_a_eliminar},&#xA;        cache: false,&#xA;        beforeSend: function () {&#xA;        },&#xA;    }).done(function () {&#xA;        _llenar_tabla();&#xA;    }).fail(function (msg) {&#xA;        console.log('FAIL');&#xA;    }).always(function (msg) {&#xA;        $('.borrado-doc').hide('slow');&#xA;    });&#xA;}&#xA;    &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El asunto es que la primera vez lo hace bien, pero si vuelvo a pulsar sobre la imagen que desencadena el evento sin recargar la página, me manda por duplicado, triplicado, etc el request. ¿qué estoy haciendo mal?. Espero haberme explicado bien. Muchas gracias&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/BQd1a.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/BQd1a.png&quot; alt=&quot;Aquí podéis ver las repeticiones tras pulsar por tercera vez&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Desde aquí hago la llamada a la función. Al hacer click en una imagen le paso la id que va a borrar.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$('body').on(&amp;quot;click&amp;quot;,'#confirmar-borrado-doc', function (e) {&#xA;        var $boton_eliminar = $(this),&#xA;            id_a_eliminar = $boton_eliminar.data('id_doc');&#xA;        eliminar_archivo(id_a_eliminar);&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""161340"" LastEditorUserId=""161340"" LastEditDate=""2021-01-13T16:09:16.993"" LastActivityDate=""2021-01-13T18:50:41.437"" Title=""Request repetido"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;sql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""420773"" PostTypeId=""1"" CreationDate=""2021-01-14T18:32:00.983"" Score=""0"" ViewCount=""204"" Body=""&lt;p&gt;Estoy guardando una selección con unos checkbox y el ajax recorre todos los campos pero hace envios casi simultaneos, por lo que solo se guarda el primero de las dos seleciones, intente con un setTimeout pero no funciono, la unica forma es haciendo un async: false pero eso evita que funcione el modal con la barra de carga&lt;/p&gt;&#xA;&lt;p&gt;muchas gracias por su ayuda de antemano&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;    $(document).on('click','#btn_procesar', function(event){&#xA;        var dispositivo = $(&amp;quot;#dispositivo&amp;quot;).val();&#xA;        var id = ($(&amp;quot;#btn_procesar&amp;quot;).attr(&amp;quot;name&amp;quot;));&#xA;        var origen = 0;&#xA;        procesado = getDocumentosProcesados(id, origen);&#xA;        origen = procesado.origen;&#xA;        documentosProcesados = procesado.documentosProcesados;&#xA;&#xA;        if(documentosProcesados.length === 0) {&#xA;            mostrarModalAlerta('Debe seleccionar al menos un archivo para procesar firma');&#xA;            return false;&#xA;        }&#xA;        if(dispositivo === 'movil'){&#xA;            $('#modalIngresoPin').modal('show');&#xA;            $(&amp;quot;#ingresarPinInput&amp;quot;).val(&amp;quot;&amp;quot;);&#xA;        }&#xA;        if(dispositivo === 'tablet'){&#xA;            if (documentosProcesados.length !== 1) {&#xA;                mostrarModalAlerta('Debe seleccionar únicamente un (1) archivo para procesar firma');&#xA;                return false;&#xA;            }&#xA;            var rutFirmante = $(&amp;quot;#rutFirmante&amp;quot;).val();&#xA;            $.each(documentosProcesados, function( index, value ) {&#xA;                procesarId( value, origen, '', rutFirmante, dispositivo);&#xA;            });&#xA;        }&#xA;    }); &#xA;&#xA;    function getDocumentosProcesados(id, origen){&#xA;        var documentosProcesados = [];&#xA;        if(id==0){&#xA;            origen = 1;&#xA;            var items = extJsPanelPorFirmar&#xA;                .getSelectionModel()&#xA;                .selected&#xA;                .items;&#xA;&#xA;            if( items.length &amp;gt; 0 ){&#xA;                $.each( items, function( indice, item ){&#xA;                    documentosProcesados.push( item.data.LTO01_id );&#xA;                });&#xA;            }&#xA;        }&#xA;        if(id&amp;gt;0){&#xA;            origen = 2;&#xA;            $('#tblDocumentosPorFirmarPorCaso tr td :checkbox:checked').map(function () {&#xA;                documentosProcesados.push( $(this).data('idDocumento') );&#xA;            }).get();&#xA;        }&#xA;        return {&amp;quot;origen&amp;quot;: origen, &amp;quot;documentosProcesados&amp;quot;: documentosProcesados};&#xA;    }&#xA;    &#xA;    function procesarId(id, origen, PIN, rutFirmante, dispositivo){&#xA;        &#xA;        mostrarModalProcesarFirmas();&#xA;        $.ajax({ &#xA;            url: AppOrquestador.urlFirmarDocumento,&#xA;            method: 'POST',&#xA;            data: {&#xA;                id: id,&#xA;                origen: origen,&#xA;                PIN : PIN,&#xA;                rutFirmante: rutFirmante,&#xA;                dispositivo: dispositivo&#xA;            },&#xA;            dataType: 'Json'&#xA;        }).done(function(response){&#xA;            if(response.error){&#xA;                $(&amp;quot;#modalProcesandoDocumentos .close&amp;quot;).click();&#xA;                actualizar_datos();&#xA;                mostrarModalAlerta(response.mensaje);&#xA;                return false;&#xA;            }&#xA;            documentosProcesadosEnviados++;&#xA;            actualizarProcesoDocumentosProcesados();&#xA;            if(response.dispositivo == &amp;quot;tablet&amp;quot;){&#xA;                mostrarModalAlerta(response.mensaje);&#xA;                window.open(response.url,&amp;quot;_self&amp;quot;);&#xA;            }&#xA;            if(response.dispositivo == &amp;quot;movil&amp;quot;){&#xA;                mostrarModalAlerta(response.mensaje);&#xA;            }&#xA;        }).fail(function (jqXHR, textStatus) {&#xA;            $(&amp;quot;#modalProcesandoDocumentos .close&amp;quot;).click();&#xA;            mostrarModalAlerta('Ha ocurrido un error');&#xA;        });&#xA;        $('#select_all_documentos_porFirmar').prop('checked',false);&#xA;        $('#select_all_documentos').prop('checked',false);&#xA;        return false;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;y acá el controlador que lo recibe, sera que estoy recibiendo los datos de mala manera? uno por uno funciona, pero al mismo tiempo se cae&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;public function docsFirmar( Request $request){&#xA;    try{&#xA;&#xA;&#xA;&#xA;        $rut = $request-&amp;gt;rutFirmante;&#xA;        $dispositivo = $request-&amp;gt;dispositivo;&#xA;        $Objdocumentos = LTO01Documentos::with([&#xA;            &amp;quot;tipoDocumento&amp;quot;,&#xA;            &amp;quot;solicitud&amp;quot;,&#xA;            'solicitud.firmantes' =&amp;gt; function( $query ){&#xA;                $query-&amp;gt;ordenFirma();&#xA;            }&#xA;            ])&#xA;            -&amp;gt;porFirmar()&#xA;            -&amp;gt;autorizado()&#xA;            -&amp;gt;paraFirmar()&#xA;            -&amp;gt;where('LTO01_Documentos.LTO01_id', $request-&amp;gt;id)&#xA;            -&amp;gt;get();&#xA;&#xA;        if(!$Objdocumentos){&#xA;            return [&#xA;                &amp;quot;error&amp;quot; =&amp;gt; true,&#xA;                'mensaje' =&amp;gt; 'No existen documentos'&#xA;            ];   &#xA;        }&#xA;        $documentos = [];&#xA;        $firmantesArr = [];&#xA;        $firmantesIds = [];&#xA;        $respuestaGetMobile = [];&#xA;        $firmaRechaza = '';&#xA;        $cont = 0;&#xA;        $motivoRechazo = '';&#xA;        $nombreDocumento = &amp;quot;&amp;quot;;&#xA;        $idGrupoFirma = '';&#xA;        $idDocumento = '';&#xA;        $notificarUsuarios = false;&#xA;&#xA;        /**&#xA;        * Se deben actualizar las tablas:&#xA;        * LTO01Documentos =&amp;gt; LTO01_firmado (statusCode: 1 en proceso, 2 firmado, 3 rechazado) y LTO01_fecha_firma (si se realiza la firma)&#xA;        * LTO03Firmantes =&amp;gt; LTO03_fecha_firma (si se realiza la firma)&#xA;        */&#xA;&#xA;        foreach($Objdocumentos as $key =&amp;gt; $value){&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;cualquier ayuda es bien recibida, he leido en foros que laravel tiene problemas con las solicitudes XHR simultaneas&lt;/p&gt;&#xA;"" OwnerUserId=""209071"" LastEditorUserId=""209071"" LastEditDate=""2021-01-18T19:54:47.487"" LastActivityDate=""2021-01-20T01:54:25.953"" Title=""Envios multiples con Ajax a un controlador Laravel"" Tags=""&lt;php&gt;&lt;laravel&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""421308"" PostTypeId=""1"" AcceptedAnswerId=""421746"" CreationDate=""2021-01-17T04:11:11.613"" Score=""0"" ViewCount=""857"" Body=""&lt;p&gt;No entiendo lo que estoy haciendo mal. Estoy tratando de hacer un autocomplete con los datos de la tabla Producto, no se cual sea el motivo ya que hago mencion del nombre del producto pero lo toa como &amp;quot;name&amp;quot;. Lo he hecho pero sigo recibiendo este error:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Cannot resolve keyword 'name' into field. Choices are: categoria, categoria_id, detalle_compra, ...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;¿Alguna idea?&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;class Producto(models.Model):&#xA;    id_producto = models.AutoField(primary_key=True)&#xA;    categoria = models.ForeignKey(Categoria, on_delete=models.CASCADE)&#xA;&#xA;    def __str__(self):&#xA;        return self.nombre&#xA;&#xA;    def toJSON(self):&#xA;        item = model_to_dict(self)&#xA;        return item&#xA;        &#xA;    class Meta:&#xA;        verbose_name = 'Producto'&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Views&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;    def post(self, request, *args, **kwargs):&#xA;        data = {}&#xA;        try:&#xA;            action = request.POST['action']&#xA;            if action == 'autocomplete':&#xA;                productos = Producto.objects.filter(name__icontains=request.POST['term'])&#xA;                for i in productos:&#xA;                    data = []&#xA;                    item = i.toJSON()&#xA;                    item['value'] = i.nombre&#xA;                    data.append(item)&#xA;            else:&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;JS&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(&amp;quot;#search&amp;quot;).autocomplete({&#xA;                    source: function (request, response) {&#xA;                        $.ajax({&#xA;                            url: window.location.pathname,&#xA;                            type: 'POST',&#xA;                            data: {&#xA;                                'action': 'autocomplete',&#xA;                                'term': request.term&#xA;                            },&#xA;                            dataType: 'json',&#xA;                        }).done(function (data) {&#xA;                            response(data);&#xA;                        }).fail(function (data) {&#xA;                            alert(&amp;quot;Error&amp;quot;); &#xA;                        }).always(function (jqXHR, textStatus, errorThrown) {&#xA;                           &#xA;                        })&#xA;                    },&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;He verificado que no sea &amp;quot;name&amp;quot; sin embargo en ninguno de los archivos he cometido esa equivacion. Espero puedan ayudarme&lt;/p&gt;&#xA;"" OwnerUserId=""43887"" LastActivityDate=""2021-01-19T03:15:35.120"" Title=""Cannot resolve keyword 'name' into field. Choices are: categoria, categoria_id, detalle_compra,"" Tags=""&lt;ajax&gt;&lt;django&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""421853"" PostTypeId=""1"" AcceptedAnswerId=""421869"" CreationDate=""2021-01-19T15:30:24.743"" Score=""1"" ViewCount=""1581"" Body=""&lt;p&gt;Estuve leyendo el siguiente post: &lt;a href=&quot;https://es.stackoverflow.com/questions/98884/cual-es-la-diferencia-entre-success-y-done&quot;&gt;&amp;#191;Cual es la diferencia entre success y done?&lt;/a&gt; y me di cuenta que desde la vercion 3.0 de JQuery se utiliza &lt;code&gt;done-fail-always&lt;/code&gt; donde se que es lo que hace cada uno, pero anteriormente a esto se usaba &lt;code&gt;beforeSend&lt;/code&gt; que la verdad lo veo muy util ya que se ejecuta antes de enviar, pero con lo que &amp;quot;he visto&amp;quot; ya no hay esta opcion.&lt;/p&gt;&#xA;&lt;p&gt;Entonces con lo anterior dicho &lt;code&gt;done-fail-always&lt;/code&gt; ¿Hay un metodo parecido a  &lt;code&gt;beforesend&lt;/code&gt;?&lt;/p&gt;&#xA;&lt;p&gt;Esto lo quiero ya que tengo un alert de carga y cabria perfectamente ahi antes de enviar la solicitud pero lo que hago para solucionar eso es poner dicha funcion antes de ejecutar el ajax&lt;/p&gt;&#xA;&lt;p&gt;Codigo que tengo:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;SweetCarga.fire({ title: 'Cargando...'}); //Este es el alert que quiero mostrar en el BeforeSend()&#xA;$.ajax({&#xA;    url: url,&#xA;    type: 'POST',&#xA;    data: data&#xA;}).done(function(data) {&#xA;    //Funcion&#xA;}).fail(function(XMLHttpRequest, textStatus, errorThrown) {&#xA;    //Funcion&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;EDIT-01:&lt;/strong&gt; Leyendo mas a profundidad me di cuenta que &lt;code&gt;done-fail-always&lt;/code&gt; son metodos de promesas, tambien existen &lt;code&gt;then-when&lt;/code&gt; pero por lo que quiero hacer no hay un metodo especifico&lt;/p&gt;&#xA;"" OwnerUserId=""204859"" LastEditorUserId=""204859"" LastEditDate=""2021-01-19T16:25:14.133"" LastActivityDate=""2021-01-19T16:32:29.503"" Title=""Before send en AJAX con Jquery 3.0"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""426234"" PostTypeId=""1"" AcceptedAnswerId=""426572"" CreationDate=""2021-02-05T21:51:22.173"" Score=""1"" ViewCount=""366"" Body=""&lt;p&gt;Estoy tratando de enviar un formulario con un textarea por ajax para luego recibir los datos con PHP para poder registrarlo en la base de datos, pero el problema esta en que no me llega nada &lt;em&gt;publication.php&lt;/em&gt;&#xA;He colocado un &lt;strong&gt;var_dump()&lt;/strong&gt; para ver si me esta llegando algo por POST[] pero no me esta llegando nada, sin embargo si esta llegando a &lt;em&gt;publication.js&lt;/em&gt; donde esta el ajax para enviar por POST los datos que recibirá &lt;strong&gt;php&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Formulario:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form method=&amp;quot;POST&amp;quot; class=&amp;quot;col s12&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot;&amp;gt;&#xA;                            &amp;lt;div class=&amp;quot;row&amp;quot;&amp;gt;&#xA;                                &amp;lt;div class=&amp;quot;input-field col s12&amp;quot;&amp;gt;&#xA;                                &amp;lt;!-- &amp;lt;i class=&amp;quot;material-icons prefix&amp;quot;&amp;gt;photo_camera&amp;lt;/i&amp;gt; --&amp;gt;&#xA;                                &amp;lt;textarea id=&amp;quot;post&amp;quot; class=&amp;quot;materialize-textarea&amp;quot; required&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                                &amp;lt;label for=&amp;quot;post&amp;quot;&amp;gt;Dile algo al mundo...&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;span class=&amp;quot;helper-text&amp;quot; data-error=&amp;quot;wrong&amp;quot; data-success=&amp;quot;right&amp;quot;&amp;gt;&#xA;&#xA;                                &amp;lt;div class=&amp;quot;file-field input-field&amp;quot;&amp;gt;&#xA;                                    &amp;lt;span class=&amp;quot;file-path-wrapper&amp;quot;&amp;gt;&#xA;                                        &amp;lt;i class=&amp;quot;material-icons prefix&amp;quot;&amp;gt;photo_camera&amp;lt;/i&amp;gt;&#xA;                                        &amp;lt;input id=&amp;quot;img&amp;quot; type=&amp;quot;file&amp;quot;&amp;gt;&#xA;                                    &amp;lt;/span&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;&#xA;                                &amp;lt;/span&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;&#xA;                            &amp;lt;!-- Boton de publicar --&amp;gt;&#xA;                            &amp;lt;button class=&amp;quot;btn waves-effect btn-color right&amp;quot; type=&amp;quot;button&amp;quot; id=&amp;quot;public&amp;quot;&amp;gt;Publicar&#xA;                                &amp;lt;i class=&amp;quot;material-icons left&amp;quot;&amp;gt;send&amp;lt;/i&amp;gt;&#xA;                            &amp;lt;/button&amp;gt;&#xA;&#xA;                            &amp;lt;p id=&amp;quot;respuesta&amp;quot; class=&amp;quot;red-text&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                        &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Archivo &lt;em&gt;publication.js&lt;/em&gt; donde esta el ajax:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$('#public').click(function(){&#xA;&#xA;    var post = document.getElementById('post').value;&#xA;&#xA;    // Enviar las variables a la ruta&#xA;    var ruta = &amp;quot;post=&amp;quot;+post;&#xA;&#xA;    $.ajax({&#xA;        url: './backend/publication.php',&#xA;        type: 'POST',&#xA;        data: ruta,&#xA;&#xA;    })&#xA;&#xA;    .done(function(res){&#xA;        $('#repuesta').html(res)&#xA;    })&#xA;&#xA;    .fail(function(){&#xA;        console.log(&amp;quot;error&amp;quot;);&#xA;    })&#xA;&#xA;    .always(function(){&#xA;        console.log(post);&#xA;    });&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Archivo &lt;em&gt;publication.php&lt;/em&gt; donde esta la logica de PHP:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;// Obtener direccion ip del cliente&#xA;$ip = $_SERVER['REMOTE_ADDR'];&#xA;&#xA;// Obtener el navegador del visitante&#xA;$browser = $_SERVER['HTTP_USER_AGENT'];&#xA;&#xA;$errors = '';&#xA;&#xA;if(isset($_POST['post'])){&#xA;&#xA;    $post = $_POST['post'];&#xA;&#xA;    var_dump($post);&#xA;&#xA;    // Limpiar&#xA;    $post = htmlspecialchars($post);&#xA;    $post = trim($post);&#xA;    $post = filter_var($post, FILTER_SANITIZE_STRING);&#xA;&#xA;    // Si no hay errores, guardamos la pub en la BD&#xA;    if($errors == ''){&#xA;        $statement = $conexion-&amp;gt;prepare('INSERT INTO publication (id_pub, id_user_pub, messenger_pub, photo_pub, ip_pub, browser_pub, create_at_pub) VALUES(&#xA;            null, :id_user, :post, :photo, :ip, :browser, NOW())'&#xA;        );&#xA;        $statement-&amp;gt;execute(array(&#xA;            ':id_user' =&amp;gt; $id_user,&#xA;            ':post' =&amp;gt; $post,&#xA;            ':photo' =&amp;gt; $photo,&#xA;            ':ip' =&amp;gt; $ip,&#xA;            ':browser' =&amp;gt; $browser&#xA;        ));&#xA;&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/tzUjo.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/tzUjo.png&quot; alt=&quot;Se muestra como el formulario es enviado con exito, pero no llega a la logica de php&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Si notan, la información esta recogida de forma correcta, pero no se porque razón no me la esta mandando a la url, porque no me esta llegando nada a la pagina &lt;em&gt;publication.php&lt;/em&gt; donde esta la logica de PHP para guardar la información en base de datos.&lt;/p&gt;&#xA;"" OwnerUserId=""110030"" LastEditorUserId=""206458"" LastEditDate=""2021-02-05T21:58:07.097"" LastActivityDate=""2021-02-10T16:51:07.623"" Title=""Error al enviar formulario con Ajax y PHP"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""426596"" PostTypeId=""1"" AcceptedAnswerId=""426611"" CreationDate=""2021-02-07T19:58:58.370"" Score=""1"" ViewCount=""453"" Body=""&lt;p&gt;Quiero enviar una imagen por el formulario de php con ajax, pero por alguna razón no me esta llegando el por POST el &lt;strong&gt;$_FILES[]&lt;/strong&gt; pero si me llega el POST de public de la publicación y me la inserta en la base de datos de forma correcta, pero no me llega nada por el POST de la imagen.&lt;/p&gt;&#xA;&lt;p&gt;Según los errores que muestra en la imagen que publico mas abajo, el error se debe a que en la logica de PHP que muestro al final de esta publicación, no esta llegando nada por el &lt;strong&gt;$_FILES[]&lt;/strong&gt; pero quiero que sepan que si me llega el $_POST['public'] y lo guarda en la base de datos. Lo que no se si la logica del &lt;strong&gt;publication.js&lt;/strong&gt; que es donde se encuentra la logica del JS para enviar el formulario a &lt;strong&gt;publication.php&lt;/strong&gt;, no se si esta de forma correcta.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/murAR.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/murAR.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Formulario HTML5:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&amp;quot;form&amp;quot; method=&amp;quot;POST&amp;quot; class=&amp;quot;col s12&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot;&amp;gt;&#xA;                            &amp;lt;div class=&amp;quot;row&amp;quot;&amp;gt;&#xA;                                &amp;lt;div class=&amp;quot;input-field col s12&amp;quot;&amp;gt;&#xA;                                &amp;lt;textarea id=&amp;quot;post&amp;quot; name=&amp;quot;post&amp;quot; class=&amp;quot;materialize-textarea&amp;quot; required&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                                &amp;lt;label for=&amp;quot;post&amp;quot;&amp;gt;Dile algo al mundo...&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;span class=&amp;quot;helper-text&amp;quot; data-error=&amp;quot;wrong&amp;quot; data-success=&amp;quot;right&amp;quot;&amp;gt;&#xA;&#xA;                                &amp;lt;div class=&amp;quot;file-field input-field&amp;quot;&amp;gt;&#xA;                                    &amp;lt;span class=&amp;quot;file-path-wrapper&amp;quot;&amp;gt;&#xA;                                        &amp;lt;i class=&amp;quot;material-icons prefix&amp;quot;&amp;gt;photo_camera&amp;lt;/i&amp;gt;&#xA;                                        &amp;lt;input id=&amp;quot;img&amp;quot; name=&amp;quot;img&amp;quot; type=&amp;quot;file&amp;quot;&amp;gt;&#xA;                                    &amp;lt;/span&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;&#xA;                                &amp;lt;/span&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;&#xA;                            &amp;lt;div id=&amp;quot;respuesta&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;                            &amp;lt;!-- Boton de publicar --&amp;gt;&#xA;                            &amp;lt;button class=&amp;quot;btn waves-effect btn-color right&amp;quot; id=&amp;quot;submit&amp;quot; type=&amp;quot;button&amp;quot; name=&amp;quot;public&amp;quot;&amp;gt;Publicar&#xA;                                &amp;lt;i class=&amp;quot;material-icons left&amp;quot;&amp;gt;send&amp;lt;/i&amp;gt;&#xA;                            &amp;lt;/button&amp;gt;&#xA;&#xA;                            &amp;lt;p id=&amp;quot;respuesta&amp;quot; class=&amp;quot;red-text&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&#xA;                        &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Código JS:&lt;/strong&gt;&#xA;$('#submit').click(function(){&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var publicacion = document.getElementById('post').value;&#xA;var photo = document.getElementById('img').value;&#xA;&#xA;// Enviar las variables a la ruta&#xA;var ruta = &amp;quot;public=&amp;quot;+publicacion+&amp;quot;&amp;amp;img=&amp;quot;+photo;&#xA;&#xA;$.ajax({&#xA;    url: './backend/publication.php',&#xA;    type: 'POST',&#xA;    data: ruta,&#xA;&#xA;})&#xA;&#xA;.done(function(res){&#xA;    $('#respuesta').html(res)&#xA;})&#xA;&#xA;.fail(function(){&#xA;    console.log(&amp;quot;error&amp;quot;);&#xA;})&#xA;&#xA;.always(function(){&#xA;    console.log(publicacion);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;});&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Código PHP:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php session_start();&#xA;&#xA;require_once('../connection/connection.php');&#xA;$email = $_SESSION['email'];&#xA;require_once('../user/user.php');&#xA;require_once('../backend/publication.php');&#xA;&#xA; // Obtener direccion ip del cliente&#xA;$ip = $_SERVER['REMOTE_ADDR'];&#xA;&#xA; // Obtener el navegador del visitante&#xA;$browser = $_SERVER['HTTP_USER_AGENT'];&#xA;&#xA;$errors = '';&#xA;$maxSize = 2097152; // 2 MB&#xA;&#xA;if(isset($_POST['public'])){&#xA;&#xA;    $post = $_POST['public'];&#xA;    $photo = $_FILES['img'];&#xA;&#xA;    // Obtenemos el nombre y la extension de la img&#xA;    $photoName = $photo['name'];&#xA;&#xA;    // Obtenemos el tipo de la img&#xA;    $photoType = $photo['type'];&#xA;&#xA;    // Asegurarnos que la imagen contenga un formato de img&#xA;    if($photoType == &amp;quot;image/jpg&amp;quot; || $photoType == &amp;quot;image/png&amp;quot; || $photoType == &amp;quot;image/jpeg&amp;quot; || $photoType == &amp;quot;image/git&amp;quot; || $photoType == &amp;quot;image/gif&amp;quot; || $photoType == &amp;quot;&amp;quot;){&#xA;&#xA;        // Verificar el peso de la imagen&#xA;        if($photo['size'] &amp;gt;= $maxSize) {&#xA;            $errors = 'La imagen pesa mucho, por favor solo 2MB';&#xA;        }&#xA;&#xA;        if(!is_dir('../photo')){&#xA;            mkdir('../photo', 0777);&#xA;        }&#xA;&#xA;        // Movemos la img a la carpeta photo&#xA;        move_uploaded_file($photo['tmp_name'], '../photo/'.$photoName);&#xA;&#xA;    }else {&#xA;        echo 'El tipo de imagen no es soportado';&#xA;    }&#xA;&#xA;   // Limpiar&#xA;    $post = htmlspecialchars($post);&#xA;    $post = trim($post);&#xA;    $post = filter_var($post, FILTER_SANITIZE_STRING);&#xA;&#xA;   // Si no hay errores, guardamos la pub en la BD&#xA;    if($errors == ''){&#xA;        $statement = $conexion-&amp;gt;prepare('INSERT INTO publication (id_pub, id_user_pub, messeger_pub, photo_pub, ip_pub, browser_pub, create_at_pub) VALUES(&#xA;            null, :id_user, :post, :photoName, :ip, :browser, NOW())'&#xA;        );&#xA;        $statement-&amp;gt;execute(array(&#xA;            ':id_user' =&amp;gt; $id_user,&#xA;            ':post' =&amp;gt; $post,&#xA;            ':photoName' =&amp;gt; $photoName,&#xA;            ':ip' =&amp;gt; $ip,&#xA;            ':browser' =&amp;gt; $browser&#xA;        ));&#xA;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""110030"" LastActivityDate=""2023-10-01T20:05:41.323"" Title=""Problemas para enviar imagen por formulario con PHP, Jquery y Ajax"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""435566"" PostTypeId=""1"" CreationDate=""2021-03-15T09:20:29.600"" Score=""2"" ViewCount=""52"" Body=""&lt;p&gt;Tengo un problema con mi código, me aparece el siguiente error:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Notice: Undefined index: claves in C:\xampp\htdocs\mikrotik-unicom\mpdf\app\index.php on line 3&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;Quiero enviar un &lt;em&gt;json&lt;/em&gt; a &lt;em&gt;php&lt;/em&gt; desde &lt;em&gt;javascript&lt;/em&gt;. Aquí esta el código en &lt;em&gt;javascript&lt;/em&gt;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var array_claves = `[]`;&#xA;var claves = JSON.parse(array_claves);&#xA;&#xA;for (cantidad_inicial; cantidad_inicial &amp;lt;= cantidad_final; cantidad_inicial++) {&#xA;            var abecedario = [&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;,&amp;quot;d&amp;quot;,&amp;quot;e&amp;quot;,&amp;quot;f&amp;quot;,&amp;quot;g&amp;quot;,&amp;quot;h&amp;quot;,&amp;quot;i&amp;quot;,&amp;quot;j&amp;quot;,&amp;quot;k&amp;quot;,&amp;quot;l&amp;quot;,&amp;quot;m&amp;quot;,&amp;quot;n&amp;quot;,&amp;quot;o&amp;quot;,&amp;quot;p&amp;quot;,&amp;quot;q&amp;quot;,&amp;quot;r&amp;quot;,&amp;quot;s&amp;quot;,&amp;quot;t&amp;quot;,&amp;quot;u&amp;quot;,&amp;quot;v&amp;quot;,&amp;quot;w&amp;quot;,&amp;quot;x&amp;quot;,&amp;quot;y&amp;quot;,&amp;quot;z&amp;quot;];&#xA;            var primer_numero_aleatorio = Math.floor(Math.random() * (999 - 100)) + 100;&#xA;            var segundo_caracter_aleatorio = abecedario[Math.floor(Math.random()*abecedario.length)];&#xA;            var tercer_numero_aleatorio = Math.floor(Math.random() * (99 - 10)) + 10;&#xA;    &#xA;           $(&amp;quot;#textarea-claves&amp;quot;).append('&amp;lt;p class=&amp;quot;clave&amp;quot;&amp;gt;add server=all name='+subfijo+ +cantidad_inicial+&amp;quot; &amp;quot;+&#xA;            'password='+primer_numero_aleatorio+ &amp;quot;&amp;quot;+segundo_caracter_aleatorio+&amp;quot;&amp;quot; +tercer_numero_aleatorio+ &amp;quot; &amp;quot;+&#xA;            'profile='+megas+&amp;quot; &amp;quot;+&#xA;             'limit-uptime='+plan+'&amp;lt;/p&amp;gt;'+'\n'); &#xA;&#xA;            claves.push({usuario:subfijo+cantidad_inicial,password:primer_numero_aleatorio+segundo_caracter_aleatorio+tercer_numero_aleatorio});      &#xA;        }&#xA;&#xA;var arrayJson = JSON.stringify(claves);&#xA;console.log(arrayJson);&#xA;&#xA;$.ajax({&#xA;    data: {&amp;quot;claves&amp;quot; : arrayJson},&#xA;    type: &amp;quot;POST&amp;quot;,&#xA;    url: &amp;quot;mpdf/app/index.php&amp;quot;,&#xA;})&#xA; .done(function( data, textStatus, jqXHR ) {&#xA;     if ( console &amp;amp;&amp;amp; console.log ) {&#xA;         console.log( &amp;quot;La solicitud se ha completado correctamente.&amp;quot; );&#xA;     }&#xA; })&#xA; .fail(function( jqXHR, textStatus, errorThrown ) {&#xA;     if ( console &amp;amp;&amp;amp; console.log ) {&#xA;         console.log( &amp;quot;La solicitud a fallado: &amp;quot; +  textStatus);&#xA;     }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El &lt;code&gt;console.log(arrayJson)&lt;/code&gt; me da este resultado que es el que quiero enviar por ajax:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;[{&amp;quot;usuario&amp;quot;:&amp;quot;F1000&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;583f37&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1001&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;853a16&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1002&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;624j83&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1003&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;553g69&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1004&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;716o54&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1005&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;894p70&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1006&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;583q87&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1007&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;795k42&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1008&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;133y51&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1009&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;596v82&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1010&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;270i25&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1011&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;789q46&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1012&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;975y37&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1013&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;647h30&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1014&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;597h92&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1015&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;759i58&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1016&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;551o63&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1017&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;398l57&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1018&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;239u27&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1019&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;703d36&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1020&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;196e23&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1021&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;726n57&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1022&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;840f49&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1023&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;265f45&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1024&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;114v22&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1025&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;761p52&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1026&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;754l74&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1027&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;559l17&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1028&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;804j97&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1029&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;117k45&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1030&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;955p69&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1031&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;282u56&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1032&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;996q87&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1033&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;223i38&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1034&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;171o83&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1035&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;833m23&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1036&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;473h82&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1037&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;435s59&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1038&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;443q55&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1039&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;453f58&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1040&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;372g84&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1041&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;639w43&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1042&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;243x83&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1043&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;609s85&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1044&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;309e32&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1045&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;297q24&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1046&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;206t30&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1047&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;529v64&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1048&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;852q45&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1049&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;158e95&amp;quot;},{&amp;quot;usuario&amp;quot;:&amp;quot;F1050&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;132u22&amp;quot;}]&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;Y esto es lo que tengo en mi &lt;em&gt;php&lt;/em&gt;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$array=json_decode($_POST['claves']);&#xA;var_dump($array);&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""193528"" LastEditorUserId=""146637"" LastEditDate=""2021-03-15T12:36:13.887"" LastActivityDate=""2021-03-15T12:36:13.887"" Title=""Notice: Undefined index: claves in C:\xampp\htdocs\mikrotik-unicom\mpdf\app\index.php on line 3"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""440936"" PostTypeId=""1"" CreationDate=""2021-04-01T14:23:05.993"" Score=""0"" ViewCount=""416"" Body=""&lt;p&gt;tengo una pagina php que muestra una Datatable para &amp;quot;surtir&amp;quot; un producto al presionar el Checkbox que se encuentra en la fila. Al irlos seleccionando se va creando dinámicamente una segunda tabla que al presionar el botón Surtir ejecuta una llamada AJax mediante POST y al regresar con éxito refresca el Datatable. Esto lo hace siempre y cuando el número de filas seleccionada no sea mayor a 30, por ejemplo si intento seleccionar 100 filas, realiza correctamente su actividad pero no refresca de manera correcta el Datatable hasta que se recarga la página.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html&amp;gt;&#xA;&#xA;&amp;lt;head&amp;gt;&amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;&#xA;    &#xA;    &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot;&amp;gt;&#xA;    &amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;IE=edge&amp;quot;&amp;gt;&#xA;&#xA;    &amp;lt;!-- Bootstrap CSS CDN --&amp;gt;&#xA;    &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css&amp;quot; integrity=&amp;quot;sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&#xA;    &amp;lt;!-- DataTables CSS CDN --&amp;gt;&#xA;    &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot; href=&amp;quot;https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/dt-1.10.21/r-2.2.5/datatables.min.css&amp;quot;/&amp;gt;&#xA;   &#xA;   &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot; href=https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css /&amp;gt;&#xA; &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot; href=https://cdn.datatables.net/buttons/1.6.2/css/buttons.dataTables.min.css /&amp;gt; &#xA;   &#xA;    &amp;lt;!-- Our Custom CSS --&amp;gt;&#xA;    &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;https://sistema.inomac.mx/utils/style.css&amp;quot;&amp;gt;&#xA;    &amp;lt;!-- Font Awesome JS --&amp;gt;&#xA;    &amp;lt;script defer src=&amp;quot;https://use.fontawesome.com/releases/v5.0.13/js/solid.js&amp;quot; integrity=&amp;quot;sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;script defer src=&amp;quot;https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js&amp;quot; integrity=&amp;quot;sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;    &amp;lt;link href=&amp;quot;https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css&amp;quot; rel=&amp;quot;stylesheet&amp;quot; /&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&#xA;&amp;lt;body&amp;gt;&#xA;    &#xA;            &#xA;&amp;lt;div class=&amp;quot;container&amp;quot;&amp;gt;&#xA;  &amp;lt;h2&amp;gt;Gestion Salida de Almacen&amp;lt;/h2&amp;gt; &#xA;    &amp;lt;div id=&amp;quot;mensaje&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;    &amp;lt;div id=&amp;quot;respuesta&amp;quot; class=&amp;quot;container&amp;quot;&amp;gt;    &#xA;      &amp;lt;h2&amp;gt;Productos a entregar&amp;lt;/h2&amp;gt;&#xA;        &amp;lt;table id=&amp;quot;xhr_tabla&amp;quot; class=&amp;quot;table table-sm table-responsive-sm table-bordered table-hover&amp;quot; style=&amp;quot;font-size:12px;&amp;quot;&amp;gt;&#xA;            &amp;lt;thead bgcolor=&amp;quot;#eeeeee&amp;quot; align=&amp;quot;center&amp;quot;&amp;gt;&#xA;                &amp;lt;tr&amp;gt;&#xA;                    &amp;lt;th&amp;gt;Producto&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Cantidad&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;TOTAL&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Unidad de Medida&amp;lt;/th&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&#xA;            &amp;lt;/thead&amp;gt;&#xA;            &amp;lt;tbody&amp;gt;&#xA;            &amp;lt;/tbody&amp;gt;&#xA;        &amp;lt;/table&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&#xA;    &amp;lt;div id=&amp;quot;enviar&amp;quot;&amp;gt;&#xA;         &amp;lt;a class=&amp;quot;btn btn-success btnSurtir&amp;quot; id= &amp;quot;btnSurtir&amp;quot; href=&amp;quot;&amp;quot; role=&amp;quot;button&amp;quot;&amp;gt;Surtir&amp;lt;/a&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;p&amp;gt; &amp;lt;/p&amp;gt;&#xA;    &amp;lt;div class=&amp;quot;form-group row&amp;quot;&amp;gt;&#xA;     &amp;lt;div class=&amp;quot;table-responsive&amp;quot;&amp;gt;&#xA;      &amp;lt;table id=&amp;quot;listaSalidas&amp;quot; name=&amp;quot;listaSalidas&amp;quot; class=&amp;quot;table table-responsive  table-hover table-responsive-sm&amp;quot; width=&amp;quot;100%&amp;quot; style=&amp;quot;font-size:12px&amp;quot;&amp;gt;&#xA;        &amp;lt;thead class=&amp;quot;thead-dark&amp;quot;&amp;gt;&#xA;          &amp;lt;tr&amp;gt;&#xA;            &amp;lt;th&amp;gt;Fecha&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;No. Apli.&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Id. Rancho&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Rancho&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Tabla&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Id. Prod.&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Produto&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Cantidad&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Unidad de Medida&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Surtir&amp;lt;/th&amp;gt;&#xA;          &amp;lt;/tr&amp;gt; &#xA;        &amp;lt;/thead&amp;gt; &#xA;        &amp;lt;tbody&amp;gt; &#xA;        &amp;lt;/tbody&amp;gt; &#xA;      &amp;lt;/table&amp;gt;&#xA;      &#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&#xA;    &amp;lt;!-- jQuery CDN - Slim version (=without AJAX) --&amp;gt;&#xA;    &amp;lt;script src=&amp;quot;https://code.jquery.com/jquery-3.3.1.slim.min.js&amp;quot; integrity=&amp;quot;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;!-- Popper.JS --&amp;gt;&#xA;    &amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js&amp;quot; integrity=&amp;quot;sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;!-- Bootstrap JS --&amp;gt;&#xA;    &amp;lt;script src=&amp;quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js&amp;quot; integrity=&amp;quot;sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm&amp;quot; crossorigin=&amp;quot;anonymous&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;    &amp;lt;!-- DataTables --&amp;gt; &#xA;    &amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/dt-1.10.21/r-2.2.5/datatables.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://code.jquery.com/jquery-3.5.1.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &#xA;&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;script src=&amp;quot;js/funciones.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2&gt;FUNCIONES.JS&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function() {&#xA;    let arr_filas = [] ;&#xA;    let totales = [] ;&#xA;    opcion = 4;&#xA;    &#xA;    var x = document.getElementById(&amp;quot;enviar&amp;quot;);&#xA;    x.style.display = &amp;quot;none&amp;quot;;&#xA;    &#xA;    document.getElementById(&amp;quot;respuesta&amp;quot;).style.display = &amp;quot;none&amp;quot;;&#xA;    &#xA;    listaSalidas = $('#listaSalidas').DataTable({ &#xA;          responsive: true,&#xA;          &amp;quot;processing&amp;quot;: true,&#xA;          pagingType: 'full_numbers',&#xA;          &amp;quot;language&amp;quot;: {&#xA;                    &amp;quot;lengthMenu&amp;quot;: &amp;quot;Mostrar _MENU_ registros&amp;quot;,&#xA;                    &amp;quot;zeroRecords&amp;quot;: &amp;quot;No se encontraron resultados&amp;quot;,&#xA;                    &amp;quot;info&amp;quot;: &amp;quot;Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros&amp;quot;,&#xA;                    &amp;quot;infoEmpty&amp;quot;: &amp;quot;Mostrando registros del 0 al 0 de un total de 0 registros&amp;quot;,&#xA;                    &amp;quot;infoFiltered&amp;quot;: &amp;quot;(filtrado de un total de _MAX_ registros)&amp;quot;,&#xA;                    &amp;quot;sSearch&amp;quot;: &amp;quot;Buscar:&amp;quot;,&#xA;                    &amp;quot;oPaginate&amp;quot;: {&#xA;                        &amp;quot;sFirst&amp;quot;: &amp;quot;Primero&amp;quot;,&#xA;                        &amp;quot;sLast&amp;quot;:&amp;quot;Último&amp;quot;,&#xA;                        &amp;quot;sNext&amp;quot;:&amp;quot;Siguiente&amp;quot;,&#xA;                        &amp;quot;sPrevious&amp;quot;: &amp;quot;Anterior&amp;quot;&#xA;               },&#xA;               &amp;quot;sProcessing&amp;quot;:&amp;quot;Procesando...&amp;quot;,&#xA;                },&#xA;    &amp;quot;ajax&amp;quot;:{            &#xA;        &amp;quot;url&amp;quot;: &amp;quot;modelo/modelo.php&amp;quot;, &#xA;        &amp;quot;method&amp;quot;: 'POST', //usamos el metodo POST&#xA;//        &amp;quot;data&amp;quot;:{opcion:opcion}, //enviamos opcion 4 para que haga un SELECT&#xA;        &amp;quot;dataSrc&amp;quot;:&amp;quot;&amp;quot;&#xA;    },&#xA;    &amp;quot;columns&amp;quot;:[&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;fecha&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;id_aplica&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;num_subrancho&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;rancho&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;tabla&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;id_prod&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;nom_prod&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;dosis_total&amp;quot;},&#xA;        {&amp;quot;data&amp;quot;: &amp;quot;unidad_medida&amp;quot;},&#xA;        {&amp;quot;defaultContent&amp;quot;: &amp;quot;&amp;lt;div class='text-center'&amp;gt;&amp;lt;input type='checkbox' class='Chk_Agregar'&amp;gt;&amp;lt;/div&amp;gt;&amp;quot;}&#xA;    ]&#xA;});     &#xA;    &#xA;    &#xA;    $(document).on(&amp;quot;click&amp;quot;, &amp;quot;.Chk_Agregar&amp;quot;, function(){&#xA;        fila_tabla = $(this).closest(&amp;quot;tr&amp;quot;);         &#xA;        id = parseInt(fila_tabla.find('td:eq(1)').text()); //capturo el ID&#xA;        rancho = fila_tabla.find('td:eq(3)').text();&#xA;        tabla = fila_tabla.find('td:eq(4)').text();&#xA;        id_prod = parseInt(fila_tabla.find('td:eq(5)').text());&#xA;        prod = fila_tabla.find('td:eq(6)').text();&#xA;        cantidad = parseFloat(fila_tabla.find('td:eq(7)').text());&#xA;        medida = fila_tabla.find('td:eq(8)').text();&#xA;        &#xA;        let result = arr_filas.filter(fila =&amp;gt; fila.id == id);  //busca id para saber si existe&#xA;         &#xA;        if (result.length &amp;lt;= 0) {      // si no existe en el arreglo, lo agrega&#xA;            arr_filas.push({id: id, rancho:rancho, tabla:tabla, id_prod:id_prod, producto: prod, cantidad: cantidad, unidad: medida});    //agrega elemento al final del arreglp&#xA;            totaliza(prod, cantidad, 1) ;&#xA;        } else {&#xA;            let pos = arr_filas.findIndex(el =&amp;gt; el.id == id ) ;   //enceuntra la posici贸n del elemento en el arreglo&#xA;            arr_filas.splice(pos, 1) ;                           //elimina el elemento en la posici贸n indicada&#xA;            totaliza(prod, cantidad, 0) ;&#xA;        }&#xA;        //ordenando por nombre de producto&#xA;        arr_filas.sort(function (a, b){&#xA;            if (a.producto &amp;gt; b.producto) {&#xA;                return 1 ;&#xA;            }&#xA;            if (a.producto &amp;lt; b.producto) {&#xA;                return -1 ;&#xA;            }&#xA;            return 0 ;&#xA;        } ) ;&#xA;        &#xA;        //Escribiendo datos a la tabla&#xA;        $(&amp;quot;#xhr_tabla&amp;gt;tbody tr&amp;quot;).remove();&#xA;        let cont = 0 ;&#xA;        let fila = &amp;quot;&amp;quot; ;&#xA;        for(let i = 0 ; i &amp;lt; arr_filas.length ; i++){&#xA;            let result = totales.filter(fila =&amp;gt; fila.producto == arr_filas[i].producto);  //busca si existe en el arreglo&#xA;            if (cont === 0) {&#xA;                fila = &amp;quot;&amp;lt;tr&amp;gt;&amp;lt;td align='center' rowspan='&amp;quot; + result[0].num_filas + &amp;quot;'&amp;gt;&amp;quot; + arr_filas[i].producto + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td align='center'&amp;gt;&amp;quot; + arr_filas[i].cantidad + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td align='center' rowspan='&amp;quot; + result[0].num_filas + &amp;quot;'&amp;gt;&amp;quot; + result[0].monto + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;td align='center' rowspan='&amp;quot; + result[0].num_filas + &amp;quot;'&amp;gt;&amp;quot; + arr_filas[i].unidad + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;quot; ;&#xA;                console.log(fila) ;&#xA;            } else {&#xA;                fila = &amp;quot;&amp;lt;tr&amp;gt;&amp;lt;td align='center'&amp;gt;&amp;quot;  + arr_filas[i].cantidad + &amp;quot;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;quot; ;            &#xA;            }&#xA;            $(&amp;quot;#xhr_tabla&amp;gt;tbody&amp;quot;).append(fila);&#xA;            cont++ ;&#xA;            if (cont == result[0].num_filas) {&#xA;                cont = 0 ;&#xA;            }&#xA;        }    &#xA;        &#xA;        //visualizando la tabla de salidas seleccionadas&#xA;        if(arr_filas.length &amp;gt; 0) {&#xA;            x.style.display = &amp;quot;block&amp;quot;;&#xA;            document.getElementById(&amp;quot;respuesta&amp;quot;).style.display = &amp;quot;block&amp;quot;;&#xA;        } else {&#xA;            x.style.display = &amp;quot;none&amp;quot;;&#xA;            document.getElementById(&amp;quot;respuesta&amp;quot;).style.display = &amp;quot;none&amp;quot;;&#xA;        }&#xA;    });&#xA;    &#xA;    function totaliza(prod, cantidad, tipo){&#xA;    //totalizando por producto&#xA;&#xA;        let result = totales.filter(fila =&amp;gt; fila.producto == prod);  //busca si existe en el arreglo&#xA;        let pos = totales.findIndex(el =&amp;gt; el.producto == prod) ;  //ubica la posici贸n en el arreglo&#xA;        &#xA;        if (result.length &amp;lt;= 0 || tipo == 1) {    //si no existe lo agrega&#xA;            if (pos &amp;lt; 0) {&#xA;                totales.push({producto: prod, monto: cantidad, num_filas: 1}) ;&#xA;            } else {&#xA;                totales[pos].monto += cantidad ;&#xA;                totales[pos].num_filas += 1 ;&#xA;            }&#xA;        } else {&#xA;            totales[pos].monto -= cantidad ; &#xA;            totales[pos].num_filas -= 1 ;&#xA;        }&#xA;    }&#xA;    &#xA;    $(&amp;quot;#btnSurtir&amp;quot;).click(function(){&#xA;      //  alert(&amp;quot;SURTR&amp;quot;) ;&#xA;        var jsonString = JSON.stringify(arr_filas);&#xA;        &#xA;         $.ajax({&#xA;          url: &amp;quot;modelo/registro_salida.php&amp;quot;,&#xA;          type: &amp;quot;POST&amp;quot;,&#xA;          datatype:&amp;quot;json&amp;quot;,    &#xA;          data:  {data:jsonString}&#xA;         })&#xA;            .done(function(data) {&#xA;                    if(data.success){&#xA;                        alert(&amp;quot;Filas: &amp;quot; + data.filas);&#xA;                        //listaSalidas.ajax.reload(null, false);&#xA;                        console.log(data.filas);&#xA;                        $('#listaSalidas').DataTable().ajax.reload();&#xA;                    } else{&#xA;                        alert(&amp;quot;Error: &amp;quot; + data,filas);&#xA;                    }&#xA;                    console.log(data.responseCode) ;&#xA;                } )&#xA;            .pipe(function(data) {&#xA;                    return data.responseCode != 200 ?&#xA;                    $.Deferred().reject( data ) :&#xA;                    data;&#xA;                } )&#xA;            .fail(function(data) {&#xA;                    if ( data.responseCode )&#xA;                        console.log( data.responseCode );&#xA;                } ); &#xA;    &#xA;               &#xA;    } ) ;&#xA;    &#xA;});    // on_ready&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2&gt;MODELO.PHP&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;    include_once(&amp;quot;../../../conectar/conecta.php&amp;quot;) ;&#xA;&#xA;    $hoy = date(&amp;quot;Y&amp;quot;).&amp;quot;-&amp;quot;.date(&amp;quot;m&amp;quot;).&amp;quot;-&amp;quot;.date(&amp;quot;d&amp;quot;) ;&#xA;  &#xA;    $consulta = &amp;quot;select id_aplica, aplicaciones.num_subrancho, subrancho.nombre as rancho, tabla, aplicaciones.id_prod, nom_prod, fecha, dosis_total, unidad_medida, aplicaciones.status from aplicaciones,subrancho, producto where aplicaciones.id_prod = producto.id_prod and aplicaciones.num_subrancho = subrancho.num_subrancho and aplicaciones.status='Programada' order by fecha DESC&amp;quot; ;&#xA;   &#xA;    $resultado = $conexion-&amp;gt;prepare($consulta);&#xA;    $resultado-&amp;gt;execute();        &#xA;    $data=$resultado-&amp;gt;fetchAll(PDO::FETCH_ASSOC);&#xA;  &#xA;    print json_encode($data, JSON_UNESCAPED_UNICODE);//envio el array final el formato json a AJAX&#xA;  &#xA;    $connect-&amp;gt;close();&#xA;?&amp;gt; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2&gt;REGISTRO_SALIDA.PHP&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    include_once(&amp;quot;../../../conectar/conecta.php&amp;quot;) ;&#xA;&#xA;    $array = json_decode($_POST['data'], true);&#xA;    &#xA;    $hoy = date(&amp;quot;y&amp;quot;).&amp;quot;/&amp;quot;.date(&amp;quot;m&amp;quot;).&amp;quot;/&amp;quot;.date(&amp;quot;d&amp;quot;) ;&#xA;    $tipo = &amp;quot;S&amp;quot; ;&#xA;    $status = &amp;quot;Entregada&amp;quot; ;&#xA;    $mensaje = &amp;quot;Surtido con Exito&amp;quot; ;&#xA;&#xA;    $elementos = count($array)  ;&#xA;    &#xA;    for ($i = 0 ; $i &amp;lt; $elementos ; $i++){&#xA;        $id_aplica = $array[$i][&amp;quot;id&amp;quot;] ;&#xA;        $subrancho = $array[$i][&amp;quot;rancho&amp;quot;] ;&#xA;        $sector = $array[$i][&amp;quot;tabla&amp;quot;] ;&#xA;        $id_prod =  $array[$i][&amp;quot;id_prod&amp;quot;] ;&#xA;        $nom_prod = $array[$i][&amp;quot;producto&amp;quot;] ;&#xA;        $cantidad = $array[$i][&amp;quot;cantidad&amp;quot;] ;&#xA;&#xA;        $sql = &amp;quot; select existencia, clasificacion, costo_promedio from producto where id_prod = &amp;quot;.$id_prod ;&#xA;        $fila = mysqli_query($connect, $sql);&#xA;        $row = mysqli_fetch_row($fila);&#xA;        $existencia = $row[0] ;&#xA;        $clasificacion = $row[1] ;&#xA;        $precio = $row[2] ;&#xA;        &#xA;        $saldo = $existencia - $cantidad ;&#xA;            &#xA;        //registra el movimiento de salida de producto&#xA;        $sql2 = &amp;quot;insert into movtos_prod (id_prod, nom_prod, clasificacion, tipo, cantidad, precio_compra, fecha_movto, id_requisicion, subrancho, sector) values ('$id_prod', '$nom_prod', '$clasificacion', '$tipo', '$cantidad', '$precio', '$hoy', '$id_aplica', '$subrancho', '$sector')&amp;quot; ;&#xA;        $linea2 = mysqli_query($connect, $sql2);&#xA;    &#xA;        //actualiza en tabla producto costo y existencia&#xA;        $sql4 = &amp;quot;update producto set existencia=&amp;quot;.$saldo.&amp;quot; where id_prod=&amp;quot;.$id_prod ;&#xA;        $linea3 = mysqli_query($connect, $sql4);&#xA;    &#xA;        //se actualiza estado de aplicacion&#xA;        $sql3 = &amp;quot;update aplicaciones set status = 'Entregada' where id_aplica= &amp;quot;.$id_aplica ;&#xA;        $linea4 = mysqli_query($connect, $sql3);&#xA;            &#xA;        $data = array(&#xA;            'success' =&amp;gt;true,&#xA;            'filas' =&amp;gt; $mensaje&#xA;        );&#xA;    }&#xA;    &#xA;header('Content-type: application/json; charset=utf-8');&#xA;echo json_encode($data); &#xA;  &#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""221158"" LastActivityDate=""2021-04-01T15:56:41.187"" Title=""Tengo un datatable que no se siempre se actualiza"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;&lt;datatable&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""440970"" PostTypeId=""1"" CreationDate=""2021-04-01T16:12:33.650"" Score=""5"" ViewCount=""870"" Body=""&lt;p&gt;Use GPU-Z para obtener las especificaciones de mi GPU, y su controlador en este caso 461.62&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/RKxZ5.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RKxZ5.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Aparentemente tendria que estar todo bien entre la version de mis drivers y la version de CUDA, no? (que esto este asi solo garantiza lo de los drivers, no que sea compatible con el hardware osea la placa de video)&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Ukt77.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Ukt77.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Luego instale la GPU-accelerated library of primitives for DL, NVIDIA cuDNN en su version...&#xA;&lt;a href=&quot;https://i.stack.imgur.com/eZXS9.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/eZXS9.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Esta version que es compatible (en teoria), para CUDA 11.0, 11.1 y 11.2&#xA;&lt;a href=&quot;https://i.stack.imgur.com/5RE2Z.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/5RE2Z.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Se que se debe escoger el pytorch en funcion del CUDA que quieras instalar, pero en este caso se que usare el pytorch para la 11.1 osea que elegi esa version.&lt;/p&gt;&#xA;&lt;p&gt;Y puse la carpeta en la direccion MiPC/C:/y ahi cuda  y tambien coloque las 3 variables de entorno.&#xA;Me guie con este video: &lt;a href=&quot;https://www.youtube.com/watch?v=StH5YNrY0mE&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.youtube.com/watch?v=StH5YNrY0mE&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Tambien instale el CUDA Toolkit 11.1.0, que creo en mi caso es el que es consistente con el resto pero estoy en dudas. Aun asi aqui dejo el link de donde lo baje con el exe[local].&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://developer.nvidia.com/cuda-11.1.0-download-archive?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://developer.nvidia.com/cuda-11.1.0-download-archive?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/g3OR8.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/g3OR8.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Ahora instale el pytorch para la version 11.1 (que es la que queria) desde el gestor pip, simplemente poniendo el siguiente code copiado de la page:&lt;/p&gt;&#xA;&lt;p&gt;pip install torch==1.8.1+cu111 torchvision==0.9.1+cu111 torchaudio===0.8.1 -f &lt;a href=&quot;https://download.pytorch.org/whl/torch_stable.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://download.pytorch.org/whl/torch_stable.html&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/7ywaR.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/7ywaR.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Estube probando pytorch en consola con la impresion de un tensor, y aparentemente funciona perfecto, pero claro hasta ahora con eso solo pruebo que funcione torch con la CPU, ya que no especifique el device.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import torch&#xA;&amp;gt;&amp;gt;&amp;gt; x = torch.rand(5, 3)&#xA;&amp;gt;&amp;gt;&amp;gt; print(x)&#xA;tensor([[0.1242, 0.4253, 0.9530],&#xA;        [0.2290, 0.8633, 0.2871],&#xA;        [0.3668, 0.5047, 0.7253],&#xA;        [0.9148, 0.0506, 0.3024],&#xA;        [0.3645, 0.1265, 0.1900]])&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Luego ejecute esto:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;import torch&#xA;print(torch.cuda.is_available())&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y me devolvio True, a lo que entiendo que CUDA si funciona (pero no es asi).&lt;/p&gt;&#xA;&lt;p&gt;Lo cual es extraño, aqui encontre una page, donde dicen &amp;quot;que esto funciona&amp;quot; pero en mi caso que devuelva un True parece que NO me garantiza que realmente funcione..., osea que devuelva True solo te indica que el pytorch cuda que pusiste este instalado (y supuestamente verificar si su controlador de GPU y CUDA están habilitados) pero no te indica realmente si esta funcionando o no, eso es lo que note (te daras cuenta si funciona o no al intentar usar pytorch con GPU).&#xA;Igual paso el link:&#xA;&lt;a href=&quot;https://mundowin.com/como-instalar-pytorch-en-windows-paso-a-paso/&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://mundowin.com/como-instalar-pytorch-en-windows-paso-a-paso/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Estuve viendo gente a la que le ocurrio algo similar, pero no me funcionan las soluciones que plantean(o porque estan desactualizadas las soluciones, o quizas yo no se hacerlo bien). Ellos dicen que instale pytorch desde el codigo fuente o algo asi...&lt;/p&gt;&#xA;&lt;p&gt;Aun asi creo que el problema es pytorch.&#xA;y el cuda cc, imagino que debe ser un compiler pero no lo se con seguridad, que dicen?&lt;/p&gt;&#xA;&lt;p&gt;En el siguiente link, plantean una &amp;quot;guia de instalacion algo complicada para mi al menos&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/wwNR6.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/wwNR6.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://github.com/pytorch/pytorch#from-source&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://github.com/pytorch/pytorch#from-source&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Fui a ese repositorio de github y descargue el proyecto a mi pc.&lt;/p&gt;&#xA;&lt;p&gt;Intente ejecutar ese setup.py con torch anterior eliminado y sin torch anterior eliminado, y tira...&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\pytorch-master&amp;gt;python setup.py&#xA;Building wheel torch-1.9.0a0+gitUnknown&#xA;usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]&#xA;   or: setup.py --help [cmd1 cmd2 ...]&#xA;   or: setup.py --help-commands&#xA;   or: setup.py cmd --help&#xA;&#xA;error: no commands supplied&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Realmente no entiendo para que es eso...&lt;/p&gt;&#xA;&lt;p&gt;Lo que me sigue dejando en duda es eso del compilador que pide en C++&#xA;Y respecto al CUDA Toolkit 11.1 y el NVIDIA cudDNN (en version 11.1) en teoria los podria dejar asi... como mostre que les instale mas arriba, no?&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/b85BK.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/b85BK.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/WtWPg.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/WtWPg.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;De todos modos, al no poder usar con GPU, adapte mi proyecto a CPU modificando todo lo que diga to_gpu o to_device, y andubo con CPU usando los 3 en 11.1, pero como CPU (lento, muy lento, per andubo, osea que con eso ya descarto que sea mi proyecto)&lt;/p&gt;&#xA;&lt;p&gt;Si lo ejecuto con GPU, usando el supuesto CUDA 11.1 instalado me tira estos errores, y ahi el problema:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;python main.py&#xA;starting up on 127.0.0.1 port 65432&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master&#xA;Loading weights:  None&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\facebookresearch_WSL-Images_master&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master&#xA;waiting for a connection&#xA;connection from ('127.0.0.1', 13676)&#xA;Connection closed&#xA;Traceback (most recent call last):&#xA;  File &amp;quot;main.py&amp;quot;, line 39, in &amp;lt;module&amp;gt;&#xA;    pose_data = pose_estimator.get_pose_data(img.copy())&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\utils\pose_estimator.py&amp;quot;, line 74, in get_pose_data&#xA;    heatmaps, pafs, scale, pad = self.infer_fast(img)&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\utils\pose_estimator.py&amp;quot;, line 49, in infer_fast&#xA;    stages_output = self.net(tensor_img)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\emotion_models\with_mobilenet.py&amp;quot;, line 134, in forward&#xA;    backbone_features = self.model(x)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\container.py&amp;quot;, line 119, in forward&#xA;    input = module(input)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\container.py&amp;quot;, line 119, in forward&#xA;    input = module(input)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\conv.py&amp;quot;, line 399, in forward&#xA;    return self._conv_forward(input, self.weight, self.bias)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\conv.py&amp;quot;, line 395, in _conv_forward&#xA;    return F.conv2d(input, weight, bias, self.stride,&#xA;RuntimeError: CUDA error: no kernel image is available for execution on the device&#xA;[ WARN:1] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Trate de describir d ela mejor manera que pude todo lo que hice haber si ustedes encuentran el error :( , pero sigue sin funcionar...&#xA;Probe si la camara es correcta y opencv la detecta y da video streaming osea que un problema con la webcam esta descartado.&lt;/p&gt;&#xA;&lt;p&gt;Aun asi sigue tirando esto...&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;RuntimeError: CUDA error: no kernel image is available for execution on the device&#xA;[ WARN:1] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Ya no se mas que hacer para hacer funcionar a pytorch en mi pc, espero realmente puedan ayudarme. Como veran trate de explicarme lo mejor posible, pero encerio que no se mas que hacerle.&lt;/p&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;Si bien siempre trabaje con Python 3.8.5 (el que me vino con Anaconda) desde la propia Anaconda prompt, hice las instalaciones con el gesto pip, ahora lo probe con conda install&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\pytorch-master&amp;gt;pip uninstall torch&#xA;Found existing installation: torch 1.8.1+cu111&#xA;Uninstalling torch-1.8.1+cu111:&#xA;  Would remove:&#xA;    c:\users\mipc\anaconda3\lib\site-packages\caffe2\*&#xA;    c:\users\mipc\anaconda3\lib\site-packages\torch-1.8.1+cu111.dist-info\*&#xA;    c:\users\mipc\anaconda3\lib\site-packages\torch\*&#xA;    c:\users\mipc\anaconda3\scripts\convert-caffe2-to-onnx.exe&#xA;    c:\users\mipc\anaconda3\scripts\convert-onnx-to-caffe2.exe&#xA;Proceed (y/n)? y&#xA;  Successfully uninstalled torch-1.8.1+cu111&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\pytorch-master&amp;gt;conda install pytorch torchvision torchaudio cudatoolkit=11.1 -c pytorch -c conda-forge&#xA;Collecting package metadata (current_repodata.json): done&#xA;Solving environment: done&#xA;&#xA;## Package Plan ##&#xA;&#xA;  environment location: C:\Users\MIPC\anaconda3&#xA;&#xA;  added / updated specs:&#xA;    - cudatoolkit=11.1&#xA;    - pytorch&#xA;    - torchaudio&#xA;    - torchvision&#xA;&#xA;&#xA;The following packages will be downloaded:&#xA;&#xA;    package                    |            build&#xA;    ---------------------------|-----------------&#xA;    conda-4.10.0               |   py38haa244fe_0         3.1 MB  conda-forge&#xA;    cudatoolkit-11.1.1         |       heb2d755_7        1.20 GB  conda-forge&#xA;    libuv-1.41.0               |       h8ffe710_0         341 KB  conda-forge&#xA;    ninja-1.10.2               |       h5362a0b_0         273 KB  conda-forge&#xA;    python_abi-3.8             |           1_cp38           4 KB  conda-forge&#xA;    pytorch-1.8.1              |py3.8_cuda11.1_cudnn8_0        1.53 GB  pytorch&#xA;    torchaudio-0.8.1           |             py38         2.7 MB  pytorch&#xA;    torchvision-0.9.1          |       py38_cu111         7.5 MB  pytorch&#xA;    ------------------------------------------------------------&#xA;                                           Total:        2.74 GB&#xA;&#xA;The following NEW packages will be INSTALLED:&#xA;&#xA;  cudatoolkit        conda-forge/win-64::cudatoolkit-11.1.1-heb2d755_7&#xA;  libuv              conda-forge/win-64::libuv-1.41.0-h8ffe710_0&#xA;  ninja              conda-forge/win-64::ninja-1.10.2-h5362a0b_0&#xA;  python_abi         conda-forge/win-64::python_abi-3.8-1_cp38&#xA;  pytorch            pytorch/win-64::pytorch-1.8.1-py3.8_cuda11.1_cudnn8_0&#xA;  torchaudio         pytorch/win-64::torchaudio-0.8.1-py38&#xA;  torchvision        pytorch/win-64::torchvision-0.9.1-py38_cu111&#xA;&#xA;The following packages will be UPDATED:&#xA;&#xA;  conda               pkgs/main::conda-4.9.2-py38haa95532_0 --&amp;gt; conda-forge::conda-4.10.0-py38haa244fe_0&#xA;&#xA;&#xA;Proceed ([y]/n)? y&#xA;&#xA;&#xA;Downloading and Extracting Packages&#xA;torchvision-0.9.1    | 7.5 MB    | ############################################################################ | 100%&#xA;conda-4.10.0         | 3.1 MB    | ############################################################################ | 100%&#xA;python_abi-3.8       | 4 KB      | ############################################################################ | 100%&#xA;libuv-1.41.0         | 341 KB    | ############################################################################ | 100%&#xA;pytorch-1.8.1        | 1.53 GB   | ############################################################################ | 100%&#xA;cudatoolkit-11.1.1   | 1.20 GB   | ############################################################################ | 100%&#xA;torchaudio-0.8.1     | 2.7 MB    | ############################################################################ | 100%&#xA;ninja-1.10.2         | 273 KB    | ############################################################################ | 100%&#xA;Preparing transaction: done&#xA;Verifying transaction: done&#xA;Executing transaction: / &amp;quot;By downloading and using the CUDA Toolkit conda packages, you accept the terms and conditions of the CUDA End User License Agreement (EULA): https://docs.nvidia.com/cuda/eula/index.html&amp;quot;&#xA;&#xA;done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Veo que tambien actualizo el channel de paquetes aqui:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;The following packages will be UPDATED:&#xA;&#xA;  conda               pkgs/main::conda-4.9.2-py38haa95532_0 --&amp;gt; conda-forge::conda-4.10.0-py38haa244fe_0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Desafortunadamente tampoco funciono repitiendo el mismo error de cuando lo instale con el gestor pip&lt;/p&gt;&#xA;&lt;p&gt;Ahora vi que algunos usan un virtual enviroment para hacerle funcionar y que no tenga conflictos con otros paquetes&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://conda-forge.org/docs/user/introduction.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://conda-forge.org/docs/user/introduction.html&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://tenpy.readthedocs.io/en/latest/install/conda.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://tenpy.readthedocs.io/en/latest/install/conda.html&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/57518050/conda-install-and-update-do-not-work-also-solving-environment-get-errors&quot;&gt;https://stackoverflow.com/questions/57518050/conda-install-and-update-do-not-work-also-solving-environment-get-errors&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=vBfM5l9VK5c&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.youtube.com/watch?v=vBfM5l9VK5c&lt;/a&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(base) C:\Users\MIPC&amp;gt;python&#xA;Python 3.8.5 (default, Sep  3 2020, 21:29:08) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32&#xA;Type &amp;quot;help&amp;quot;, &amp;quot;copyright&amp;quot;, &amp;quot;credits&amp;quot; or &amp;quot;license&amp;quot; for more information.&#xA;&amp;gt;&amp;gt;&amp;gt; import torch&#xA;&amp;gt;&amp;gt;&amp;gt; torch.cuda.is_available()&#xA;True&#xA;&amp;gt;&amp;gt;&amp;gt; exit()&#xA;&#xA;(base) C:\Users\MIPC&amp;gt;cd &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP&amp;quot;&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP&amp;gt;python List_Available_Webcams.py&#xA;[ WARN:0] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;[ WARN:1] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;[ WARN:1] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;[0, 1, 3, 4]&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP&amp;gt;python Video_Camera_Basic_Script.py&#xA;[ WARN:1] global&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP&amp;gt;python Video_Camera_Basic_Script.py&#xA;[ WARN:0] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP&amp;gt;cd &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;quot;&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;python main.py&#xA;starting up on 127.0.0.1 port 65432&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master&#xA;Loading weights:  None&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\facebookresearch_WSL-Images_master&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master&#xA;waiting for a connection&#xA;connection from ('127.0.0.1', 47773)&#xA;Connection closed&#xA;Traceback (most recent call last):&#xA;  File &amp;quot;main.py&amp;quot;, line 39, in &amp;lt;module&amp;gt;&#xA;    pose_data = pose_estimator.get_pose_data(img.copy())&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\utils\pose_estimator.py&amp;quot;, line 74, in get_pose_data&#xA;    heatmaps, pafs, scale, pad = self.infer_fast(img)&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\utils\pose_estimator.py&amp;quot;, line 49, in infer_fast&#xA;    stages_output = self.net(tensor_img)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\emotion_models\with_mobilenet.py&amp;quot;, line 134, in forward&#xA;    backbone_features = self.model(x)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\container.py&amp;quot;, line 119, in forward&#xA;    input = module(input)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\container.py&amp;quot;, line 119, in forward&#xA;    input = module(input)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\module.py&amp;quot;, line 889, in _call_impl&#xA;    result = self.forward(*input, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\conv.py&amp;quot;, line 399, in forward&#xA;    return self._conv_forward(input, self.weight, self.bias)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\lib\site-packages\torch\nn\modules\conv.py&amp;quot;, line 395, in _conv_forward&#xA;    return F.conv2d(input, weight, bias, self.stride,&#xA;RuntimeError: CUDA error: no kernel image is available for execution on the device&#xA;[ WARN:1] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-kh7iq4w7\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~Sourc&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda uninstall torch&#xA;Collecting package metadata (repodata.json): done&#xA;Solving environment: failed&#xA;&#xA;PackagesNotFoundError: The following packages are missing from the target environment:&#xA;  - torch&#xA;&#xA;&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt; pip uninstall torch&#xA;Found existing installation: torch 1.8.1&#xA;Uninstalling torch-1.8.1:&#xA;  Would remove:&#xA;    c:\users\mipc\anaconda3\lib\site-packages\caffe2&#xA;    c:\users\mipc\anaconda3\lib\site-packages\torch&#xA;    c:\users\mipc\anaconda3\lib\site-packages\torch-1.8.1-py3.8.egg-info&#xA;    c:\users\mipc\anaconda3\scripts\convert-caffe2-to-onnx-script.py&#xA;    c:\users\mipc\anaconda3\scripts\convert-caffe2-to-onnx.exe&#xA;    c:\users\mipc\anaconda3\scripts\convert-onnx-to-caffe2-script.py&#xA;    c:\users\mipc\anaconda3\scripts\convert-onnx-to-caffe2.exe&#xA;Proceed (y/n)? y&#xA;  Successfully uninstalled torch-1.8.1&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda --version&#xA;conda 4.10.0&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda update conda&#xA;Collecting package metadata (current_repodata.json): done&#xA;Solving environment: done&#xA;&#xA;## Package Plan ##&#xA;&#xA;  environment location: C:\Users\MIPC\anaconda3&#xA;&#xA;  added / updated specs:&#xA;    - conda&#xA;&#xA;&#xA;The following packages will be downloaded:&#xA;&#xA;    package                    |            build&#xA;    ---------------------------|-----------------&#xA;    backports.functools_lru_cache-1.6.3|     pyhd3eb1b0_0           9 KB&#xA;    backports.tempfile-1.0     |     pyhd3eb1b0_1          11 KB&#xA;    libuv-1.40.0               |       he774522_0         255 KB&#xA;    ninja-1.10.2               |   py38h6d14046_0         247 KB&#xA;    ------------------------------------------------------------&#xA;                                           Total:         522 KB&#xA;&#xA;The following packages will be UPDATED:&#xA;&#xA;  backports.functoo~                             1.6.1-py_0 --&amp;gt; 1.6.3-pyhd3eb1b0_0&#xA;&#xA;The following packages will be SUPERSEDED by a higher-priority channel:&#xA;&#xA;  libuv                conda-forge::libuv-1.41.0-h8ffe710_0 --&amp;gt; pkgs/main::libuv-1.40.0-he774522_0&#xA;  ninja                conda-forge::ninja-1.10.2-h5362a0b_0 --&amp;gt; pkgs/main::ninja-1.10.2-py38h6d14046_0&#xA;&#xA;The following packages will be DOWNGRADED:&#xA;&#xA;  backports.tempfile                               1.0-py_1 --&amp;gt; 1.0-pyhd3eb1b0_1&#xA;&#xA;&#xA;Proceed ([y]/n)? y&#xA;&#xA;&#xA;Downloading and Extracting Packages&#xA;ninja-1.10.2         | 247 KB    | ############################################################################ | 100%&#xA;libuv-1.40.0         | 255 KB    | ############################################################################ | 100%&#xA;backports.functools_ | 9 KB      | ############################################################################ | 100%&#xA;backports.tempfile-1 | 11 KB     | ############################################################################ | 100%&#xA;Preparing transaction: done&#xA;Verifying transaction: done&#xA;Executing transaction: done&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda config --add channels conda-forge&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda config --add channels conda-forge&#xA;Warning: 'conda-forge' already in 'channels' list, moving to the top&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda config --set channel_priority strict&#xA;&#xA;(base) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;conda install --channel=conda-forge physics-tenpy&#xA;Collecting package metadata (current_repodata.json): done&#xA;Solving environment: failed with initial frozen solve. Retrying with flexible solve.&#xA;Solving environment: failed with repodata from current_repodata.json, will retry with next repodata source.&#xA;Collecting package metadata (repodata.json): done&#xA;Solving environment: failed with initial frozen solve. Retrying with flexible solve.&#xA;Solving environment: /&#xA;Found conflicts! Looking for incompatible packages.&#xA;This can take several minutes.  Press CTRL-C to abort.&#xA;Examining boto:   2%|█▍ &#xA;                                                                                                    &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y EL CODE SIGUE CON ALGUNOS CONFLICTOS QUE DICE QUE ENCUENTRA CON TRAS EJECUTAR conda install --channel=conda-forge physics-tenpy&#xA;Esto tomo unas horas pero no soluciono nada.&#xA;Osea que al final me tire por intentar lo del venv, realmente no entiendo porque tendria que funcionar pero... solo me queda probar&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(base) C:\Users\MIPC&amp;gt;conda activate tenpy&#xA;&#xA;(tenpy) C:\Users\MIPC&amp;gt;python&#xA;Python 3.9.2 | packaged by conda-forge | (default, Feb 21 2021, 04:59:43) [MSC v.1916 64 bit (AMD64)] on win32&#xA;Type &amp;quot;help&amp;quot;, &amp;quot;copyright&amp;quot;, &amp;quot;credits&amp;quot; or &amp;quot;license&amp;quot; for more information.&#xA;&amp;gt;&amp;gt;&amp;gt; import torch&#xA;Traceback (most recent call last):&#xA;  File &amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;&#xA;ModuleNotFoundError: No module named 'torch'&#xA;&amp;gt;&amp;gt;&amp;gt; exit()&#xA;&#xA;(tenpy) C:\Users\MIPC&amp;gt;conda install pytorch cudatoolkit -c pytorch&#xA;Collecting package metadata (current_repodata.json): done&#xA;Solving environment: done&#xA;&#xA;## Package Plan ##&#xA;&#xA;  environment location: C:\Users\MIPC\anaconda3\envs\tenpy&#xA;&#xA;  added / updated specs:&#xA;    - cudatoolkit&#xA;    - pytorch&#xA;&#xA;&#xA;The following packages will be downloaded:&#xA;&#xA;    package                    |            build&#xA;    ---------------------------|-----------------&#xA;    blas-2.108                 |              mkl          13 KB  conda-forge&#xA;    blas-devel-3.9.0           |            8_mkl          12 KB  conda-forge&#xA;    liblapacke-3.9.0           |            8_mkl         3.9 MB  conda-forge&#xA;    mkl-devel-2020.4           |     h57928b3_312         5.6 MB  conda-forge&#xA;    mkl-include-2020.4         |     hb70f87d_311         696 KB  conda-forge&#xA;    pytorch-1.8.1              |py3.9_cuda11.1_cudnn8_0        1.53 GB  pytorch&#xA;    typing_extensions-3.7.4.3  |             py_0          25 KB  conda-forge&#xA;    ------------------------------------------------------------&#xA;                                           Total:        1.54 GB&#xA;&#xA;The following NEW packages will be INSTALLED:&#xA;&#xA;  blas               conda-forge/win-64::blas-2.108-mkl&#xA;  blas-devel         conda-forge/win-64::blas-devel-3.9.0-8_mkl&#xA;  cudatoolkit        conda-forge/win-64::cudatoolkit-11.1.1-heb2d755_7&#xA;  liblapacke         conda-forge/win-64::liblapacke-3.9.0-8_mkl&#xA;  libuv              conda-forge/win-64::libuv-1.41.0-h8ffe710_0&#xA;  mkl-devel          conda-forge/win-64::mkl-devel-2020.4-h57928b3_312&#xA;  mkl-include        conda-forge/win-64::mkl-include-2020.4-hb70f87d_311&#xA;  ninja              conda-forge/win-64::ninja-1.10.2-h5362a0b_0&#xA;  pytorch            pytorch/win-64::pytorch-1.8.1-py3.9_cuda11.1_cudnn8_0&#xA;  typing_extensions  conda-forge/noarch::typing_extensions-3.7.4.3-py_0&#xA;&#xA;&#xA;Proceed ([y]/n)? y&#xA;&#xA;&#xA;Downloading and Extracting Packages&#xA;typing_extensions-3. | 25 KB     | ############################################################################ | 100%&#xA;mkl-devel-2020.4     | 5.6 MB    | ############################################################################ | 100%&#xA;mkl-include-2020.4   | 696 KB    | ############################################################################ | 100%&#xA;blas-devel-3.9.0     | 12 KB     | ############################################################################ | 100%&#xA;pytorch-1.8.1        | 1.53 GB   | ############################################################################ | 100%&#xA;liblapacke-3.9.0     | 3.9 MB    | ############################################################################ | 100%&#xA;blas-2.108           | 13 KB     | ############################################################################ | 100%&#xA;Preparing transaction: done&#xA;Verifying transaction: done&#xA;Executing transaction: - &amp;quot;By downloading and using the CUDA Toolkit conda packages, you accept the terms and conditions of the CUDA End User License Agreement (EULA): https://docs.nvidia.com/cuda/eula/index.html&amp;quot;&#xA;&#xA;done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;De todos modos tuve problemas al ejecutar el proyecto, instale algunas paqueterias necesarias, pero tira errores que sin un virtual enviroment no daba, como:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;(tenpy) C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend&amp;gt;python main.py&#xA;starting up on 127.0.0.1 port 65432&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master&#xA;Loading weights:  None&#xA;Using cache found in C:\Users\MIPC/.cache\torch\hub\facebookresearch_WSL-Images_master&#xA;Traceback (most recent call last):&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\main.py&amp;quot;, line 26, in &amp;lt;module&amp;gt;&#xA;    depth_estimator = DepthEstimator()&#xA;  File &amp;quot;C:\Users\MIPC\Desktop\MATI\Vtuber_HP\VtuberProject\Assets\TrackingBackend\utils\depth_estimator.py&amp;quot;, line 8, in __init__&#xA;    self.midas = torch.hub.load(&amp;quot;intel-isl/MiDaS&amp;quot;, &amp;quot;MiDaS&amp;quot;)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\envs\tenpy\lib\site-packages\torch\hub.py&amp;quot;, line 339, in load&#xA;    model = _load_local(repo_or_dir, model, *args, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\envs\tenpy\lib\site-packages\torch\hub.py&amp;quot;, line 368, in _load_local&#xA;    model = entry(*args, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master\hubconf.py&amp;quot;, line 15, in MiDaS&#xA;    model = MidasNet()&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master\midas\midas_net.py&amp;quot;, line 30, in __init__&#xA;    self.pretrained, self.scratch = _make_encoder(backbone=&amp;quot;resnext101_wsl&amp;quot;, features=features, use_pretrained=use_pretrained)&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master\midas\blocks.py&amp;quot;, line 7, in _make_encoder&#xA;    pretrained = _make_pretrained_resnext101_wsl(use_pretrained)&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\intel-isl_MiDaS_master\midas\blocks.py&amp;quot;, line 85, in _make_pretrained_resnext101_wsl&#xA;    resnet = torch.hub.load(&amp;quot;facebookresearch/WSL-Images&amp;quot;, &amp;quot;resnext101_32x8d_wsl&amp;quot;)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\envs\tenpy\lib\site-packages\torch\hub.py&amp;quot;, line 339, in load&#xA;    model = _load_local(repo_or_dir, model, *args, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC\anaconda3\envs\tenpy\lib\site-packages\torch\hub.py&amp;quot;, line 368, in _load_local&#xA;    model = entry(*args, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\facebookresearch_WSL-Images_master\hubconf.py&amp;quot;, line 39, in resnext101_32x8d_wsl&#xA;    return _resnext('resnext101_32x8d', Bottleneck, [3, 4, 23, 3], True, progress, **kwargs)&#xA;  File &amp;quot;C:\Users\MIPC/.cache\torch\hub\facebookresearch_WSL-Images_master\hubconf.py&amp;quot;, line 23, in _resnext&#xA;    model = ResNet(block, layers, **kwargs)&#xA;TypeError: __init__() got an unexpected keyword argument 'groups'&#xA;[ WARN:0] global C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-wvn_it83\opencv\modules\videoio\src\cap_msmf.cpp (434) `anonymous-namespace'::SourceReaderCB::~SourceReaderCB terminating async callback&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Osea que supongo que tampoco es una solucion viable.&lt;/p&gt;&#xA;&lt;p&gt;Lo que me queda pensar es lo del tema que quizas CUDA Toolkit, cuDNN o/y pyTorch con GPU, no son complatibles con mi Nvidia 730 GT&lt;/p&gt;&#xA;&lt;p&gt;Cheque aqui y como se ve en la imagen encontre mi placa de video en uno de los apartados, aunque no entiendo bien que significa (?)&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://developer.nvidia.com/cuda-gpus#compute&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://developer.nvidia.com/cuda-gpus#compute&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/97oBl.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/97oBl.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Lo que no entiendo es como segun el Compute Capability asociado a la placa puedo saber si es o no compatible y cual version debo descargar, quizas estube probando todo este tiempo con la 11.1 pero enrealidad necesito otra o no se la verdad...&lt;/p&gt;&#xA;&lt;p&gt;Como hay 2 de las 730 GT mando foto de la caja de la mia, no se cual es realmente, aunque dice 2GB RAM DDR3:&#xA;&lt;a href=&quot;https://i.stack.imgur.com/EuWbj.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/EuWbj.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Que version deberia usar? Hay alguna compatible?&#xA;Espero puedan ayudarme&lt;/p&gt;&#xA;"" OwnerUserId=""77969"" LastEditorUserId=""77969"" LastEditDate=""2021-04-04T17:13:49.847"" LastActivityDate=""2021-08-24T20:44:50.740"" Title=""No puedo usar pytorch 11.1 con GPU, usando una NVIDIA 730 GT, que debo hacer"" Tags=""&lt;python&gt;&lt;python-3.x&gt;&lt;librería&gt;&lt;tensorflow&gt;&lt;cuda&gt;"" AnswerCount=""1"" CommentCount=""9"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""441064"" PostTypeId=""1"" AcceptedAnswerId=""441095"" CreationDate=""2021-04-01T23:06:15.107"" Score=""0"" ViewCount=""211"" Body=""&lt;p&gt;Estoy trabajando con Django y recibo un error 500, a una petición con Ajax. Tengo un modelo &amp;quot;Item&amp;quot;,  al que he convertido a diccionario, y creado una funcion toJson(), que debe permitirme  obtener todo el objeto en un input, para hacer un select, para esto empleo como dije Ajax con una petición POST, , pero en vez de eso viene vacio.&#xA;Se que el error tiene que ver con la composicion del JSON que construyo porque con postman he visto que hay un problema con los indices, porque este es el error que tira: list indices must be integers or slices, not str.&lt;/p&gt;&#xA;&lt;p&gt;Muestro el modelo, el ajax y la vista&lt;/p&gt;&#xA;&lt;p&gt;&amp;quot;MODELO&amp;quot;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&#xA;    class Item(models.Model): &#xA;        operation = models.ForeignKey(Operation, on_delete=models.CASCADE)&#xA;        brand = models.ForeignKey(Brand, on_delete=models.CASCADE)&#xA;        subcategory = models.ForeignKey(SubcategoryItem, on_delete=models.CASCADE)&#xA;        categ = models.ForeignKey(CategItem, on_delete=models.CASCADE)&#xA;        section = models.ForeignKey(Section, on_delete=models.CASCADE)&#xA;        currency = models.ForeignKey(Currency, on_delete=models.CASCADE)&#xA;        item_name = models.CharField(max_length=255, verbose_name='item')&#xA;        item_description = models.TextField(null=True)&#xA;        item_SKU = models.CharField(max_length=100, null=False, blank=True)&#xA;        ean = models.CharField(max_length=100, unique=True)&#xA;        created_at = models.DateTimeField(auto_now_add=True)&#xA;        updated_at = models.DateTimeField(auto_now=True)&#xA;        status = models.CharField(max_length=100, null=True)&#xA;        is_active = models.BooleanField()&#xA;        price = models.PositiveIntegerField(null=True)&#xA;        purchase_price = models.PositiveIntegerField(null=True, blank=True)&#xA;        tax = models.PositiveIntegerField(null=True)&#xA;        color = models.CharField(max_length=30, null=True)&#xA;        size = models.CharField(max_length=3, null=True, blank=True)&#xA;        weight = models.CharField(max_length=5, null=True, blank=True)&#xA;        height = models.CharField(max_length=5, null=True, blank=True)&#xA;    &#xA;        image = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;        image_1 = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;        image_2 = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;        image_3 = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;        image_4 = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;        image_5 = models.ImageField(&#xA;            upload_to='backoffice/static/images',&#xA;            blank=True,&#xA;            null=True&#xA;        )&#xA;    &#xA;        class Meta:&#xA;            ordering = ('item_name',)&#xA;    &#xA;        def __str__(self):&#xA;            return self.item_name&#xA;    &#xA;        def toJSON(self):&#xA;            item = model_to_dict(self)&#xA;            item['image'] = self.get_image()&#xA;            item['image_1'] = self.get_image()&#xA;            item['image_2'] = self.get_image()&#xA;            item['image_3'] = self.get_image()&#xA;            item['image_4'] = self.get_image()&#xA;            item['image_5'] = self.get_image()&#xA;            item['operation'] = self.operation.toJSON()&#xA;            item['brand'] = self.brand.toJSON()&#xA;            item['subcategory'] = self.subcategory.toJSON()&#xA;            item['categ'] = self.categ.toJSON()&#xA;            item['section'] = self.section.toJSON()&#xA;            item['price'] = format(self.price, '.2f')&#xA;            item['purchase_price'] = format(self.purchase_price, '.2f')&#xA;            item['tax'] = format(self.tax, '.2f')&#xA;            return item&#xA;        &#xA;        def get_absolute_url(self):&#xA;            return reverse('all_items.html', kwargs={'pk':self.id})&#xA;    ```&#xA;    &#xA;    &amp;quot;View&amp;quot;&#xA;    ```&#xA;    class SoldCreate(LoginRequiredMixin, CreateView):&#xA;        model = Sold&#xA;        form_class = SoldForm&#xA;        template_name = 'solds/add_invoice.html'&#xA;    &#xA;        def get_context_data(self, **kwargs):&#xA;            context = super().get_context_data(**kwargs)&#xA;            context['tittle'] = 'Sold Forms'&#xA;            context['table_tittle'] = 'New sold'&#xA;            context['table_subtittle'] = 'Add here your new solds'&#xA;            return context&#xA;        &#xA;        @method_decorator(csrf_exempt)&#xA;        def dispatch(self, *args, **kwargs):&#xA;            return super().dispatch(*args, **kwargs)&#xA;        &#xA;        @method_decorator(csrf_exempt)&#xA;        def post(self, request, *args,**kwargs):&#xA;            data={}&#xA;            try:&#xA;                action = request.POST['action']&#xA;                if action == 'search_item':&#xA;                    &#xA;                    data=[]&#xA;                    prods = Item.objects.filter(item_name=request.POST['term'])&#xA;                    &#xA;                    &#xA;                    for i in prods:&#xA;                        item = i.toJSON()&#xA;                        item['value'] = i.item_name&#xA;                        data.append(item)&#xA;                        #data.append(i.toJSON())&#xA;    &#xA;                else:&#xA;                    data['error']='no ha ingresado una opcion'&#xA;            except Exception as e:&#xA;                data['error'] = str(e)&#xA;        &#xA;            return JsonResponse(data, safe=False)&#xA;            &#xA;        def get_success_url(self):&#xA;            return reverse('all_sold') ```&#xA;    &#xA;    &amp;quot;Ajax&amp;quot;&#xA;    ````&#xA;    $('input[name=&amp;quot;search_box&amp;quot;s]').autocomplete({&#xA;        source:function(request, response){&#xA;            alert(request.term);&#xA;    &#xA;            $.ajax({&#xA;                url:window.location.pathname,&#xA;                type: 'POST',&#xA;                data: {&#xA;                    'action':'search_item',&#xA;                    'term': request.term&#xA;                },&#xA;                dataType:'json',&#xA;            }).done(function(data){&#xA;                response(data);&#xA;                console.log(data);&#xA;            }).fail(function (jqXHR,textStatus, errorTrown){&#xA;                alert(errorTrown);&#xA;            }).always(function(data){&#xA;    &#xA;            });&#xA;    &#xA;        },&#xA;        delay: 500,&#xA;        minLength: 1,&#xA;        select: function(event, ui){&#xA;            console.log(ui.item); &#xA;    &#xA;        }&#xA;    });&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&amp;quot;traceback&amp;quot;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;TypeError at /dashboard/backoffice/new_sold&#xA;list indices must be integers or slices, not str&#xA;Request Method: POST&#xA;Request URL:    http://127.0.0.1:8000/dashboard/backoffice/new_sold&#xA;Django Version: 3.1.1&#xA;Exception Type: TypeError&#xA;Exception Value:    &#xA;list indices must be integers or slices, not str&#xA;Exception Location: /Users/blackmaster/Documents/programacion/proyectos_django/localsys/backoffice/views/sold.py, line 73, in post&#xA;Python Executable:  /Library/Frameworks/Python.framework/Versions/3.7/bin/python3&#xA;Python Version: 3.7.9&#xA;Python Path:    &#xA;['/Users/blackmaster/Documents/programacion/proyectos_django/localsys',&#xA; '/Library/Frameworks/Python.framework/Versions/3.7/lib/python37.zip',&#xA; '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7',&#xA; '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/lib-dynload',&#xA; '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages']&#xA;Server time:    Thu, 01 Apr 2021 21:05:59 +0000&#xA;Traceback Switch to copy-and-paste view&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/utils/datastructures.py, line 76, in __getitem__&#xA;    def __getitem__(self, key):&#xA;        &amp;quot;&amp;quot;&amp;quot;&#xA;        Return the last data value for this key, or [] if it's an empty list;&#xA;        raise KeyError if not found.&#xA;        &amp;quot;&amp;quot;&amp;quot;&#xA;        try:&#xA;            list_ = super().__getitem__(key) …&#xA;        except KeyError:&#xA;            raise MultiValueDictKeyError(key)&#xA;        try:&#xA;            return list_[-1]&#xA;        except IndexError:&#xA;            return []&#xA;▶ Local vars&#xA;Variable    Value&#xA;__class__   &#xA;&amp;lt;class 'django.utils.datastructures.MultiValueDict'&amp;gt;&#xA;key &#xA;'term'&#xA;self    &#xA;&amp;lt;QueryDict: {'action': ['search_item']}&amp;gt;&#xA;During handling of the above exception ('term'), another exception occurred:&#xA;/Users/blackmaster/Documents/programacion/proyectos_django/localsys/backoffice/views/sold.py, line 61, in post&#xA;    def post(self, request, *args,**kwargs):&#xA;        data={}&#xA;        try:&#xA;            action = request.POST['action']&#xA;            if action == 'search_item':&#xA;                &#xA;                data=[]&#xA;                prods = Item.objects.filter(item_name=request.POST['term']) …&#xA;                &#xA;                &#xA;                for i in prods:&#xA;                   # item = i.toJSON()&#xA;                    item['value'] = i.item_name&#xA;                    data.append(item)&#xA;▶ Local vars&#xA;Variable    Value&#xA;action  &#xA;'search_item'&#xA;args    &#xA;()&#xA;data    &#xA;[]&#xA;kwargs  &#xA;{}&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/utils/datastructures.py, line 78, in __getitem__&#xA;        &amp;quot;&amp;quot;&amp;quot;&#xA;        Return the last data value for this key, or [] if it's an empty list;&#xA;        raise KeyError if not found.&#xA;        &amp;quot;&amp;quot;&amp;quot;&#xA;        try:&#xA;            list_ = super().__getitem__(key)&#xA;        except KeyError:&#xA;            raise MultiValueDictKeyError(key) …&#xA;        try:&#xA;            return list_[-1]&#xA;        except IndexError:&#xA;            return []&#xA;    def __setitem__(self, key, value):&#xA;▶ Local vars&#xA;Variable    Value&#xA;__class__   &#xA;&amp;lt;class 'django.utils.datastructures.MultiValueDict'&amp;gt;&#xA;key &#xA;'term'&#xA;self    &#xA;&amp;lt;QueryDict: {'action': ['search_item']}&amp;gt;&#xA;During handling of the above exception ('term'), another exception occurred:&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/core/handlers/exception.py, line 47, in inner&#xA;                response = await sync_to_async(response_for_exception)(request, exc)&#xA;            return response&#xA;        return inner&#xA;    else:&#xA;        @wraps(get_response)&#xA;        def inner(request):&#xA;            try:&#xA;                response = get_response(request) …&#xA;            except Exception as exc:&#xA;                response = response_for_exception(request, exc)&#xA;            return response&#xA;        return inner&#xA;▶ Local vars&#xA;Variable    Value&#xA;exc &#xA;TypeError('list indices must be integers or slices, not str')&#xA;get_response    &#xA;&amp;lt;bound method BaseHandler._get_response of &amp;lt;django.core.handlers.wsgi.WSGIHandler object at 0x7fd60504df10&amp;gt;&amp;gt;&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/core/handlers/base.py, line 179, in _get_response&#xA;        if response is None:&#xA;            wrapped_callback = self.make_view_atomic(callback)&#xA;            # If it is an asynchronous view, run it in a subthread.&#xA;            if asyncio.iscoroutinefunction(wrapped_callback):&#xA;                wrapped_callback = async_to_sync(wrapped_callback)&#xA;            try:&#xA;                response = wrapped_callback(request, *callback_args, **callback_kwargs) …&#xA;            except Exception as e:&#xA;                response = self.process_exception_by_middleware(e, request)&#xA;                if response is None:&#xA;                    raise&#xA;        # Complain if the view returned None (a common error).&#xA;▶ Local vars&#xA;Variable    Value&#xA;callback    &#xA;&amp;lt;function SoldCreate at 0x7fd6065acf80&amp;gt;&#xA;callback_args   &#xA;()&#xA;callback_kwargs &#xA;{}&#xA;middleware_method   &#xA;&amp;lt;bound method CsrfViewMiddleware.process_view of &amp;lt;django.middleware.csrf.CsrfViewMiddleware object at 0x7fd6066e56d0&amp;gt;&amp;gt;&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;response    &#xA;None&#xA;self    &#xA;&amp;lt;django.core.handlers.wsgi.WSGIHandler object at 0x7fd60504df10&amp;gt;&#xA;wrapped_callback    &#xA;&amp;lt;function SoldCreate at 0x7fd6065acf80&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/views/generic/base.py, line 70, in view&#xA;            self = cls(**initkwargs)&#xA;            self.setup(request, *args, **kwargs)&#xA;            if not hasattr(self, 'request'):&#xA;                raise AttributeError(&#xA;                    &amp;quot;%s instance has no 'request' attribute. Did you override &amp;quot;&#xA;                    &amp;quot;setup() and forget to call super()?&amp;quot; % cls.__name__&#xA;                )&#xA;            return self.dispatch(request, *args, **kwargs) …&#xA;        view.view_class = cls&#xA;        view.view_initkwargs = initkwargs&#xA;        # take name and docstring from class&#xA;        update_wrapper(view, cls, updated=())&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;()&#xA;cls &#xA;&amp;lt;class 'backoffice.views.sold.SoldCreate'&amp;gt;&#xA;initkwargs  &#xA;{}&#xA;kwargs  &#xA;{}&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/utils/decorators.py, line 43, in _wrapper&#xA;        # bound_method has the signature that 'decorator' expects i.e. no&#xA;        # 'self' argument, but it's a closure over self so it can call&#xA;        # 'func'. Also, wrap method.__get__() in a function because new&#xA;        # attributes can't be set on bound method objects, only on functions.&#xA;        bound_method = partial(method.__get__(self, type(self)))&#xA;        for dec in decorators:&#xA;            bound_method = dec(bound_method)&#xA;        return bound_method(*args, **kwargs) …&#xA;    # Copy any attributes that a decorator adds to the function it decorates.&#xA;    for dec in decorators:&#xA;        _update_method_wrapper(_wrapper, dec)&#xA;    # Preserve any existing attributes of 'method', including the name.&#xA;    update_wrapper(_wrapper, method)&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;(&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;,)&#xA;bound_method    &#xA;&amp;lt;function csrf_exempt.&amp;lt;locals&amp;gt;.wrapped_view at 0x7fd606acba70&amp;gt;&#xA;dec &#xA;&amp;lt;function csrf_exempt at 0x7fd605232a70&amp;gt;&#xA;decorators  &#xA;[&amp;lt;function csrf_exempt at 0x7fd605232a70&amp;gt;]&#xA;kwargs  &#xA;{}&#xA;method  &#xA;&amp;lt;function SoldCreate.dispatch at 0x7fd605d26440&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/views/decorators/csrf.py, line 54, in wrapped_view&#xA;def csrf_exempt(view_func):&#xA;    &amp;quot;&amp;quot;&amp;quot;Mark a view function as being exempt from the CSRF view protection.&amp;quot;&amp;quot;&amp;quot;&#xA;    # view_func.csrf_exempt = True would also work, but decorators are nicer&#xA;    # if they don't have side effects, so return a new function.&#xA;    def wrapped_view(*args, **kwargs):&#xA;        return view_func(*args, **kwargs) …&#xA;    wrapped_view.csrf_exempt = True&#xA;    return wraps(view_func)(wrapped_view)&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;(&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;,)&#xA;kwargs  &#xA;{}&#xA;view_func   &#xA;functools.partial(&amp;lt;bound method SoldCreate.dispatch of &amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&amp;gt;)&#xA;/Users/blackmaster/Documents/programacion/proyectos_django/localsys/backoffice/views/sold.py, line 51, in dispatch&#xA;        context['tittle'] = 'Sold Forms'&#xA;        context['table_tittle'] = 'New sold'&#xA;        context['table_subtittle'] = 'Add here your new solds'&#xA;        return context&#xA;    &#xA;    @method_decorator(csrf_exempt)&#xA;    def dispatch(self, *args, **kwargs):&#xA;        return super().dispatch(*args, **kwargs) …&#xA;    &#xA;    @method_decorator(csrf_exempt)&#xA;    def post(self, request, *args,**kwargs):&#xA;        data={}&#xA;        try:&#xA;            action = request.POST['action']&#xA;▶ Local vars&#xA;Variable    Value&#xA;__class__   &#xA;&amp;lt;class 'backoffice.views.sold.SoldCreate'&amp;gt;&#xA;args    &#xA;(&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;,)&#xA;kwargs  &#xA;{}&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/contrib/auth/mixins.py, line 52, in dispatch&#xA;class LoginRequiredMixin(AccessMixin):&#xA;    &amp;quot;&amp;quot;&amp;quot;Verify that the current user is authenticated.&amp;quot;&amp;quot;&amp;quot;&#xA;    def dispatch(self, request, *args, **kwargs):&#xA;        if not request.user.is_authenticated:&#xA;            return self.handle_no_permission()&#xA;        return super().dispatch(request, *args, **kwargs) …&#xA;class PermissionRequiredMixin(AccessMixin):&#xA;    &amp;quot;&amp;quot;&amp;quot;Verify that the current user has all specified permissions.&amp;quot;&amp;quot;&amp;quot;&#xA;    permission_required = None&#xA;▶ Local vars&#xA;Variable    Value&#xA;__class__   &#xA;&amp;lt;class 'django.contrib.auth.mixins.LoginRequiredMixin'&amp;gt;&#xA;args    &#xA;()&#xA;kwargs  &#xA;{}&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/views/generic/base.py, line 98, in dispatch&#xA;        # Try to dispatch to the right method; if a method doesn't exist,&#xA;        # defer to the error handler. Also defer to the error handler if the&#xA;        # request method isn't on the approved list.&#xA;        if request.method.lower() in self.http_method_names:&#xA;            handler = getattr(self, request.method.lower(), self.http_method_not_allowed)&#xA;        else:&#xA;            handler = self.http_method_not_allowed&#xA;        return handler(request, *args, **kwargs) …&#xA;    def http_method_not_allowed(self, request, *args, **kwargs):&#xA;        logger.warning(&#xA;            'Method Not Allowed (%s): %s', request.method, request.path,&#xA;            extra={'status_code': 405, 'request': request}&#xA;        )&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;()&#xA;handler &#xA;&amp;lt;bound method SoldCreate.post of &amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&amp;gt;&#xA;kwargs  &#xA;{}&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/utils/decorators.py, line 43, in _wrapper&#xA;        # bound_method has the signature that 'decorator' expects i.e. no&#xA;        # 'self' argument, but it's a closure over self so it can call&#xA;        # 'func'. Also, wrap method.__get__() in a function because new&#xA;        # attributes can't be set on bound method objects, only on functions.&#xA;        bound_method = partial(method.__get__(self, type(self)))&#xA;        for dec in decorators:&#xA;            bound_method = dec(bound_method)&#xA;        return bound_method(*args, **kwargs) …&#xA;    # Copy any attributes that a decorator adds to the function it decorates.&#xA;    for dec in decorators:&#xA;        _update_method_wrapper(_wrapper, dec)&#xA;    # Preserve any existing attributes of 'method', including the name.&#xA;    update_wrapper(_wrapper, method)&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;(&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;,)&#xA;bound_method    &#xA;&amp;lt;function csrf_exempt.&amp;lt;locals&amp;gt;.wrapped_view at 0x7fd606acb9e0&amp;gt;&#xA;dec &#xA;&amp;lt;function csrf_exempt at 0x7fd605232a70&amp;gt;&#xA;decorators  &#xA;[&amp;lt;function csrf_exempt at 0x7fd605232a70&amp;gt;]&#xA;kwargs  &#xA;{}&#xA;method  &#xA;&amp;lt;function SoldCreate.post at 0x7fd605d265f0&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/views/decorators/csrf.py, line 54, in wrapped_view&#xA;def csrf_exempt(view_func):&#xA;    &amp;quot;&amp;quot;&amp;quot;Mark a view function as being exempt from the CSRF view protection.&amp;quot;&amp;quot;&amp;quot;&#xA;    # view_func.csrf_exempt = True would also work, but decorators are nicer&#xA;    # if they don't have side effects, so return a new function.&#xA;    def wrapped_view(*args, **kwargs):&#xA;        return view_func(*args, **kwargs) …&#xA;    wrapped_view.csrf_exempt = True&#xA;    return wraps(view_func)(wrapped_view)&#xA;▶ Local vars&#xA;Variable    Value&#xA;args    &#xA;(&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;,)&#xA;kwargs  &#xA;{}&#xA;view_func   &#xA;functools.partial(&amp;lt;bound method SoldCreate.post of &amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&amp;gt;)&#xA;/Users/blackmaster/Documents/programacion/proyectos_django/localsys/backoffice/views/sold.py, line 73, in post&#xA;                    item['value'] = i.item_name&#xA;                    data.append(item)&#xA;                    #data.append(i.toJSON())&#xA;            else:&#xA;                data['error']='no ha ingresado una opcion'&#xA;        except Exception as e:&#xA;            data['error'] = str(e) …&#xA;    &#xA;        return JsonResponse(data, safe=False)&#xA;        &#xA;    def get_success_url(self):&#xA;        return reverse('all_sold')&#xA;▶ Local vars&#xA;Variable    Value&#xA;action  &#xA;'search_item'&#xA;args    &#xA;()&#xA;data    &#xA;[]&#xA;kwargs  &#xA;{}&#xA;request &#xA;&amp;lt;WSGIRequest: POST '/dashboard/backoffice/new_sold'&amp;gt;&#xA;self    &#xA;&amp;lt;backoffice.views.sold.SoldCreate object at 0x7fd6068a8c90&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""57572"" LastEditorUserId=""57572"" LastEditDate=""2021-04-02T15:21:56.320"" LastActivityDate=""2021-04-02T15:21:56.320"" Title=""error 500 usando ajax en para recibir un json en django"" Tags=""&lt;ajax&gt;&lt;json&gt;&lt;django&gt;&lt;error500&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""441847"" PostTypeId=""1"" CreationDate=""2021-04-05T23:04:20.127"" Score=""0"" ViewCount=""174"" Body=""&lt;p&gt;Hago un llamado de una función que utiliza ajax:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    url: '../log/cursos.php',&#xA;    type: 'POST',&#xA;    dataType: 'html',&#xA;    data: {&#xA;        hola: hola&#xA;    }&#xA;&#xA;})&#xA;    .done(function (respuesta) {&#xA;        alert(respuesta);&#xA;        $(&amp;quot;#OpcionesCurso&amp;quot;).html(respuesta);&#xA;    })&#xA;    .fail(function () {&#xA;        console.log(&amp;quot;Error: SQL not working&amp;quot;)&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Luego entra al archivo php&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$curso = $_POST['hola'];&#xA;$salida = &amp;quot;&amp;quot;;&#xA;&#xA;&#xA;$salida .= &amp;quot;&amp;lt;datalist id='datalistOptions'&amp;gt;&amp;quot;;&#xA;$salida .= &amp;quot;&amp;lt;option value=&amp;quot; . $curso . &amp;quot;&amp;gt;&amp;quot;;&#xA;$salida .= &amp;quot;&amp;lt;/datalist&amp;gt;&amp;quot;;&#xA;echo &amp;quot;$salida&amp;quot;;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Pero la respuesta que me entrega el ajax es literalmente el código entero de PHP en vez de el echo $salida, alguna solución? Solo ocurre en el servidor, en Local no me sucede.&lt;/p&gt;&#xA;"" OwnerUserId=""89756"" LastActivityDate=""2021-04-06T17:08:47.070"" Title=""Ajax me imprime todo el código PHP en vez de el echo en mi servidor, pero en local no sucede"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""443940"" PostTypeId=""1"" AcceptedAnswerId=""443960"" CreationDate=""2021-04-13T15:10:10.427"" Score=""0"" ViewCount=""68"" Body=""&lt;p&gt;El siguiente código me permite ingresar registros nuevos cuando no existe un &lt;code&gt;id&lt;/code&gt; que actualizar, hasta ahí va funcionando bien, pero intentando actualizar un registro que no existe, por ejemplo el &lt;code&gt;id&lt;/code&gt; &lt;code&gt;20&lt;/code&gt; cuando en mi tabla de datos solo tengo 5 registros que van de manera consecutiva desde el &lt;code&gt;id&lt;/code&gt; &lt;code&gt;1&lt;/code&gt; hasta el &lt;code&gt;id&lt;/code&gt; &lt;code&gt;5&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;?php&#xA;    if (isset($_POST['ajaxData'])) {&#xA;        $id = $_POST[&amp;quot;item_id&amp;quot;];&#xA;        $nombre_cliente = $_POST[&amp;quot;nombre_cliente&amp;quot;];&#xA;&#xA;        if (empty($_POST['nombre_cliente'])){&#xA;            echo json_encode(['status'=&amp;gt; false, 'message'=&amp;gt; [&amp;quot;nombre_cliente&amp;quot; =&amp;gt;&amp;quot;Por favor, ingresé el nombre del cliente para continuar.&amp;quot;]]);&#xA;            exit;&#xA;        }&#xA;        &#xA;        if($id != '') {&#xA;            $stmt = $con-&amp;gt;prepare(&amp;quot;UPDATE cliente&#xA;                                    SET&#xA;                                        nombre_cliente = ?&#xA;                                    WHERE id_cliente = ?&amp;quot;);&#xA;            $stmt-&amp;gt;bind_param(&amp;quot;si&amp;quot;,&#xA;                                $nombre_cliente,&#xA;                                $id&#xA;                            );&#xA;            if ($stmt-&amp;gt;execute()) {&#xA;                echo json_encode(['status'=&amp;gt; true, 'message'=&amp;gt;&amp;quot;&amp;lt;strong&amp;gt;Los datos se actualizaron correctamente.&amp;lt;/strong&amp;gt;&amp;quot;]);&#xA;                exit;&#xA;            } else {&#xA;                echo json_encode(['status'=&amp;gt; false, 'message'=&amp;gt;&amp;quot;&amp;lt;strong&amp;gt;Lo sentimos, pero no podemos procesar su solicitud. Inténtalo más tarde.&amp;lt;/strong&amp;gt;&amp;quot;]);&#xA;                exit;&#xA;            }&#xA;        } else {&#xA;            $stmtAdd = $con-&amp;gt;prepare(&amp;quot;INSERT INTO cliente (nombre_cliente) VALUES (?)&amp;quot;);&#xA;            $stmtAdd-&amp;gt;bind_param(&amp;quot;s&amp;quot;,$nombre_cliente);&#xA;            if ($stmtAdd-&amp;gt;execute()) {&#xA;                echo json_encode(['status'=&amp;gt; true, 'message'=&amp;gt;&amp;quot;&amp;lt;strong&amp;gt;Nuevo cliente registrado correctamente.&amp;lt;/strong&amp;gt;&amp;quot;]);&#xA;                exit;&#xA;            } else {&#xA;                echo json_encode(['status'=&amp;gt; false, 'message'=&amp;gt;&amp;quot;&amp;lt;strong&amp;gt;Lo sentimos, pero no podemos procesar su solicitud. Inténtalo más tarde.&amp;lt;/strong&amp;gt;&amp;quot;]);&#xA;                exit;       &#xA;            }&#xA;        }&#xA;&#xA;    }&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Entonces cuando envió la actualización de dicho &lt;code&gt;id 20&lt;/code&gt; que no existe, ajax, me emite un comunicado de que se actualizaron los datos correctamente, cuando esto no debe pasar, porque son datos que no existen, debería emitirme el mensaje &lt;code&gt;false&lt;/code&gt; y, no el &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Este es mi código ajax:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    var frm = $('#ajaxData');&#xA;    frm.submit(function(e){&#xA;        //$('.error', '#resetform').remove();&#xA;        e.preventDefault();&#xA;        var formData = frm.serialize();&#xA;        formData += '&amp;amp;' + $('#submit_data').attr('name') + '=' + $('#submit_data').attr('value');&#xA;        &#xA;        var url = &amp;quot;update_cliente.php&amp;quot;;&#xA;        $.ajax({&#xA;            type: frm.attr('method'),&#xA;            url: url,&#xA;            data: formData,&#xA;        })&#xA;        .done(function(data) {&#xA;            let res = JSON.parse(data);&#xA;            // si es true el estado&#xA;            if(res.status){&#xA;                $('.success').fadeIn();&#xA;                $('.success').html(res.message).delay(8000).fadeOut(8000);&#xA;                $(frm)[0].reset();&#xA;                $(frm).hide();&#xA;                setTimeout(function(){&#xA;                    location.href = 'cliente.php';&#xA;                },9000);&#xA;            } else {&#xA;                for (let name in res.message) {&#xA;                    $('.error').remove();&#xA;                    let msg = '&amp;lt;span class=&amp;quot;error&amp;quot;&amp;gt;' + res.message[name] + '&amp;lt;/span&amp;gt;';&#xA;                    $(msg).insertAfter($('[name=' + name + ']', '#ajaxData'));&#xA;                    $('.error').fadeIn().delay(5000).fadeOut(5000);&#xA;                }&#xA;            }&#xA;        })&#xA;        .fail(function() {&#xA;            $('.warning').fadeIn();&#xA;            $('.warning').html(textStatus).delay(3000).fadeOut(3000);&#xA;        })&#xA;    });&#xA;}); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;¿Cómo puedo solucionar este error?, ¿es error de Ajax o del planteamiento del código de PHP?&lt;/p&gt;&#xA;"" OwnerUserId=""157913"" LastActivityDate=""2021-04-13T17:09:10.577"" Title=""¿Cómo evitar respuesta correcta, cuando la información enviada es falsa Ajax | PHP?"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""446647"" PostTypeId=""1"" CreationDate=""2021-04-23T19:07:50.593"" Score=""0"" ViewCount=""366"" Body=""&lt;p&gt;hoy vengo con otro inconveniente, estoy tratando de subir a mi servidor archivos de mas de 100mb, pero al darle subir y empieza a procesar la subida del archivo me sale este error:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/RrmKp.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RrmKp.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Al igual que este otro error:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/4hKRS.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/4hKRS.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Ya configuré el &lt;strong&gt;php.ini&lt;/strong&gt; para que me permitiera subir archivos pesados, pero aún así no me permite subirlos y no encuentro mucha información sobre este error, algunos dicen que podría ser el add block, el cual desactive y aún así nada, probé en dos navegadores más (En chrome y edge. El que uso es opera gx) y aún así dan el mismo problema.&lt;/p&gt;&#xA;&lt;p&gt;Este es mi código .js&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(() =&amp;gt; {&#xA;&#xA;$('.upload_file').on('submit',  upload);&#xA;function upload(e) {&#xA;    e.preventDefault();&#xA;&#xA;    let form     = $(this),&#xA;    wrapper      = $('.barra'),&#xA;    wrapper_f    = $('.wrapper_files'),&#xA;    progress_bar = $('.progress_bar'),&#xA;    data         = new FormData(form.get(0));&#xA;&#xA;    //Inicializando la barra de progreso&#xA;    progress_bar.removeClass('barra_verde barra_roja').addClass('text-info');&#xA;    progress_bar.css('width', '0%');&#xA;    progress_bar.html('Preparando...');&#xA;    wrapper.fadeIn();&#xA;&#xA;    return $.ajax({&#xA;        xhr: function() {&#xA;            let xhr = new window.XMLHttpRequest();&#xA;&#xA;            xhr.upload.addEventListener(&amp;quot;progress&amp;quot;, function(e) {&#xA;                if (e.lengthComputable) {&#xA;                    let percentComplete = Math.floor((e.loaded / e.total) * 100);&#xA;&#xA;                    //mostrar el progreso&#xA;                    progress_bar.css('width', percentComplete+'%');&#xA;                    progress_bar.html(percentComplete+'%');&#xA;                }&#xA;            }, false);&#xA;&#xA;            return xhr;&#xA;        },&#xA;        type        : 'POST',&#xA;        url         : &amp;quot;./action/backup.php&amp;quot;,&#xA;        dataType    : 'json',&#xA;        contentType : false,&#xA;        processData : false,&#xA;        cache       : false,&#xA;        data        : data,&#xA;        beforeSend : () =&amp;gt; {&#xA;            $('button', form).attr('disabled', true);&#xA;        }&#xA;    }).done(res =&amp;gt; {&#xA;        if(res.status === 200) {&#xA;            progress_bar.removeClass('text-info').addClass('barra_verde');&#xA;            progress_bar.html('¡Listo!');&#xA;            form.trigger('reset'); //Reinicia el formulario&#xA;&#xA;            // Agregamos un botón de descarga del archivo&#xA;            wrapper_f.append('&amp;lt;a class=&amp;quot;NewDownload&amp;quot; href=&amp;quot;'+res.data+'&amp;quot; download&amp;gt;Descargar recien subidos: '+res.data+'&amp;lt;/a&amp;gt;');&#xA;&#xA;            setTimeout(() =&amp;gt;{&#xA;                wrapper.fadeOut();&#xA;                progress_bar.removeClass('barra_verde barra_roja').addClass('text-info');&#xA;                progress_bar.css('width', '0%');&#xA;            }, 1500);&#xA;        }else{&#xA;                alert(res.msg);&#xA;                progress_bar.css('width', '100%');&#xA;                progress_bar.html(res.msg);&#xA;            }&#xA;    }).fail(err =&amp;gt; {&#xA;        progress_bar.removeClass('barra_verde text-info').addClass('barra_roja');&#xA;        progress_bar.html('¡Hubo un error!');&#xA;        swal(JSON.stringify(err),{&#xA;            icon: &amp;quot;error&amp;quot;&#xA;            });&#xA;    }).always(() =&amp;gt; {&#xA;        $('button', form).attr('disable', false);&#xA;    });&#xA;}&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Los archivos livianos &lt;strong&gt;si me permite&lt;/strong&gt; subir sin ningún inconveniente.&#xA;(EL JQUERY QUE VEN AHÍ ES DE UNA PLANTILLA, PERO AÚN ASÍ EN MI SERVIDOR LOCAL ME PERMITE SUBIR ESTOS ARCHIVOS PESADOS SIN NINGÚN INCONVENIENTE).&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/iUW6m.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/iUW6m.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""186394"" LastEditorUserId=""186394"" LastEditDate=""2021-06-09T17:46:16.250"" LastActivityDate=""2021-07-27T12:51:57.197"" Title=""Error al subir archivos pesados con ajax y php"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;servidor&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""447857"" PostTypeId=""1"" CreationDate=""2021-04-28T14:06:19.717"" Score=""0"" ViewCount=""95"" Body=""&lt;p&gt;Lo que sucede es que no me muestra en la parte del &lt;em&gt;select&lt;/em&gt; las listas, pero no encuentro el error de porque no me cargan, ya que me dice que es un error en la parte de conexión.&lt;/p&gt;&#xA;&lt;p&gt;Para dar una mejor explicación, lo que se tiene que hacer es que cuando de clic en &amp;quot;supplier&amp;quot; me debería dar una listado de los existentes para, después, en &amp;quot;part number&amp;quot; darme los filtrados por el &amp;quot;supplier&amp;quot;  y que los siguientes campos se llenen de manera automática.&lt;/p&gt;&#xA;&lt;p&gt;Lo que puedo decir es que el problema esta en conexión, ya que este código corriendo en una MAC con MAMP sí funciona, pero al correrlo en Windows con xampp o con MAMP pero para windows no funciona.&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;new-activity.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`&amp;lt;section class=&amp;quot;tabla01&amp;quot;&amp;gt;&#xA;            &amp;lt;div&amp;gt;&#xA;              &amp;lt;label&amp;gt;Supplier&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;            &amp;lt;div class=&amp;quot;caja_proveedor&amp;quot;&amp;gt;&#xA;              &amp;lt;div class=&amp;quot;cajap&amp;quot;&amp;gt;&#xA;                &amp;lt;select class=&amp;quot;select-proveedores&amp;quot; id=&amp;quot;proveedor&amp;quot; name=&amp;quot;proveedor&amp;quot; required=&amp;quot;required&amp;quot;&amp;gt;&#xA;                  &amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&#xA;                &amp;lt;/select&amp;gt;&#xA;&#xA;              &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;/section&amp;gt;&#xA;&#xA;&amp;lt;!-- Función que despliega la información de la parte seleccionada--&amp;gt;&#xA;            &amp;lt;script&amp;gt;&#xA;              function myFunction() {&#xA;                var x = document.getElementById(&amp;quot;mySelect&amp;quot;).value;&#xA;                document.getElementById(&amp;quot;datos&amp;quot;).innerHTML =x;&#xA;              }&#xA;            &amp;lt;/script&amp;gt;&#xA;            &amp;lt;p name=&amp;quot;datos&amp;quot; id=&amp;quot;datos&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;!--Muestra en pantalla la información de la parte--&amp;gt;&#xA;&#xA;            &amp;lt;script src=&amp;quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js&amp;quot;&amp;gt;&#xA;            &amp;lt;/script&amp;gt;&#xA;            &amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;js/index2.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;        &amp;lt;/section&amp;gt;`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;conexion.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;function getConn(){&#xA;  $mysqli = mysqli_connect('localhost','root','','thanks');&#xA;  if (mysqli_connect_error($mysqli))&#xA;    echo &amp;quot;Fallo al conectar a MySQL: &amp;quot; . mysqli_connect_error();&#xA;  $mysqli-&amp;gt;set_charset('utf8');&#xA;  return $mysqli;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;cargar_listas.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php &#xA;include 'conexion.php';&#xA;&#xA;function getListas(){&#xA;  $mysqli = getConn();&#xA;  $query = &amp;quot;SELECT * FROM `proveedores` ORDER BY `proveedornombre` ASC&amp;quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;  $listas = '&amp;lt;option value=&amp;quot;0&amp;quot;&amp;gt;&amp;lt;/option&amp;gt;';&#xA;  while($row = $result-&amp;gt;fetch_array('MYSQLI_ASSOC')){&#xA;    $listas .= &amp;quot;&amp;lt;option value='$row[id]'&amp;gt;$row[proveedornombre]&amp;lt;/option&amp;gt;&amp;quot;;&#xA;  }&#xA;  return $listas;&#xA;}&#xA;&#xA;echo getListas();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;cargar_partes.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;   &amp;lt;?php &#xA;include 'conexion.php';&#xA;&#xA;function getpartes(){&#xA;  $mysqli = getConn();&#xA;  $id = $_POST['id'];&#xA;  $query = &amp;quot;SELECT * FROM `partes` WHERE `proveedor` = '$id'&amp;quot;;&#xA;  $result = $mysqli-&amp;gt;query($query);&#xA;  $videos = '&amp;lt;option value=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/option&amp;gt;';&#xA;  while($row = $result-&amp;gt;fetch_array(MYSQLI_ASSOC)){&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;index2.js&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; $(document).ready(function(){&#xA;  $.ajax({&#xA;    type: 'POST',&#xA;    url: 'php/cargar_listas.php'&#xA;  })&#xA;  .done(function(listas_rep){&#xA;    $('#proveedor').html(listas_rep)&#xA;  })&#xA;  .fail(function(){&#xA;    alert('Hubo un errror al cargar los proveedores')&#xA;  })&#xA;&#xA;   $('#proveedor').on('change', function(){&#xA;    var id = $('#proveedor option:selected').text()&#xA;    $.ajax({&#xA;      type: 'POST',&#xA;      url:'php/cargar_partes.php',&#xA;      data: {'id': id}&#xA;    })&#xA;    .done(function(listas_rep){&#xA;      $('#mySelect').html(listas_rep)&#xA;    })&#xA;    .fail(function(){&#xA;      alert('Hubo un errror al cargar las partes')&#xA;    })&#xA;  })&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/wXJyd.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/wXJyd.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&#xA;imagen de error&lt;/p&gt;&#xA;"" OwnerUserId=""225504"" LastEditorUserId=""225504"" LastEditDate=""2021-04-28T18:51:52.743"" LastActivityDate=""2021-04-28T18:51:52.743"" Title=""Error de conexión Combobox (select) dinámicos Con Php, Mysql y Jquery (Ajax)"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""453281"" PostTypeId=""1"" CreationDate=""2021-05-19T16:37:39.513"" Score=""0"" ViewCount=""558"" Body=""&lt;p&gt;Estoy realizando la subida de archivos al server con la ayuda de AJAX y PHP, pero en esta caso quiero que solo se me permita subir archivos XML.&lt;/p&gt;&#xA;&lt;p&gt;Comparto a continuación el código JQuery y el llamado AJAX para la carga del archivo.&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function(){&#xA;    $(&quot;#upload&quot;).on(&quot;click&quot;, function(){&#xA;        var ArchivoXml = $(&quot;#XmlToUpload&quot;).prop('files')[0];&#xA;        var datosForm = new FormData;&#xA;&#xA;        datosForm.append(&quot;XmlToUpload&quot;, ArchivoXml);&#xA;&#xA;        var filePath=&quot;server.php&quot;&#xA;        console.log(ArchivoXml);&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            cache: false,&#xA;            contentType: false,&#xA;            processData: false,&#xA;            data: datosForm,&#xA;            url:filePath&#xA;        }).done(function(data){&#xA;            alert(data)&#xA;        }).fail(function(){&#xA;            alert('El archivo no se pudo cargar')&#xA;        });&#xA;&#xA;        //alert('Entro');    &#xA;    })&#xA;    &#xA;    &#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;          &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                        &amp;lt;label for=&quot;fileToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt; Archivo XML:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                &amp;lt;input type=&quot;file&quot; name=&quot;fileToUpload&quot; id=&quot;XmlToUpload&quot; class=&quot;btn&quot; accept=&quot;.xml&quot; required&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &#xA;          &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cancelar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; id=&quot;upload&quot; class=&quot;btn btn-success&quot;&amp;gt;Guardar&amp;lt;/button&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Adicional comparto mi código PHP &lt;strong&gt;server.php&lt;/strong&gt; donde le asigno la ruta de guardado.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    //echo &amp;quot;hola mundo&amp;quot;;&#xA;    if(isset($_FILES[&amp;quot;XmlToUpload&amp;quot;])){&#xA;        $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;        $ruta =&amp;quot;XML/&amp;quot;;&#xA;&#xA;        if(move_uploaded_file($_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;],$ruta.$archivo)){&#xA;            echo &amp;quot;Subido exitosamente&amp;quot;;&#xA;        }else{&#xA;            echo &amp;quot;Error al subir&amp;quot;;&#xA;        }&#xA;        //echo &amp;quot;SI LLEGO&amp;quot;;&#xA;    }else {&#xA;        echo &amp;quot;No se selecciono un archivo&amp;quot;;&#xA;    }&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""74103"" LastEditorUserId=""74103"" LastEditDate=""2021-05-19T17:03:38.680"" LastActivityDate=""2021-05-19T18:47:52.337"" Title=""Como validar que solo se permita subir archivos XML"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""453575"" PostTypeId=""1"" AcceptedAnswerId=""454983"" CreationDate=""2021-05-20T16:22:05.577"" Score=""2"" ViewCount=""1436"" Body=""&lt;p&gt;Estoy en la creación de una funcionalidad que permita cargar archivos XML pero antes de cargarlos requiero verificar su contenido, no se si sea la manera correcta pero estaba pensando en algo como primero leer el XML para revisar su contenido y luego validarlo con los datos que tengo almacenados en una tabla de base de datos.&lt;/p&gt;&#xA;&lt;p&gt;De momento lo que he desarrollado hasta ahora es la carga del archivo XML haciendo uso de AJAX y PHP de la siguiente manera.&lt;/p&gt;&#xA;&lt;p&gt;Este es parte del formulario con el cual cargo mis archivos XML&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;          &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                        &amp;lt;label for=&quot;fileToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt; Archivo XML:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                &amp;lt;input type=&quot;file&quot; name=&quot;fileToUpload&quot; id=&quot;XmlToUpload&quot; class=&quot;btn&quot; accept=&quot;.xml&quot; required&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &#xA;&#xA;          &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cancelar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; id=&quot;upload&quot; class=&quot;btn btn-success&quot;&amp;gt;Subir Documentos&amp;lt;/button&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;La siguiente es la función JQuery con la cual cargo el documento y valido su formato&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;    $(&amp;quot;#upload&amp;quot;).on(&amp;quot;click&amp;quot;, function(){&#xA;        const ArchivoXml = $(&amp;quot;#XmlToUpload&amp;quot;).prop('files')[0];          &#xA;&#xA;        //Validación para comprobar que sea el formato correcto&#xA;        if (ArchivoXml.type !== 'text/xml') {&#xA;            $('#XmlToUpload').val('');&#xA;            //$('#pdfToUpload').val('');&#xA;            alert('Por favor seleccione los archivos con el formato correcto');&#xA;            return;&#xA;          }&#xA;&#xA;        const datosForm = new FormData;&#xA;&#xA;        datosForm.append(&amp;quot;XmlToUpload&amp;quot;, ArchivoXml);&#xA;       &#xA;        const filePath=&amp;quot;server.php&amp;quot;&#xA;        //console.log(ArchivoXml);&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            cache: false,&#xA;            contentType: false,&#xA;            processData: false,&#xA;            data: datosForm,&#xA;            url:filePath&#xA;        }).done(function(data){&#xA;            alert(data)&#xA;        }).fail(function(){&#xA;            alert('El archivo no se pudo cargar')&#xA;        });       &#xA;    });   &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El siguiente es el código PHP con el cual indico la ruta donde se almacenara&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;server.php&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    if(isset($_FILES[&amp;quot;XmlToUpload&amp;quot;])){&#xA;        $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;        $ruta =&amp;quot;XML/&amp;quot;;&#xA;&#xA;        if(move_uploaded_file($_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;],$ruta.$archivo)){&#xA;            echo &amp;quot;Subido exitosamente&amp;quot;;&#xA;        }else{&#xA;            echo &amp;quot;Error al subir&amp;quot;;&#xA;        }          &#xA;    }else {&#xA;        echo &amp;quot;No se selecciono un archivo&amp;quot;;&#xA;    }&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como lo comente al comienzo de la pregunta requiero validar el contenido del XML y validarlo con la información que se encuentra en una tabla de base de datos.&lt;/p&gt;&#xA;&lt;p&gt;La estructura del archivo XML va a contener la siguiente información:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&#xA;&amp;lt;cfdi:Comprobante Version=&amp;quot;3.3&amp;quot; Total=&amp;quot;45264.13&amp;quot;&amp;gt;&#xA;    &amp;lt;cfdi:Emisor Rfc=&amp;quot;ABC123456AB1&amp;quot; Nombre=&amp;quot;JOHN DOE&amp;quot;/&amp;gt;&#xA;     &amp;lt;cfdi:Conceptos&amp;gt;&#xA;         &amp;lt;cfdi:Concepto ValorUnitario=&amp;quot;93.80&amp;quot;&amp;gt;&#xA;        &amp;lt;/cfdi:Concepto&amp;gt;&#xA;    &amp;lt;/cfdi:Conceptos&amp;gt;&#xA;     &amp;lt;cfdi:Complemento&amp;gt;&#xA;        &amp;lt;tfd:Digital Version=&amp;quot;1.1&amp;quot; /&amp;gt;&#xA;    &amp;lt;/cfdi:Complemento&amp;gt;&#xA;&amp;lt;/cfdi:Comprobante&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Aquí los datos que me interesa validar son &lt;code&gt;Total=&amp;quot;45264.13&amp;quot;&lt;/code&gt; y &lt;code&gt;Rfc=&amp;quot;ABC123456AB1&amp;quot;&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Adicional a esto me puse en la tarea de crear un Procedimiento Almacenado en &lt;strong&gt;SQLServer&lt;/strong&gt; para obtener la información desde la Base de datos y así comparar con los datos del XML y el valor de los campos de la tabla en Base de datos.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;USE [dbtest]&#xA;GO&#xA;/****** Object:  StoredProcedure [dbo].[sptest]&#xA;SET ANSI_NULLS ON&#xA;GO&#xA;SET QUOTED_IDENTIFIER ON&#xA;GO&#xA;ALTER PROCEDURE [dbo].[sptest]&#xA;    &#xA;AS&#xA;BEGIN&#xA;    &#xA;    Select VTB.RFC as 'RFC',&#xA;           LRC.QTY as 'Recibido',  &#xA;           PL.PRICE as 'Precio',&#xA;           (PL.PRICE *LRC.QTY) * 1.16 as 'Total'&#xA;    from PACKING RC  &#xA;        inner join VTABLE VTB on VTB.COLUMN = RC.INVOICE&#xA;        inner join TRANS LRC on (LRC.PACKING = RC.RECID)&#xA;        inner join PURCH PL on (PL.NUMBER =LRC.NUM and PL.PURCH =RC.PURCH)      &#xA;END&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Espero que alguien me pueda orientar un poco con esta funcionalidad que estoy creando.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Con el objetivo de darle una validación mucho mas rápida a que los datos sean iguales a los del contenido del XML, ahora he decido obtenerlos en el front, es decir, mostrarlos en la misma vista donde cargo el XML de la siguiente manera:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                        &amp;lt;label for=&quot;lblNombreVisita&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt;RFC:&amp;lt;/label&amp;gt;&#xA;                        &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                          &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtRfc&quot; disabled&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                     &amp;lt;/div&amp;gt;&#xA;           &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                        &amp;lt;label for=&quot;lblNombreVisita&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt;Total:&amp;lt;/label&amp;gt;&#xA;                        &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                          &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTotal&quot; disabled&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                     &amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                            &amp;lt;label for=&quot;fileToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt; Archivo XML:&amp;lt;/label&amp;gt;&#xA;                  &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                    &amp;lt;input type=&quot;file&quot; name=&quot;fileToUpload&quot; id=&quot;XmlToUpload&quot; class=&quot;btn&quot; accept=&quot;.xml&quot; required&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &#xA;&#xA;              &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cancelar&amp;lt;/button&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; id=&quot;upload&quot; class=&quot;btn btn-success&quot;&amp;gt;Subir Documentos&amp;lt;/button&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;          &amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Igualmente si alguien encuentra como validarlos a que sean igual a los valores que se encuentran en la base de datos también es valido o si se pueden validar directamente con los valores que estoy obteniendo en los campos de texto que acabo de agregar también es valido.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización 2:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como se me indica en alguno de los comentarios a la pregunta he preparado la sentencia en PHP, donde paso como parámetros el RFC y Total.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    if(isset($_FILES[&amp;quot;XmlToUpload&amp;quot;])){&#xA;        $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;        $ruta =&amp;quot;XML/&amp;quot;;&#xA;        &#xA;        $serverName = &amp;quot;serverName\\sqlexpress&amp;quot;;&#xA;        $connectionInfo = array( &amp;quot;Database&amp;quot;=&amp;gt;&amp;quot;dbName&amp;quot;, &amp;quot;UID&amp;quot;=&amp;gt;&amp;quot;userName&amp;quot;, &amp;quot;PWD&amp;quot;=&amp;gt;&amp;quot;password&amp;quot;);&#xA;        $conn = sqlsrv_connect( $serverName, $connectionInfo);&#xA;        &#xA;        if ($conn === false) {&#xA;        die( print_r( sqlsrv_errors(), true));&#xA;        }&#xA;        &#xA;        $sql = &amp;quot;Select VTB.RFC as 'RFC',&#xA;            LRC.QTY as 'QTY',  &#xA;            PL.PRICE as 'Price',&#xA;            (PL.PRICE *LRC.QTY) * 1.16 as 'Total'&#xA;        from PACKING RC  &#xA;            inner join VTABLE VTB on VTB.COLUMN = RC.INVOICE&#xA;            inner join TRANS LRC on (LRC.PACKING = RC.RECID)&#xA;            inner join PURCH PL on (PL.NUMBER =LRC.NUM and PL.PURCH =RC.PURCH)   &#xA;        where VTB.RFC = ? AND ((PL.PRICE * LRC.QTY) * 1.16) = ?&amp;quot;;&#xA;        &#xA;        $params = array($rfc, $total);&#xA;        $options =  array( &amp;quot;Scrollable&amp;quot; =&amp;gt; SQLSRV_CURSOR_KEYSET );&#xA;        $stmt = sqlsrv_query( $conn, $sql, $params, $options);&#xA;        $row_count = sqlsrv_num_rows( $stmt );&#xA;        &#xA;        if ($row_count === false) {&#xA;        echo &amp;quot;Error&amp;quot;;&#xA;        }else{&#xA;            if(move_uploaded_file($_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;],$ruta.$archivo)){&#xA;            echo &amp;quot;Subido exitosamente&amp;quot;;&#xA;        }else{&#xA;            echo &amp;quot;Error al subir&amp;quot;;&#xA;            }&#xA;        }                 &#xA;    }else {&#xA;        echo &amp;quot;No se selecciono un archivo&amp;quot;;&#xA;    }&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización 3:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;En base a una de las respuestas que me aportan he obtenido el siguiente codigo en mi desarrollo:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    // Obtén número de factura o cadena vacía&#xA;$factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;  print_r($factura);&#xA;  echo &amp;quot;Probando&amp;quot;;&#xA;&#xA;  // Define el arreglo que vas a devolver&#xA;  $res = [&#xA;      'factura' =&amp;gt; ($factura != ''),&#xA;      'xml' =&amp;gt; (isset($_FILES[&amp;quot;XmlToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;XmlToUpload&amp;quot;]['error'] == 0),&#xA;      'pdf' =&amp;gt; (isset($_FILES[&amp;quot;pdfToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;pdfToUpload&amp;quot;]['error'] == 0)&#xA;  ];&#xA;&#xA;&#xA;  // Solo si hay número de factura&#xA;  if($res['factura']) {&#xA;&#xA;    $errores = array( UPLOAD_ERR_OK =&amp;gt; 'Carga exitosa'&#xA;                    , UPLOAD_ERR_INI_SIZE =&amp;gt; 'Excede el tamaño de carga (PHP)'&#xA;                    , UPLOAD_ERR_FORM_SIZE =&amp;gt; 'Excede el tamaño de carga (HTML)'&#xA;                    , UPLOAD_ERR_PARTIAL =&amp;gt; 'Carga incompleta'&#xA;                    , UPLOAD_ERR_NO_FILE =&amp;gt; 'No se seleccionó archivo'&#xA;                    , UPLOAD_ERR_NO_TMP_DIR =&amp;gt; 'Falta carpeta temporal'&#xA;                    , UPLOAD_ERR_CANT_WRITE =&amp;gt; 'No se guardó el archivo'&#xA;                    , UPLOAD_ERR_EXTENSION =&amp;gt; 'Una extensión bloqueó la carga'&#xA;                    );&#xA;&#xA;      // Solo si se subió archivo XML y no tuvo error&#xA;      if($res['xml']) {&#xA;          $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;      $ruta =&amp;quot;XML/&amp;quot;;&#xA;&#xA;&#xA;      if( $_FILES['XmlToUpload']['error'] !== UPLOAD_ERR_OK ){&#xA;        // error_log($errores[$_FILES['XmlToUpload']['error']]);&#xA;        die( $errores[$_FILES['XmlToUpload']['error']] );&#xA;    }&#xA;&#xA;      $xml = new SimpleXMlElement( $_FILES['XmlToUpload']['tmp_name'], 0, true );&#xA;      $total = (float)$xml['Total'];&#xA;      $rfc = (string)$xml-&amp;gt;children('cfdi',true)-&amp;gt;Emisor[0]-&amp;gt;attributes()['Rfc'];&#xA;&#xA;      &#xA;&#xA;      include './db/conectar.php';&#xA;      if( $conn === false ){&#xA;        die(print_r(sqlsrv_errors(), true));&#xA;      }&#xA;&#xA;      $sql = &amp;quot;{call SPValidarXML(?,?)}&amp;quot;;&#xA;&#xA;      $params = array($rfc, $total);&#xA;      $result = sqlsrv_query( $conn, $sql, $params );&#xA;&#xA;      if( $row = sqlsrv_fetch_array($result) ){&#xA;        $destino = 'XML/'.$_FILES['XmlToUpload']['name'];&#xA;        if(move_uploaded_file( $_FILES['XmlToUpload']['tmp_name'], $destino))&#xA;        &#xA;        echo 'Subido exitosamente';&#xA;&#xA;        else {&#xA;          echo 'Error al mover a directorio destino';&#xA;        }           &#xA;    } else {&#xA;        echo 'RFC/Total no identificado';&#xA;    }&#xA;  }&#xA;&#xA;      // Solo si se subió archivo PDF y no tuvo error&#xA;      if($res['pdf']) {&#xA;          $archivo = $_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;          $ruta =&amp;quot;PDF/&amp;quot;;&#xA;&#xA;          if(!move_uploaded_file($_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;], $ruta . $archivo)) {&#xA;              // Hubo error, poner propiedad en falso&#xA;              $res['pdf'] = false;&#xA;          }          &#xA;      }&#xA;      // ¿Se subieron los dos archivos?&#xA;      if($res['xml'] &amp;amp;&amp;amp; $res['pdf']) {&#xA;          // Aquí ejecutas la consulta para actualizar estado de factura&#xA;          // Ya tienes el número en la variable $factura&#xA;          $query = array();&#xA;          include './db/conectar.php';&#xA;          $sql = &amp;quot;{call SPCambioEstatus(?)}&amp;quot;;&#xA;&#xA;          $factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;         &#xA;          $params = array($factura);&#xA;          print_r($params);&#xA;&#xA;          $stmt = sqlsrv_query($conn, $sql, $params);&#xA;          if ( $stmt === false) {&#xA;              die( print_r( sqlsrv_errors(), true) );&#xA;          }&#xA;&#xA;          session_start();&#xA;&#xA;&#xA;          sqlsrv_free_stmt( $stmt);     &#xA;          sqlsrv_close($conn);&#xA;      }&#xA;  }&#xA;  // Devuelves el arreglo&#xA;  echo json_encode($res);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;NOTA:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Es importante resaltar aquí que junto a la carga del archivo XML también cargo un archivo PDF como ven en el código después de la validación del archivo XML realizo la carga del PDF y una vez ambos archivos estén cargados se ejecutara un procedimiento almacenado que cambiara de Estatus pero es algo que no tiene relevancia en cuanto a lo que estoy solicitando en la pregunta inicial, solo lo agrego para mantenerlos al tanto de lo que tengo en mi código.&lt;/p&gt;&#xA;&lt;p&gt;Adicionalmente en el código que me han aportado he realizado un cambio en la forma de obtener la consulta, en mi caso he creado un procedimiento almacenado llamado &lt;code&gt;SPValidarXML&lt;/code&gt; al cual le envió dos parámetros &lt;code&gt;RFC&lt;/code&gt; y &lt;code&gt;Total&lt;/code&gt;, toda la cadena de conexión se encuentra en el archivo &lt;code&gt;conectar.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización 4:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;He logrado concluir la funcionalidad de la lectura del XML y la validación pero he estado presentando un problema con una validación extra que tengo en mi código actual, como lo comente en mi ultima actualización cuento con una validación que cambiara de estatus apenas se carguen los dos archivos PDF y XML, cuando cargo el archivo XML y sus datos no son correctos se ejecuta la validación que tengo de cambio de estatus, quiero evitar que si los datos no son correctos pues que no se ejecuta esta validación de cambio de estatus, el codigo actual que tengo es el siguiente:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    // Obtén número de factura o cadena vacía&#xA;$factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;&#xA;  // Define el arreglo que vas a devolver&#xA;  $res = [&#xA;      'factura' =&amp;gt; ($factura != ''),&#xA;      'xml' =&amp;gt; (isset($_FILES[&amp;quot;XmlToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;XmlToUpload&amp;quot;]['error'] == 0),&#xA;      'pdf' =&amp;gt; (isset($_FILES[&amp;quot;pdfToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;pdfToUpload&amp;quot;]['error'] == 0)&#xA;  ];&#xA;  // Solo si hay número de factura&#xA;  if($res['factura']) {&#xA;&#xA;    $errores = array( UPLOAD_ERR_OK =&amp;gt; 'Carga exitosa'&#xA;                    , UPLOAD_ERR_INI_SIZE =&amp;gt; 'Excede el tamaño de carga (PHP)'&#xA;                    , UPLOAD_ERR_FORM_SIZE =&amp;gt; 'Excede el tamaño de carga (HTML)'&#xA;                    , UPLOAD_ERR_PARTIAL =&amp;gt; 'Carga incompleta'&#xA;                    , UPLOAD_ERR_NO_FILE =&amp;gt; 'No se seleccionó archivo'&#xA;                    , UPLOAD_ERR_NO_TMP_DIR =&amp;gt; 'Falta carpeta temporal'&#xA;                    , UPLOAD_ERR_CANT_WRITE =&amp;gt; 'No se guardó el archivo'&#xA;                    , UPLOAD_ERR_EXTENSION =&amp;gt; 'Una extensión bloqueó la carga'&#xA;                    );&#xA;&#xA;      // Solo si se subió archivo XML y no tuvo error&#xA;      if($res['xml']) {&#xA;      if( $_FILES['XmlToUpload']['error'] !== UPLOAD_ERR_OK ){&#xA;        // error_log($errores[$_FILES['XmlToUpload']['error']]);&#xA;        die( $errores[$_FILES['XmlToUpload']['error']] );&#xA;    }&#xA;      &#xA;      $xml = new SimpleXMlElement( $_FILES['XmlToUpload']['tmp_name'], 0, true );&#xA;      $factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;      $total = (float)$xml['Total'];&#xA;      $rfc = (string)$xml-&amp;gt;children('cfdi',true)-&amp;gt;Emisor[0]-&amp;gt;attributes()['Rfc'];&#xA;&#xA;      $serverName = &amp;quot;serverName&amp;quot;;&#xA;      $connectionInfo = array( &amp;quot;Database&amp;quot;=&amp;gt;&amp;quot;Database&amp;quot;, &amp;quot;UID&amp;quot;=&amp;gt;&amp;quot;UID&amp;quot;, &amp;quot;PWD&amp;quot;=&amp;gt;&amp;quot;PWD&amp;quot;);            &#xA;      $conn = sqlsrv_connect( $serverName, $connectionInfo);&#xA;&#xA;      if( $conn === false ){&#xA;        die(print_r(sqlsrv_errors(), true));&#xA;      }&#xA;&#xA;      $sql = &amp;quot;SELECT RC.ID as 'factura'&#xA;                    VTB.RFC as 'RFC',&#xA;                   LRC.QTY as 'QTY',  &#xA;                   PL.PRICE as 'Price',&#xA;                   (PL.PRICE *LRC.QTY) * 1.16 as 'Total'&#xA;              FROM PACKING RC  &#xA;                INNER JOIN VTABLE VTB &#xA;                  ON VTB.COLUMN = RC.INVOICE&#xA;                INNER JOIN TRANS LRC &#xA;                  ON LRC.PACKING = RC.RECID&#xA;                INNER JOIN PURCH PL &#xA;                  ON    PL.NUMBER =LRC.NUM &#xA;                    AND PL.PURCH =RC.PURCH&#xA;              WHERE VTB.RFC = ? &#xA;                AND ((PL.PRICE * LRC.QTY) * 1.16) = ?&#xA;                AND RC.FACTURA = ?&#xA;           &amp;quot;;&#xA;&#xA;      $params = array($rfc, $total, $factura,);&#xA;      $result = sqlsrv_query( $conn, $sql, $params );&#xA;&#xA;      if( $row = sqlsrv_fetch_array($result) ){&#xA;        $destino = 'XML/'.$_FILES['XmlToUpload']['name'];&#xA;        if(move_uploaded_file( $_FILES['XmlToUpload']['tmp_name'], $destino))&#xA;        &#xA;        echo 'Subido exitosamente';&#xA;&#xA;        else {&#xA;          echo 'Error al mover a directorio destino';&#xA;        }           &#xA;    } else {&#xA;        echo 'RFC/Total no identificado';&#xA;    }    &#xA;      &#xA;  }&#xA;&#xA;      // Solo si se subió archivo PDF y no tuvo error&#xA;      if($res['pdf']) {&#xA;          $archivo = $_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;          $ruta =&amp;quot;PDF/&amp;quot;;&#xA;&#xA;          if(!move_uploaded_file($_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;], $ruta . $archivo)) {&#xA;              // Hubo error, poner propiedad en falso&#xA;              $res['pdf'] = false;&#xA;          }          &#xA;      }&#xA;&#xA;      // ¿Se subieron los dos archivos?&#xA;      if($res['xml'] &amp;amp;&amp;amp; $res['pdf']) {&#xA;          // Aquí ejecutas la consulta para actualizar estado de factura&#xA;          // Ya tienes el número en la variable $factura&#xA;          $query = array();&#xA;          include './db/conectar.php';&#xA;          $sql = &amp;quot;{call SPEstatus(?)}&amp;quot;;&#xA;&#xA;          $factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;         &#xA;          $params = array($factura);&#xA;         // print_r($params);&#xA;&#xA;          $stmt = sqlsrv_query($conn, $sql, $params);&#xA;          if ( $stmt === false) {&#xA;              die( print_r( sqlsrv_errors(), true) );&#xA;          }&#xA;&#xA;          session_start();&#xA;&#xA;&#xA;          sqlsrv_free_stmt( $stmt);     &#xA;          sqlsrv_close($conn);&#xA;      }&#xA;&#xA;  }&#xA;  // Devuelves el arreglo&#xA;  echo json_encode($res);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;No se si se deba cambiar algo en el orden en como estoy ejecutando mis validaciones pero como les digo lo que quiero es que cuando me genere el error de &lt;code&gt;RFC/Total no identificado&lt;/code&gt; no se ejecute la ultima validación que tengo de cambio de estados de factura.&lt;/p&gt;&#xA;"" OwnerUserId=""74103"" LastEditorUserId=""74103"" LastEditDate=""2021-05-27T15:03:09.347"" LastActivityDate=""2021-05-27T15:03:09.347"" Title=""Como leer un archivo XML y validar con los datos de una tabla"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;sql-server&gt;&lt;xml&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""453685"" PostTypeId=""1"" AcceptedAnswerId=""453698"" CreationDate=""2021-05-20T22:37:59.630"" Score=""2"" ViewCount=""80"" Body=""&lt;p&gt;Como puedo cambiar el valor del estatus al subir documentos, estoy desarrollando una pequeña funcionalidad para cargar documentos esta se encuentra en una tabla donde tengo un numero de factura y un botón para subir documentos, el botón de subir documentos despliega una ventana modal donde allí se cargan los documentos.&lt;/p&gt;&#xA;&lt;p&gt;Cree este pequeño fragmento de código para explicar mejor la funcionalidad.&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&#xA;&amp;lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;div class=&quot;col-sm-12&quot;&amp;gt;&#xA;    &amp;lt;table id=&quot;example&quot;&amp;gt;&#xA;        &amp;lt;thead&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;th&amp;gt;Factura&amp;lt;/th&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;/thead&amp;gt;&#xA;        &amp;lt;tbody&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;&#xA;                    2910&#xA;                &amp;lt;/td&amp;gt;&#xA;                &amp;lt;td&amp;gt;&#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; data-toggle=&quot;modal&quot; data-target=&quot;#ModalCargaFactura&quot;&amp;gt;Cargar Documentos&amp;lt;/button&amp;gt;&#xA;                &amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;/tbody&amp;gt;&#xA;    &amp;lt;/table&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;div class=&quot;modal fade bd-example-modal-lg&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;myLargeModalLabel&quot; aria-hidden=&quot;true&quot; id=&quot;ModalCargaFactura&quot; data-backdrop=&quot;static&quot; data-keyboard=&quot;false&quot; &amp;gt;&#xA;        &amp;lt;div class=&quot;modal-dialog modal-lg&quot;&amp;gt;&#xA;            &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;modal-header&quot; style=&quot;background: #36AD52;&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&#xA;                  &amp;lt;span aria-hidden=&quot;true&quot; style=&quot;color: #FFFFFF;&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&#xA;                &amp;lt;/button&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;              &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;       &amp;lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;          &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                        &amp;lt;label for=&quot;fileToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt; Archivo XML:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                &amp;lt;input type=&quot;file&quot; name=&quot;fileToUpload&quot; id=&quot;XmlToUpload&quot; class=&quot;btn&quot; accept=&quot;.xml&quot; onchange=&quot;ValidarArchivos()&quot; required&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                         &amp;lt;label for=&quot;pdfToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt;Archivo PDF:&amp;lt;/label&amp;gt;&#xA;              &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;              &amp;lt;input type=&quot;file&quot; name=&quot;pdfToUpload&quot; id=&quot;pdfToUpload&quot; class=&quot;btn&quot; accept=&quot;.pdf&quot; onchange=&quot;ValidarArchivos()&quot; required&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;/div&amp;gt;      &#xA;              &amp;lt;/div&amp;gt;&#xA;&#xA;          &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cancelar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;button type=&quot;button&quot; id=&quot;upload&quot; class=&quot;btn btn-success&quot;&amp;gt;Subir Documentos&amp;lt;/button&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/form&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&quot;upload-msg&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;La carga de los documentos la estoy realizando con AJAX y PHP, adjunto a continuación el siguiente JQuery  donde cargo el documento y valido el formato&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(document).ready(function(){&#xA;    $(&amp;quot;#upload&amp;quot;).on(&amp;quot;click&amp;quot;, function(){&#xA;        const ArchivoXml = $(&amp;quot;#XmlToUpload&amp;quot;).prop('files')[0];&#xA;        const ArchivoPDF = $(&amp;quot;#pdfToUpload&amp;quot;).prop('files')[0];&#xA;       &#xA;&#xA;        //Validación para comprobar que sea el formato corecto&#xA;        if (ArchivoXml.type !== 'text/xml') {&#xA;            $('#XmlToUpload').val('');&#xA;            //$('#pdfToUpload').val('');&#xA;            alert('Por favor seleccione los archivos con el formato correcto');&#xA;            return;&#xA;          }&#xA;&#xA;        const datosForm = new FormData;&#xA;&#xA;        datosForm.append(&amp;quot;XmlToUpload&amp;quot;, ArchivoXml);&#xA;        datosForm.append(&amp;quot;pdfToUpload&amp;quot;, ArchivoPDF);&#xA;&#xA;        const filePath=&amp;quot;server.php&amp;quot;&#xA;        //console.log(ArchivoXml);&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            cache: false,&#xA;            contentType: false,&#xA;            processData: false,&#xA;            data: datosForm,&#xA;            url:filePath&#xA;        }).done(function(data){&#xA;            alert(data)&#xA;        }).fail(function(){&#xA;            alert('El archivo no se pudo cargar')&#xA;        });       &#xA;    });   &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El siguiente es el código PHP con el cual indico la ruta donde se almacenara&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;server.php&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    if(isset($_FILES[&amp;quot;XmlToUpload&amp;quot;])){&#xA;        $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;        $ruta =&amp;quot;XML/&amp;quot;;&#xA;&#xA;        if(move_uploaded_file($_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;],$ruta.$archivo)){&#xA;            echo &amp;quot;Subido exitosamente&amp;quot;;&#xA;        }else{&#xA;            echo &amp;quot;Error al subir&amp;quot;;&#xA;        }          &#xA;    }else {&#xA;        echo &amp;quot;No se selecciono un archivo&amp;quot;;&#xA;    }&#xA;&#xA;if(isset($_FILES[&amp;quot;pdfToUpload&amp;quot;])){&#xA;        $archivo = $_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;        $ruta =&amp;quot;PDF/&amp;quot;;&#xA;&#xA;        if(move_uploaded_file($_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;],$ruta.$archivo)){&#xA;            echo &amp;quot;Subido exitosamente&amp;quot;;&#xA;        }else{&#xA;            echo &amp;quot;Error al subir&amp;quot;;&#xA;        }&#xA;        //echo &amp;quot;SI LLEGO&amp;quot;;&#xA;    }else {&#xA;        echo &amp;quot;No se selecciono un archivo&amp;quot;;&#xA;    }&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Si se fijan cargo dos archivos diferentes es por esta razón que se agregan dos &lt;code&gt;input&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Ahora explicara la forma en como se muestra la información en la tabla, la siguiente es una función Javascript con la cual construyo mi tabla&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;/* Formatting function for row details - modify as you need */&#xA;function format(d) {&#xA;    // `d` is the original data object for the row&#xA;    console.log(d);&#xA;      let tabla = `&amp;lt;table cellpadding=&amp;quot;5&amp;quot; cellspacing=&amp;quot;0&amp;quot; style=&amp;quot;border-collapse: separate; border-spacing: 40px 5px;&amp;quot;&amp;gt;&#xA;                    &amp;lt;thead&amp;gt;&#xA;                        &amp;lt;tr&amp;gt;&#xA;                            &amp;lt;th&amp;gt;&#xA;                                Factura&#xA;                            &amp;lt;/th&amp;gt;&#xA;                            &amp;lt;th&amp;gt;&#xA;                                Estatus&#xA;                            &amp;lt;/th&amp;gt;&#xA;                        &amp;lt;/tr&amp;gt;&#xA;                        &amp;lt;/thead&amp;gt;&#xA;                        &amp;lt;tbody&amp;gt;`;&#xA;                            d.Factura.forEach(f =&amp;gt; {&#xA;                                tabla += `&amp;lt;tr&amp;gt;                              &#xA;                                &amp;lt;td&amp;gt;${f.Factura}&amp;lt;/td&amp;gt;       &#xA;                                &amp;lt;td&amp;gt;${f.Estatus}&amp;lt;/td&amp;gt;                               &#xA;                                &amp;lt;td&amp;gt;&amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;btn btn-primary&amp;quot; data-toggle=&amp;quot;modal&amp;quot; data-target=&amp;quot;#ModalCargaFactura&amp;quot; onclick=&amp;quot;CargarFactura('${f.OrdenCompra}' , '${f.Factura}')&amp;quot;`;&#xA;                                if (disabled.indexOf(f.Estatus) &amp;gt; -1) {&#xA;                                    tabla += ` disabled `;&#xA;                                  }&#xA;                                  tabla += `&amp;gt;Cargar Documentos&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;                               &#xA;                                &amp;lt;td&amp;gt;&amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;btn btn-primary&amp;quot; onclick=&amp;quot;MostrarDetalleFactura('${f.Factura}')&amp;quot;&amp;gt;Ver Detalle&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                                &amp;lt;/tr&amp;gt;`;&#xA;                            });&#xA;                       tabla += '&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;';&#xA;                       return tabla;    &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como ven en el codigo anterior muestro la factura y Estatus adicional a esto contiene el boton Cargar Documentos el cual me despliega una ventana modal la cual ubique en el primer fragmento de codigo.&lt;/p&gt;&#xA;&lt;p&gt;El siguiente es el código que tengo en mi back con la ayuda de PHP&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    header('Content-Type: text/html; charset=utf-8');&#xA;    //error_reporting(E_ALL ^ E_NOTICE);&#xA;&#xA;    $param = $_POST['param'];   &#xA;    switch($param) {&#xA;        case '1': &#xA;                $query = array();&#xA;                include './db/conectar.php';&#xA;                $USER = utf8_encode($_POST['proveedor']);&#xA;                $sql = &amp;quot;{call SPTest(?)}&amp;quot;;&#xA;                &#xA;                $params = array($USER);&#xA;                $stmt = sqlsrv_query($conn, $sql, $params);&#xA;                $stmt1 = sqlsrv_query($conn, $sql, $params);        &#xA;                if ( $stmt === false) {&#xA;                    die( print_r( sqlsrv_errors(), true) );&#xA;                }&#xA;                &#xA;                //Se inicializa el arreglo antes del ciclo&#xA;                $query = [];&#xA;                $query1 = [];&#xA;                //Se necesita numero de orden de compra para agrupar&#xA;                $ultimaOrden = '';&#xA;                $ultimaFactura = '';&#xA;                &#xA;                while( $row1 = sqlsrv_fetch_array($stmt1) ) {&#xA;                    $record1 = array(&#xA;                        &amp;quot;Factura&amp;quot;  =&amp;gt; $row1['Factura']&#xA;                        &#xA;                    );&#xA;                    array_push($query1, $record1);&#xA;                }&#xA;                &#xA;                while( $row = sqlsrv_fetch_array($stmt) ) {&#xA;                if(strcmp($ultimaFactura, utf8_encode ($row['Factura'])) != 0) {&#xA;                &#xA;                    $query[$indice][&amp;quot;Factura&amp;quot;][] = [&#xA;                        &amp;quot;Factura&amp;quot;          =&amp;gt; utf8_encode ($row['Factura']), //No Factura   &#xA;                        &amp;quot;Estatus&amp;quot;           =&amp;gt; $row['Estatus'],                                 &#xA;                    ];&#xA;                &#xA;                    $ultimaFactura = utf8_encode ($row['Factura']);&#xA;                }&#xA;                &#xA;                }&#xA;&#xA;                sqlsrv_free_stmt( $stmt);       &#xA;                sqlsrv_close($conn);&#xA;&#xA;                $json = [&#xA;                    &amp;quot;success&amp;quot;=&amp;gt; count($query) &amp;gt; 0 ? true : false,&#xA;                    &amp;quot;data&amp;quot;=&amp;gt;$query&#xA;                ];&#xA;&#xA;                echo json_encode($json);&#xA;        break;&#xA;        &#xA;        ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como ven aquí realizo el llamado a un procedimiento almacenado para mostrar la información, así es como de esta manera muestra la información en la tabla que realmente no se si sea información relevante para ayudar a solucionar la funcionalidad que planteo en mi pregunta inicial.&lt;/p&gt;&#xA;&lt;p&gt;Con lo anterior así explicado en palabras mas palabras menos lo que deseo es cambiar el estatus que contiene la factura al momento de subir ambos documentos ese estatus al que deseo que cambie es 0, de muchas ideas que me surgen en mi cabeza estaba pensando en hacer un nuevo procedimiento almacenado y que realice un UPDATE al estatus de la factura a la cual se le cargo los documentos.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Al ver que en una de las respuestas hace falta cambiar el estatus me coloque en la tarea de realizar un procedimiento almacenado que realizara el cambio&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;ALTER PROCEDURE [dbo].[SPTest]&#xA;    @factura    VARCHAR(30)&#xA;AS&#xA;BEGIN&#xA;    &#xA;    UPDATE PACKING&#xA;        SET ESTATUS = 1 &#xA;        WHERE ID=@factura;&#xA;        &#xA;END &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;Actualización 2:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Este es el código que estoy usando en mi &lt;code&gt;server.php&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php            &#xA;    // Obtén número de factura o cadena vacía&#xA;  $factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;  print_r($factura);&#xA;  echo &amp;quot;Probando&amp;quot;;&#xA;&#xA;  // Define el arreglo que vas a devolver&#xA;  $res = [&#xA;      'factura' =&amp;gt; ($factura != ''),&#xA;      'xml' =&amp;gt; (isset($_FILES[&amp;quot;XmlToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;XmlToUpload&amp;quot;]['error'] == 0),&#xA;      'pdf' =&amp;gt; (isset($_FILES[&amp;quot;pdfToUpload&amp;quot;]) &amp;amp;&amp;amp; $_FILES[&amp;quot;pdfToUpload&amp;quot;]['error'] == 0)&#xA;  ];&#xA;&#xA;  // Solo si hay número de factura&#xA;  if($res['factura']) {&#xA;      // Solo si se subió archivo XML y no tuvo error&#xA;      if($res['xml']) {&#xA;          $archivo = $_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;          $ruta =&amp;quot;XML/&amp;quot;;&#xA;&#xA;          if(!move_uploaded_file($_FILES[&amp;quot;XmlToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;], $ruta . $archivo)) {&#xA;              // Hubo error, poner propiedad en falso&#xA;              $res['xml'] = false;&#xA;          }          &#xA;      }&#xA;      // Solo si se subió archivo PDF y no tuvo error&#xA;      if($res['pdf']) {&#xA;          $archivo = $_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;name&amp;quot;];&#xA;          $ruta =&amp;quot;PDF/&amp;quot;;&#xA;&#xA;          if(!move_uploaded_file($_FILES[&amp;quot;pdfToUpload&amp;quot;][&amp;quot;tmp_name&amp;quot;], $ruta . $archivo)) {&#xA;              // Hubo error, poner propiedad en falso&#xA;              $res['pdf'] = false;&#xA;          }          &#xA;      }&#xA;      // ¿Se subieron los dos archivos?&#xA;      if($res['xml'] &amp;amp;&amp;amp; $res['pdf']) {&#xA;          // Aquí ejecutas la consulta para actualizar estado de factura&#xA;          // Ya tienes el número en la variable $factura&#xA;         // $factura = (isset($_POST['factura']));&#xA;&#xA;          include './db/conectar.php';&#xA;          $sql = &amp;quot;exec PortalProveedores_CambioEstatus(?)&amp;quot;;&#xA;&#xA;          $factura = (isset($_POST['factura'])) ? trim($_POST['factura']) : '';&#xA;         &#xA;          $stmt = sqlsrv_query($conn, $sql, $factura);&#xA;          if ( $stmt === false) {&#xA;              die( print_r( sqlsrv_errors(), true) );&#xA;          }&#xA;&#xA;          sqlsrv_free_stmt( $stmt);     &#xA;          sqlsrv_close($conn);&#xA;      }&#xA;  }&#xA;  // Devuelves el arreglo&#xA;  echo json_encode($res);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Adicional a este código muestro la función junto con el llamado AJAX para subir los documentos:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;//Función que carga los documentos&#xA;$(document).ready(function(){&#xA;    $(&amp;quot;#upload&amp;quot;).on(&amp;quot;click&amp;quot;, function(){&#xA;        const ArchivoXml = $(&amp;quot;#XmlToUpload&amp;quot;).prop('files')[0];&#xA;        const ArchivoPDF = $(&amp;quot;#pdfToUpload&amp;quot;).prop('files')[0];&#xA;       &#xA;&#xA;        //Validación para comprobar que sea el formato corecto&#xA;        if (ArchivoXml.type !== 'text/xml' &amp;amp;&amp;amp; ArchivoPDF.type !== 'text/pdf' ) {&#xA;            $('#XmlToUpload').val('');&#xA;            $('#pdfToUpload').val('');&#xA;            alert('Por favor seleccione los archivos con el formato correcto');&#xA;          }        &#xA;&#xA;        const datosForm = new FormData;&#xA;&#xA;        datosForm.append(&amp;quot;XmlToUpload&amp;quot;, ArchivoXml);&#xA;        datosForm.append(&amp;quot;pdfToUpload&amp;quot;, ArchivoPDF);&#xA;&#xA;        datosForm.append('factura', $('#numToUpload').val());&#xA;&#xA;        //console.log('Factura es:', $(&amp;quot;#numToUpload&amp;quot;).text());&#xA;&#xA;&#xA;        const filePath=&amp;quot;server.php&amp;quot;&#xA;        //console.log(ArchivoXml);&#xA;        $.ajax({&#xA;            type:'POST',&#xA;            cache: false,&#xA;            contentType: false,&#xA;            processData: false,&#xA;            data: datosForm,&#xA;            url:filePath&#xA;        }).done(function(data){&#xA;            alert(data)&#xA;        }).fail(function(){&#xA;            alert('El archivo no se pudo cargar')&#xA;        });       &#xA;    });   &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El código donde muestro mi ventana modal es el siguiente, en este código muestro el numero de factura junto con los dos input de los archivos xml y pdf&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;!-- Modal --&amp;gt;&#xA;            &amp;lt;div class=&quot;modal fade bd-example-modal-lg&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;myLargeModalLabel&quot; aria-hidden=&quot;true&quot; id=&quot;ModalCargaFactura&quot; data-backdrop=&quot;static&quot; data-keyboard=&quot;false&quot; &amp;gt;&#xA;            &amp;lt;div class=&quot;modal-dialog modal-lg&quot;&amp;gt;&#xA;                &amp;lt;div class=&quot;modal-content&quot;&amp;gt;&#xA;                  &amp;lt;div class=&quot;modal-header&quot; style=&quot;background: #36AD52;&quot;&amp;gt;&#xA;                    &amp;lt;h4 class=&quot;modal-title&quot; id=&quot;exampleModalLongTitle&quot; style=&quot;color: #FFFFFF;&quot;&amp;gt;Agregar Factura&amp;lt;/h4&amp;gt;&#xA;                    &amp;lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&amp;gt;&#xA;                      &amp;lt;span aria-hidden=&quot;true&quot; style=&quot;color: #FFFFFF;&quot;&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&#xA;                    &amp;lt;/button&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                  &amp;lt;div class=&quot;modal-body&quot;&amp;gt;&#xA;                    &#xA;                        &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                            &amp;lt;label for=&quot;lblNombreVisita&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt;Factura:&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                              &amp;lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;numToUpload&quot; disabled&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;                         &amp;lt;/div&amp;gt;&#xA;        &#xA;           &amp;lt;form action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;              &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                            &amp;lt;label for=&quot;fileToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt; Archivo XML:&amp;lt;/label&amp;gt;&#xA;                  &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                    &amp;lt;input type=&quot;file&quot; name=&quot;fileToUpload&quot; id=&quot;XmlToUpload&quot; class=&quot;btn&quot; accept=&quot;.xml&quot; onchange=&quot;ValidarArchivos()&quot; required&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;div class=&quot;form-group row&quot;&amp;gt;&#xA;                             &amp;lt;label for=&quot;pdfToUpload&quot; class=&quot;col-sm-3 col-form-label&quot;&amp;gt;Archivo PDF:&amp;lt;/label&amp;gt;&#xA;                  &amp;lt;div class=&quot;col-sm-8&quot;&amp;gt;&#xA;                  &amp;lt;input type=&quot;file&quot; name=&quot;pdfToUpload&quot; id=&quot;pdfToUpload&quot; class=&quot;btn&quot; accept=&quot;.pdf&quot; onchange=&quot;ValidarArchivos()&quot; required&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;/div&amp;gt;      &#xA;                  &amp;lt;/div&amp;gt;&#xA;    &#xA;              &amp;lt;div class=&quot;modal-footer&quot;&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&amp;gt;Cancelar&amp;lt;/button&amp;gt;&#xA;                &amp;lt;button type=&quot;button&quot; id=&quot;upload&quot; class=&quot;btn btn-success&quot;&amp;gt;Subir Documentos&amp;lt;/button&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;          &amp;lt;/form&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;          &amp;lt;div class=&quot;upload-msg&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Ahora despues de borrar el codigo que me sobraba estoy obteniendo el siguiente error al subir los documentos&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Warning: sqlsrv_query() expects parameter 3 to be array, string given in C:\xampp\htdocs\GUI-PT\server.php on line 77&#xA;Array ( [0] =&amp;gt; Array ( [0] =&amp;gt; IMSSP [SQLSTATE] =&amp;gt; IMSSP [1] =&amp;gt; -14 [code] =&amp;gt; -14 [2] =&amp;gt; An invalid parameter was passed to sqlsrv_query. [message] =&amp;gt; An invalid parameter was passed to sqlsrv_query. ) )&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Para ser mas exacto el error me lo indica en la siguiente linea&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; $stmt = sqlsrv_query($conn, $sql, $factura);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""74103"" LastEditorUserId=""74103"" LastEditDate=""2021-05-21T19:57:23.060"" LastActivityDate=""2021-05-21T19:57:23.060"" Title=""Como cambiar el estatus al subir documentos"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;sql-server&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""461330"" PostTypeId=""1"" CreationDate=""2021-06-11T18:46:25.200"" Score=""0"" ViewCount=""237"" Body=""&lt;p&gt;Estoy trabajando sobre laravel 8, cuando busco unos productos por controlador y los pagino, me cargan los productos bien.&lt;/p&gt;&#xA;&lt;p&gt;Ahora debo cargar los productos a travez de ajax, por cuestion de varios menus (filtros) en la pagina.&#xA;El ajax funciona bien, y cuando son pocos productos, funciona ok, el problema es que algunos filtros me traen mas de mil productos, y cuando esto sucede toda la pagina se bloquea tratanto de procesar estos datos. me hace falta la paginacion, pero no se como hacerla en ajax.&lt;/p&gt;&#xA;&lt;p&gt;Podria alguien darme una luz de como deberia paginar los resultados de una consulta ajax? tengo que mostrar paginas de 100 productos.&lt;/p&gt;&#xA;&lt;p&gt;Este es mi ajax, en el que hago una consulta, y este me devuelve los registros de la bd.&#xA;por cada registro, yo me creo todo el html del producto. y por medio de hinnerHTMl se lo agrego al contenedor de los productos. Cuando los producto son pocos, funciona muy bien. pero cuando son demasiadas la pagina colapsa.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; $.ajax(&#xA;                    {&#xA;                        url: &amp;quot;{{ route('productos.cat.ambas') }}&amp;quot;,&#xA;                        type: &amp;quot;POST&amp;quot;,&#xA;                        data: {&amp;quot;_token&amp;quot;: &amp;quot;{{ csrf_token() }}&amp;quot;, id: id1, id2: id2}&#xA;                    })&#xA;                    .done(function (data) {&#xA;                        document.getElementById(&amp;quot;productoJs&amp;quot;).innerHTML = &amp;quot;&amp;quot;;&#xA;                        $.each((data), function (i, item) {&#xA;                            var htmlSubCat = '&amp;lt;div class=&amp;quot;col-sm-2&amp;quot;&amp;gt;\n\&#xA;                                &amp;lt;div class=&amp;quot;product-image-wrapper&amp;quot;&amp;gt;\n\&#xA;                                &amp;lt;div class=&amp;quot;single-products&amp;quot; style=&amp;quot;height: 295px;&amp;quot;&amp;gt;\n\&#xA;                                &amp;lt;div class=&amp;quot;productinfo text-center&amp;quot;&amp;gt;\n\&#xA;                                &amp;lt;img src=&amp;quot;' + item['ruta_img'] + '&amp;quot; style=&amp;quot;height: 90px; width: 120px;&amp;quot; alt=&amp;quot;&amp;quot;/&amp;gt;\n\&#xA;                                &amp;lt;h2&amp;gt;$ ' + item['valor_producto_minorista'] + '&amp;lt;/h2&amp;gt;\n\&#xA;                                &amp;lt;p&amp;gt;' + item['descrip_producto'] + '&amp;lt;/p&amp;gt;\n\&#xA;                                &amp;lt;a name=&amp;quot;producto' + item['id_producto'] + '&amp;quot; style=&amp;quot;border-radius: 4px; color: #fff;&amp;quot; onclick=&amp;quot;agregar(this)&amp;quot;\n\&#xA;                                                   class=&amp;quot;btn btn-primary add-to-cart&amp;quot;&amp;gt;\n\&#xA;                                                    &amp;lt;i class=&amp;quot;fa fa-shopping-cart&amp;quot;&amp;gt;\n\&#xA;                                                    &amp;lt;/i&amp;gt;Agregar\n\&#xA;                                                &amp;lt;/a&amp;gt;\n\&#xA;                            &amp;lt;/div&amp;gt;';&#xA;&#xA;                            document.getElementById(&amp;quot;productoJs&amp;quot;).innerHTML += htmlSubCat;&#xA;                        });&#xA;                    })&#xA;                    .fail(function (data) {&#xA;                        console.log(data);&#xA;                    })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;y este es el controlador que me regresa la informacion:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;public function productoCatAmbas(Request $request){&#xA;        $idCat = $request-&amp;gt;id;&#xA;        $idSubCat = $request-&amp;gt;id2;&#xA;        &#xA;&#xA;        $dataProducto = Producto::where('producto.categoria', $idCat)-&amp;gt;where('producto.descripcion', $idSubCat)-&amp;gt;get();&#xA;&#xA;        return $dataProducto;&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Actualizacion ******************************************&lt;/p&gt;&#xA;&lt;p&gt;En el controlador he paginado como me dijeron, con &amp;quot; paginate &amp;quot;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;public function productoCatAmbas(Request $request){&#xA;            $idCat = $request-&amp;gt;id;&#xA;            $idSubCat = $request-&amp;gt;id2;&#xA;            &#xA;    &#xA;            $dataProducto = Producto::where('producto.categoria', $idCat)-&amp;gt;where('producto.descripcion', $idSubCat)-&amp;gt;paginate();&#xA;    &#xA;            return $dataProducto;&#xA;    &#xA;        }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;y en el ajax le he agregado esto:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;                        &amp;quot;total&amp;quot;: 50,&#xA;                        &amp;quot;per_page&amp;quot;: 15,&#xA;                        &amp;quot;current_page&amp;quot;: 1,&#xA;                        &amp;quot;last_page&amp;quot;: 4,&#xA;                        &amp;quot;first_page_url&amp;quot;: &amp;quot;http://laravel.app?page=1&amp;quot;,&#xA;                        &amp;quot;last_page_url&amp;quot;: &amp;quot;http://laravel.app?page=4&amp;quot;,&#xA;                        &amp;quot;next_page_url&amp;quot;: &amp;quot;http://laravel.app?page=2&amp;quot;,&#xA;                        &amp;quot;prev_page_url&amp;quot;: null,&#xA;                        &amp;quot;path&amp;quot;: &amp;quot;http://laravel.app&amp;quot;,&#xA;                        &amp;quot;from&amp;quot;: 1,&#xA;                        &amp;quot;to&amp;quot;: 15,&#xA;                            url: &amp;quot;{{ route('productos.cat.ambas') }}&amp;quot;,&#xA;                            type: &amp;quot;POST&amp;quot;,&#xA;                            data: {&#xA;                                &amp;quot;_token&amp;quot;: &amp;quot;{{ csrf_token() }}&amp;quot;,&#xA;                                id: id1,&#xA;                                id2: id2&#xA;                            }&#xA;                        })&#xA;                        .done(function(data) {&#xA;&#xA;                            document.getElementById(&amp;quot;productoJs&amp;quot;).innerHTML = &amp;quot;&amp;quot;;&#xA;                            $.each((data), function(i, item) { .......&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Pero no me imprimen las imagenes, y en consola me marca el siguiente error:&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Uncaught TypeError: Cannot read property 'ruta_img' of null&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;cuando veo la data que me trae, me la trae asi:&lt;/p&gt;&#xA;&lt;p&gt;como podria yo ahora entonces acceder a cada atributo?&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;{&#xA;    &amp;quot;current_page&amp;quot;: 1,&#xA;    &amp;quot;data&amp;quot;: [&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 1,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;100020&amp;quot;,&#xA;        &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;            .....&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 2,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;101840&amp;quot;,&#xA;           &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;            .....&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 3,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;102100&amp;quot;,&#xA;           &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 4,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;103740&amp;quot;,&#xA;           &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 5,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;105910&amp;quot;,&#xA;            &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 6,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;106000&amp;quot;,&#xA;            &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;        },&#xA;        {&#xA;            &amp;quot;id_producto&amp;quot;: 7,&#xA;            &amp;quot;posi&amp;quot;: null,&#xA;            &amp;quot;cod_producto&amp;quot;: &amp;quot;106470&amp;quot;,&#xA;            &amp;quot;ruta_img&amp;quot;: &amp;quot;....&amp;quot;&#xA;        }&#xA;    ],&#xA;    &amp;quot;first_page_url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=1&amp;quot;,&#xA;    &amp;quot;from&amp;quot;: 1,&#xA;    &amp;quot;last_page&amp;quot;: 283,&#xA;    &amp;quot;last_page_url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=283&amp;quot;,&#xA;    &amp;quot;links&amp;quot;: [&#xA;        {&#xA;            &amp;quot;url&amp;quot;: null,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;&amp;amp;laquo; Previous&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: false&#xA;        },&#xA;        {&#xA;            &amp;quot;url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=1&amp;quot;,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;1&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: true&#xA;        },&#xA;        {&#xA;            &amp;quot;url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=2&amp;quot;,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;2&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: false&#xA;        },&#xA;       &#xA;        .&#xA;    .&#xA;    .&#xA;    .&#xA;    .&#xA;        {&#xA;            &amp;quot;url&amp;quot;: &amp;quot;http://localhost/...../productoCatSola?page=10&amp;quot;,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;10&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: false&#xA;        },&#xA;        {&#xA;            &amp;quot;url&amp;quot;: null,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;...&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: false&#xA;        },&#xA;        &#xA;        {&#xA;            &amp;quot;url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=2&amp;quot;,&#xA;            &amp;quot;label&amp;quot;: &amp;quot;Next &amp;amp;raquo;&amp;quot;,&#xA;            &amp;quot;active&amp;quot;: false&#xA;        }&#xA;    ],&#xA;    &amp;quot;next_page_url&amp;quot;: &amp;quot;http://localhost/..../productoCatSola?page=2&amp;quot;,&#xA;    &amp;quot;path&amp;quot;: &amp;quot;http://localhost/...../productoCatSola&amp;quot;,&#xA;    &amp;quot;per_page&amp;quot;: 15,&#xA;    &amp;quot;prev_page_url&amp;quot;: null,&#xA;    &amp;quot;to&amp;quot;: 15,&#xA;    &amp;quot;total&amp;quot;: 4239&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;yo antes accedia, dentro del each. como&#xA;item['ruta_img'], y ahora no sabria como acceder.&#xA;como puedo hacerlo? gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""215130"" LastEditorUserId=""215130"" LastEditDate=""2021-06-13T22:38:55.853"" LastActivityDate=""2021-06-13T22:38:55.853"" Title=""paginacion en consulta ajax"" Tags=""&lt;jquery&gt;&lt;laravel&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""467929"" PostTypeId=""1"" AcceptedAnswerId=""467947"" CreationDate=""2021-07-09T18:35:37.167"" Score=""1"" ViewCount=""201"" Body=""&lt;p&gt;Estoy haciendo resolviendo una petición a una llamada ajax, pero no entiendo porqué me está regresando el objeto promesa con pending, si la llamada Ajax me regresa de forma exitosa los datos.&lt;/p&gt;&#xA;&lt;p&gt;Aquí mi código&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;        getQuote: function(uniqueid){&#xA;            let urlAjax = this.endpoint;&#xA;            return new Promise((resolve,reject) =&amp;gt; {&#xA;                $.ajax({&#xA;                    url: urlAjax,&#xA;                    data: {unique: uniqueid},&#xA;                    method: &amp;quot;GET&amp;quot;&#xA;                })&#xA;                .done(result =&amp;gt; {&#xA;                    resolve(result);&#xA;                })&#xA;                .fail(reject)&#xA;            });&#xA;        },&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;La forma en la que quiero obtener la información de la promesa:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var testQuote = this.getQuote(this.uniqueid);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;el resultado con console.log:&lt;/p&gt;&#xA;&lt;p&gt;Un objeto promesa.&lt;/p&gt;&#xA;&lt;p&gt;He intentado también con una función async y utilizando await, pero regresa lo mismo, también con Promise.resolve() y lo mismo&lt;/p&gt;&#xA;&lt;p&gt;Espero puedan ayudarme, gracias!&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;ACTUALIZACIÓN&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Acabo de hacer una función async extra para poder esperar 2 veces la llamada, y descubrí esto:&lt;/p&gt;&#xA;&lt;p&gt;En este console log si me imprime el arreglo de datos&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;fetchQuote: async function($uniqueid){&#xA;            const data = await this.getQuote($uniqueid);&#xA;            console.log(data);&#xA;            return data;&#xA;        },&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;y cuando hago esto:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var testQuote = this.fetchQuote(this.uniqueid);&#xA; console.log(testQuote);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Me imprime la promesa en pending! como puede ser eso posible?&lt;/p&gt;&#xA;"" OwnerUserId=""183136"" LastEditorUserId=""183136"" LastEditDate=""2021-07-09T19:21:34.223"" LastActivityDate=""2021-07-09T19:58:26.447"" Title=""Promise regresa un objeto y se queda en Pending"" Tags=""&lt;ajax&gt;&lt;promesas&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""471082"" PostTypeId=""1"" CreationDate=""2021-07-25T22:39:48.477"" Score=""1"" ViewCount=""55"" Body=""&lt;p&gt;Me dijeron que con ajax se podia hacer esto de validar con javascript para luego mandar por php datos a una base de datos, pero estoy medio perdido y no se si esta es la forma que se deberia hacer, en el siguiente codigo me pasa que el if para validar uno de los input vacios, siempre me tira como que esta vacio, haya texto ingresado o no, y esto hace que no se puedan mandar los datos a la base datos&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form action=&amp;quot;Registro.php&amp;quot; method=&amp;quot;POST&amp;quot; id=&amp;quot;formAjax&amp;quot;&amp;gt;&#xA;  &amp;lt;div class=&amp;quot;titulo&amp;quot;&amp;gt;&amp;lt;h2&amp;gt;Registrarse&amp;lt;/h2&amp;gt;&amp;lt;/div&amp;gt;&#xA;  &amp;lt;div class=&amp;quot;form-container&amp;quot;&amp;gt;&#xA;&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;nombre&amp;quot; class= &amp;quot;input&amp;quot; placeholder=&amp;quot;Nombre&amp;quot; id=&amp;quot;nombre&amp;quot; value=&amp;quot;&amp;lt;?php if (isset($_POST['nombre'])){&#xA;echo $_POST['nombre'];&#xA;} ?&amp;gt;&amp;quot;&amp;gt;&#xA;&amp;lt;button type=&amp;quot;submit&amp;quot; name=&amp;quot;boton&amp;quot; id=&amp;quot;Enviar&amp;quot; &amp;gt;Registrsarse&amp;lt;/button&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;/form&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Codigo JavaScript&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;const nombre = document.getElementById('nombre');&#xA;&#xA;const nombreValor = nombre.value;&#xA;&#xA;&#xA;function checkInputs (input){&#xA;  input.classList+=' success';&#xA;&#xA;}&#xA;&#xA;$('#Enviar').on(&amp;quot;click&amp;quot;,function (event){&#xA;    event.preventDefault();&#xA;if (nombreValor.length == 0 || nombreValor =='') {&#xA;checkInputs(nombre);&#xA; }else {&#xA;    $.ajax({&#xA;        url:'includes/Reg.php',&#xA;        type: 'POST',&#xA;        data: $('#formAjax').serialize(),&#xA;    })&#xA;&#xA;    .done(function (res){&#xA;        $('#respuesta').html(res)&#xA;    })&#xA;    .fail(function (){&#xA;        console.log(&amp;quot;error&amp;quot;);&#xA;    })&#xA;    .always(function (){&#xA;        console.log(&amp;quot;complete&amp;quot;);&#xA;    })&#xA; &#xA;}&#xA; &#xA; })&#xA;&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""231162"" LastActivityDate=""2021-07-26T00:48:58.220"" Title=""Tengo un problema con este formulario, al momento de usar ajax el if que valida si esta vacio o no, lo toma como vacio aunque el input tenga texto"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""476635"" PostTypeId=""1"" CreationDate=""2021-08-12T18:30:52.347"" Score=""1"" ViewCount=""430"" Body=""&lt;p&gt;Intento enviar una petición AJAX a una página PHP. La respuesta es &amp;quot;sucess&amp;quot; pero no la capturo correctamente en el archivo PHP, he intentado con varios formatos, ya que me interesa la respuesta y no lo que envío, solo capturar la petición y contestarla, y no soy capaz de capturarla correctamente. Mi código es el siguiente:&lt;/p&gt;&#xA;&lt;p&gt;Archivo PHP&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;include 'conn_esp.php';&#xA;$pais ='a';&#xA; $conn = connection();&#xA;&#xA; if(isset($_POST['pidiendoluz'])){&#xA;&#xA;    $pais = 'guay';&#xA;    $pais = $_POST['pidiendoluz'];&#xA;    echo '&amp;lt;br&amp;gt;'.$pais ;&#xA;}&#xA;echo '&amp;lt;br&amp;gt;'.$pais ;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;Archivo JS:&lt;/p&gt;&#xA;&lt;p&gt;$(document).ready(function () {&#xA;var pidiendoluz = &amp;quot;urug&amp;quot;;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;  $(&amp;quot;#pidiendoluz&amp;quot;).click(function () {&#xA;    var jsxhr = $.ajax({&#xA;      url: &amp;quot;RecibiendoPeticion.php&amp;quot;,&#xA;      type: &amp;quot;POST&amp;quot;,&#xA;      //contentType: &amp;quot;application/x-www-form-urlencoded&amp;quot;,&#xA;      //contentType:'text/plain',&#xA;      data: pidiendoluz,&#xA;      beforeSend: function () {&#xA;        alert(pidiendoluz);&#xA;      },&#xA;      success: function () {&#xA;        alert(&amp;quot;sucess&amp;quot;);&#xA;      },&#xA;    });&#xA;&#xA;    jsxhr.fail(function (jqXHR, textStatus, errorThrown) {&#xA;      if (jqXHR.status === 0) {&#xA;        alert(&amp;quot;Not connect: Verify Network.&amp;quot;);&#xA;      } else if (jqXHR.status == 404) {&#xA;        alert(&amp;quot;Requested page not found [404]&amp;quot;);&#xA;      } else if (jqXHR.status == 500) {&#xA;        alert(&amp;quot;Internal Server Error [500].&amp;quot;);&#xA;      } else if (textStatus === &amp;quot;parsererror&amp;quot;) {&#xA;        alert(&amp;quot;Requested JSON parse failed.&amp;quot;);&#xA;      } else if (textStatus === &amp;quot;timeout&amp;quot;) {&#xA;        alert(&amp;quot;Time out error.&amp;quot;);&#xA;      } else if (textStatus === &amp;quot;abort&amp;quot;) {&#xA;        alert(&amp;quot;Ajax request aborted.&amp;quot;);&#xA;      } else {&#xA;        alert(&amp;quot;Uncaught Error: &amp;quot; + jqXHR.responseText);&#xA;      }&#xA;    });&#xA;  }); // end #pidiendoluz&#xA;&#xA;  &#xA;}); //end doc.ready&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""208790"" LastActivityDate=""2021-08-13T21:07:21.750"" Title=""Como capturar una petición AJAX - JQuery con PHP"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""482215"" PostTypeId=""1"" AcceptedAnswerId=""482223"" CreationDate=""2021-09-04T09:31:19.367"" Score=""2"" ViewCount=""1401"" Body=""&lt;p&gt;He estado buscando por stack overflow respuestas a esta pregunta y no lo encuentro. Si es cierto que hay múltiples preguntas referidas a buscadores en tiempo real, pero ninguna en la que se pueda clicar en los resultados. Yo ya tengo el buscador realizado, pero quiero que cuando pinches en los resultado ocurra algo. Como en Instagram cuando buscas a un usuario, te salen varias opciones y cuando pulsas te lleva al perfil de esa persona. Muchas gracias de antemano.&#xA;Esto es lo que tengo hecho:&#xA;Este el el html del buscador y el script:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&amp;quot;lateral2&amp;quot;&amp;gt;&#xA;              &amp;lt;h1&amp;gt;Buscador&amp;lt;/h1&amp;gt;&#xA;              &amp;lt;div class=&amp;quot;form-1-2&amp;quot;&amp;gt;&#xA;                &amp;lt;label for=&amp;quot;buscador&amp;quot;&amp;gt;Buscar:&amp;lt;/label&amp;gt;&#xA;                &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;buscador&amp;quot; id=&amp;quot;buscador&amp;quot;&amp;gt;&amp;lt;/input&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;              &amp;lt;div id=&amp;quot;datos&amp;quot;&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;script&amp;gt;&#xA;          $(buscar_datos());&#xA;          function buscar_datos(consulta){&#xA;            $.ajax({&#xA;              url: 'buscar.php',&#xA;              type: 'POST',&#xA;              dataType: 'html',&#xA;              data: {consulta: consulta},&#xA;            })&#xA;            .done(function(respuesta){&#xA;              $(&amp;quot;#datos&amp;quot;).html(respuesta);&#xA;            })&#xA;            .fail(function(){&#xA;              console.log(&amp;quot;error&amp;quot;);&#xA;            })&#xA;          }&#xA;          $(document).on('keyup', '#buscador', function(){&#xA;            var valor = $(this).val();&#xA;            if(valor != &amp;quot;&amp;quot;){&#xA;              buscar_datos(valor);&#xA;            }else{&#xA;              buscar_datos();&#xA;            }&#xA;          });&#xA;        &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y este es el archivo buscar.php:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$conn = mysqli_connect(&#xA;    'localhost',&#xA;    'root',&#xA;    '',&#xA;    'crapping',&#xA;);&#xA;&#xA;$salida = &amp;quot;&amp;quot;;&#xA;$query = &amp;quot;SELECT * FROM grupos&amp;quot;;&#xA;if(isset($_POST['consulta'])){&#xA;    $q = $conn-&amp;gt;real_escape_string($_POST['consulta']);&#xA;    $query = &amp;quot;SELECT g.nombre, u.nombre FROM grupos AS g INNER JOIN usuarios AS u WHERE u.nombre LIKE '%&amp;quot;.$q.&amp;quot;%' OR g.nombre LIKE '%&amp;quot;.$q.&amp;quot;%'&amp;quot;;&#xA;}&#xA;&#xA;$resultado = $conn-&amp;gt;query($query);&#xA;if($resultado-&amp;gt;num_rows&amp;gt;0){&#xA;    $salida.=&amp;quot;&amp;lt;table class='tabla_datos'&amp;gt;&#xA;                &amp;lt;tbody&amp;gt;&amp;quot;;&#xA;&#xA;    while($fila = $resultado-&amp;gt;fetch_assoc()){&#xA;        $salida.=&amp;quot;&amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;&amp;lt;button id=fila1&amp;gt;&amp;quot;.$fila['nombre'].&amp;quot;&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&amp;quot;;&#xA;    }&#xA;    &#xA;    $salida.=&amp;quot;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&amp;quot;;&#xA;    echo $salida;&#xA;    &#xA;} else{&#xA;    $salida.=&amp;quot;No hay todavia ningún grupo que se llame así. Puedes buscar por otro nombre o crear uno.&amp;quot;;&#xA;}&#xA;&#xA;$conn-&amp;gt;close();&#xA;&#xA;?&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;    const fila1 = document.getElementById('fila1');&#xA;    fila1.addEventListener('click', () =&amp;gt; {&#xA;        console.log('boton funciona');&#xA;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""233135"" LastEditorUserId=""233135"" LastEditDate=""2021-09-07T14:31:29.700"" LastActivityDate=""2021-09-07T14:31:29.700"" Title=""Realizar un buscador en tiempo real en el que se pueda pinchar en los resultados"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;html&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""482387"" PostTypeId=""1"" CreationDate=""2021-09-05T18:40:51.767"" Score=""1"" ViewCount=""31"" Body=""&lt;p&gt;estoy trabajando en lo siguiente, tengo un formulario con el que quiero realizar una petición asíncrona usando AJAX, tengo un archivo .php donde esta el formulario que consta de un &lt;strong&gt;select&lt;/strong&gt; que mostrará las materias disponibles para ser añadidas a un profesor, por defecto dice &amp;quot;Materia&amp;quot; pero la misma petición se encargará de dejar en blanco ese select cuando lo llene con la información necesaria. El problema es, que la petición al analizar con el navegador si es lanzada, y dice que su estado es 200, pero al revisar la solicitud no muestra nada, y al ver la respuesta, me muestra error 404. Este es el formulario:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;card shadow mb-4&amp;quot;&amp;gt;&#xA;   &amp;lt;!-- Card Header - Accordion --&amp;gt;&#xA;  &amp;lt;a href=&amp;quot;#profesor_materias&amp;quot; class=&amp;quot;d-block card-header py-3&amp;quot; data-toggle=&amp;quot;collapse&amp;quot; role=&amp;quot;button&amp;quot; aria-expanded=&amp;quot;true&amp;quot; aria-controls=&amp;quot;profesor_materias&amp;quot;&amp;gt;&#xA;  &amp;lt;h6 class=&amp;quot;m-0 font-weight-bold text-primary&amp;quot;&amp;gt;Listado de Materias&amp;lt;/h6&amp;gt;&amp;lt;/a&amp;gt;&#xA;  &amp;lt;!-- Card Content - Collapse --&amp;gt;&#xA;    &amp;lt;div class=&amp;quot;collapse show&amp;quot; id=&amp;quot;profesor_materias&amp;quot;&amp;gt;&#xA;        &amp;lt;div class=&amp;quot;card-body&amp;quot;&amp;gt;&#xA;            &amp;lt;form id=&amp;quot;profesor_asignar_materia_form&amp;quot; method=&amp;quot;post&amp;quot;&amp;gt;&#xA;                &amp;lt;?php echo insert_inputs(); ?&amp;gt;&#xA;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;id&amp;quot; value=&amp;quot;&amp;lt;?php echo $d-&amp;gt;p-&amp;gt;id; ?&amp;gt;&amp;quot; required&amp;gt;&#xA;                                    &#xA;            &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xA;                &amp;lt;label for=&amp;quot;materia&amp;quot;&amp;gt;Materias&amp;lt;/label&amp;gt;&#xA;                &amp;lt;select name=&amp;quot;materia&amp;quot; id=&amp;quot;materia&amp;quot; class=&amp;quot;form-control&amp;quot; required&amp;gt;&#xA;                &amp;lt;option value=&amp;quot;&amp;quot;&amp;gt;Materia&amp;lt;/option&amp;gt;&#xA;                &amp;lt;/select&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;button class=&amp;quot;btn btn-success&amp;quot; type=&amp;quot;submit&amp;quot;&amp;gt;Agregar Materia&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/form&amp;gt;&#xA;        &amp;lt;hr&amp;gt;&#xA;   &amp;lt;div class=&amp;quot;wrapper_materias_profesor&amp;quot; data-id=&amp;quot;&amp;lt;?php echo $d-&amp;gt;p-&amp;gt;id; ?&amp;gt;&amp;quot;&amp;gt;&amp;lt;!-- Listado con Ajax --&amp;gt;&amp;lt;/div&amp;gt;&#xA;   &amp;lt;/div&amp;gt;&#xA; &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es el .js:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt; function get_materias_disponibles_profesor() {&#xA;&#xA;    var form            = $('#profesor_asignar_materia_form'),&#xA;    select              = $('select', form),&#xA;    id_profesor         = $('input[name=&quot;id&quot;]', form).val(),&#xA;    wrapper             = $('#profesor_materias'),&#xA;    opciones            = '',&#xA;    action              = 'get',&#xA;    hook                = 'bee_hook';&#xA;&#xA;    if (form.length     == 0) return;&#xA;&#xA;    //Limpiar las opciones al cargar&#xA;    select.html('');&#xA;&#xA;    // AJAX&#xA;    $.ajax({&#xA;      url: 'ajax/get_materias_disponibles_profesor',&#xA;      type: 'get',&#xA;      dataType: 'json',&#xA;      timeout: 3000,&#xA;      data : {&#xA;        '_t': Bee.csrf,&#xA;        id_profesor,&#xA;        action,&#xA;        hook&#xA;      },&#xA;      beforeSend: function() {&#xA;        wrapper.waitMe();&#xA;&#xA;      }&#xA;    }).done(function(res){&#xA;     if(res.status === 200) {&#xA;      if (res.data.length === 0){&#xA;        toastr.error('No hay materias disponibles para el profesor.');&#xA;        select.html('&amp;lt;option disabled selected&quot;&amp;gt;No hay opciones disponibles.&amp;lt;/option&amp;gt;');&#xA;        $('button', form).attr('disabled', true);&#xA;        return;&#xA;      }&#xA;&#xA;      $.each(res.data, function(i, m){&#xA;        opciones += '&amp;lt;option value=&quot;'+m.id+'&quot;&amp;gt;'+m.nombre+'&amp;lt;/option&amp;gt;';&#xA;      });&#xA;&#xA;      select.html(opciones);&#xA;      $('button', form).attr('disabled', false);&#xA;&#xA;    } else {&#xA;      $('button', form).attr('disabled', true);&#xA;      toastr.error(res.msg, 'Ups!')&#xA;    }&#xA;    }).fail(function(err){&#xA;    toastr.error('Hubo un error en la petición.', 'Ups!');&#xA;    $('button', form).attr('disabled', true);&#xA;    }).always(function(){&#xA;    wrapper.waitMe('hide');&#xA;    });  &#xA;  }&#xA;  get_materias_disponibles_profesor();&#xA; // Aqui estaba la funcion&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Este es el backend:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function get_materias_disponibles_profesor()&#xA;{&#xA;  try {&#xA;    if (!check_get_data(['_t', 'id_profesor'], $_GET) || !Csrf::validate($_GET[&amp;quot;_t&amp;quot;])) {&#xA;      throw new Exception(get_notificaciones());&#xA;    }&#xA;&#xA;    $id = clean($_GET[&amp;quot;id_profesor&amp;quot;]);&#xA;&#xA;    if (!$profesor = profesorModel::by_id($id)){&#xA;      throw new Exception('No existe el profesor en la base de datos.');&#xA;    }&#xA;&#xA;    $materias = materiaModel::disponibles_profesor($profesor['id']);&#xA;    json_output(json_build(200, $materias));&#xA;&#xA;  } catch(Exception $e){&#xA;    json_output(json_build(400, null, $e-&amp;gt;getMessage()));&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""56332"" LastActivityDate=""2021-09-05T18:40:51.767"" Title=""Estado del script regresa [200 OK] pero no solicita nada en peticion asíncrona"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""482749"" PostTypeId=""1"" AcceptedAnswerId=""482804"" CreationDate=""2021-09-07T14:33:33.570"" Score=""0"" ViewCount=""299"" Body=""&lt;p&gt;He estado buscando por stack overflow respuestas a esta pregunta y no lo encuentro. Si es cierto que hay múltiples preguntas referidas a buscadores en tiempo real, pero ninguna en la que se pueda clicar en los resultados. Yo ya tengo el buscador realizado, pero quiero que cuando pinches en los resultado ocurra algo. Como en Instagram cuando buscas a un usuario, te salen varias opciones y cuando pulsas te lleva al perfil de esa persona.&#xA;Además, me gustaría saber cómo puedo obtener el id del botón que he pulsado. Muchas gracias de antemano.&#xA;Esto es lo que tengo hecho:&#xA;Este el el html del buscador y el script:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&amp;quot;lateral2&amp;quot;&amp;gt;&#xA;              &amp;lt;h1&amp;gt;Buscador&amp;lt;/h1&amp;gt;&#xA;              &amp;lt;div class=&amp;quot;form-1-2&amp;quot;&amp;gt;&#xA;                &amp;lt;label for=&amp;quot;buscador&amp;quot;&amp;gt;Buscar:&amp;lt;/label&amp;gt;&#xA;                &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;buscador&amp;quot; id=&amp;quot;buscador&amp;quot;&amp;gt;&amp;lt;/input&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;              &amp;lt;div id=&amp;quot;datos&amp;quot;&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;&#xA;        &amp;lt;script&amp;gt;&#xA;          $(buscar_datos());&#xA;          function buscar_datos(consulta){&#xA;            $.ajax({&#xA;              url: 'buscar.php',&#xA;              type: 'POST',&#xA;              dataType: 'html',&#xA;              data: {consulta: consulta},&#xA;            })&#xA;            .done(function(respuesta){&#xA;              $(&amp;quot;#datos&amp;quot;).html(respuesta);&#xA;            })&#xA;            .fail(function(){&#xA;              console.log(&amp;quot;error&amp;quot;);&#xA;            })&#xA;          }&#xA;          $(document).on('keyup', '#buscador', function(){&#xA;            var valor = $(this).val();&#xA;            if(valor != &amp;quot;&amp;quot;){&#xA;              buscar_datos(valor);&#xA;            }else{&#xA;              buscar_datos();&#xA;            }&#xA;          });&#xA;        &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y este es el archivo buscar.php:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;$conn = mysqli_connect(&#xA;    'localhost',&#xA;    'root',&#xA;    '',&#xA;    'crapping',&#xA;);&#xA;&#xA;$salida = &amp;quot;&amp;quot;;&#xA;$query = &amp;quot;SELECT * FROM grupos&amp;quot;;&#xA;if(isset($_POST['consulta'])){&#xA;    $q = $conn-&amp;gt;real_escape_string($_POST['consulta']);&#xA;    $query = &amp;quot;SELECT g.nombre, u.nombre FROM grupos AS g INNER JOIN usuarios AS u WHERE u.nombre LIKE '%&amp;quot;.$q.&amp;quot;%' OR g.nombre LIKE '%&amp;quot;.$q.&amp;quot;%'&amp;quot;;&#xA;}&#xA;&#xA;$resultado = $conn-&amp;gt;query($query);&#xA;if($resultado-&amp;gt;num_rows&amp;gt;0){&#xA;    $salida.=&amp;quot;&amp;lt;table class='tabla_datos'&amp;gt;&#xA;                &amp;lt;tbody&amp;gt;&amp;quot;;&#xA;&#xA;    while($fila = $resultado-&amp;gt;fetch_assoc()){&#xA;        $salida.=&amp;quot;&amp;lt;tr&amp;gt;&#xA;                &amp;lt;td&amp;gt;&amp;lt;button id=fila1&amp;gt;&amp;quot;.$fila['nombre'].&amp;quot;&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;/tr&amp;gt;&amp;quot;;&#xA;    }&#xA;    &#xA;    $salida.=&amp;quot;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&amp;quot;;&#xA;    echo $salida;&#xA;    &#xA;} else{&#xA;    $salida.=&amp;quot;No hay todavia ningún grupo que se llame así. Puedes buscar por otro nombre o crear uno.&amp;quot;;&#xA;}&#xA;&#xA;$conn-&amp;gt;close();&#xA;&#xA;?&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;    const fila1 = document.getElementById('fila1');&#xA;    fila1.addEventListener('click', () =&amp;gt; {&#xA;        console.log('boton funciona');&#xA;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""233135"" LastActivityDate=""2021-09-07T18:07:51.293"" Title=""Realizar un buscador en tiempo real en el que se pueda pinchar en los resultados y obtener su id"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""485832"" PostTypeId=""1"" AcceptedAnswerId=""486642"" CreationDate=""2021-09-22T14:44:16.500"" Score=""0"" ViewCount=""124"" Body=""&lt;p&gt;Tengo los siguientes campo &lt;code&gt;input&lt;/code&gt; al cual envió automáticamente información vía &lt;code&gt;ajax&lt;/code&gt; cuando realizo algún cambio &lt;code&gt;ajax&lt;/code&gt; lo recibe sin ningún problema pero solo funciona con el primer campo &lt;code&gt;input&lt;/code&gt; con el segundo campo &lt;code&gt;input&lt;/code&gt; no funciona, no me actualiza las cantidades de dicho producto, cabe recalcar que pueden ser más campo &lt;code&gt;input&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Otro problema es que no detecta cambio cuando utilizo el botón &lt;a href=&quot;https://es.stackoverflow.com/questions/485750/aumentar-o-disminuir-valores-en-el-campo-input-no-funciona-al-cambiar-el-orden-d/485755#485755&quot;&gt;disminuir o incrementar&lt;/a&gt; es decir que no se ejecuta &lt;code&gt;ajax&lt;/code&gt; solamente se ejecuta cuando existe manipulación de la entrada del campo &lt;code&gt;input&lt;/code&gt; manualmente.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;bsk-quantity&amp;quot;&amp;gt;&#xA;    &amp;lt;input id=&amp;quot;quantity&amp;quot;&#xA;        type=&amp;quot;text&amp;quot;&#xA;        name=&amp;quot;qtyupdate[1][color-blue][XXL]&amp;quot;&#xA;        value=&amp;quot;1&amp;quot;&#xA;        class=&amp;quot;quantity&amp;quot;&#xA;        autocomplete=&amp;quot;off&amp;quot;&#xA;        data-validation=&amp;quot;number&amp;quot;&#xA;        data-validation-allowing=&amp;quot;float&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;+&amp;quot; class=&amp;quot;plus&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;-&amp;quot; class=&amp;quot;min&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;div class=&amp;quot;bsk-quantity&amp;quot;&amp;gt;&#xA;    &amp;lt;input id=&amp;quot;quantity&amp;quot;&#xA;        type=&amp;quot;text&amp;quot;&#xA;        name=&amp;quot;qtyupdate[1][color-red][XL]&amp;quot;&#xA;        value=&amp;quot;1&amp;quot;&#xA;        class=&amp;quot;quantity&amp;quot;&#xA;        autocomplete=&amp;quot;off&amp;quot;&#xA;        data-validation=&amp;quot;number&amp;quot;&#xA;        data-validation-allowing=&amp;quot;float&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;+&amp;quot; class=&amp;quot;plus&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;-&amp;quot; class=&amp;quot;min&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es mi código &lt;code&gt;ajax&lt;/code&gt; estoy utilizando &lt;code&gt;jQuery&lt;/code&gt;, ¿Qué cambios debo emplear para que funcione correctamente y, no presente los problemas que estoy presentando?&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    $(document).ajaxStop(function(){&#xA;&#xA;        $('#quantity').keyup(function(evt) {&#xA;            evt.preventDefault();&#xA;&#xA;            var formData = [];&#xA;            $('input[name^=&amp;quot;qtyupdate&amp;quot;]').each(function() {&#xA;                formData.push(this.value);&#xA;            });&#xA;            var formData = $(this).serializeArray();&#xA;&#xA;            var url = &amp;quot;/item_cart.php&amp;quot;;&#xA;            $.ajax({&#xA;                url: url,&#xA;                type: &amp;quot;POST&amp;quot;,&#xA;                data: formData,&#xA;                cache: false,&#xA;            })&#xA;            .done(function(data) {&#xA;                let res = JSON.parse(data);&#xA;                if(res.status){&#xA;                    $(&amp;quot;#wrapp-basket&amp;quot;).load(&amp;quot; #wrapp-basket&amp;quot;).fadeIn('slow');&#xA;                    $(&amp;quot;#qty&amp;quot;).load(&amp;quot; #qty&amp;quot;).fadeIn('slow');&#xA;                    $('.success').fadeIn();&#xA;                    $('.success').html(res.message).delay(2000).fadeOut(2000);&#xA;                    $.getScript(&amp;quot;/assets/js/ajax_coupon.min.js&amp;quot;);&#xA;                    //return false&#xA;                } else {&#xA;                    $('.error').fadeIn();&#xA;                    $('.error').html(res.message).delay(2000).fadeOut(2000);&#xA;                }&#xA;            })&#xA;            .fail(function( jqXHR, textStatus ) {&#xA;                console.log(jqXHR.responseText);&#xA;                console.log(&amp;quot;Request failed: &amp;quot; + textStatus );&#xA;            })&#xA;        });&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Los &lt;code&gt;input&lt;/code&gt; pueden ser varios ya que es un &lt;code&gt;input&lt;/code&gt; que se genera automáticamente por cada producto agregado al carro de la compra, por decir si agrego 20 productos al carro de la compra se me va generar 20 &lt;code&gt;input&lt;/code&gt; ya que el mismo es el encargado de actualizar cuantas unidades quiere por cada producto. También existe una clase con el mismo nombre por si de utilidad &lt;code&gt;class=&amp;quot;quantity&amp;quot;&lt;/code&gt; adjunto imagen como referencia.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/BCkPF.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/BCkPF.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""95452"" LastEditorUserId=""95452"" LastEditDate=""2021-09-24T19:23:08.827"" LastActivityDate=""2021-09-25T22:00:40.293"" Title=""¿Cómo enviar datos automáticamente al manipular el campo input al igual que los botones AJAX?"" Tags=""&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""487243"" PostTypeId=""1"" CreationDate=""2021-09-28T20:13:03.413"" Score=""5"" ViewCount=""88"" Body=""&lt;p&gt;Necesito eliminar un registro con &lt;code&gt;idPago&lt;/code&gt; que viene al hacer clic en un botón desde &lt;code&gt;contentDefault&lt;/code&gt; en una columna de un &lt;a href=&quot;https://datatables.net/&quot; rel=&quot;nofollow noreferrer&quot;&gt;DataTable&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Los datos que envío desde JavaScript los obtengo con dos funciones que muestro a continuación:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function getDataFromButton(button) {&#xA;    row = $(button).parents(&amp;quot;tr&amp;quot;);&#xA;    data = $(&amp;quot;#payments_table&amp;quot;).DataTable().row(row).data()&#xA;    return data; // Mi data sería toda la fila de información de ese registro&#xA;}&#xA;&#xA;function eliminar(button){&#xA;    data = getDataFromButton(button); // Mi data sería data.idPago ej &amp;quot;2553&amp;quot;&#xA;    $.ajax({&#xA;        url: &amp;quot;eliminar_pago.php&amp;quot;,&#xA;        data:data, &#xA;        type:&amp;quot;POST&amp;quot;,&#xA;        dataType:&amp;quot;json&amp;quot;&#xA;    }).done(function(data) {&#xA;        if (data.estado) {&#xA;        console.log(&amp;quot;JALA&amp;quot;);&#xA;    } else {&#xA;        console.log(&amp;quot;NO JALA&amp;quot;);&#xA;    }&#xA;    }).fail(function(jqXHR) {&#xA;        console.log(jqXHR.statusText);&#xA;    });&#xA;    return false;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;En mi archivo &lt;code&gt;eliminar_pago.php&lt;/code&gt; tengo el siguiente código:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    session_start();&#xA;    # INCLUDES&#xA;    include(&amp;quot;database/database.php&amp;quot;);&#xA;    include(&amp;quot;models/response.php&amp;quot;);&#xA;    # SENTENCIA PHP MYSQL&#xA;    $response = new Response();&#xA;    $pagoEliminar = $POST['idPago'];&#xA;&#xA;    if(!empty($_POST['idPago'])) {&#xA;        $stmt_mysql = &amp;quot;DELETE FROM pagos WHERE idPago = '$pagoEliminar'&amp;quot;;&#xA;        $t_mysql = mysqli_query($mysql_conexion_pb, $stmt_mysql);&#xA;    }&#xA;&#xA;    if($t_mysql) {&#xA;        $response-&amp;gt;estado = true;&#xA;        $response-&amp;gt;mensajeError = &amp;quot;Pago eliminado&amp;quot;;&#xA;    } else{ &#xA;        $response-&amp;gt;estado = false;&#xA;        $response-&amp;gt;mensajeError = &amp;quot;Pago no eliminado&amp;quot;;&#xA;    }&#xA;    echo json_encode($response);&#xA;?&amp;gt; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como quien dice, ahora sí me estresé.&lt;/p&gt;&#xA;&lt;p&gt;No doy de cómo pasar la variable &lt;code&gt;data.idPago&lt;/code&gt; por &lt;code&gt;POST&lt;/code&gt; para que se lea como un &lt;code&gt;$_POST['idPago']&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;¿Cómo se puede realizar eso? Lo he intentando, todo se va por fallo del XHR.&lt;/p&gt;&#xA;"" OwnerUserId=""221209"" LastEditorUserId=""18608"" LastEditDate=""2021-09-28T21:36:32.207"" LastActivityDate=""2021-09-29T16:32:28.820"" Title=""Eliminar un registro enviado por XHR"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""490323"" PostTypeId=""1"" AcceptedAnswerId=""490883"" CreationDate=""2021-10-13T16:19:58.180"" Score=""2"" ViewCount=""444"" Body=""&lt;p&gt;Buen dia a todos, tengo un problema con la siguiente función la cual por medio de Ajax hago una consulta a mi backend(SpringBoot) enviandole un &amp;quot;id&amp;quot; para validar si existe ese registro, pero la respuesta que recibo siempre es por mi request.fail, y solo muestra el emnsaje del alert(&amp;quot;Request failed:error&amp;quot;).&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function consulta(){        &#xA;    var id=parseInt(document.getElementById(&amp;quot;n1&amp;quot;).value)&#xA;    alert(&amp;quot;codigo a consultar: &amp;quot;+id)            &#xA;    var request=$.ajax({&#xA;        url: &amp;quot;http://localhost:5000/productos/existe&amp;quot;,&#xA;        type : &amp;quot;GET&amp;quot;,&#xA;        data : {&#xA;            &amp;quot;id&amp;quot;:id&#xA;        },&#xA;        //processData: false,&#xA;        //contentType: false,&#xA;        cache: false,&#xA;        timeout: 600000,&#xA;        dataType: &amp;quot;json&amp;quot;,&#xA;    });&#xA;    request.done(function(data) &#xA;    {&#xA;        alert(&amp;quot;prueba en el done&amp;quot;);&#xA;        $(&amp;quot;#rta&amp;quot;).text(data);            &#xA;    });             &#xA;    request.fail(function( e,textStatus ) &#xA;    {&#xA;        alert( &amp;quot;Request failed: &amp;quot; +textStatus );&#xA;        $(&amp;quot;#rta&amp;quot;).text(textStatus);&#xA;    }); &#xA;    &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Verifique en mi Backend  colocando mensajes en consola y el dato de consulta llega correctamente, la consulta se realiza  a la BDy muestra cuando se encuentra el registro y cuando no existe, tal como tengo los System.out.print(&amp;quot;&amp;quot;) en el backend.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;@GetMapping(path=&amp;quot;/existe&amp;quot;)&#xA;public @ResponseBody ResponseEntity validarExistencia(@RequestParam(value=&amp;quot;id&amp;quot;)long codigo) {&#xA;    System.out.println(&amp;quot;Backend. codigo consultado es: &amp;quot;+codigo);&#xA;    ResponseEntity respuesta=null;&#xA;    if(servicio.consultarExistenciaProductoServicio(codigo)) {&#xA;        System.out.println(&amp;quot;encontrado codigo&amp;quot;);&#xA;        respuesta= new ResponseEntity(HttpStatus.OK);&#xA;    }&#xA;    else {&#xA;        System.out.println(&amp;quot;no existe codigo&amp;quot;);&#xA;        respuesta= new ResponseEntity(HttpStatus.NOT_FOUND);&#xA;    }&#xA;    return respuesta;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Entonces aislando todo mi problema es que mi ajax no esta resiviendo mi ResponseEntity y la verdad de Ajax o javascript no se nada, ayuda porfa :(&lt;/p&gt;&#xA;"" OwnerUserId=""99666"" LastEditorUserId=""99666"" LastEditDate=""2021-10-13T16:34:05.620"" LastActivityDate=""2021-10-15T19:46:49.913"" Title=""conectar Ajax con backend-SpringBoot"" Tags=""&lt;java&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;backend&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""501644"" PostTypeId=""1"" AcceptedAnswerId=""501684"" CreationDate=""2021-12-06T14:41:37.140"" Score=""0"" ViewCount=""136"" Body=""&lt;p&gt;tengo un upload de archivos que eestoy manejando con ajax de jquery los datos se obtienen bien pero al insertarlos en en una variable con form siempre duplica el elemento impar que se adjunta pienso que el problema sea por no resetear el formulario como puedo solucionarlo dejo el código.&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function(){&#xA;          $('.file_drag_area').on('dragover', function(){&#xA;               $(this).addClass('file_drag_over');&#xA;               return false;&#xA;          });&#xA;          $('.file_drag_area').on('dragleave', function(){&#xA;               $(this).removeClass('file_drag_over');&#xA;               return false;&#xA;          });&#xA;          $('.file_drag_area').on('drop', function(e){&#xA;               e.preventDefault();&#xA;               $(this).removeClass('file_drag_over');&#xA;               var formData = new FormData();&#xA;               var files_list = e.originalEvent.dataTransfer.files;&#xA;               //console.log(files_list);&#xA;               for(el of files_list)&#xA;               {&#xA;                    formData.append('file[]', el); // pienso que el problema sea aqui al insertar los archivos, pero no puedo acceder a ellos para verificarlos&#xA;                    formData.append('action', 'upload');&#xA;                    wrapper      = $('.wrapper'),&#xA;                    progress_bar = $('.progress_bar'),&#xA;                    progress_text = $('.progress_text'),&#xA;                    data         = formData;&#xA;&#xA;                    /////////////////////Inicializando la barra de progreso//////////////////////&#xA;&#xA;                    $.ajax({&#xA;                      xhr:function () {&#xA;                        let xhr = new window.XMLHttpRequest();&#xA;                        xhr.upload.addEventListener('progress', function (e) {&#xA;                          if (e.lengthComputable) {&#xA;                            let percentComplete = Math.floor((e.loaded / e.total) * 100);&#xA;                            progress_bar.css('width', percentComplete+'%');&#xA;                            progress_text.html(percentComplete+'%');&#xA;                          }&#xA;                        }, false);&#xA;                        return xhr;&#xA;                      },&#xA;                      url:&quot;upload.php&quot;,&#xA;                        method:&quot;POST&quot;,&#xA;                      dataType: &quot;json&quot;,&#xA;                      contentType: false,&#xA;                      processData: false,&#xA;                      cache: false,&#xA;                        data:data,&#xA;                        beforeSend: () =&amp;gt; {&#xA;                        $('.submit1').attr('disabled', true);&#xA;                        $('#uploaded_file').append(&quot;&amp;lt;li class='attachment-1' id='temp'&amp;gt;&amp;lt;div class='attachment-preview'&amp;gt;&amp;lt;div class='thumbnail' style='height: 125px'&amp;gt;&amp;lt;div class='wrapper mt-5' style='display: none;'&amp;gt;&amp;lt;div class='progress progress_grapper'&amp;gt;&amp;lt;div class='progress_text'&amp;gt;0%&amp;lt;/div&amp;gt;&amp;lt;div class='progress-bar progress-bar-striped bg-info progress-bar-animated progress_bar' role='progressbar' style='width: 0%;'&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/li&amp;gt;&quot;);&#xA;                        progress_bar.removeClass('bg_succes bg_danger').addClass('bg_info');&#xA;                        wrapper.fadeIn();&#xA;                        progress_bar.css('width', '0%');&#xA;                        progress_text.html('Preparando...').delay(5000);&#xA;                        console.log(data.serialize());&#xA;                      }&#xA;                    }).done(res =&amp;gt;{&#xA;                      if (res.status == 200) {&#xA;                        progress_bar.removeClass('bg_info').addClass('bg_succes');&#xA;                        progress_text.html('¡Listo!');&#xA;                        //formData.empty();&#xA;                        //$('#uploaded_file').empty();&#xA;                        $('#temp').remove();&#xA;                        $('#uploaded_file').prepend(res.data);&#xA;&#xA;                        setTimeout(() =&amp;gt; {&#xA;                          wrapper.fadeOut(50);&#xA;                          progress_bar.removeClass('bg_succes bg_danger').addClass('bg_info');&#xA;                          progress_bar.css('width', '0%');&#xA;                        }, 1500);&#xA;                      } else {&#xA;                        alert(res.msg);&#xA;                        progress_bar.css('width', '0%');&#xA;                        progress_text.html(res.msg);&#xA;                        setTimeout(() =&amp;gt; {&#xA;                          wrapper.fadeOut(50);&#xA;                          progress_bar.removeClass('bg_succes bg_danger').addClass('bg_info');&#xA;                          progress_bar.css('width', '0%');&#xA;                        }, 1500);&#xA;                      }&#xA;                    }).fail(err =&amp;gt; {&#xA;                      progress_bar.removeClass('bg_succes bg_info').addClass('bg_danger');&#xA;                      progress_text.html('¡Hubo un error!');&#xA;                      setTimeout(() =&amp;gt; {&#xA;                        wrapper.fadeOut(50);&#xA;                        progress_bar.removeClass('bg_succes bg_danger').addClass('bg_info');&#xA;                        progress_bar.css('width', '0%');&#xA;                      }, 1500);&#xA;                    }).always(() =&amp;gt; {&#xA;                      $('.submit1').attr('disabled', false);&#xA;                      setTimeout(() =&amp;gt; {&#xA;                        wrapper.fadeOut(50);&#xA;                        progress_bar.removeClass('bg_succes bg_danger').addClass('bg_info');&#xA;                        progress_bar.css('width', '0%');&#xA;                      }, 1500);&#xA;                    });&#xA;                    formData.trigger.reset();&#xA;               }&#xA;          });&#xA;     });&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-css lang-css prettyprint-override&quot;&gt;&lt;code&gt;.container{&#xA;  background: c0c0c0;&#xA;}&#xA;.file_drag_area {&#xA;    width: 100%;&#xA;    min-height: 300px;&#xA;    border: 4px dashed rgba(248, 248, 248, 0.25);&#xA;    text-align: center;&#xA;    font-size: 24px;&#xA;    color: rgba(255, 255, 255, 0.95);&#xA;    vertical-align: middle;&#xA;    margin: 15px 0 15px 0;&#xA;}&#xA;.file_drag_over {&#xA;    color: #000;&#xA;    border-color: #000;&#xA;    background: rgba(0, 153, 204, 0.73);&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;  &amp;lt;div class=&quot;container&quot;&amp;gt;&#xA;      &amp;lt;div class=&quot;file_drag_area&quot;&amp;gt;&#xA;                 Arrastre aquí los archivos para subirlos.&#xA;            &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""194124"" LastActivityDate=""2021-12-06T17:20:43.053"" Title=""datos duplicados en upload de archivos con ajax"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;subida-de-archivos&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""503585"" PostTypeId=""1"" AcceptedAnswerId=""503598"" CreationDate=""2021-12-15T23:31:34.347"" Score=""1"" ViewCount=""370"" Body=""&lt;p&gt;Teniendo la siguiente tabla HTML&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot; crossorigin=&quot;anonymous&quot;&amp;gt;&#xA;&#xA;&amp;lt;table class=&quot;table&quot;&amp;gt;&#xA;  &amp;lt;thead&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;ID&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;First&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;Last&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;Action&amp;lt;/th&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;  &amp;lt;/thead&amp;gt;&#xA;  &amp;lt;tbody&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;row&quot;&amp;gt;1&amp;lt;/th&amp;gt;&#xA;      &amp;lt;td&amp;gt;Mark&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;Otto&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;&#xA;        &amp;lt;div class=&quot;form-check form-switch&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; role=&quot;switch&quot; id=&quot;miCheck&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/td&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;row&quot;&amp;gt;2&amp;lt;/th&amp;gt;&#xA;      &amp;lt;td&amp;gt;Jacob&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;Thornton&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;&#xA;        &amp;lt;div class=&quot;form-check form-switch&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; role=&quot;switch&quot; id=&quot;miCheck&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/td&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;  &amp;lt;/tbody&amp;gt;&#xA;&amp;lt;/table&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Necesito que al cambiar el valor del swith a &lt;code&gt;checked&lt;/code&gt; se haga un llamado a una función con AJAX y este pase los datos a un documento PHP. Pero no logro que el resultado sea &lt;code&gt;Done&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Por lo tanto hago lo siguiente:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(document).ready(function() {&#xA;  $(&quot;.form-check-input&quot;).on('change', function postinput() {&#xA;    var matchvalue = $(this).val(); // this.value&#xA;    $.ajax({&#xA;      url: 'validar.php',&#xA;      data: {&#xA;        matchvalue: matchvalue&#xA;      },&#xA;      type: 'post'&#xA;    }).done(function(responseData) {&#xA;      console.log('Done: ', responseData);&#xA;    }).fail(function() {&#xA;      console.log('Failed');&#xA;    });&#xA;  });&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&#xA;&amp;lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xA;&#xA;&amp;lt;table class=&quot;table&quot;&amp;gt;&#xA;  &amp;lt;thead&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;ID&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;First&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;Last&amp;lt;/th&amp;gt;&#xA;      &amp;lt;th scope=&quot;col&quot;&amp;gt;Action&amp;lt;/th&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;  &amp;lt;/thead&amp;gt;&#xA;  &amp;lt;tbody&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;row&quot;&amp;gt;1&amp;lt;/th&amp;gt;&#xA;      &amp;lt;td&amp;gt;Mark&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;Otto&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;&#xA;        &amp;lt;div class=&quot;form-check form-switch&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; role=&quot;switch&quot; name=&quot;miswitch&quot; onchange=&quot;postinput()&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/td&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;tr&amp;gt;&#xA;      &amp;lt;th scope=&quot;row&quot;&amp;gt;2&amp;lt;/th&amp;gt;&#xA;      &amp;lt;td&amp;gt;Jacob&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;Thornton&amp;lt;/td&amp;gt;&#xA;      &amp;lt;td&amp;gt;&#xA;        &amp;lt;div class=&quot;form-check form-switch&quot;&amp;gt;&#xA;          &amp;lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; role=&quot;switch&quot; name=&quot;miswitch&quot; onchange=&quot;postinput()&quot;&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/td&amp;gt;&#xA;    &amp;lt;/tr&amp;gt;&#xA;  &amp;lt;/tbody&amp;gt;&#xA;&amp;lt;/table&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Como pueden ver siempre me retorna &lt;code&gt;Failed&lt;/code&gt; en consola&lt;/p&gt;&#xA;&lt;p&gt;El archivo validar.php es tan sencillo como&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$entry = $_POST['matchvalue'];&#xA;$conn-&amp;gt;query(&amp;quot;UPDATE matches SET grp = '$entry' WHERE mid = 'm1'&amp;quot;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""123191"" LastActivityDate=""2021-12-16T00:34:30.457"" Title=""Evento AJAX al cambiar Switch de Bootstrap 5"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;bootstrap&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""505593"" PostTypeId=""1"" CreationDate=""2021-12-22T12:59:52.853"" Score=""0"" ViewCount=""30"" Body=""&lt;p&gt;Tengo el siguiente código html&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;                            &amp;lt;div class=&amp;quot;col-xs-12 col-sm-6&amp;quot;&amp;gt;&#xA;                                &amp;lt;label class=&amp;quot;col-sm-3 control-label no-padding-right&amp;quot; for=&amp;quot;form-field-1&amp;quot;&amp;gt; Beneficiarios &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;div class=&amp;quot;col-sm-7&amp;quot;&amp;gt;&#xA;                                    &amp;lt;select name=&amp;quot;SociosPosibles&amp;quot; id=&amp;quot;SociosPosibles&amp;quot; class=&amp;quot;form-control mandatory&amp;quot; title=&amp;quot;Socios Posibles&amp;quot; required&amp;gt;&#xA;                                        &amp;lt;option value=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/option&amp;gt;&#xA;&#xA;                                    &amp;lt;/select&amp;gt;&#xA;                                &amp;lt;/div&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;y el select lo lleno con un ajax pero siempre me sale error&#xA;$.ajax({&#xA;url: 'includes/async/reportetalonera.async.php',&#xA;type: 'POST',&#xA;dataType: 'json',&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;                    data: ({&#xA;                            'oper': 'ConsulIdSocio',&#xA;                            'idSocio': suggestion.data,&#xA;&#xA;                        })&#xA;&#xA;                        ,&#xA;                    beforeSend: function() {&#xA;                        console.log('enviando datos al servidor para consultar beneficiarios');&#xA;                    }&#xA;                })&#xA;                .done(function(data) {&#xA;                    console.log('success');&#xA;                    console.log(data);&#xA;                    $.each(data, function(key, registro) {&#xA;&#xA;                        $(&amp;quot;#SociosPosibles&amp;quot;).append('&amp;lt;option value=' + registro.idsocio + '&amp;gt;' + registro.nombre + '&amp;lt;/option&amp;gt;');&#xA;                    });&#xA;&#xA;                })&#xA;                .fail(function(resp) {&#xA;                    console.log('error');&#xA;                    console.log(resp.responseText);&#xA;                })&#xA;                .always(function() {&#xA;                    // console.log('Complete');&#xA;                })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;el json que me trae la consulta es el siguiente&#xA;[{&amp;quot;idsocio&amp;quot;:&amp;quot;5533&amp;quot;,&amp;quot;nombre&amp;quot;:&amp;quot;Jorge armando&amp;quot;}]&lt;/p&gt;&#xA;"" OwnerUserId=""68511"" LastActivityDate=""2021-12-22T15:23:53.023"" Title=""Crear un select de html usando ajax"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""517011"" PostTypeId=""1"" CreationDate=""2022-02-24T20:09:38.423"" Score=""0"" ViewCount=""49"" Body=""&lt;p&gt;estoy realizando una consulta de fechas para posteriormente graficarlas con chartjs pero si quiero realizar una consulta por ejemplo del 01-12-2021 al 03-12-2021 no me muestra nada aunque sí hay datos que cumplan esta condición pero si pongo del 01-12-2021 al 08-12-2021 si muestra datos y ahí aparecen los datos de la primera consulta, no sé qué está pasando, si me pudiera ayudar por favor&lt;/p&gt;&#xA;&lt;p&gt;Formulario donde hago la consulta&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;form class=&quot;col-4 mt-5&quot; action=&quot;&quot; &amp;gt;&#xA;&amp;lt;div class=&quot;row&quot;&amp;gt;&#xA;&amp;lt;label class=&quot;col-12&quot; for=&quot;&quot;&amp;gt;Fecha Inicial&amp;lt;/label&amp;gt;&#xA;&amp;lt;input type=&quot;datetime&quot; id=&quot;f1&quot; required value='2021-12-01 00:00:00'&quot;&amp;gt;&#xA;&amp;lt;label class=&quot;col-12&quot; for=&quot;&quot;&amp;gt;Fecha Final&amp;lt;/label&amp;gt;&#xA;&amp;lt;input type=&quot;datetime&quot; id=&quot;f2&quot; required value='2021-12-15 23:59:59'&quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Ajax donde mandó el archivo de las gráficas&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$('#Enviar').click(function(){&#xA;    var Fechain=document.getElementById('f1').value;&#xA;    var Fechafin=document.getElementById('f2').value;&#xA;&#xA;    var ruta=&quot;Fein=&quot;+Fechain+&quot;&amp;amp;Fefin=&quot;+Fechafin;&#xA;&#xA;    $.ajax({&#xA;      url: 'pag/graf.php',&#xA;      type: 'POST',&#xA;      data: ruta,&#xA;    })&#xA;&#xA;    .done(function(res){&#xA;      $('#respuesta').html(res)&#xA;      //$('#f1').val('');&#xA;      //$('#f2').val('');&#xA;    })&#xA;&#xA;    .fail(function(){&#xA;      console.log(&quot;error&quot;);&#xA;    })&#xA;    .always(function(){&#xA;      console.log(&quot;complete&quot;);&#xA;    })&#xA;});  &lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Script donde imprimo los datos en la gráfica&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    var ctx = document.getElementById(&quot;MiGrafica&quot;).getContext(&quot;2d&quot;);&#xA;    var container = document.getElementById('1');&#xA;&#xA;    var chart = new Chart(ctx,{&#xA;        type: &quot;bar&quot;,&#xA;        data:{&#xA;            labels:[&quot;Revisión de Anticipos y Facturas&quot;, &quot;Liberación&quot;, &quot;Reclamaciones&quot;, &quot;Pedidos entregados&quot;],&#xA;            datasets:[&#xA;                {&#xA;                labels: &quot;Mi gráfica&quot;,&#xA;                backgroundColor: [ 'rgb(17, 169, 7)',&#xA;                                  'rgb(195, 3, 3)'],&#xA;                &#xA;                data: [&#xA;                    &amp;lt;?php echo dias($conexion,'FechaRegistro', 'FechaAdmin',$f1,$f2,'upedido','Admin')?&amp;gt;                       &#xA;                   &#xA;                ]&#xA;                },&#xA;            ]&#xA;&#xA;        }&#xA;    &#xA;    }); &#xA;&#xA;&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Función PHP donde hago la consulta&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;function dias($conexion,$FechaI,$FechaF,$f1,$f2, $tabla,$proc){&#xA;  //---------- Consultas ----------&#xA;  $query = &quot;SELECT &quot;.$FechaI.&quot;, &quot;.$FechaF.&quot;, DATEDIFF(&quot;.$FechaF.&quot;, &quot;.$FechaI.&quot;) from &quot;.$tabla.&quot; WHERE &quot;.$FechaI.&quot; BETWEEN '$f1' AND '$f2'&quot;;&#xA;  $festivo = &quot;SELECT DFFecha from diasfest&quot;;&#xA;  $dia = &quot;SELECT Proceso, Diastotal from uprocesos WHERE Proceso='$proc'&quot;;&#xA;  &#xA;  $resultado = $conexion-&amp;gt;query($query);&#xA;  $resultado1 = $conexion-&amp;gt;query($festivo);&#xA;  $resultado2 = $conexion-&amp;gt;query($dia);&#xA;  &#xA;  //---------- Variables ----------&#xA;  $aux;&#xA;  $contador_dias = 0;&#xA;  $a_tiempo=0;&#xA;&#xA;  /* Total Pedidos */&#xA;  if($resultado){&#xA;      $totalPedidos=mysqli_num_rows($resultado);  &#xA;      //echo intval($totalPedidos);&#xA;  }&#xA;  while($row2=$resultado2-&amp;gt;fetch_assoc())&#xA;  {  &#xA;    $val = intval($row2['Diastotal']);&#xA;  }&#xA;  while($row1=$resultado1-&amp;gt;fetch_assoc()){&#xA;  }&#xA;  while($row=$resultado-&amp;gt;fetch_assoc())&#xA;  {&#xA;      /* Si la fecha es default */&#xA;      $integer2 = intval($row['DATEDIFF('.$FechaF.', '.$FechaI.')']);&#xA;&#xA;      for($i=0; $i&amp;lt;$integer2; $i++){    &#xA;          if( ($row[$FechaI] != $row1['DFFecha'])){   &#xA;              $aux = date(&quot;d-m-Y&quot;,strtotime($row[$FechaI].&quot;+ 1 days&quot;));&#xA;              $row[$FechaI] = $aux;&#xA;              //echo &quot; al &quot;.date(&quot;d-m-Y&quot;,strtotime($row[$FechaI])).'&amp;lt;br&amp;gt;';&#xA;              if(date(&quot;w&quot;,strtotime($row[$FechaI])) != 0){&#xA;                  $contador_dias++;&#xA;              }       &#xA;          }else{&#xA;              $aux = date(&quot;d-m-Y&quot;,strtotime($row[$FechaI].&quot;+ 1 days&quot;));&#xA;              $row[$FechaI] = $aux;&#xA;          }&#xA;      }&#xA;      if($contador_dias &amp;lt;= $val){&#xA;      $a_tiempo++;&#xA;      }  &#xA;      $contador_dias = 0;&#xA;  }&#xA;//echo $a_tiempo;&#xA;$val_final = ($a_tiempo*20)/$totalPedidos;&#xA;&#xA;//echo $val_final;&#xA;&#xA;return $val_final;&#xA;&#xA;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""269711"" LastActivityDate=""2022-02-24T20:09:38.423"" Title=""No grafica una consulta MySQL con chartjs"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""518255"" PostTypeId=""1"" AcceptedAnswerId=""518273"" CreationDate=""2022-03-03T15:44:58.163"" Score=""3"" ViewCount=""255"" Body=""&lt;p&gt;de antemano pido disculpas si me he saltado algo en como debo dirigirme a la comunidad, estoy dispuesto a seguir aprendiendo.&#xA;Bueno, me trae aquí una situación, estoy desarrollando en HTML, JS, Json intento que me muestre la información en mi html mediante un select, el Json trae también otros valores y dos de ellos necesito que me los muestre en 2 labels.&lt;/p&gt;&#xA;&lt;p&gt;Este es mi código:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;let dataCombo = {};&#xA;function cargarSoftwareLicencia(){&#xA;    let urlFormAction = $(&quot;#url_ajax_edit&quot;).val();&#xA;    let jqxhr = $.post( urlFormAction, { getSoftwareLicencia: 1, action: &quot;getSoftwareLicencia&quot;})&#xA;        .done(function (data){&#xA;            data = JSON.parse( data);&#xA;            console.debug( data.data);&#xA;            /* console.log(data); */&#xA;            let impr1 = &quot;&quot;;&#xA;            for (let i = 0; i &amp;lt; data.data.length; i++) {&#xA;                console.debug(data.data[i]);&#xA;                console.log(data.data[i]);&#xA;                &#xA;                impr1 += &quot;&amp;lt;option value=\&quot;&quot;+data.data[i]['id_sofware']+&quot;\&quot;&amp;gt;&quot;+data.data[i]['serial']+&quot;&amp;lt;/option&amp;gt;\n&quot;;&#xA;                &#xA;                dataCombo[data.data[i]['id_sofware']] = data.data[i]['serial'];&#xA;                &#xA;            }&#xA;            $(&quot;#addSerial&quot;).html(impr1);&#xA;            &#xA;        })&#xA;        .fail(function(){&#xA;            console.log( &quot;error&quot; );&#xA;        });&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;span class=&quot;input-group-text &quot; id=&quot;inputGroup-sizing-sm&quot;&amp;gt;Serial&amp;lt;/span&amp;gt;&#xA;&amp;lt;select type=&quot;text&quot; class=&quot;form-control&quot; aria-label=&quot;Sizing example input&quot; aria-describedby=&quot;inputGroup-sizing-sm&quot; id=&quot;addSerial&quot; name=&quot;serial&quot;&amp;gt; &amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;span class=&quot;input-group-text &quot; id=&quot;inputGroup-sizing-sm&quot;&amp;gt;Tipo&amp;lt;/span&amp;gt;&#xA;&amp;lt;label type=&quot;text&quot; class=&quot;form-control&quot; aria-label=&quot;Sizing example input&quot; aria-describedby=&quot;inputGroup-sizing-sm&quot; id=&quot;addTipo&quot; name=&quot;tipo1&quot; &amp;gt; &amp;lt;/label&amp;gt;&#xA;                    &#xA;&amp;lt;span class=&quot;input-group-text&quot; id=&quot;inputGroup-sizing-sm&quot;&amp;gt;Versión&amp;lt;/span&amp;gt;&#xA;&amp;lt;label type=&quot;text&quot; class=&quot;form-control&quot; aria-label=&quot;Sizing example input&quot; aria-describedby= &quot;inputGroup-sizing-sm&quot; id=&quot;addVersion&quot; name=&quot;version1&quot; &amp;gt; &#xA;&amp;lt;/label&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;h2&gt;&lt;/h2&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;la información que trae desde el console.log(data.data[i]);&lt;/p&gt;&#xA;&lt;p&gt;id_sofware: &amp;quot;4&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;serial: &amp;quot;xxxxx-xxxxxx-xxxxx-xxxxx-xxxxx&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;tipo: &amp;quot;Microsoft Office&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;version: &amp;quot;2030 Professional super plus&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;[[Prototype]]: Object&lt;/p&gt;&#xA;&lt;h2&gt;&lt;/h2&gt;&#xA;&lt;p&gt;requiero capturar Tipo y versión.&lt;/p&gt;&#xA;&lt;p&gt;les agradezco de antemano la ayuda que me puedan brindar. Saludos!&lt;/p&gt;&#xA;"" OwnerUserId=""252344"" LastEditorUserId=""252344"" LastEditDate=""2022-03-03T16:07:04.073"" LastActivityDate=""2022-03-03T16:43:43.267"" Title=""con un Select mostrar dos datos en labels con Javascript"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""519806"" PostTypeId=""1"" CreationDate=""2022-03-10T18:24:13.647"" Score=""0"" ViewCount=""324"" Body=""&lt;p&gt;tengo un sistema cotizador que genera un pdf con la cotizacion y luego puedo descargarlo. El problema esta que cuando intento descargar el primer archivo de la sesion no me lo descarga pero luego si hago un segundo si me deja descargarlo.&#xA;Este es el codigo:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;use FontLib\Table\Type\head;&#xA;&#xA;require_once 'app/config.php';&#xA;&#xA;//* primero validamos que existan cotizaciones y el parametro $_GET number&#xA;if (!isset($_GET['number'])) {&#xA;    redirect('index.php?error=invalid_number');&#xA;}&#xA;//* si no hay cotizacion&#xA;$quotes = get_all_quotes();&#xA;if (empty($quotes)) {&#xA;    redirect('index.php?error=no_quotes');&#xA;}&#xA;&#xA;//* buscar el match del folio que buscamos&#xA;$quote = get_quote();&#xA;$number = trim($_GET['number']);&#xA;$empresa = trim($quote['empresa']);&#xA;&#xA;$file = sprintf(UPLOADS . 'coti_%s_' . date('d-m-y') . '_%s.pdf', $empresa, $number);&#xA;&#xA;if (!is_file($file)) {&#xA;    // No existe la cotización&#xA;    redirect('index.php?error=not_found');&#xA;}&#xA;&#xA;//*descarga&#xA;header('Content-Type: application/pdf');&#xA;header(sprintf('Content-Disposition: attachment;filename=%s', pathinfo($file, PATHINFO_BASENAME)));&#xA;readfile($file);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Peticion de AJAX:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(&amp;quot;#generate_quote&amp;quot;).on(&amp;quot;click&amp;quot;, generate_quote);&#xA;  function generate_quote(e) {&#xA;    e.preventDefault();&#xA;&#xA;    let button = $(this),&#xA;      default_text      = button.html(), // &amp;quot;Generar&amp;quot;&#xA;      new_text          = &amp;quot;Volver a generar&amp;quot;,&#xA;      download          = $(&amp;quot;#download_quote&amp;quot;),&#xA;      vendedor          = $('#vendedor').val(),&#xA;      email_vendedor    = $('#email_vendedor').val(),&#xA;      division          = $('#division').val(),&#xA;      telefono_vendedor = $('#telefono_vendedor').val(),&#xA;      cliente           = $(&amp;quot;#cliente&amp;quot;).val(),&#xA;      empresa           = $(&amp;quot;#empresa&amp;quot;).val(),&#xA;      email             = $(&amp;quot;#email&amp;quot;).val(),&#xA;      telefono          = $(&amp;quot;#telefono&amp;quot;).val(),&#xA;      tiempo_entrega    = $(&amp;quot;#tiempo_entrega&amp;quot;).val(),&#xA;      forma_pago        = $(&amp;quot;#forma_pago&amp;quot;).val(),&#xA;      action            = &amp;quot;generate_quote&amp;quot;,&#xA;      errors            = 0;&#xA;&#xA;    // Validando la acción&#xA;    if (!confirm(&amp;quot;¿Estás seguro?&amp;quot;)) return false;&#xA;&#xA;    // Validando la información&#xA;    if (cliente.length &amp;lt; 5) {&#xA;      notify(&#xA;        &amp;quot;Ingresa un nombre para el cliente por favor (MAS DE 5 CARACTERES)&amp;quot;,&#xA;        &amp;quot;danger&amp;quot;&#xA;      );&#xA;      errors++;&#xA;    }&#xA;&#xA;    if (empresa.length &amp;lt; 5) {&#xA;      notify(&#xA;        &amp;quot;Ingresa una empresa válida por favor (MAS DE 5 CARACTERES)&amp;quot;,&#xA;        &amp;quot;danger&amp;quot;&#xA;      );&#xA;      errors++;&#xA;    }&#xA;&#xA;    if (email.length &amp;lt; 5) {&#xA;      notify(&#xA;        &amp;quot;Ingresa una dirección de correo válida por favor (MAS DE 5 CARACTERES)&amp;quot;,&#xA;        &amp;quot;danger&amp;quot;&#xA;      );&#xA;      errors++;&#xA;    }&#xA;&#xA;    if (errors &amp;gt; 0) {&#xA;      return false;&#xA;    }&#xA;&#xA;    // Petición&#xA;    $.ajax({&#xA;      url: &amp;quot;ajax.php&amp;quot;,&#xA;      type: &amp;quot;POST&amp;quot;,&#xA;      dataType: &amp;quot;json&amp;quot;,&#xA;      cache: false,&#xA;      data: {&#xA;        action,&#xA;        vendedor,&#xA;        email_vendedor,&#xA;        telefono_vendedor,&#xA;        division,&#xA;        cliente,&#xA;        empresa,&#xA;        email,&#xA;        telefono,&#xA;        tiempo_entrega,&#xA;        forma_pago,&#xA;      },&#xA;      beforeSend: () =&amp;gt; {&#xA;        $(&amp;quot;body&amp;quot;).waitMe();&#xA;        button.html(&amp;quot;Generando...&amp;quot;);&#xA;      },&#xA;    })&#xA;      .done((res) =&amp;gt; {&#xA;        if (res.status === 200) {&#xA;          notify(res.msg);&#xA;          download.attr(&amp;quot;href&amp;quot;, res.data.url);&#xA;          download.fadeIn();&#xA;          button.html(new_text);&#xA;        } else {&#xA;          notify(res.msg, &amp;quot;danger&amp;quot;);&#xA;          download.attr(&amp;quot;href&amp;quot;, &amp;quot;&amp;quot;);&#xA;          download.fadeOut();&#xA;          button.html(&amp;quot;Reintentar&amp;quot;);&#xA;        }&#xA;      })&#xA;      .fail((err) =&amp;gt; {&#xA;        notify(&amp;quot;Hubo un problema con la petición, intenta de nuevo.&amp;quot;, &amp;quot;danger&amp;quot;);&#xA;        button.html(default_text);&#xA;      })&#xA;      .always(() =&amp;gt; {&#xA;        $(&amp;quot;body&amp;quot;).waitMe(&amp;quot;hide&amp;quot;);&#xA;      });&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;codigo en functions.php:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function hook_generate_quote()&#xA;{&#xA;    //*Validar&#xA;    if (!isset($_POST['vendedor'] ,$_POST['email_vendedor'], $_POST['division'], $_POST['telefono_vendedor'], $_POST['cliente'], $_POST['empresa'], $_POST['email'], $_POST['telefono'], $_POST['tiempo_entrega'], $_POST['forma_pago'])) {&#xA;        json_output(json_build(400, null, 'Parametros incompletos'));&#xA;    }&#xA;    //* Validar correo&#xA;    if ((!filter_var($_POST['email'], FILTER_VALIDATE_EMAIL)) &amp;amp;&amp;amp; (!filter_var($_POST['vendedor_email'], FILTER_VALIDATE_EMAIL))) {&#xA;        json_output(json_build(400, null, 'Dirección de correo no valida, Revise que esten bien escritos'));&#xA;    }&#xA;&#xA;    //* Guardar informacion del cliente&#xA;    $client = [&#xA;        'vendedor'          =&amp;gt; $_POST['vendedor'],&#xA;        'email_vendedor'    =&amp;gt; $_POST['email_vendedor'],&#xA;        'division'          =&amp;gt; $_POST['division'],&#xA;        'telefono_vendedor' =&amp;gt; $_POST['telefono_vendedor'],&#xA;        'cliente'           =&amp;gt; $_POST['cliente'],&#xA;        'empresa'           =&amp;gt; $_POST['empresa'],&#xA;        'email'             =&amp;gt; $_POST['email'],&#xA;        'telefono'          =&amp;gt; $_POST['telefono'],&#xA;        'tiempo_entrega'    =&amp;gt; $_POST['tiempo_entrega'],&#xA;        'forma_pago'        =&amp;gt; $_POST['forma_pago']&#xA;    ];&#xA;&#xA;    set_client($client);&#xA;&#xA;    //*cargar cotizacion&#xA;&#xA;    $quote = get_quote();&#xA;&#xA;    if (empty($quote['items'])) {&#xA;        json_output(json_build(400, null, 'No hay conceptos en la cotización'));&#xA;    }&#xA;&#xA;    $module = MODULES . 'pdf_template';&#xA;    $html = get_module($module, $quote);&#xA;    $filename = 'coti_' . $quote['empresa'] . '_' . date('d-m-y') . '_' . $quote['number'];&#xA;    $download = sprintf(URL . 'pdf.php?number=%s', $quote['number']);&#xA;    $quote['url'] = $download;&#xA;&#xA;    //* generar pdf y guardar en el servidor&#xA;    if (!generate_pdf(UPLOADS . $filename, $html)) {&#xA;        json_output(json_build(400, null, 'Hubo un problema al generar la corización.'));&#xA;    }&#xA;&#xA;    json_output(json_build(200, $quote, 'Cotización generada con éxito.'));&#xA;}&#xA;&#xA;function generate_pdf($filename = null, $html, $save_to_file = true)&#xA;{&#xA;    //nombre del archivo&#xA;    $filename = $filename === null ? time() . '.pdf' : $filename . '.pdf';&#xA;&#xA;&#xA;    $pdf = new Dompdf();&#xA;    $pdf-&amp;gt;setPaper('A4');&#xA;    $pdf-&amp;gt;loadHtml($html);&#xA;    $pdf-&amp;gt;render();&#xA;&#xA;    if ($save_to_file) {&#xA;        $output = $pdf-&amp;gt;output();&#xA;        file_put_contents($filename, $output);&#xA;        return true;&#xA;    }&#xA;    $pdf-&amp;gt;stream($filename);&#xA;    return true;&#xA;}&#xA;&#xA;function get_all_quotes()&#xA;{&#xA;    return $quotes = glob(UPLOADS . 'coti_*.pdf');&#xA;}&#xA;&#xA;function redirect($route)&#xA;{&#xA;    header(sprintf('Location: %s', $route));&#xA;    exit;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;me percate de que esta entrando en el siguiente if&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; if (!is_file($file)) {&#xA;    // No existe la cotización&#xA;    redirect('index.php?error=not_found');&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;pero no entiendo porque si el archivo se esta generando correctamente, y solo pasa con el primero que hago al iniciar el navegador.&lt;/p&gt;&#xA;&lt;p&gt;necesito ayuda pueden probar el sistema en el siguiente link: discoverycenterpa.net/sicot-1&lt;/p&gt;&#xA;"" OwnerUserId=""203821"" LastEditorUserId=""203821"" LastEditDate=""2022-03-10T20:11:27.413"" LastActivityDate=""2022-03-10T20:11:27.413"" Title=""Problema al descargar un Archivo pdf con dompdf, ajax, y php"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;html&gt;&lt;ajax&gt;&lt;dompdf&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""520333"" PostTypeId=""1"" CreationDate=""2022-03-14T01:46:31.883"" Score=""1"" ViewCount=""88"" Body=""&lt;pre&gt;&lt;code&gt;    &amp;lt;?php require('erp_layout/header.php'); ?&amp;gt;&#xA;&#xA;&amp;lt;section id=&amp;quot;main-content&amp;quot;&amp;gt;&#xA;&#xA;&amp;lt;section class=&amp;quot;wrapper&amp;quot;&amp;gt;&#xA;&#xA;&amp;lt;h3&amp;gt;&amp;lt;i class=&amp;quot;fa fa-angle-right&amp;quot;&amp;gt;&amp;lt;/i&amp;gt;Pesquisar pedidos pendentes&amp;lt;/h3&amp;gt;&#xA;&#xA;&amp;lt;div class=&amp;quot;row mt&amp;quot;&amp;gt;&#xA;&#xA;&amp;lt;div id=&amp;quot;modal&amp;quot;&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;  &amp;lt;div class=&amp;quot;pop-up-father&amp;quot;&amp;gt;&#xA;    &amp;lt;div class=&amp;quot;pop-up&amp;quot;&amp;gt;&#xA;        &amp;lt;div class='top'&amp;gt;&#xA;            &amp;lt;i class=&amp;quot;fa-solid fa-xmark cerrar&amp;quot;&amp;gt;&amp;lt;/i&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div class=&amp;quot;container-form-popup&amp;quot;&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;form-popup showback&amp;quot;&amp;gt;&#xA;                &amp;lt;form id=&amp;quot;pedido&amp;quot;&amp;gt;&#xA;                    &amp;lt;ul class=&amp;quot;shopping_cart&amp;quot;&amp;gt;&#xA;                        &amp;lt;li &amp;gt;&#xA;                        &amp;lt;label for=&amp;quot;ropa&amp;quot;&amp;gt;Roupa: &amp;lt;/label&amp;gt; &#xA;                                &amp;lt;select id=&amp;quot;ropa&amp;quot; name=&amp;quot;ropa&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o tipo de roupa&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;?php&#xA;&#xA;                                    $connection-&amp;gt;set_charset(&amp;quot;utf8&amp;quot;);&#xA;                                    $query = $connection -&amp;gt; query (&amp;quot;SELECT * FROM ropa&amp;quot;);&#xA;                                        while ($valores = mysqli_fetch_array($query)) {       &#xA;                                echo '&amp;lt;option value=&amp;quot;'.$valores['id'].'&amp;quot;&amp;gt;'.$valores['ropa'].'&amp;lt;/option&amp;gt;';&#xA;                                    }&#xA;                &#xA;                                ?&amp;gt;&#xA;                            &amp;lt;/select&amp;gt;&#xA;                        &amp;lt;/li&amp;gt;&#xA;&#xA;                        &amp;lt;li&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;piezas&amp;quot;&amp;gt;Peças S/I e Mais: &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;select id=&amp;quot;piezas&amp;quot; name=&amp;quot;piezas&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o tipo de peça S/I&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;/select&amp;gt;&#xA;                        &amp;lt;/li&amp;gt;&#xA;&#xA;                        &amp;lt;li&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;piezas_ropa&amp;quot;&amp;gt;Tipos de peças: &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;select id=&amp;quot;piezas_ropa&amp;quot; name=&amp;quot;piezas_ropa&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o tipo de peça&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;/select&amp;gt;&#xA;                        &amp;lt;/li&amp;gt;&#xA;&#xA;                        &amp;lt;li&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;sector&amp;quot;&amp;gt;Setor de atividade: &amp;lt;/label&amp;gt; &#xA;                                &amp;lt;select id=&amp;quot;sector&amp;quot; name=&amp;quot;sector&amp;quot;&amp;gt;&#xA;                                    &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecionar Setor de atividade&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;?php&#xA;&#xA;                                    $connection-&amp;gt;set_charset(&amp;quot;utf8&amp;quot;);&#xA;                                    $query = $connection -&amp;gt; query (&amp;quot;SELECT * FROM sector_de_actividad&amp;quot;);&#xA;                                        while ($valores = mysqli_fetch_array($query)) {&#xA;                                        echo '&amp;lt;option value=&amp;quot;'.$valores['id'].'&amp;quot;&amp;gt;'.$valores['sector'].'&amp;lt;/option&amp;gt;';&#xA;                                    }&#xA;                                ?&amp;gt;&#xA;                            &amp;lt;/select&amp;gt;&amp;lt;/li&amp;gt;&#xA;&#xA;                            &amp;lt;li&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;tela&amp;quot;&amp;gt;Tecido: &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;select id=&amp;quot;tela&amp;quot; name=&amp;quot;tela&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione um Tecido&amp;lt;/option&amp;gt;&#xA;&#xA;                                &amp;lt;/select&amp;gt;&amp;lt;/li&amp;gt;&#xA;                            &amp;lt;li&amp;gt;&#xA;&#xA;                            &amp;lt;label for=&amp;quot;color&amp;quot;&amp;gt;Serigrafia (Cor): &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;select id=&amp;quot;color&amp;quot; name=&amp;quot;color&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o Cor&amp;lt;/option&amp;gt;                     &#xA;                                &amp;lt;/select&amp;gt;&amp;lt;/li&amp;gt;&#xA;                            &amp;lt;li&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;tamano&amp;quot;&amp;gt;Tamanho: &amp;lt;/label&amp;gt; &#xA;                            &amp;lt;select id=&amp;quot;tamano&amp;quot; name=&amp;quot;tamano&amp;quot;&amp;gt;&#xA;                            &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o tamanho das peças de roupa&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;?php&#xA;                                $connection-&amp;gt;set_charset(&amp;quot;utf8&amp;quot;);&#xA;                                $query = $connection -&amp;gt; query (&amp;quot;SELECT * FROM tamaño&amp;quot;);&#xA;                                    while ($valores = mysqli_fetch_array($query)) {&#xA;                                        echo '&amp;lt;option value=&amp;quot;'.$valores['tamaño'].'&amp;quot;&amp;gt;'.$valores['tamaño'].'&amp;lt;/option&amp;gt;';&#xA;                                    }&#xA;                                ?&amp;gt;&#xA;                            &amp;lt;/select&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                            &amp;lt;li&amp;gt;&#xA;                                &amp;lt;label for=&amp;quot;cantidad&amp;quot;&amp;gt;Quantidade: &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;input type=&amp;quot;number&amp;quot; id=&amp;quot;cantidad&amp;quot; name=&amp;quot;cantidad&amp;quot; min=&amp;quot;30&amp;quot; placeholder=&amp;quot;Mínimo é de 30 peças de roupa&amp;quot; style=&amp;quot;width:300px;&amp;quot;&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                            &amp;lt;li&amp;gt;&#xA;                                &amp;lt;label for=&amp;quot;pago&amp;quot;&amp;gt;Formas de pagamento: &amp;lt;/label&amp;gt;&#xA;                                &amp;lt;select id=&amp;quot;pago&amp;quot; name=&amp;quot;pago&amp;quot;&amp;gt;&#xA;                                &amp;lt;option value=&amp;quot;&amp;quot; disabled selected&amp;gt;Selecione o tipo de pagamento&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option&amp;gt;Pix&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option&amp;gt;Boleto&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option&amp;gt;Transferencia - Bradesco&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option&amp;gt;Transferencia - Santander&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;option&amp;gt;Transferencia - Itau&amp;lt;/option&amp;gt;&#xA;                                &amp;lt;/select&amp;gt;&#xA;                            &amp;lt;/li&amp;gt;&#xA;                        &amp;lt;/ul&amp;gt;&#xA;                        &amp;lt;button id=&amp;quot;btnguardar&amp;quot; class=&amp;quot;button_shopping_cart&amp;quot;&amp;gt;Alterar carrinho de compras&amp;lt;/button&amp;gt; &#xA;                &amp;lt;/form&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;        &amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&#xA; &amp;lt;div id=&amp;quot;modal&amp;quot;&amp;gt;&#xA;&#xA; &amp;lt;/div&amp;gt;   &#xA;&#xA; &amp;lt;div id=&amp;quot;datos-orders&amp;quot;&amp;gt;&#xA;&#xA; &amp;lt;/div&amp;gt;   &#xA;&#xA; &amp;lt;/section&amp;gt;&#xA;&#xA;&amp;lt;/section&amp;gt;&#xA;&#xA;&amp;lt;?php require('erp_layout/footer.php'); ?&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;     function eliminar(id) {&#xA;         console.log(id);&#xA;        $.ajax({&#xA;                url: 'php/deletePedidosEnviados.php',&#xA;                type: 'POST',&#xA;                data: {id:id.id},&#xA;            })&#xA;            .done(function(respuesta){&#xA;                console.log(respuesta);&#xA;                if (respuesta ==0) {&#xA;                    var aux =document.getElementById(&amp;quot;modal&amp;quot;);&#xA;&#xA;                    aux.classList.add(&amp;quot;correcto&amp;quot;);&#xA;                    aux.innerHTML = &amp;quot;&amp;lt;p&amp;gt;Limpeza de dados bem sucedida&amp;lt;/p&amp;gt;&amp;quot;;&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        aux.classList.remove(&amp;quot;correcto&amp;quot;);&#xA;                        aux.innerHTML = &amp;quot;&amp;quot;;&#xA;                    }, 3000);&#xA;                }&#xA;                else if(respuesta ==1){&#xA;                    var aux =document.getElementById(&amp;quot;modal&amp;quot;);&#xA;                    aux.classList.add(&amp;quot;incorrecto&amp;quot;);&#xA;                    aux.innerHTML = &amp;quot;&amp;lt;p&amp;gt;Não foi possível excluir. Tente novamente mais tarde&amp;lt;/p&amp;gt;&amp;quot;;&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        aux.classList.remove(&amp;quot;incorrecto&amp;quot;);&#xA;                        aux.innerHTML = &amp;quot;&amp;quot;;&#xA;                    }, 3000);&#xA;                }&#xA;            })&#xA;            .fail(function(){&#xA;                console.log(respuesta);&#xA;            });&#xA;            var e = document.getElementById(id.id);&#xA;            e.parentNode.parentNode.removeChild(e.parentNode);&#xA;    }&#xA; &amp;lt;/script&amp;gt;&#xA; &amp;lt;script&amp;gt;&#xA;    var cartid;&#xA;    $(&amp;quot;#btnguardar&amp;quot;).on(&amp;quot;click&amp;quot;,function(event){&#xA;        event.preventDefault();&#xA;        var ropa = document.getElementById(&amp;quot;ropa&amp;quot;).value;&#xA;        var piezas = document.getElementById(&amp;quot;piezas&amp;quot;).value;&#xA;        var piezas_ropa = document.getElementById(&amp;quot;piezas_ropa&amp;quot;).value;&#xA;        var sector = document.getElementById(&amp;quot;sector&amp;quot;).value;&#xA;        var tela = document.getElementById(&amp;quot;tela&amp;quot;).value;&#xA;        var color = document.getElementById(&amp;quot;color&amp;quot;).value;&#xA;        var tamano = document.getElementById(&amp;quot;tamano&amp;quot;).value;&#xA;        var cantidad = document.getElementById(&amp;quot;cantidad&amp;quot;).value;&#xA;        var pago = document.getElementById(&amp;quot;pago&amp;quot;).value;&#xA;        console.log(ropa);&#xA;        if (ropa != &amp;quot;&amp;quot; &amp;amp;&amp;amp; piezas != &amp;quot;&amp;quot; &amp;amp;&amp;amp; piezas_ropa != &amp;quot;&amp;quot; &amp;amp;&amp;amp; sector != &amp;quot;&amp;quot; &amp;amp;&amp;amp; tela != &amp;quot;&amp;quot; &amp;amp;&amp;amp; color != &amp;quot;&amp;quot; &amp;amp;&amp;amp; tamano != &amp;quot;&amp;quot; &amp;amp;&amp;amp; cantidad &amp;gt;= 30 &amp;amp;&amp;amp; pago!= &amp;quot;&amp;quot;) {&#xA;          $.ajax({&#xA;            url: 'php/changeCartSend.php',&#xA;            type: 'POST',&#xA;            data: {id_pedido:cartid.id, ropa:ropa, piezas:piezas, piezas_ropa:piezas_ropa, sector:sector, tela:tela, color:color, tamano:tamano, cantidad:cantidad, pago:pago},&#xA;            }).done(function(respuesta){&#xA;              console.log(respuesta);&#xA;              if (respuesta ==0) {&#xA;                var aux =document.getElementById(&amp;quot;modal&amp;quot;);&#xA;                aux.classList.add(&amp;quot;correcto&amp;quot;);&#xA;                aux.innerHTML = &amp;quot;&amp;lt;p&amp;gt;Modificação de dados bem-sucedida&amp;lt;/p&amp;gt;&amp;quot;;&#xA;                setTimeout(() =&amp;gt; {&#xA;                  aux.classList.remove(&amp;quot;correcto&amp;quot;);&#xA;                  aux.innerHTML = &amp;quot;&amp;quot;;&#xA;                  window.location.reload();&#xA;                }, 3000);&#xA;                &#xA;               &#xA;                var pop = document.getElementsByClassName('pop-up-father')[0];&#xA;                pop.classList.remove('activ');&#xA;              }&#xA;              else if(respuesta ==1){&#xA;                    var aux =document.getElementById(&amp;quot;modal&amp;quot;);&#xA;                    aux.classList.add(&amp;quot;incorrecto&amp;quot;);&#xA;                    aux.innerHTML = &amp;quot;&amp;lt;p&amp;gt;Não foi possível alterar, tente novamente mais tarde&amp;lt;/p&amp;gt;&amp;quot;;&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        aux.classList.remove(&amp;quot;incorrecto&amp;quot;);&#xA;                        aux.innerHTML = &amp;quot;&amp;quot;;&#xA;                    }, 3000);&#xA;                }&#xA;                var pop = document.getElementsByClassName('pop-up-father')[0];&#xA;                pop.classList.remove('activ');&#xA;                &#xA;            })&#xA;            .fail(function(){&#xA;                console.log(respuesta);&#xA;            });&#xA;        }&#xA;        else{&#xA;          var aux =document.getElementById(&amp;quot;modal&amp;quot;);&#xA;                    aux.classList.add(&amp;quot;incorrecto&amp;quot;);&#xA;                    aux.innerHTML = &amp;quot;&amp;lt;p&amp;gt;Todos os campos devem ser preenchidos, o pedido é no mínimo =&amp;gt; 30&amp;lt;/p&amp;gt;&amp;quot;;&#xA;                    setTimeout(() =&amp;gt; {&#xA;                        aux.classList.remove(&amp;quot;incorrecto&amp;quot;);&#xA;                        aux.innerHTML = &amp;quot;&amp;quot;;&#xA;                    }, 3000);&#xA;        }&#xA;    });&#xA;    function alterar(id) {&#xA;        var pop = document.getElementsByClassName('pop-up-father')[0];&#xA;        pop.classList.add('activ');&#xA;        console.log(document.getElementById('ropa').innerHTML);&#xA;        cartid = id;&#xA;    }&#xA;    var close = document.getElementsByClassName(&amp;quot;cerrar&amp;quot;)[0];&#xA;    close.addEventListener('click', () =&amp;gt;{&#xA;        var pop = document.getElementsByClassName('pop-up-father')[0];&#xA;        pop.classList.remove('activ');&#xA;    });&#xA;&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;  //Función que indica que el documento está listo&#xA;  $(function(tipo_ropa){ &#xA;&#xA;    //Detectar el cambio de opción del sector&#xA;    $(document).on('change','#ropa',function(){&#xA;&#xA;      //borrar las opciones que están cargadas en las telas&#xA;      $('#piezas option').each(function(){&#xA;        $(this).remove();&#xA;      });&#xA;&#xA;      //Guardar valor seleccionado&#xA;      var ropa = $(this).val();&#xA;&#xA;      //Validar que no esté vacío o nulo&#xA;      if( ropa &amp;amp;&amp;amp; ropa != '' ){&#xA;&#xA;        //Abrir conexión de AJAX&#xA;        $.ajax({&#xA;          url:'../assets/php/shopping_cart_information_tipos_de_ropas.php', //URL donde está el archivo que busca las telas&#xA;          method: 'GET', //Verbo de petición del protocolo&#xA;          data: {ropa:ropa}, //Información que se enviará al PHP&#xA;          success:function(respuesta){&#xA;            //Respuesta satisfactoria&#xA;&#xA;            //Validar si se creó correctamente el JSON&#xA;            if( respuesta.success ){&#xA;              var i = 0;&#xA;&#xA;              //Agregar opción por default a telas&#xA;              $('#piezas').append('&amp;lt;option disabled selected&amp;gt;Selecione o tipo de peça&amp;lt;/option&amp;gt;');&#xA;&#xA;              //Recorrer el nodo de información recopilada&#xA;              for (i; i &amp;lt; respuesta.data.length;) {&#xA;&#xA;                //Armar la opción y agregarla al SELECT de telas&#xA;                let option = '&amp;lt;option value=&amp;quot;' + respuesta.data[i].id + '&amp;quot;&amp;gt;' + respuesta.data[i].ropas + '&amp;lt;/option&amp;gt;';&#xA;                $('#piezas').append(option);&#xA;                i++;&#xA;              }      &#xA;&#xA;            }&#xA;&#xA;            else{&#xA;              alert( respuesta.message );&#xA;            }&#xA;          },&#xA;          error:function(err){&#xA;            alert( err );&#xA;          }&#xA;        });&#xA;      }&#xA;&#xA;    });&#xA;&#xA;  });&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;  //Función que indica que el documento está listo&#xA;  $(function(tipo_piezas_ropa){ &#xA;&#xA;    //Detectar el cambio de opción de las piezas&#xA;    $(document).on('change','#piezas',function(){&#xA;&#xA;      //borrar las opciones que están cargadas en las telas&#xA;      $('#piezas_ropa option').each(function(){&#xA;        $(this).remove();&#xA;      });&#xA;&#xA;      //Guardar valor seleccionado&#xA;      var piezas = $(this).val();&#xA;&#xA;      //Validar que no esté vacío o nulo&#xA;      if( piezas &amp;amp;&amp;amp; piezas != '' ){&#xA;&#xA;        //Abrir conexión de AJAX&#xA;        $.ajax({&#xA;          url:'../assets/php/shopping_cart_information_piezas_ropa.php', //URL donde está el archivo que busca las telas&#xA;          method: 'GET', //Verbo de petición del protocolo&#xA;          data: {piezas:piezas}, //Información que se enviará al PHP&#xA;          success:function(respuesta){&#xA;            //Respuesta satisfactoria&#xA;&#xA;            //Validar si se creó correctamente el JSON&#xA;            if( respuesta.success ){&#xA;              var i = 0;&#xA;&#xA;              //Agregar opción por default a telas&#xA;              $('#piezas_ropa').append('&amp;lt;option disabled selected&amp;gt;Selecione o tipo de peça&amp;lt;/option&amp;gt;');&#xA;&#xA;              //Recorrer el nodo de información recopilada&#xA;              for (i; i &amp;lt; respuesta.data.length;) {&#xA;&#xA;                //Armar la opción y agregarla al SELECT de telas&#xA;                let option = '&amp;lt;option value=&amp;quot;' + respuesta.data[i].id + '&amp;quot;&amp;gt;' + respuesta.data[i].ropa + '&amp;lt;/option&amp;gt;';&#xA;                $('#piezas_ropa').append(option);&#xA;                i++;&#xA;              }      &#xA;&#xA;            }&#xA;&#xA;            else{&#xA;              alert( respuesta.message );&#xA;            }&#xA;          },&#xA;          error:function(err){&#xA;            alert( err );&#xA;          }&#xA;        });&#xA;      }&#xA;&#xA;    });&#xA;&#xA;  });&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;  //Función que indica que el documento está listo&#xA;  $(function(Sector){ &#xA;&#xA;    //Detectar el cambio de opción del sector&#xA;    $(document).on('change','#sector',function(){&#xA;&#xA;      //borrar las opciones que están cargadas en las telas&#xA;      $('#tela option').each(function(){&#xA;        $(this).remove();&#xA;      });&#xA;&#xA;      //Guardar valor seleccionado&#xA;      var sector = $(this).val();&#xA;&#xA;      //Validar que no esté vacío o nulo&#xA;      if( sector &amp;amp;&amp;amp; sector != '' ){&#xA;&#xA;        //Abrir conexión de AJAX&#xA;        $.ajax({&#xA;          url:'../assets/php/shopping_cart_information_telas.php', //URL donde está el archivo que busca las telas&#xA;          method: 'GET', //Verbo de petición del protocolo&#xA;          data: {sector:sector}, //Información que se enviará al PHP&#xA;          success:function(respuesta){&#xA;            //Respuesta satisfactoria&#xA;&#xA;            //Validar si se creó correctamente el JSON&#xA;            if( respuesta.success ){&#xA;              var i = 0;&#xA;&#xA;              //Agregar opción por default a telas&#xA;              $('#tela').append('&amp;lt;option disabled selected&amp;gt;Selecione o tipo de tecido&amp;lt;/option&amp;gt;');&#xA;&#xA;              //Recorrer el nodo de información recopilada&#xA;              for (i; i &amp;lt; respuesta.data.length;) {&#xA;&#xA;                //Armar la opción y agregarla al SELECT de telas&#xA;                let option = '&amp;lt;option value=&amp;quot;' + respuesta.data[i].id + '&amp;quot;&amp;gt;' + respuesta.data[i].tela + '&amp;lt;/option&amp;gt;';&#xA;                $('#tela').append(option);&#xA;                i++;&#xA;              }      &#xA;&#xA;            }&#xA;&#xA;            else{&#xA;              alert( respuesta.message );&#xA;            }&#xA;          },&#xA;          error:function(err){&#xA;            alert( err );&#xA;          }&#xA;        });&#xA;      }&#xA;&#xA;    });&#xA;&#xA;  });&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/select&amp;gt;&#xA;&#xA;&amp;lt;script&amp;gt;&#xA;  //Función que indica que el documento está listo&#xA;  $(function(color){ &#xA;&#xA;    //Detectar el cambio de opción del sector&#xA;    $(document).on('change','#tela',function(){&#xA;&#xA;      //borrar las opciones que están cargadas en las telas&#xA;      $('#color option').each(function(){&#xA;        $(this).remove();&#xA;      });&#xA;&#xA;      //Guardar valor seleccionado&#xA;      var tela = $(this).val();&#xA;&#xA;      //Validar que no esté vacío o nulo&#xA;      if( tela &amp;amp;&amp;amp; tela != '' ){&#xA;&#xA;        //Abrir conexión de AJAX&#xA;        $.ajax({&#xA;          url:'../assets/php/shopping_cart_information_colores.php', //URL donde está el archivo que busca los colores&#xA;          method: 'GET', //Verbo de petición del protocolo&#xA;          data: {tela:tela}, //Información que se enviará al PHP&#xA;          success:function(respuesta){&#xA;            //Respuesta satisfactoria&#xA;&#xA;            //Validar si se creó correctamente el JSON&#xA;            if( respuesta.success ){&#xA;              var i = 0;&#xA;&#xA;              //Agregar opción por default a color&#xA;              $('#color').append('&amp;lt;option disabled selected&amp;gt;Selecione o tipo de cor&amp;lt;/option&amp;gt;');&#xA;&#xA;              //Recorrer el nodo de información recopilada&#xA;              for (i; i &amp;lt; respuesta.data.length;) {&#xA;&#xA;                //Armar la opción y agregarla al SELECT de telas&#xA;                let option = '&amp;lt;option value=&amp;quot;' + respuesta.data[i].id + '&amp;quot;&amp;gt;' + respuesta.data[i].color +  '&amp;lt;/option&amp;gt;';&#xA;&#xA;&#xA;                $('#color').append(option);&#xA;                i++;&#xA;              }      &#xA;&#xA;            }&#xA;&#xA;            else{&#xA;              alert( respuesta.message );&#xA;            }&#xA;          },&#xA;          error:function(err){&#xA;            alert( err );&#xA;          }&#xA;        });&#xA;      }&#xA;&#xA;    });&#xA;&#xA;  });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&amp;lt;&amp;lt; PHP que muestra el DATATABLE &amp;gt;&amp;gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;?php&#xA;include(&amp;quot;../../assets/php/connection.php&amp;quot;);&#xA;&#xA;$salida = &amp;quot;&amp;quot;;&#xA;$query = &amp;quot;SELECT DISTINCT * FROM carro_de_compras&#xA;      INNER JOIN clientes ON clientes.id = carro_de_compras.id_clientes&#xA;      WHERE carro_de_compras.pedido LIKE 'Enviado%'&amp;quot;;&#xA;&#xA;$resultado = mysqli_query($connection,$query);&#xA;&#xA;$tabla_estatus = &amp;quot;SELECT * FROM estados_pedidos&amp;quot;;&#xA;$status_pedidos = mysqli_query($connection, $tabla_estatus);&#xA;if (mysqli_num_rows($resultado) &amp;gt; 0) {&#xA;    &#xA;    $salida.=&amp;quot;&amp;lt;table id='example' class='table table-striped table-bordered table-condensed showback' cellspacing='0'&amp;gt;&#xA;                             &amp;lt;thead&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Cliente&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Roupa&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Peça S/I&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Peça&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Setor de atividade&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Tecido&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Serigrafia (Cor)&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Tamanho&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Quantidade&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Forma de pagamento&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Pedido&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Data&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Alterar/Excluir&amp;lt;/th&amp;gt;&#xA;                                 &amp;lt;th&amp;gt;Status do pedido&amp;lt;/th&amp;gt;&#xA;                             &amp;lt;/thead&amp;gt;&#xA;                             &amp;lt;tbody&amp;gt;&amp;quot;;&#xA;&#xA;    while($valores = mysqli_fetch_array($resultado)){&#xA;        $tabla_estatus = &amp;quot;SELECT * FROM estados_pedidos&amp;quot;;&#xA;        $status_pedidos = mysqli_query($connection, $tabla_estatus);&#xA;        $salida.=&amp;quot;&amp;lt;tr&amp;gt;&#xA;                  &amp;lt;td id='&amp;quot;.$valores[0].&amp;quot;'&amp;gt;&amp;quot;.$valores['email'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['ropa'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['ropa_superior_inferior'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['pieza'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['sector_de_actividad'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['tela'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['color'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['tamaño'].&amp;quot;&amp;lt;/td&amp;gt; &#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['cantidad'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['forma_de_pago'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['pedido'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;quot;.$valores['data'].&amp;quot;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&amp;lt;button onclick='alterar(this)' id='&amp;quot;.$valores[0].&amp;quot;' class='alterar'&amp;gt;Alterar&amp;lt;/button&amp;gt;&#xA;                     &amp;lt;button onclick=eliminar(this) id='&amp;quot;.$valores[0].&amp;quot;' class='excluir'&amp;gt;Excluir&amp;lt;/button&amp;gt;&amp;lt;/td&amp;gt;&#xA;                  &amp;lt;td&amp;gt;&#xA;                  &amp;lt;select class='dropdown' id='&amp;quot;.$valores[0].&amp;quot;' onchange=statusC(this)&amp;gt;&amp;quot;;&#xA;        $aux = &amp;quot;&amp;quot;;&#xA;            while($status_pedido = mysqli_fetch_array($status_pedidos)){&#xA;                if ($status_pedido[&amp;quot;id&amp;quot;] == $valores['id_status_pedido']) {&#xA;                    $aux .=&amp;quot;&amp;lt;option value = '&amp;quot;.$status_pedido['id'].&amp;quot;' selected=''&amp;gt;&amp;quot;.$status_pedido['status'].&amp;quot;&amp;lt;/option&amp;gt;&amp;quot;;&#xA;                }&#xA;                else{&#xA;                    $aux .= &amp;quot;&amp;lt;option value = '&amp;quot;.$status_pedido['id'].&amp;quot;'&amp;gt;&amp;quot;.$status_pedido['status'].&amp;quot;&amp;lt;/option&amp;gt;&amp;quot;;&#xA;                &#xA;                }&#xA;            }&#xA;&#xA;        $salida = $salida.$aux.&amp;quot;&amp;lt;/select&amp;gt; &#xA;        &amp;lt;/td&amp;gt;&#xA;           &amp;lt;/tr&amp;gt;&amp;quot;;&#xA;&#xA;    }            &#xA;&#xA;    $salida.=&amp;quot;&amp;lt;/tbody&amp;gt;&#xA;           &amp;lt;/table&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;       &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&amp;quot;;&#xA;&#xA;}&#xA;&#xA;echo $salida;&#xA;&#xA;mysqli_close($connection);&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Lo que quiero hacer es que cada vez que se haga click en el botón &amp;quot;modificar&amp;quot;, los datos de esa fila se cargue en los selects del &amp;quot;poup&amp;quot;.&lt;/p&gt;&#xA;&lt;p&gt;Cada vez que intento colocar los valores '.valores['ropa'].' y otros mas dentro de los selects, me toma ese valor como sino existiera.&lt;/p&gt;&#xA;&lt;p&gt;He tratado diferentes formas de solventar este problema pero ya no encuentro solucion, este mismo metodo que quiero aplicar aqui, lo aplique con unos inputs tipo text, lo cual funciono perfectamente.&lt;/p&gt;&#xA;"" OwnerUserId=""269087"" LastActivityDate=""2022-03-14T01:46:31.883"" Title=""Colocar valores dentro de selects, para CRUD"" Tags=""&lt;php&gt;&lt;html&gt;&lt;mysql&gt;&lt;css&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""520970"" PostTypeId=""1"" CreationDate=""2022-03-16T17:20:10.270"" Score=""1"" ViewCount=""49"" Body=""&lt;p&gt;estoy trabajando con unos filtros de tablas en Bootstrap, tengo un botón que carga las tablas y otro que es para ocultarlas y un select para el filtro de las tablas, el problema viene porque en un inicio todo carga bien y funciona a la perfección pero llega un momento en el que ya no me hace los filtros ni me ocultan las tablas.&lt;/p&gt;&#xA;&lt;p&gt;Les comparto lo que tengo&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;   &amp;lt;a class=&quot;btn&quot; id=&quot;entregadosim&quot;&amp;gt;Pedidos Entregados&amp;lt;/a&amp;gt;&#xA;&amp;lt;div id=&quot;con4&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&amp;lt;button class=&quot;btn&quot; style=&quot;border-color: #000; &quot; onclick=&quot;ocultar();&quot;&amp;gt;Ocultar&amp;lt;/button&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;En este div cargo la tabla con Ajax&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$('#entregadosim').click(function(){&#xA;  var Fechain=document.getElementById('f1').value;&#xA;  var Fechafin=document.getElementById('f2').value;&#xA;&#xA;  var ruta=&quot;Fein=&quot;+Fechain+&quot;&amp;amp;Fefin=&quot;+Fechafin;&#xA;&#xA;  $.ajax({&#xA;    url: 'pag/entregados.php',&#xA;    type: 'POST',&#xA;    data: ruta,&#xA;  })&#xA;&#xA;  .done(function(res){&#xA;    $('#con4').html(res)&#xA;    //$('#f1').val('');&#xA;    //$('#f2').val('');&#xA;  })&#xA;&#xA;  .fail(function(){&#xA;    console.log(&quot;error&quot;);&#xA;  })&#xA;  .always(function(){&#xA;    console.log(&quot;complete&quot;);&#xA;  })&#xA;});&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;El id de mi contenedor es &amp;quot;tablas&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;Y aquí están los scripts de los filtros y el de ocultar tabla&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;  document.getElementById('selectCategory').reset();&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Y este es el script de los filtros&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;  $(&quot;#opciones&quot;).change(function () {&#xA;    if(this.value != &quot;Todos&quot;)&#xA;      {&#xA;    &#xA;    var data = this.value.split(&quot; &quot;);&#xA;    &#xA;    var jo = $(&quot;#tabla&quot;).find(&quot;tr&quot;);&#xA;    if (this.value == &quot;&quot;) {&#xA;        jo.show();&#xA;        return;&#xA;    }&#xA; &#xA;    jo.hide();&#xA;    &#xA;    jo.filter(function (i, v) {&#xA;        var $t = $(this);&#xA;        for (var d = 0; d &amp;lt; data.length; ++d) {&#xA;            if ($t.is(&quot;:contains('&quot; + data[d] + &quot;')&quot;)) {&#xA;                return true;&#xA;            }&#xA;        }&#xA;        return false;&#xA;    })&#xA;    &#xA;    .show();&#xA;      }&#xA;    }).focus(function () {&#xA;    this.value = &quot;&quot;;&#xA;    $(this).css({&#xA;        &quot;color&quot;: &quot;black&quot;&#xA;    });&#xA;    $(this).unbind('focus');&#xA;    }).css({&#xA;    &quot;color&quot;: &quot;#C0C0C0&quot;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Son dos tablas las que estoy utilizando, al hacerlo por primera vez si quiero consultar los filtros de la segunda tabla y ocultarlo lo hace bien, pero si lo hago con la primera y luego lo quiero consultar con la segunda tabla, en la segunda ya no lo hace pero en la primera sí, no sé si me podrían ayudar, muchas gracias&lt;/p&gt;&#xA;"" OwnerUserId=""269711"" LastActivityDate=""2022-03-16T17:20:10.270"" Title=""Código JS deja de funcionar"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""543523"" PostTypeId=""1"" AcceptedAnswerId=""574767"" CreationDate=""2022-06-28T22:31:09.830"" Score=""0"" ViewCount=""186"" Body=""&lt;p&gt;tengo el siguiente fragmento del lado del cliente donde debe adjuntar un pago en pdf junto a otros campos input text:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form action=&amp;quot;ajax/solicitudes_nuevo.php&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot; class=&amp;quot;form-horizontal&amp;quot; name=&amp;quot;formulario&amp;quot; id=&amp;quot;datos_solicitud&amp;quot; method=&amp;quot;POST&amp;quot; autocomplete=&amp;quot;off&amp;quot;&amp;gt; &amp;lt;!-- name=&amp;quot;formulario&amp;quot; id=&amp;quot;datos_solicitud&amp;quot; --&amp;gt;&#xA;                        &amp;lt;input type='hidden' class=&amp;quot;form-control&amp;quot; id=&amp;quot;id_clientes&amp;quot; name=&amp;quot;id_clientes&amp;quot; value=&amp;quot;&amp;lt;?php echo strtoupper($_SESSION['id_clientes']) ?&amp;gt;&amp;quot;&amp;gt;&#xA;                        &amp;lt;input type='hidden' class=&amp;quot;form-control&amp;quot; id=&amp;quot;user_name&amp;quot; name=&amp;quot;user_name&amp;quot; value=&amp;quot;&amp;lt;?php echo strtoupper($_SESSION['user_name']) ?&amp;gt;&amp;quot;&amp;gt;&#xA;                        &amp;lt;input type='hidden' class=&amp;quot;form-control&amp;quot; id=&amp;quot;id_booking&amp;quot; name=&amp;quot;id_booking&amp;quot; &amp;gt;&#xA;&#xA;                        &amp;lt;div id=&amp;quot;resultados_ajax_formulario_solicitudes_registro&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&#xA;                        &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xA;                            &amp;lt;label for=&amp;quot;nombre_operador&amp;quot; class=&amp;quot;col-md-1 control-label&amp;quot;&amp;gt;Operador&amp;lt;/label&amp;gt;&#xA;                            &amp;lt;div class=&amp;quot;col-md-5&amp;quot;&amp;gt;&#xA;                                &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control&amp;quot; id=&amp;quot;nombre_operador&amp;quot; name=&amp;quot;nombre_operador&amp;quot; placeholder=&amp;quot;Operador Logístico&amp;quot; required&amp;gt;&#xA;                                &amp;lt;input type='hidden' class=&amp;quot;form-control&amp;quot; id=&amp;quot;id_operador&amp;quot; name=&amp;quot;id_operador&amp;quot; &amp;gt; &#xA;                            &amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xA;                    &amp;lt;div class=&amp;quot;col-md-6&amp;quot;&amp;gt; &#xA;                                &amp;lt;label class=&amp;quot;form-label&amp;quot; for=&amp;quot;archivo&amp;quot;&amp;gt;Constancia de Pago&amp;lt;/label&amp;gt;&#xA;                                &amp;lt;input class=&amp;quot;form-control form-control-lg&amp;quot; id=&amp;quot;archivo&amp;quot; name=&amp;quot;archivo&amp;quot; type=&amp;quot;file&amp;quot; required&amp;gt;         &#xA;                                   &amp;lt;!-- class=&amp;quot;form-control form-control-lg&amp;quot;--&amp;gt;&#xA;                            &amp;lt;/div&amp;gt;&#xA;                        &amp;lt;/div&amp;gt; &#xA;&#xA;&#xA;&amp;lt;button type=&amp;quot;submit&amp;quot; name=&amp;quot;guardar_datos&amp;quot; value=&amp;quot;guardar_datos&amp;quot; class=&amp;quot;btn btn-primary&amp;quot; id=&amp;quot;guardar_datos&amp;quot; &amp;gt;&#xA;                                    &amp;lt;span class=&amp;quot;glyphicon glyphicon-save&amp;quot;&amp;gt;&amp;lt;/span&amp;gt; Guardar datos&#xA;                                &amp;lt;/button&amp;gt;&#xA;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El problema radica en que del lado del servidor no captura el input file, tengo lo siguiente:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;if ($_SERVER['REQUEST_METHOD'] == 'POST') {&#xA;       &#xA;    if($_FILES['archivo']['error']&amp;gt;0){&#xA;           echo &amp;quot;error al cargar archivo&amp;quot;;&#xA;       }else{&#xA;           $permitidos = array(&amp;quot;application/pdf&amp;quot;);&#xA;           $limite_KB = 200;&#xA;           if(in_array($_FILES['archivo']['type'],$permitidos) &amp;amp;&amp;amp; $_FILES['archivo']['size']&amp;lt;=1024*$limite_KB){&#xA;               $ruta = 'files/'.$id_insert.'/';&#xA;               $nombre_archivo = $ruta.$_FILES['archivo']['name'];&#xA;               &#xA;               if(!file_exists($ruta)){&#xA;                   mkdir($ruta);&#xA;               }&#xA;               if(!file_exists($nombre_archivo)){&#xA;                   $resultado = move_uploaded_file($_FILES['archivo']['tmp_name'],$nombre_archivo);&#xA;                   &#xA;                   if($resultado){&#xA;                       echo &amp;quot;Archivo guardado&amp;quot;;&#xA;                   }else{&#xA;                       echo &amp;quot;No se pudo guardar&amp;quot;;&#xA;                   }&#xA;               }&#xA;               &#xA;           }else{&#xA;             ECHO &amp;quot;Archivo incorrecto&amp;quot;;&#xA;           }&#xA;       }&#xA;       } else {&#xA;    echo 'fail';&#xA;        &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Necesito saber donde esta el error, ya que como se observa utilizo la dir $_FILES correctamente, algo que sospecho es que sea la ruta de mi archivo php para la subida&#xA;que se encuentra en la ruta ajax/solicitudes_nuevo.php&lt;/p&gt;&#xA;"" OwnerUserId=""292887"" LastActivityDate=""2022-12-20T17:38:11.667"" Title=""Subir archivo pdf con PHP 8 y MYSQL"" Tags=""&lt;php&gt;&lt;html&gt;&lt;mysql&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""548803"" PostTypeId=""1"" CreationDate=""2022-07-28T02:49:05.120"" Score=""0"" ViewCount=""46"" Body=""&lt;p&gt;Tengo una lista de datos en mi controlador de php, los cuales son los siguientes:&lt;br /&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/Vh3yI.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Vh3yI.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como pueden observar &lt;em&gt;2022-08-01&lt;/em&gt; está ocupando 6 horas.&#xA;¿Cómo puedo hacer que la fecha tenga sus horas ocupadas?&#xA;Ejemplo:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;2022-08-01[&#xA; hora_ini: &amp;quot;06:00:00&amp;quot;&#xA; hora_ini: &amp;quot;10:00:00&amp;quot;&#xA; &amp;quot;resto de las horas&amp;quot;&#xA;]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;em&gt;Código&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;Controller:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;public function Agenda(){&#xA;    if($this-&amp;gt;input-&amp;gt;is_ajax_request()){&#xA;      $this-&amp;gt;form_validation-&amp;gt;set_rules('id_veterinarioinfo', 'id_veterinarioinfo', 'required');&#xA;      if($this-&amp;gt;form_validation-&amp;gt;run()){&#xA;        $id_vet = $this-&amp;gt;input-&amp;gt;post('id_veterinarioinfo', true);&#xA;        &#xA;        &#xA;        $valor = $this-&amp;gt;cliente-&amp;gt;Agenda($id_vet);&#xA;        &#xA;        $this-&amp;gt;tools-&amp;gt;outputJson($valor, 200);&#xA;      }&#xA;    }&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Modal:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;public function Agenda($id_vet){&#xA;    $this-&amp;gt;db-&amp;gt;where(&amp;quot;id_vetinfo=$id_vet and c.Activo = 1 and c.iEstatus &amp;lt; 1&amp;quot;);&#xA;    $this-&amp;gt;db-&amp;gt;select(&amp;quot;a.id_cita as id, a.fecha_cita as fecha, a.hora_ini&amp;quot;);&#xA;    $this-&amp;gt;db-&amp;gt;from(&amp;quot;agenda as a&amp;quot;);&#xA;    $this-&amp;gt;db-&amp;gt;join(&amp;quot;citas as c&amp;quot;,&amp;quot;c.iIdCita=a.id_cita&amp;quot;);&#xA;    $get = $this-&amp;gt;db-&amp;gt;get()-&amp;gt;result();&#xA;    return $get;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Vista:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function seleccionarveterinarioinfo(id_veterinarioinfo) {&#xA;    &#xA;    $.ajax({&#xA;        type: &amp;quot;POST&amp;quot;,&#xA;        url: &amp;quot;&amp;lt;?= base_url(&amp;quot;Cliente_controller/Agenda&amp;quot;)?&amp;gt;&amp;quot;,&#xA;        data:{&#xA;            id_veterinarioinfo: id_veterinarioinfo&#xA;        }&#xA;    }).done(function(data){&#xA;        console.log(data);&#xA;    }).fail(function(jqXHR){&#xA;        console.log(&amp;quot;fallo&amp;quot;)&#xA;    })&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""295126"" LastEditorUserId=""156327"" LastEditDate=""2022-07-28T18:07:04.523"" LastActivityDate=""2022-07-28T18:07:04.523"" Title=""Agrupar las horas en su fecha correspondiente"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;codeigniter&gt;&lt;codeigniter-3&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""554531"" PostTypeId=""1"" AcceptedAnswerId=""554695"" CreationDate=""2022-08-30T19:56:56.547"" Score=""1"" ViewCount=""307"" Body=""&lt;p&gt;Tengo el siguiente formulario solo para validar/hacer pequeñas pruebas con el método &lt;em&gt;&lt;strong&gt;$.get();&lt;/strong&gt;&lt;/em&gt; sobre todo con el botón, pero realmente el formulario lo tengo con el método &lt;em&gt;&lt;strong&gt;$.ajax();&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&amp;quot;form_palabra&amp;quot;&amp;gt;&#xA;    &amp;lt;div class=&amp;quot;mb-3&amp;quot;&amp;gt;&#xA;       &amp;lt;label for=&amp;quot;palabra&amp;quot; class=&amp;quot;form-label&amp;quot;&amp;gt;&#xA;            Palabra&#xA;       &amp;lt;/label&amp;gt;&#xA;       &amp;lt;input type=&amp;quot;text&amp;quot; id=&amp;quot;palabra&amp;quot; class=&amp;quot;form-control&amp;quot; name=&amp;quot;palabra&amp;quot; placeholder=&amp;quot;Escribe una palabra&amp;quot;&amp;gt;&#xA;       &amp;lt;div class=&amp;quot;form-text&amp;quot;&amp;gt;&#xA;           Comprobando el manejo de errores en JQuery AJAX&#xA;       &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;    &amp;lt;button type=&amp;quot;submit&amp;quot; class=&amp;quot;bg-gradient btn btn-primary&amp;quot;&amp;gt;&#xA;        Test!&#xA;    &amp;lt;/button&amp;gt;&#xA;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;La petición con el método &lt;em&gt;&lt;strong&gt;$.ajax();&lt;/strong&gt;&lt;/em&gt; es la siguiente:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$('#form_palabra').submit(function (e) {&#xA;    e.preventDefault();&#xA;    $.ajax({&#xA;        url: 'models/pruebas.php',&#xA;        data: $(this).serialize(),&#xA;        type: 'POST',&#xA;        dataType: 'JSON',&#xA;    }).always(function(){&#xA;        console.clear();&#xA;    }).done(function(response, status){&#xA;        if(response.existe_persona == 1){&#xA;            console.log(`Hola, mi nombre es ${response.nombre} soy un ${response.genero} de ${response.edad} años de edad`);&#xA;        } else {&#xA;            console.log(&amp;quot;No existe tal persona&amp;quot;);&#xA;        }&#xA;    }).fail( function(jqXHR, textStatus, errorThrown){&#xA;        console.log(jqXHR.status);&#xA;    });&#xA; });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Manda la petición la manda a &lt;em&gt;&lt;strong&gt;pruebas.php&lt;/strong&gt;&lt;/em&gt;, es el siguiente script PHP:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    if(isset($_POST['palabra']) &amp;amp;&amp;amp; !empty($_POST['palabra'])){&#xA;        $persona = [&amp;quot;nombre&amp;quot; =&amp;gt; &amp;quot;Minor&amp;quot;, &amp;quot;genero&amp;quot; =&amp;gt; &amp;quot;hombre&amp;quot;, &amp;quot;edad&amp;quot; =&amp;gt; &amp;quot;25&amp;quot;];&#xA;        $info_persona['existe_persona'] = 0;&#xA;        foreach ($persona as $key =&amp;gt; $value){&#xA;            $info_persona['existe_persona'] = 0;&#xA;            $info_persona[$key] = $value;&#xA;        }&#xA;        echo json_encode($info_persona);&#xA;    } else {&#xA;        echo json_encode([&amp;quot;mensaje_error&amp;quot; =&amp;gt; &amp;quot;No se configuro nada&amp;quot;]);&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Mis dudas son:&lt;/p&gt;&#xA;&lt;p&gt;1.- ¿Cómo puedo mejorar mi código? Sí alguna sugerencia que me puedan brindar. (Sé que puedo usar el método &lt;em&gt;&lt;strong&gt;$.POST();&lt;/strong&gt;&lt;/em&gt; pero limita a manejar errores o eso tengo entendido y además no puedes especificar un &lt;strong&gt;dataType&lt;/strong&gt;)&lt;/p&gt;&#xA;&lt;p&gt;2.- ¿Cómo puedo darle un &amp;quot;buen uso o uso correcto&amp;quot; a &lt;em&gt;&lt;strong&gt;.fail()&lt;/strong&gt;&lt;/em&gt;? Es decir se manejan los parametros &amp;quot;&lt;strong&gt;jqXHR, textStatus, errorThrown&lt;/strong&gt;&amp;quot; que muestran el error, code status por ejemplo, pero si quisiera que desde el script PHP mande un status code especifico con/por &lt;strong&gt;Header Request&lt;/strong&gt; y lo tome el &lt;em&gt;&lt;strong&gt;.fail()&lt;/strong&gt;&lt;/em&gt; ¿No sé puede o alguna manera? No sé con algun &lt;strong&gt;Web Service&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;Digamos que símule un registro de una &lt;strong&gt;database&lt;/strong&gt; con el array associativo y quisiera evitar el if dentro del &lt;em&gt;&lt;strong&gt;.done()&lt;/strong&gt;&lt;/em&gt; y que desde el script PHP me diga si hay o no hay registro, entiendo como funciona AJAX JQ pero de una manera sencilla y me tengo duda de como darle &amp;quot;buen uso a .fail()&amp;quot;&lt;/p&gt;&#xA;&lt;p&gt;O fail es solo para respuesta directa del &lt;strong&gt;server&lt;/strong&gt; como un 404 un 500 status code, ya leí la doc, revise varios foros pero sigo con esa duda.&lt;/p&gt;&#xA;"" OwnerUserId=""221209"" LastActivityDate=""2022-08-31T17:20:31.690"" Title=""¿Alguna manera de mandar un STATUS CODE como RESPONSE y que lo tome FAIL de AJAX en JQUERY?"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""555063"" PostTypeId=""1"" CreationDate=""2022-09-02T17:55:30.213"" Score=""0"" ViewCount=""31"" Body=""&lt;p&gt;Estoy intentando setear una funcion en la configuracion del ajax de jquery, para que esta funcion se ejecute cada vez que se mande a llamar un ajax implicitament.&lt;/p&gt;&#xA;&lt;p&gt;Aqui seteo la funcion que quiero implantar&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajaxSetup({&#xA;    beforeSend: function(){&#xA;        validar_sesion();&#xA;    },&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;luego es mi ajax que mando llamar en algun lado&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;jQuery.ajax({&#xA;        url     : '...',&#xA;        data    : {...},&#xA;        method  : 'post',&#xA;        dataType:&amp;quot;json&amp;quot;,&#xA;        }).then(resp=&amp;gt;{&#xA;              ....&#xA;        }).fail(resp=&amp;gt;{&#xA;            swal('Ocurrio un problema en la peticion en el servidor, favor de reportar a los administradores', {icon:'error'});&#xA;        }).catch(resp=&amp;gt;{&#xA;            console.log(resp.responseText);swal('Ocurrio un problema en la peticion en el servidor, favor de reportar a los administradores', {icon:'error'});&#xA;        });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Esta es la funcion que me pasaron para ejecutar en los ajax implicitamente&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function validar_sesion(URL = '') {&#xA;&#xA;&#xA;&#xA;    $.post(window.origin + '/login/verificar_iniciador', function(data) {&#xA;&#xA;        if (data.length === 2) {&#xA;            // showLoading_global('Serás redirigido al Login.');&#xA;            // vxalert('info','Serás redirigido al Login.')&#xA;            // setTimeout(() =&amp;gt; { &#xA;            location.reload();&#xA;            // }, 200);&#xA;&#xA;        }&#xA;&#xA;    });&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y me arroja el siguiente error. Alguien tiene idea de lo que puede estar pasando, porque me dice que la pila esta llena.&#xA;toast.js:221 Uncaught RangeError: Maximum call stack size exceeded&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;/**&#xA; * --------------------------------------------------------------------------&#xA; * Bootstrap (v4.5.0): toast.js&#xA; * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)&#xA; * --------------------------------------------------------------------------&#xA; */&#xA;&#xA;import $ from 'jquery'&#xA;import Util from './util'&#xA;&#xA;/**&#xA; * ------------------------------------------------------------------------&#xA; * Constants&#xA; * ------------------------------------------------------------------------&#xA; */&#xA;&#xA;const NAME               = 'toast'&#xA;const VERSION            = '4.5.0'&#xA;const DATA_KEY           = 'bs.toast'&#xA;const EVENT_KEY          = `.${DATA_KEY}`&#xA;const JQUERY_NO_CONFLICT = $.fn[NAME]&#xA;&#xA;const EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`&#xA;const EVENT_HIDE          = `hide${EVENT_KEY}`&#xA;const EVENT_HIDDEN        = `hidden${EVENT_KEY}`&#xA;const EVENT_SHOW          = `show${EVENT_KEY}`&#xA;const EVENT_SHOWN         = `shown${EVENT_KEY}`&#xA;&#xA;const CLASS_NAME_FADE    = 'fade'&#xA;const CLASS_NAME_HIDE    = 'hide'&#xA;const CLASS_NAME_SHOW    = 'show'&#xA;const CLASS_NAME_SHOWING = 'showing'&#xA;&#xA;const DefaultType = {&#xA;  animation : 'boolean',&#xA;  autohide  : 'boolean',&#xA;  delay     : 'number'&#xA;}&#xA;&#xA;const Default = {&#xA;  animation : true,&#xA;  autohide  : true,&#xA;  delay     : 500&#xA;}&#xA;&#xA;const SELECTOR_DATA_DISMISS = '[data-dismiss=&amp;quot;toast&amp;quot;]'&#xA;&#xA;/**&#xA; * ------------------------------------------------------------------------&#xA; * Class Definition&#xA; * ------------------------------------------------------------------------&#xA; */&#xA;&#xA;class Toast {&#xA;  constructor(element, config) {&#xA;    this._element = element&#xA;    this._config  = this._getConfig(config)&#xA;    this._timeout = null&#xA;    this._setListeners()&#xA;  }&#xA;&#xA;  // Getters&#xA;&#xA;  static get VERSION() {&#xA;    return VERSION&#xA;  }&#xA;&#xA;  static get DefaultType() {&#xA;    return DefaultType&#xA;  }&#xA;&#xA;  static get Default() {&#xA;    return Default&#xA;  }&#xA;&#xA;  // Public&#xA;&#xA;  show() {&#xA;    const showEvent = $.Event(EVENT_SHOW)&#xA;&#xA;    $(this._element).trigger(showEvent)&#xA;    if (showEvent.isDefaultPrevented()) {&#xA;      return&#xA;    }&#xA;&#xA;    if (this._config.animation) {&#xA;      this._element.classList.add(CLASS_NAME_FADE)&#xA;    }&#xA;&#xA;    const complete = () =&amp;gt; {&#xA;      this._element.classList.remove(CLASS_NAME_SHOWING)&#xA;      this._element.classList.add(CLASS_NAME_SHOW)&#xA;&#xA;      $(this._element).trigger(EVENT_SHOWN)&#xA;&#xA;      if (this._config.autohide) {&#xA;        this._timeout = setTimeout(() =&amp;gt; {&#xA;          this.hide()&#xA;        }, this._config.delay)&#xA;      }&#xA;    }&#xA;&#xA;    this._element.classList.remove(CLASS_NAME_HIDE)&#xA;    Util.reflow(this._element)&#xA;    this._element.classList.add(CLASS_NAME_SHOWING)&#xA;    if (this._config.animation) {&#xA;      const transitionDuration = Util.getTransitionDurationFromElement(this._element)&#xA;&#xA;      $(this._element)&#xA;        .one(Util.TRANSITION_END, complete)&#xA;        .emulateTransitionEnd(transitionDuration)&#xA;    } else {&#xA;      complete()&#xA;    }&#xA;  }&#xA;&#xA;  hide() {&#xA;    if (!this._element.classList.contains(CLASS_NAME_SHOW)) {&#xA;      return&#xA;    }&#xA;&#xA;    const hideEvent = $.Event(EVENT_HIDE)&#xA;&#xA;    $(this._element).trigger(hideEvent)&#xA;    if (hideEvent.isDefaultPrevented()) {&#xA;      return&#xA;    }&#xA;&#xA;    this._close()&#xA;  }&#xA;&#xA;  dispose() {&#xA;    clearTimeout(this._timeout)&#xA;    this._timeout = null&#xA;&#xA;    if (this._element.classList.contains(CLASS_NAME_SHOW)) {&#xA;      this._element.classList.remove(CLASS_NAME_SHOW)&#xA;    }&#xA;&#xA;    $(this._element).off(EVENT_CLICK_DISMISS)&#xA;&#xA;    $.removeData(this._element, DATA_KEY)&#xA;    this._element = null&#xA;    this._config  = null&#xA;  }&#xA;&#xA;  // Private&#xA;&#xA;  _getConfig(config) {&#xA;    config = {&#xA;      ...Default,&#xA;      ...$(this._element).data(),&#xA;      ...typeof config === 'object' &amp;amp;&amp;amp; config ? config : {}&#xA;    }&#xA;&#xA;    Util.typeCheckConfig(&#xA;      NAME,&#xA;      config,&#xA;      this.constructor.DefaultType&#xA;    )&#xA;&#xA;    return config&#xA;  }&#xA;&#xA;  _setListeners() {&#xA;    $(this._element).on(EVENT_CLICK_DISMISS, SELECTOR_DATA_DISMISS, () =&amp;gt; this.hide())&#xA;  }&#xA;&#xA;  _close() {&#xA;    const complete = () =&amp;gt; {&#xA;      this._element.classList.add(CLASS_NAME_HIDE)&#xA;      $(this._element).trigger(EVENT_HIDDEN)&#xA;    }&#xA;&#xA;    this._element.classList.remove(CLASS_NAME_SHOW)&#xA;    if (this._config.animation) {&#xA;      const transitionDuration = Util.getTransitionDurationFromElement(this._element)&#xA;&#xA;      $(this._element)&#xA;        .one(Util.TRANSITION_END, complete)&#xA;        .emulateTransitionEnd(transitionDuration)&#xA;    } else {&#xA;      complete()&#xA;    }&#xA;  }&#xA;&#xA;  // Static&#xA;&#xA;  static _jQueryInterface(config) {&#xA;    return this.each(function () {&#xA;      const $element = $(this)&#xA;      let data       = $element.data(DATA_KEY)&#xA;      const _config  = typeof config === 'object' &amp;amp;&amp;amp; config&#xA;&#xA;      if (!data) {&#xA;        data = new Toast(this, _config)&#xA;        $element.data(DATA_KEY, data)&#xA;      }&#xA;&#xA;      if (typeof config === 'string') {&#xA;        if (typeof data[config] === 'undefined') {&#xA;          throw new TypeError(`No method named &amp;quot;${config}&amp;quot;`)&#xA;        }&#xA;&#xA;        data[config](this)&#xA;      }&#xA;    })&#xA;  }&#xA;}&#xA;&#xA;/**&#xA; * ------------------------------------------------------------------------&#xA; * jQuery&#xA; * ------------------------------------------------------------------------&#xA; */&#xA;&#xA;$.fn[NAME]             = Toast._jQueryInterface&#xA;$.fn[NAME].Constructor = Toast&#xA;$.fn[NAME].noConflict  = () =&amp;gt; {&#xA;  $.fn[NAME] = JQUERY_NO_CONFLICT&#xA;  return Toast._jQueryInterface&#xA;}&#xA;&#xA;export default Toast&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""85883"" LastEditorUserId=""85883"" LastEditDate=""2022-09-02T20:58:45.223"" LastActivityDate=""2022-09-02T20:58:45.223"" Title=""Maximum call stack size exceeded toast.js"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""566715"" PostTypeId=""1"" CreationDate=""2022-11-07T14:45:43.110"" Score=""0"" ViewCount=""132"" Body=""&lt;p&gt;Buenas tengo el siguiente código del primer modal en donde trato de llamar al segundo modal desde una segunda página llamada &amp;quot;modal.php&amp;quot; a través de Ajax.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;modal &amp;quot; id=&amp;quot;exampleModalToggle&amp;quot; aria-hidden=&amp;quot;true&amp;quot; aria-labelledby=&amp;quot;exampleModalToggleLabel&amp;quot;&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;modal-dialog modal-dialog-centered&amp;quot;&amp;gt;&#xA;        &amp;lt;div class=&amp;quot;modal-content&amp;quot;&amp;gt;&#xA;          &amp;lt;div class=&amp;quot;modal-header&amp;quot;&amp;gt;&#xA;            &amp;lt;h5 class=&amp;quot;modal-title&amp;quot; id=&amp;quot;exampleModalToggleLabel&amp;quot;&amp;gt;Formulario&amp;lt;/h5&amp;gt;&#xA;            &amp;lt;label for=&amp;quot;&amp;quot;&amp;gt; &amp;lt;/label&amp;gt;&#xA;            &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;btn-close&amp;quot; data-bs-dismiss=&amp;quot;modal&amp;quot; aria-label=&amp;quot;Close&amp;quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;          &amp;lt;div class=&amp;quot;modal-body&amp;quot;&amp;gt;&#xA;            &amp;lt;form id=&amp;quot;form_id&amp;quot; action=&amp;quot;&amp;lt;?= makeUrl([&amp;quot;page&amp;quot; =&amp;gt; &amp;quot;test/extra/details&amp;quot;]) ?&amp;gt;&amp;quot; method=&amp;quot;POST&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot;&amp;gt;&#xA;              &amp;lt;input name=&amp;quot;color_update&amp;quot; type=&amp;quot;hidden&amp;quot; id=&amp;quot;txtColor&amp;quot; value=&amp;quot;#85C1E9&amp;quot;&amp;gt;&#xA;              &amp;lt;input name=&amp;quot;start&amp;quot; type=&amp;quot;hidden&amp;quot; id=&amp;quot;start&amp;quot; readonly&amp;gt;&#xA;              &amp;lt;input name=&amp;quot;startStr&amp;quot; type=&amp;quot;hidden&amp;quot; id=&amp;quot;startStr&amp;quot; readonly&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;title&amp;quot; id=&amp;quot;title&amp;quot; readonly&amp;gt;&#xA;              &amp;lt;div class=&amp;quot;row row-cols-2&amp;quot;&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;label for=&amp;quot;id&amp;quot;&amp;gt;Ticket&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;input class=&amp;quot;form-control&amp;quot; type=&amp;quot;text&amp;quot; name=&amp;quot;id&amp;quot; id=&amp;quot;id&amp;quot; readonly&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;label for=&amp;quot;&amp;quot;&amp;gt;Fecha estimada&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;input class=&amp;quot;form-control&amp;quot; name=&amp;quot;fecha_termino_update&amp;quot; type=&amp;quot;date&amp;quot;&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;label for=&amp;quot;&amp;quot;&amp;gt;Hora estimada&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;input class=&amp;quot;form-control&amp;quot; name=&amp;quot;hora_Final_update&amp;quot; type=&amp;quot;time&amp;quot;&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;label for=&amp;quot;&amp;quot;&amp;gt;Personal a asignar&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;                &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;                  &amp;lt;select name=&amp;quot;personal&amp;quot; class=&amp;quot;form-select&amp;quot; aria-label=&amp;quot;Default select example&amp;quot;&amp;gt;&#xA;                    &amp;lt;option selected&amp;gt;Selecionar&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;option value=&amp;quot;Juan&amp;quot;&amp;gt;Juan&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;option value=&amp;quot;maicol&amp;quot;&amp;gt;Maicol&amp;lt;/option&amp;gt;&#xA;                    &amp;lt;option value=&amp;quot;pedro&amp;quot;&amp;gt;Pedro&amp;lt;/option&amp;gt;&#xA;                  &amp;lt;/select&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;              &amp;lt;textarea name=&amp;quot;observacion&amp;quot; id=&amp;quot;observacion&amp;quot; class=&amp;quot;form-control mt-2&amp;quot; rows=&amp;quot;5&amp;quot; placeholder=&amp;quot;Observacion del asignado&amp;quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;          &amp;lt;div class=&amp;quot;modal-footer&amp;quot;&amp;gt;&#xA;            &amp;lt;button type=&amp;quot;button&amp;quot; style=&amp;quot;margin-right: auto;&amp;quot; class=&amp;quot;btn btn-outline-danger&amp;quot; data-bs-dismiss=&amp;quot;modal&amp;quot;&amp;gt;Cerrar&amp;lt;/button&amp;gt;&#xA;            &amp;lt;button type=&amp;quot;submit&amp;quot; class=&amp;quot;btn btn-success&amp;quot; name=&amp;quot;actualizar&amp;quot; onclick=&amp;quot;return insertJobs();&amp;quot;&amp;gt;Ingresar trabajo&amp;lt;/button&amp;gt;&#xA;            &amp;lt;/form&amp;gt;&#xA;            &amp;lt;button id=&amp;quot;doc&amp;quot; class=&amp;quot;btn btn-info&amp;quot; data-bs-target=&amp;quot;#exampleModalToggle2&amp;quot; data-bs-toggle=&amp;quot;modal&amp;quot; onclick=&amp;quot;buscar_Modal()&amp;quot;&amp;gt;Ver detalle&amp;lt;/button&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es el primer modal y me lo trae correctamente.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/0S3m9.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/0S3m9.png&quot; alt=&quot;Este es el primer modal y desde aquí quiero llamar al segundo modal pasándole variables&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Lo que trato es que, presionando el botón de &amp;quot;Ver detalle&amp;quot; del primer modal me llame al segundo modal pasando la variable de &lt;strong&gt;TICKET&lt;/strong&gt; &amp;quot; y todo ese proceso a través de Ajax.&lt;/p&gt;&#xA;&lt;p&gt;El código del Ajax que tengo es el siguiente.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;       function buscar_Modal() {&#xA;        $('#modal_Segundo').modal({&#xA;          show:true&#xA;        });&#xA;    document.addEventListener(&amp;quot;DOMContentLoaded&amp;quot;, function() {&#xA;    $(&amp;quot;#doc&amp;quot;).click(function() {&#xA;        id_Ticket = $(this).attr(&amp;quot;id&amp;quot;)&#xA;        values = {&#xA;            &amp;quot;Ticket&amp;quot;: id_Ticket,&#xA;            &amp;quot;bar&amp;quot;: &amp;quot;0&amp;quot;&#xA;        };&#xA;        $.ajax({&#xA;            data: values,&#xA;            url: 'modal.php',&#xA;            type: 'GET',&#xA;            dataType: 'text', //dataType: 'text'&#xA;            cors: true,&#xA;        }).done(function(data) {&#xA;            data = $.trim(data.replace(/&amp;lt;[^&amp;gt;]*&amp;gt;?/gm, ''));&#xA;            console.log(data);&#xA;            $(id_Ticket).html(data);&#xA;        }).fail(function() {&#xA;            console.log(&amp;quot;error&amp;quot;);&#xA;        });&#xA;    });&#xA;});&#xA;}&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El segundo modal desde la pagina &amp;quot;modal.php es el siguente&amp;quot;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;div class=&amp;quot;modal fade&amp;quot; id=&amp;quot;modal_Segundo&amp;quot;&amp;gt;&#xA;  &amp;lt;div class=&amp;quot;modal-dialog modal-dialog-centered&amp;quot;&amp;gt;&#xA;    &amp;lt;div class=&amp;quot;modal-content&amp;quot;&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;modal-header&amp;quot;&amp;gt;&#xA;        &amp;lt;h5 class=&amp;quot;modal-title&amp;quot; id=&amp;quot;exampleModalToggleLabel2&amp;quot;&amp;gt;Modal 2&amp;lt;/h5&amp;gt;&#xA;        &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;btn-close&amp;quot; data-bs-dismiss=&amp;quot;modal&amp;quot; aria-label=&amp;quot;Close&amp;quot;&amp;gt;&amp;lt;/button&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;modal-body&amp;quot;&amp;gt;&#xA;&#xA;&#xA;        &amp;lt;?php&#xA;        foreach ($ticket_con_levantamiento-&amp;gt;list as $key =&amp;gt; $value) {&#xA;        }&#xA;        **// Aqui quiero que muestres los datos pasados del ajax**&#xA;        $ticket = $GLOBALS['DB']-&amp;gt;getTicket('37003');&#xA;&#xA;&#xA;        $ticket-&amp;gt;getSkus();&#xA;&#xA;        $ticket-&amp;gt;getSeries();&#xA;        ?&amp;gt;&#xA;&#xA;        &amp;lt;div class=&amp;quot;m-2&amp;quot;&amp;gt;&#xA;          &amp;lt;h2 type=&amp;quot;text&amp;quot; class=&amp;quot;text-center mb-5&amp;quot;&amp;gt;Datos ticket &amp;lt;?= $ticket-&amp;gt;getId(); ?&amp;gt;&amp;lt;/h2&amp;gt;&#xA;          &amp;lt;div class=&amp;quot;row row-cols-2 col-md-12  responsive mb-5&amp;quot;&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;region&amp;quot;&amp;gt;Ticket&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['id_Ticket'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;region&amp;quot; id=&amp;quot;region&amp;quot; disabled&amp;gt;&#xA;              &amp;lt;!-- &amp;lt;input class=&amp;quot;form-control&amp;quot; type=&amp;quot;text&amp;quot; name=&amp;quot;id&amp;quot; id=&amp;quot;id&amp;quot; readonly&amp;gt; --&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;nombre_Cliente&amp;quot;&amp;gt;Nombre cliente&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control  responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['nom_Cliente'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;nombre_Cliente&amp;quot; id=&amp;quot;nombre_Cliente&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col &amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;courier&amp;quot;&amp;gt;Courier&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;?php if ($ticket-&amp;gt;data['courier'][&amp;quot;valor&amp;quot;] != &amp;quot;&amp;quot;) { ?&amp;gt;&#xA;                &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['courier'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;courier&amp;quot; id=&amp;quot;courier&amp;quot; disabled&amp;gt;&#xA;              &amp;lt;?php } else {&#xA;              ?&amp;gt;&#xA;                &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control  responsive&amp;quot; value=&amp;quot;Sin courier ingresado &amp;quot; name=&amp;quot;courier&amp;quot; id=&amp;quot;courier&amp;quot; disabled&amp;gt;&#xA;              &amp;lt;?php&#xA;              }&#xA;              ?&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;Comuna&amp;quot;&amp;gt;Comuna&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['comuna'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;comuna&amp;quot; id=&amp;quot;comuna&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;region&amp;quot;&amp;gt;Region&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['region'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;region&amp;quot; id=&amp;quot;region&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;direccion&amp;quot;&amp;gt;Direccion&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['direccion'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;direccion&amp;quot; id=&amp;quot;direccion&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;fecha_Entrega_Estimada&amp;quot;&amp;gt;Fecha termino estimada&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['fecha_Entrega_Estimada'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;fecha_Entrega_Estimada&amp;quot; id=&amp;quot;fecha_Entrega_Estimada&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;tel_Contacto&amp;quot;&amp;gt;Telefono contacto&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control  responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['tel_Contacto'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;tel_Contacto&amp;quot; id=&amp;quot;tel_Contacto&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;label for=&amp;quot;courier&amp;quot;&amp;gt;Responsable asignado&amp;lt;/label&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;            &amp;lt;div class=&amp;quot;col&amp;quot;&amp;gt;&#xA;              &amp;lt;input type=&amp;quot;text&amp;quot; class=&amp;quot;form-control  responsive&amp;quot; value=&amp;quot;&amp;lt;?= $ticket-&amp;gt;data['courier'][&amp;quot;valor&amp;quot;] ?&amp;gt;&amp;quot; name=&amp;quot;courier&amp;quot; id=&amp;quot;courier&amp;quot; disabled&amp;gt;&#xA;            &amp;lt;/div&amp;gt;&#xA;          &amp;lt;/div&amp;gt;&#xA;          &amp;lt;?php&#xA;          foreach ($ticket-&amp;gt;detalle as $checkbox) {&#xA;&#xA;            if (&#xA;              $checkbox['tarea'] == &amp;quot;[KIT-GUARDAMOTOR-220V]&amp;quot; or $checkbox['tarea'] == &amp;quot;[KIT-GUARDAMOTOR-380V]&amp;quot; or $checkbox['tarea'] == &amp;quot;[KIT-GUARM-220V-2HP]&amp;quot;&#xA;              or $checkbox['tarea'] == &amp;quot;[KIT-GUARM-220V-3HP]&amp;quot; or $checkbox['tarea'] == &amp;quot;[KIT-LLAV-PART-220V]&amp;quot; or $checkbox['tarea'] == &amp;quot;[KIT-LLAV-PART-380V]&amp;quot; or $checkbox['tarea'] == &amp;quot;[KIT-LLAV-PART-3TRI]&amp;quot;&#xA;            ) {&#xA;              write_to_console(&amp;quot;consumo terminado&amp;quot;);&#xA;            } else {&#xA;          ?&amp;gt;&#xA;              &amp;lt;div class=&amp;quot;container-responsive mt-1&amp;quot; style=&amp;quot;--bs-columns: 12;&amp;quot;&amp;gt;&#xA;&#xA;                &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xA;                  &amp;lt;label for=&amp;quot;exampleFormControlTextarea1&amp;quot;&amp;gt;Observacion ingresada&amp;lt;/label&amp;gt;&#xA;                  &amp;lt;textarea class=&amp;quot;form-control&amp;quot; id=&amp;quot;exampleFormControlTextarea1&amp;quot; rows=&amp;quot;2&amp;quot; disabled&amp;gt;&amp;lt;?= $checkbox['observaciones'] ?&amp;gt;&amp;lt;/textarea&amp;gt;&#xA;                &amp;lt;/div&amp;gt;&#xA;              &amp;lt;/div&amp;gt;&#xA;          &amp;lt;?php&#xA;&#xA;            }&#xA;          }&#xA;&#xA;          ?&amp;gt;&#xA;        &amp;lt;/div&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;      &amp;lt;div class=&amp;quot;modal-footer&amp;quot;&amp;gt;&#xA;        &amp;lt;button type=&amp;quot;button&amp;quot; style=&amp;quot;margin-right: auto;&amp;quot; class=&amp;quot;btn btn-outline-danger&amp;quot; data-bs-dismiss=&amp;quot;modal&amp;quot;&amp;gt;Cerrar&amp;lt;/button&amp;gt;&#xA;        &amp;lt;button class=&amp;quot;btn btn-primary&amp;quot; data-bs-target=&amp;quot;#exampleModalToggle&amp;quot; data-bs-toggle=&amp;quot;modal&amp;quot;&amp;gt;Volver al primero&amp;lt;/button&amp;gt;&#xA;      &amp;lt;/div&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;  &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Para terminar el error que me sale en consola es&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/96haF.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/96haF.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Para los que tengan dudas de donde me traigo la variable &amp;quot;TICKET&amp;quot; los traigo de la función eventClick del plugins FULL CALENDAR&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; eventClick: function(info) {&#xA;          console.log(info);&#xA;          document.getElementById('id').value = info.event.id; //Le paso la variable ticket&#xA;          document.getElementById('start').value = info.event.start;&#xA;          document.getElementById('title').value = info.event.title;&#xA;          document.getElementById('startStr').value = info.event.startStr;&#xA;&#xA;          $(&amp;quot;#exampleModalToggle&amp;quot;).modal(&amp;quot;show&amp;quot;); //Aquí llamo al primer modal&#xA;&#xA;&#xA;   &#xA;        }, &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;PD: Ta complejo la cosa, cualquier duda me dicen si necesitan más código o fotos.&lt;/p&gt;&#xA;"" OwnerUserId=""251382"" LastActivityDate=""2022-11-07T19:29:54.303"" Title=""¿Como llamar a un modal desde otra página con Ajax y enviarle datos?"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;fullcalendar&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""567238"" PostTypeId=""1"" CreationDate=""2022-11-09T16:40:15.530"" Score=""0"" ViewCount=""44"" Body=""&lt;p&gt;Buenas tengo el siguiente problema, la cosa al momento de enviarle los datos por metodo ajax con el siguente codigo&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function Cargar(){&#xA;            var Url=&amp;quot;aqui va a la segunda pagina&amp;quot;;&#xA;            var id_Ticket_modal = document.getElementById(&amp;quot;id&amp;quot;).value; // obtengo la variable que deseo&#xA;            $.ajax({&#xA;                type: &amp;quot;POST&amp;quot;,&#xA;                url: Url,&#xA;                dataType: 'text',&#xA;                data:{id_Ticket_modal} // Le envio los datos por metodo POST&#xA;            }).done(function(datos){&#xA;              console.log(datos);&#xA;              $('#exampleModal').modal('show'); //Llamada al segundo modal&#xA;            }).fail(function(){&#xA;              alert(&amp;quot;Error al buscar datos&amp;quot;);&#xA;            });&#xA;        }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El botón es simple solo lo estoy llamando con onclick y bueno en la consola me trae los datos de la segunda página obteniendo el post de la variable que le mando por ajax.&lt;/p&gt;&#xA;&lt;p&gt;El problema está, en que cuando carga el &amp;quot;done&amp;quot;, no me trae ningún modal y por si tienen dudas ese modal también está en la segunda página.&lt;/p&gt;&#xA;&lt;p&gt;Es básicamente enviarle datos al modal tipo post a un &amp;quot;Actions&amp;quot; y que habrá el modal que esta adentro.&lt;/p&gt;&#xA;"" OwnerUserId=""251382"" LastActivityDate=""2022-11-09T18:29:44.817"" Title=""Llamada a modal no me funciona con ajax"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;modal&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""567980"" PostTypeId=""1"" AcceptedAnswerId=""569082"" CreationDate=""2022-11-13T03:15:03.903"" Score=""0"" ViewCount=""112"" Body=""&lt;p&gt;Tengo los siguientes campos &lt;code&gt;input&lt;/code&gt; que me permite crear o actualizar descuentos individuales:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;bsk-dto&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;dtoupdate[3][Normal][Normal][Normal][1][%]&amp;quot; value=&amp;quot;3&amp;quot; class=&amp;quot;dto&amp;quot; autocomplete=&amp;quot;off&amp;quot; data-validation=&amp;quot;number&amp;quot; data-validation-allowing=&amp;quot;float&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;div class=&amp;quot;bsk-dto&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;dtoupdate[6][Normal][Normal][Normal][1][%]&amp;quot; value=&amp;quot;1&amp;quot; class=&amp;quot;dto&amp;quot; autocomplete=&amp;quot;off&amp;quot; data-validation=&amp;quot;number&amp;quot; data-validation-allowing=&amp;quot;float&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&amp;lt;div class=&amp;quot;bsk-dto&amp;quot;&amp;gt;&#xA;    &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;dtoupdate[10][Normal][Normal][Normal][1][%]&amp;quot; value=&amp;quot;0&amp;quot; class=&amp;quot;dto&amp;quot; autocomplete=&amp;quot;off&amp;quot; data-validation=&amp;quot;number&amp;quot; data-validation-allowing=&amp;quot;float&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Cabe mencionar que todos esos &lt;code&gt;input&lt;/code&gt; están en la misma página, por lo tanto, he intentado que &lt;code&gt;ajax&lt;/code&gt; reciba solo información del campo &lt;code&gt;input&lt;/code&gt; que es manipulado, por lo consiguiente he intentado lo siguiente:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var formData = [];&#xA;formData.push(this.value);&#xA;var formData = $(this).serializeArray();&#xA;&#xA;console.log(formData);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y de la siguiente manera:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;const field = {};&#xA;field[this.name] = this.value;&#xA;console.log(field);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Pese que ambos procedimientos he utilizado &lt;code&gt;this&lt;/code&gt; me genera este problema:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/SiJ3K.gif&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/SiJ3K.gif&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como se puede apreciar si manipulo uno de los campos &lt;code&gt;input&lt;/code&gt; se modifica o se actualizan los demás y lo que realmente deseo es que solo se modifique o se actualice los datos de solo ese campo &lt;code&gt;input&lt;/code&gt; que estoy manipulando.&lt;/p&gt;&#xA;&lt;p&gt;Este es mi código completo de ajax:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;    $(document).on('input', '.dto', function(e){&#xA;        e.preventDefault();&#xA;        $this = $(this);&#xA;        /*const field = {};&#xA;        field[this.name] = this.value;&#xA;        console.log(field);&#xA;        */&#xA;        var formData = [];&#xA;        formData.push(this.value);&#xA;        var formData = $(this).serializeArray();&#xA;&#xA;        console.log(formData);&#xA;&#xA;        var url = &amp;quot;updsc_cart.ini.php&amp;quot;;&#xA;&#xA;       //data: field,&#xA;        $.ajax({&#xA;            url: url,&#xA;            type: &amp;quot;POST&amp;quot;,&#xA;            data: formData,&#xA;            cache: false,&#xA;        })&#xA;        .done(function(data) {&#xA;            let res = JSON.parse(data);&#xA;            if(res.status){&#xA;                $('.alert-success').fadeIn();&#xA;                $('.alert-success').html(res.message).delay(2000).fadeOut(2000);&#xA;            } else {&#xA;                $('.alert-danger').fadeIn();&#xA;                $('.alert-danger').html(res.message).delay(2000).fadeOut(2000);&#xA;            }&#xA;        })&#xA;        .fail(function( jqXHR, textStatus ) {&#xA;        })&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Trato de obtener la información desde el momento que se manipula el campo &lt;code&gt;input&lt;/code&gt;: &lt;code&gt;$(document).on('input', '.dto', function(e)&lt;/code&gt; ¿Que hace falta para que el código ajax funcione correctamente en la manipulación de campo &lt;code&gt;input&lt;/code&gt; individualmente sin que afecte a los demás &lt;code&gt;input&lt;/code&gt; al manipular?&lt;/p&gt;&#xA;&lt;hr /&gt;&#xA;&lt;p&gt;La actualización se esta guardando correctamente, para verificar dicha información de la siguiente linea:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$item_dto = (isset($_SESSION['item_dto']) &amp;amp;&amp;amp; is_array($_SESSION['item_dto'])) ? $_SESSION['item_dto'] : array();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Voy a imprimir realizando &lt;code&gt;print_r($item_dto)&lt;/code&gt; teniendo la siguiente información:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Array&#xA;(&#xA;    [2192] =&amp;gt; Array&#xA;        (&#xA;            [Normal] =&amp;gt; Array&#xA;                (&#xA;                    [Normal] =&amp;gt; Array&#xA;                        (&#xA;                            [Normal] =&amp;gt; Array&#xA;                                (&#xA;                                    [1] =&amp;gt; Array&#xA;                                        (&#xA;                                            [%] =&amp;gt; 0&#xA;                                        )&#xA;&#xA;                                )&#xA;&#xA;                        )&#xA;&#xA;                )&#xA;&#xA;        )&#xA;&#xA;    [2190] =&amp;gt; Array&#xA;        (&#xA;            [Normal] =&amp;gt; Array&#xA;                (&#xA;                    [Normal] =&amp;gt; Array&#xA;                        (&#xA;                            [Normal] =&amp;gt; Array&#xA;                                (&#xA;                                    [1] =&amp;gt; Array&#xA;                                        (&#xA;                                            [%] =&amp;gt; 10&#xA;                                        )&#xA;&#xA;                                )&#xA;&#xA;                        )&#xA;&#xA;                )&#xA;&#xA;        )&#xA;&#xA;)&#xA;1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El problema es el &lt;code&gt;foreach&lt;/code&gt; que esta dentro del ciclo &lt;code&gt;while&lt;/code&gt;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$items = (isset($_SESSION['cart']) &amp;amp;&amp;amp; is_array($_SESSION['cart'])) ? $_SESSION['cart'] : array();&#xA;$item_dto = (isset($_SESSION['item_dto']) &amp;amp;&amp;amp; is_array($_SESSION['item_dto'])) ? $_SESSION['item_dto'] : array();&#xA;while ($stmt-&amp;gt;fetch()) {&#xA;&#xA;    $id_article = $outcome['id_product'];&#xA;    $dto_op = NULL;&#xA;    $dto = NULL;&#xA;&#xA;    //$dto_op: Obtener el tipo de descuento % o $ y $dto: el valor total del descuento&#xA;    foreach($item_dto[$outcome['id_product']] as $color =&amp;gt; $sizes){&#xA;        foreach($sizes as $size =&amp;gt; $models){&#xA;            foreach($models as $model =&amp;gt; $quantities) {&#xA;                foreach($quantities as $quantity =&amp;gt; $dto_ops) {&#xA;                    foreach($dto_ops as $dto_op =&amp;gt; $dto) {&#xA;                        //$dto_op .= $dto_op;&#xA;                        $dto_item += $dto;&#xA;                    }&#xA;                }&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    foreach($items[$outcome['id_product']] as $color =&amp;gt; $sizes){&#xA;        foreach($sizes as $size =&amp;gt; $models){&#xA;            foreach($models as $model =&amp;gt; $quantity) {&#xA;&#xA;                echo $outcome['cover_product'] . $outcome['title_product'] . $outcome['price'] . $dto_item .  $outcome['iva'];&#xA;&#xA;            }&#xA;        }&#xA;    }&#xA;}&#xA;$stmt-&amp;gt;close();&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Al imprimir esta variable &lt;code&gt;$dto_item&lt;/code&gt; me imprime &lt;code&gt;10&lt;/code&gt; para ambos &lt;code&gt;input&lt;/code&gt; en el &lt;code&gt;print_r&lt;/code&gt; vemos que esta un valor de &lt;code&gt;[%] =&amp;gt; 0&lt;/code&gt; y otro de &lt;code&gt;[%] =&amp;gt; 10&lt;/code&gt; esa variable debería imprimir una de &lt;code&gt;0&lt;/code&gt; y otra de &lt;code&gt;10&lt;/code&gt; en el &lt;code&gt;input&lt;/code&gt;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;... value=&amp;quot;&amp;lt;?php echo $dto_item; ?&amp;gt;&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""9897"" LastEditorUserId=""9897"" LastEditDate=""2022-11-17T20:50:31.383"" LastActivityDate=""2022-11-18T00:45:21.897"" Title=""Error en añadir descuentos individuales en cada item"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""13"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""567985"" PostTypeId=""1"" CreationDate=""2022-11-13T03:30:51.140"" Score=""0"" ViewCount=""153"" Body=""&lt;p&gt;Este es mi archivo PHP, que me permite agregar productos a la cesta:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;if (isset($_POST) OR isset($_POST['addCart'])) {&#xA;  $attributes = (&#xA;    isset($_POST['qtyupdate']) &amp;amp;&amp;amp; is_array($_POST['qtyupdate'])&#xA;  ) ? $_POST['qtyupdate'] : array();&#xA;&#xA;  $itemId = isset($_POST['itemId']) ? $_POST['itemId'] : &amp;quot;&amp;quot;;&#xA;  $item_color = isset($_POST['color']) ? $_POST['color'] : &amp;quot;Normal&amp;quot;;&#xA;  $item_size = isset($_POST['size']) ? $_POST['size'] : &amp;quot;Normal&amp;quot;;&#xA;  $qty = isset($_POST['qty']) ? intval($_POST['qty']) : 1;&#xA;&#xA;  if (&#xA;    $_SERVER['REQUEST_METHOD'] == 'POST' and &#xA;    isset($_POST['qtyupdate'])&#xA;  ) {&#xA;    foreach ($attributes as $id_article =&amp;gt; $variations) {&#xA;      foreach($variations as $color =&amp;gt; $sizes) {&#xA;        foreach($sizes as $size =&amp;gt; $quantity) {&#xA;          if ($quantity &amp;lt;= 0) {&#xA;            echo json_encode([&#xA;              'status' =&amp;gt; FALSE, &#xA;              'message' =&amp;gt; &amp;quot;&amp;lt;strong&amp;gt;Error no hemos podido actualizar su producto.&amp;lt;/strong&amp;gt;&amp;quot;&#xA;            ]);&#xA;            exit;&#xA;          } else {&#xA;            $_SESSION['cart'][$id_article][$color][$size] = intval($quantity);&#xA;            echo json_encode([&#xA;              'status'=&amp;gt; TRUE,&#xA;              'message'=&amp;gt;&amp;quot;&amp;lt;strong&amp;gt;Se ha actualizado su producto.&amp;lt;/strong&amp;gt;&amp;quot;&#xA;            ]);&#xA;            exit;&#xA;          }&#xA;        }&#xA;      }&#xA;    }&#xA;  }&#xA;&#xA;  if (is_numeric($itemId)) {&#xA;    $_SESSION['cart'][$itemId][$item_color][$item_size] = $qty;&#xA;    echo json_encode([&#xA;      'status' =&amp;gt; TRUE,&#xA;      'message' =&amp;gt; &amp;quot;&amp;lt;strong&amp;gt;El producto ha sido añadido a su carrito.&amp;lt;/strong&amp;gt;&amp;quot;&#xA;    ]);&#xA;    exit;&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es mi código &lt;code&gt;ajax&lt;/code&gt;, funciona bien cuando el botón añadir esta en una pagina individual y si es el único botón que existe:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;  $(document).on('click', '.close', function(e){&#xA;    e.preventDefault();&#xA;    $('.alert-success').hide();&#xA;    $('.alert-danger').hide();&#xA;  });&#xA;  var frm = $('#frmCart');&#xA;  frm.submit(function(e){&#xA;    e.preventDefault();&#xA;    var formData = frm.serialize();&#xA;    formData += '&amp;amp;' + $('#addCart').attr('name') + &#xA;      '=' + $('#addCart').attr('value');&#xA;&#xA;    var url = &amp;quot;addItem_cart.ini.php&amp;quot;;&#xA;    $.ajax({&#xA;      type: frm.attr('method'),&#xA;      url: url,&#xA;      data: formData,&#xA;    })&#xA;    .done(function(data) {&#xA;      console.log(data);&#xA;      let res = JSON.parse(data);&#xA;      if(res.status){&#xA;        $(&amp;quot;#wrapp-basket&amp;quot;).load(&amp;quot; #wrapp-basket&amp;quot;).fadeIn();&#xA;        $(&amp;quot;#qty&amp;quot;).load(&amp;quot; #qty&amp;quot;).fadeIn();&#xA;        $('.alert-success').fadeIn();&#xA;        $('.alert-success').html(res.message).delay(2000).fadeOut(2000);&#xA;        $(&amp;quot;.alert-success&amp;quot;).append(&#xA;          &amp;quot;&amp;lt;button class='close' type='button'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;quot;&#xA;        );&#xA;      } else {&#xA;        $('.alert-danger').fadeIn();&#xA;        $('.alert-danger').html(res.message).delay(2000).fadeOut(2000);&#xA;        $(&amp;quot;.alert-danger&amp;quot;).append(&#xA;          &amp;quot;&amp;lt;button class='close' type='button'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;quot;&#xA;        );&#xA;      }&#xA;    })&#xA;    .fail(function( jqXHR, textStatus ) {&#xA;      alert(&amp;quot;Ajax Request fail&amp;quot;);&#xA;      //$('.warning').fadeIn();&#xA;      //$('.warning').html(textStatus).delay(3000).fadeOut(3000);&#xA;      //console.log(jqXHR.responseText);&#xA;      //console.log(&amp;quot;Request failed: &amp;quot; + textStatus );&#xA;    })&#xA;  });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El problema es cuando tengo varios botones de añadir productos en este caso desde un paginador, el botón no funciona o más bien el &lt;code&gt;ajax&lt;/code&gt; deja de funcionar:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/TmqR6.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/TmqR6.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Así es el &lt;code&gt;HTML&lt;/code&gt; de los botones cuando están en la paginación:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;  &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;  &amp;lt;em&amp;gt;$13,00&amp;lt;/em&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot;&#xA;    name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;  &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;  &amp;lt;em&amp;gt;$8,00&amp;lt;/em&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot;&#xA;    name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&amp;lt;form&amp;gt;&amp;lt;div class=&amp;quot;shipping&amp;quot;&amp;gt;&#xA;  &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;&#xA;  &amp;lt;em&amp;gt;$10,00&amp;lt;/em&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;itemId&amp;quot; value=&amp;quot;2&amp;quot;&amp;gt;&#xA;  &amp;lt;input type=&amp;quot;submit&amp;quot; id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot;&#xA;    name=&amp;quot;addCart&amp;quot; value=&amp;quot;Añadir a la cesta&amp;quot; formnovalidate=&amp;quot;&amp;quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El botón de añadir esta dentro de un &lt;code&gt;form&lt;/code&gt; es porque envió otros datos adicionales de otros campos &lt;code&gt;input, select, radio&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como le puede decir a &lt;code&gt;ajax&lt;/code&gt; o &lt;code&gt;jquery&lt;/code&gt; que datos debe tomar y que funcione al presionar el botón añadir teniendo en cuenta que todos tiene el mismo nombre: &lt;code&gt;id=&amp;quot;addCart&amp;quot; class=&amp;quot;addCart buy&amp;quot;&lt;/code&gt; ya que se encuentra listado en una paginación.&lt;/p&gt;&#xA;"" OwnerUserId=""9897"" LastEditorUserId=""81450"" LastEditDate=""2022-11-16T14:00:09.973"" LastActivityDate=""2022-11-21T20:49:00.587"" Title=""¿Cómo añadir producto desde la paginación al carro de la compra usando ajax?"" Tags=""&lt;php&gt;&lt;mysql&gt;&lt;jquery&gt;&lt;ajax&gt;&lt;mysqli&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""568787"" PostTypeId=""1"" CreationDate=""2022-11-16T19:53:18.073"" Score=""0"" ViewCount=""44"" Body=""&lt;p&gt;el problema que tengo es que no puedo traer los valores en formato json que estoy haciendo llamar desde la segunda página enviados a través de ajax, para poder asignarlos a a otro input en el mismo done, es decir.&lt;/p&gt;&#xA;&lt;p&gt;Tengo el siguiente ajax&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; function Cargar() {&#xA;    var Url = &amp;quot;ACTIONS.PHP&amp;quot;;&#xA;    var id_Ticket_modal = document.getElementById(&amp;quot;id&amp;quot;).value; // obtengo la variable que deseo&#xA;    var arreglo = {&#xA;      &amp;quot;valor&amp;quot;: id_Ticket_modal&#xA;    };&#xA;    $.ajax({&#xA;      type: &amp;quot;POST&amp;quot;,&#xA;      url: Url,&#xA;      dataType: 'text', //no puedo convertirla en un json&#xA;      data: arreglo ,&#xA;&#xA;    }).done(function(data , textStatus, jqXHR) {&#xA;      if (console &amp;amp;&amp;amp; console.log) {&#xA;          console.log(&amp;quot;La solicitud se ha completado correctamente.&amp;quot;);&#xA;          console.log(data)&#xA;&#xA;&#xA;          // document.getElementById('id_Ticket').value = data.id_Ticket;   //Esto es lo que no me funciona &#xA;          // document.getElementById('estado').value = data.estado; &#xA;&#xA;&#xA;          // $('div.modal').html(data); &#xA;          // $('#exampleModal2').modal('show'); //Llamada al segundo modal                                &#xA;        }&#xA;    }).fail(function() {&#xA;      alert(&amp;quot;Error al buscar datos&amp;quot;);&#xA;    });&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;bueno para explicar el código va a la otra página llamada ACTIONS.PHP, y trabajo con el post que mando es decir el &amp;quot;id_Ticket&amp;quot;. en donde los trato y me manda el siguiente &amp;quot;texto&amp;quot;. Y para que ya sepan con anterioridad no me deja enviar el dato como un json.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/FV7ru.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/FV7ru.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;En la imagen me los trae de manera de texto y los trato de transformar en json para poder llamarlos a través del mismo ajax, en donde sale este siguiente código en el ajax en la parte del &amp;quot;done&amp;quot;.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;       document.getElementById('id_Ticket').value = data.id_Ticket.valor;  &#xA;       document.getElementById('estado').value = data.estado.valor; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y bueno la cosa que al llamarlos me sale NULL, y si tienen duda como los trabajo en la pagina ACTIONS.PHP ES DE LA SIGUENTE MANERA&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ticket_ID = json_encode($_POST['valor']); // LOS TRATO DE TRANSFORMAR EN UN JSON&#xA;&#xA;$ticket = $GLOBALS['DB']-&amp;gt;getTicket($ticket_ID); //OBTENGO LAS VARIBLES DEL TICKET&#xA;&#xA;&#xA;echo $ticket; // MUESTRO LAS VARIABLES&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Al final no puedo traerlos como un json, siempre me los trae como un texto y no puedo trabajarlos hay alguna otra manera si no existe una solución?&lt;/p&gt;&#xA;"" OwnerUserId=""251382"" LastActivityDate=""2022-11-17T12:42:23.690"" Title=""¿Como puedo llamar devuelta a estos valores ajax?"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""569228"" PostTypeId=""1"" CreationDate=""2022-11-18T16:35:53.157"" Score=""0"" ViewCount=""77"" Body=""&lt;p&gt;Buenas tengo el siguiente ajax&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function Cargar() {&#xA;    var Url = &amp;quot;action.php&amp;quot;;&#xA;    var id_Ticket_modal = document.getElementById(&amp;quot;id&amp;quot;).value; // obtengo la variable que deseo&#xA;    var arreglo = {&#xA;      &amp;quot;valor&amp;quot;: id_Ticket_modal&#xA;    };&#xA;    $.ajax({&#xA;      type: &amp;quot;POST&amp;quot;,&#xA;      url: Url,&#xA;      dataType: 'json',&#xA;      data: arreglo,&#xA;&#xA;    }).done(function(data, textStatus, jqXHR) {&#xA;      if (console &amp;amp;&amp;amp; console.log) {&#xA;        console.log(&amp;quot;La solicitud se ha completado correctamente.&amp;quot;);&#xA;        if (typeof(data) === &amp;quot;string&amp;quot;) { //Si el valor es un string lo convierte en un json&#xA;          data = JSON.parse(data)&#xA;        }&#xA;        // console.log(data)&#xA;        data.forEach(function(element) {&#xA;          console.log(element);&#xA;          document.getElementById('id_Ticket').value = element.id_Ticket;&#xA;          document.getElementById('fecha_Ingreso').value = element.fecha_Ingreso;&#xA;          document.getElementById('nom_Maquina').value = element.nom_Maquina;&#xA;          document.getElementById('nro_Serie').value = element.nro_Serie;&#xA;          document.getElementById('tipo_Tarea').value = element.tipo_Tarea;&#xA;          document.getElementById('observacion_data').value = element.observacion;&#xA;&#xA;&#xA;           document.getElementById('repuesto').value = element.repuesto; //Varios repuestos&#xA;           document.getElementById('cantidad').value = element.cantidad; //Variada cantidad&#xA;&#xA;&#xA;          });&#xA;        $('#exampleModalToggle2').modal('show'); //Llamada al segundo modal                                &#xA;                            &#xA;      }&#xA;    }).fail(function() {&#xA;      alert(&amp;quot;Error al buscar datos&amp;quot;);&#xA;    });&#xA;  }&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Lo que hace aquí en el ajax. Hago llamar a los datos a la pagina actions.php obteniendo las variables por id único, que en este caso es id_Ticket.&#xA;Y bueno me los trae como un Json para poder trabajarlos y asignarlos a &amp;quot;ID&amp;quot; de un segundo modal que estoy abriendo. En la siguiente imagen se ve como me los trae como un json.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/bc0wD.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bc0wD.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Como pueden ver los traigo como un json. Y en el ajax en la parte del &amp;quot;DONE&amp;quot;, las trabajo asignándolas a id con inputs, de la siguiente manera.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;.done(function(data, textStatus, jqXHR) {&#xA;          if (console &amp;amp;&amp;amp; console.log) {&#xA;            console.log(&amp;quot;La solicitud se ha completado correctamente.&amp;quot;);&#xA;            if (typeof(data) === &amp;quot;string&amp;quot;) { //Si el valor es un string lo convierte en un json&#xA;              data = JSON.parse(data)&#xA;            }&#xA;            // console.log(data)&#xA;            data.forEach(function(element) {&#xA;              console.log(element);&#xA;              document.getElementById('id_Ticket').value = element.id_Ticket;&#xA;              document.getElementById('fecha_Ingreso').value = element.fecha_Ingreso;&#xA;              document.getElementById('nom_Maquina').value = element.nom_Maquina;&#xA;              document.getElementById('nro_Serie').value = element.nro_Serie;&#xA;              document.getElementById('tipo_Tarea').value = element.tipo_Tarea;&#xA;              document.getElementById('observacion_data').value = element.observacion;&#xA;    &#xA;    &#xA;               document.getElementById('repuesto').value = element.repuesto; //Varios repuestos&#xA;               document.getElementById('cantidad').value = element.cantidad; //Variada cantidad&#xA;    &#xA;    &#xA;              });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Bueno al final de todo me abre el modal con los datos.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/9q1wk.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/9q1wk.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;El problema ya lo deben suponer. Lo que quiero lograr es que me aparezca en la tabla todos los repuestos que solicitaron. Es decir, como vieron en el Json debería traerme los datos de &amp;quot;TORNILLO&amp;quot; con sus cantidades y solo me trae el dato de palanca.&lt;/p&gt;&#xA;&lt;p&gt;Tengo un código que me los llama a todos, pero siempre que me salgo del 2 modal y entro de nuevo me repite los datos y así sucesivamente.&#xA;En el Ajax solo tienen que cambiar la parte del done con el siguiente código.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;.done(function(data, textStatus, jqXHR) {&#xA;      if (console &amp;amp;&amp;amp; console.log) {&#xA;        console.log(&amp;quot;La solicitud se ha completado correctamente.&amp;quot;);&#xA;        if (typeof(data) === &amp;quot;string&amp;quot;) { //Si el valor es un string lo convierte en un json&#xA;          data = JSON.parse(data)&#xA;        }&#xA;        // console.log(data)&#xA;        data.forEach(function(element) {&#xA;          console.log(element);&#xA;          document.getElementById('id_Ticket').value = element.id_Ticket;&#xA;          document.getElementById('fecha_Ingreso').value = element.fecha_Ingreso;&#xA;          document.getElementById('nom_Maquina').value = element.nom_Maquina;&#xA;          document.getElementById('nro_Serie').value = element.nro_Serie;&#xA;          document.getElementById('tipo_Tarea').value = element.tipo_Tarea;&#xA;          document.getElementById('observacion_data').value = element.observacion;&#xA;&#xA;&#xA;          //  document.getElementById('repuesto').value = element.repuesto;&#xA;          //  document.getElementById('cantidad').value = element.cantidad;&#xA;&#xA;           $(&amp;quot;.table&amp;quot;).append(&#xA;            &#xA;            &amp;quot;&amp;lt;tr&amp;gt;&amp;quot; ,&#xA;            $('&amp;lt;th &amp;gt;').text(&amp;quot;Repuesto&amp;quot;),&#xA;            $('&amp;lt;th &amp;gt;').text(&amp;quot;Cantidad&amp;quot;),&#xA;            &amp;quot;&amp;lt;/tr&amp;gt;&amp;quot; ,&#xA;            &amp;quot;&amp;lt;tr&amp;gt;&amp;quot; ,&#xA;            $('&amp;lt;td&amp;gt;').text(element.repuesto),&#xA;            $('&amp;lt;td&amp;gt;').text(element.cantidad),&#xA;            &amp;quot;&amp;lt;/tr&amp;gt;&amp;quot;&#xA;&#xA;          );&#xA;          });&#xA;   &#xA;&#xA;        $('#exampleModalToggle2').modal('show'); //Llamada al segundo modal                                &#xA;                            &#xA;      }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El código de arriba al final me abre el segundo modal y me trae los siguiente datos.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/VTeUo.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/VTeUo.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Pero el problema está si vuelvo a presionar la función &amp;quot;CARGAR&amp;quot; que lo asigno a un botón.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/v5qZu.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/v5qZu.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;EL ELEMENTO TABLE ES CON ID&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;table class=&amp;quot;table mt-3 pb-3&amp;quot; style=&amp;quot;    margin-bottom: -20px;&amp;quot;&amp;gt;&#xA;         &#xA;          &amp;lt;/table&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""251382"" LastEditorUserId=""251382"" LastEditDate=""2022-11-18T18:27:58.500"" LastActivityDate=""2022-11-18T18:55:05.613"" Title=""document.getElementById dentro de un bucle?"" Tags=""&lt;javascript&gt;&lt;ajax&gt;&lt;modal&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""574102"" PostTypeId=""1"" CreationDate=""2022-12-16T00:51:06.000"" Score=""0"" ViewCount=""48"" Body=""&lt;p&gt;Necesito me expliquen la siguiente situación, tal vez se trate de problema de propagación de eventos.&lt;/p&gt;&#xA;&lt;p&gt;Actualizando de AdminLTE2 a la version 3 (ahora con Bootstrap 4.6) me he encontrado con una serie de situaciones que he ido solventando y en este caso aunque lo he resuelto me queda la duda. Notar que todo funciona como se espera en la version de AdminLTE2, los cambios deberian ser minimos y mas dirigidos a las clases de Bootstrap.&#xA;En la programacion del evento click de una etiqueta ancla a manera de boton desde la vista principal de la aplicacion, se muestra una vista que es cargada via ajax e insertada en el body de un modal. Esa vista contiene un select convertido en select2, y dos botones (etiquetas anclas a manera de boton) asi como dos paneles, uno con consultorios medicos sin vincular al Consejo popular seleccionado, y otro con los consultorios medicos ya vinculados.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Sio60.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Sio60.png&quot; alt=&quot;introducir la descripción de la imagen aquí&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Anteriormente la programacion de los botones para vincular y desvincular (los dos chevrones), asi como el evento &lt;code&gt;change&lt;/code&gt; del select, yo la hacia en el evento &lt;code&gt;shown.bs.modal&lt;/code&gt; y he tenido que moverla para el &lt;code&gt;donde&lt;/code&gt; de la funcion &lt;code&gt;ajax&lt;/code&gt; que carga el contenido del modal, por supuesto referenciando los mismos desde el document.body que es donde se inserta el div que se convierte en dialogo durante la llamada al dialogo. Ademas que tenia separado la conversion del select a select2 (esto lo hacia en la misma vista que se carga en el modal) de la programacion del evento change que antes se la hacia al elemento select como tal; ahora lo hago todo junto sobre el select2 como tal y al evento &lt;code&gt;change.select2&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;Esta es la programacion actual, fijarse que el mayor cambio para que funcione ha sido: trasladar la programacion de los botones vincular y desvincular (chevrones), la creacion del select2 y su evento change desde el 'shown.bs.modal' hacia el &lt;code&gt;done&lt;/code&gt; de la peticion ajax inicial que carga el contenido del dialogo.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$('#vistas').on('click', '#lnkCMFxCP', function (e) {&#xA;        e.preventDefault();&#xA;        e.stopPropagation();&#xA;&#xA;        var elementoTrigger = $(this);&#xA;        var url = elementoTrigger.data('src');&#xA;&#xA;        var _dialogoConfig = {'modal-dialog-textsize': 'text-md', 'modal-dialog-width': '', 'modal-dialog-scrollable': '', 'modal-dialog-fullscreen': ''};&#xA;        var _tmpModalDialogTextSize = elementoTrigger.data('modal-dialog-textsize');&#xA;        var _tmpModalDialogWidth = elementoTrigger.data('modal-dialog-width');&#xA;        var _tmpModalDialogScrollable = elementoTrigger.data('modal-dialog-scrollable');&#xA;        var _tmpModalDialogFullScreen = elementoTrigger.data('modal-dialog-fullscreen');&#xA;&#xA;        if (_tmpModalDialogTextSize !== undefined) {&#xA;            _dialogoConfig['modal-dialog-textsize'] = _tmpModalDialogTextSize;&#xA;        }&#xA;&#xA;        if (_tmpModalDialogWidth !== undefined) {&#xA;            _dialogoConfig['modal-dialog-width'] = _tmpModalDialogWidth;&#xA;        }&#xA;&#xA;        if (_tmpModalDialogScrollable !== undefined) {&#xA;            _dialogoConfig['modal-dialog-scrollable'] = _tmpModalDialogScrollable;&#xA;        }&#xA;&#xA;        if (_tmpModalDialogFullScreen !== undefined) {&#xA;            _dialogoConfig['modal-dialog-fullscreen'] = _tmpModalDialogFullScreen;&#xA;        }&#xA;&#xA;        Pace.track(function () {&#xA;            $.ajax({&#xA;                url: url&#xA;            }).done(function (data) {&#xA;                $(document.body).find('#modalVincularCMF').remove();&#xA;                $(document.body).append(&amp;quot;&amp;lt;div class='modal &amp;quot; + _dialogoConfig['modal-dialog-textsize'] + &amp;quot;' id='modalVincularCMF' tabindex='-1'&amp;gt;&amp;lt;div class='modal-dialog &amp;quot; + _dialogoConfig['modal-dialog-width'] + &amp;quot; &amp;quot; + _dialogoConfig['modal-dialog-scrollable'] + &amp;quot; &amp;quot; + _dialogoConfig['modal-dialog-fullscreen'] + &amp;quot;'&amp;gt;&amp;lt;div class='modal-content'&amp;gt;&amp;lt;div class='modal-header bg-lightblue'&amp;gt;&amp;lt;h6 class='modal-title' id='myModalLabel'&amp;gt;CMFs por Consejo Popular&amp;lt;/h6&amp;gt;&amp;lt;button type='button' class='close' data-dismiss='modal' aria-label='Close'&amp;gt;&amp;lt;span aria-hidden='true'&amp;gt;&amp;amp;times;&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class='modal-body'&amp;gt;&amp;lt;div id='contenidoModal' class='container-fluid'&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class='modal-footer'&amp;gt;&amp;lt;button type='button' class='btn btn-secondary' data-dismiss='modal'&amp;gt;Cerrar&amp;lt;/button&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;quot;);&#xA;                $(document.body).find('#modalVincularCMF').find(&amp;quot;#contenidoModal&amp;quot;).html(data);&#xA;&#xA;                $(document.body).find('#consejosPopulares').select2({&#xA;                    theme: 'bootstrap4',&#xA;                    dropdownParent: $('#contenidoModal'),&#xA;                    width: '100%',&#xA;                    language: 'es',&#xA;                    multiple: false&#xA;                }).on('change.select2', function (e) {&#xA;                    e.preventDefault();&#xA;                    e.stopPropagation();&#xA;                    var seleccionado = $(this).val();&#xA;                    if (seleccionado !== &amp;quot;-1&amp;quot;) {&#xA;                        Pace.track(function () {&#xA;                            $.ajax({url: Routing.generate('consejoPopular_CMFs', {'id': seleccionado})&#xA;                            }).done(function (data) {&#xA;                                $('#cmfVinculados').html(data);&#xA;                            }).fail(function (jqXHR) {&#xA;                                if (jqXHR.status === 0) {&#xA;                                    toastr.error(&amp;quot;Conexión interrumpida!!!&amp;quot;, '', {&#xA;                                        timeOut: 2100,&#xA;                                        preventDuplicates: false,&#xA;                                        positionClass: 'toast-top-center',&#xA;                                        progressBar: true,&#xA;                                        showDuration: 800,&#xA;                                        hideDuration: 400,&#xA;                                        extendedTimeOut: 1000,&#xA;                                        showEasing: &amp;quot;swing&amp;quot;,&#xA;                                        hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                        showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                        hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                    });&#xA;                                } else if (jqXHR.status === 401) {&#xA;                                    toastr.error(&amp;quot;Su sesión ha expirado. No es posible realizar la operación.&amp;quot;, '', {&#xA;                                        timeOut: 2500,&#xA;                                        preventDuplicates: false,&#xA;                                        positionClass: 'toast-top-center',&#xA;                                        onHidden: function () {&#xA;                                            window.location = _HOMEPAGE;&#xA;                                        }&#xA;                                    });&#xA;                                } else {&#xA;                                    toastr.error(jqXHR.responseText, '', {&#xA;                                        timeOut: 3000,&#xA;                                        preventDuplicates: false,&#xA;                                        positionClass: 'toast-top-center',&#xA;                                        progressBar: true,&#xA;                                        showDuration: 800,&#xA;                                        hideDuration: 400,&#xA;                                        extendedTimeOut: 1000,&#xA;                                        showEasing: &amp;quot;swing&amp;quot;,&#xA;                                        hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                        showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                        hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                    });&#xA;                                }&#xA;                            });&#xA;                        });&#xA;                    } else {&#xA;                        $('#cmfVinculados').html('');&#xA;                    }&#xA;                });&#xA;&#xA;                /**&#xA;                 * Evento btn Vincular&#xA;                 * **/&#xA;                $(document.body).find('#btnVincular').on('click', function (e) {&#xA;                    e.preventDefault();&#xA;                    e.stopPropagation();&#xA;                    var btn = $(this);&#xA;                    var consejoPopularId = $(document.body).find('#consejosPopulares option:selected').val();&#xA;&#xA;                    if (consejoPopularId !== &amp;quot;-1&amp;quot;) {&#xA;                        var arregloCMFs = [];&#xA;                        $(document.body).find(&amp;quot;#cmfDesvinculados option:selected&amp;quot;).each(function () {&#xA;                            arregloCMFs.push($(this).val());&#xA;                        });&#xA;&#xA;                        if (arregloCMFs.length &amp;gt; 0) {&#xA;                            if (!btn.hasClass('disabled')) {&#xA;                                Pace.track(function () {&#xA;                                    $.ajax({&#xA;                                        type: 'POST',&#xA;                                        url: Routing.generate('consejoPopular_vincularCMFs', {'consejoPopularId': consejoPopularId}),&#xA;                                        data: {'cmfs': arregloCMFs},&#xA;                                        beforeSend: function () {&#xA;                                            btn.toggleClass('disabled');&#xA;                                            btn.find('span').removeClass('fas fa-chevron-right').addClass('fas fa-async-alt');&#xA;                                        }&#xA;                                    }).done(function (data) {&#xA;                                        if (data === &amp;quot;success&amp;quot;) {&#xA;                                            $(&amp;quot;#cmfDesvinculados option:selected&amp;quot;).each(function () {&#xA;                                                $('#cmfVinculados').append($(&amp;quot;&amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&amp;quot;)&#xA;                                                        .attr(&amp;quot;value&amp;quot;, $(this).val())&#xA;                                                        .text($(this).text()));&#xA;                                                $('#cmfDesvinculados').find(&amp;quot;option[value='&amp;quot; + $(this).val() + &amp;quot;']&amp;quot;).remove();&#xA;                                            });&#xA;                                        }&#xA;                                    }).fail(function (jqXHR) {&#xA;                                        if (jqXHR.status === 0) {&#xA;                                            toastr.error(&amp;quot;Conexión interrumpida!!!&amp;quot;, '', {&#xA;                                                timeOut: 2100,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                progressBar: true,&#xA;                                                showDuration: 800,&#xA;                                                hideDuration: 400,&#xA;                                                extendedTimeOut: 1000,&#xA;                                                showEasing: &amp;quot;swing&amp;quot;,&#xA;                                                hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                                showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                                hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                            });&#xA;                                        } else if (jqXHR.status === 401) {&#xA;                                            toastr.error(&amp;quot;Su sesión ha expirado. No es posible realizar la operación.&amp;quot;, '', {&#xA;                                                timeOut: 2500,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                onHidden: function () {&#xA;                                                    window.location = _HOMEPAGE;&#xA;                                                }&#xA;                                            });&#xA;                                        } else {&#xA;                                            toastr.error(jqXHR.responseText, '', {&#xA;                                                timeOut: 3000,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                progressBar: true,&#xA;                                                showDuration: 800,&#xA;                                                hideDuration: 400,&#xA;                                                extendedTimeOut: 1000,&#xA;                                                showEasing: &amp;quot;swing&amp;quot;,&#xA;                                                hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                                showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                                hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                            });&#xA;                                        }&#xA;                                    }).always(function () {&#xA;                                        btn.toggleClass('disabled');&#xA;                                        btn.find('span').removeClass('fas fa-async-alt').addClass('fas fa-chevron-right');&#xA;                                    });&#xA;                                });&#xA;                            } else {&#xA;                                return false;&#xA;                            }&#xA;                        }&#xA;                    }&#xA;                });&#xA;&#xA;                /**&#xA;                 * Evento btn Desvincular&#xA;                 * **/&#xA;                $(document.body).on('click', '#btnDesvincular', function (e) {&#xA;                    e.preventDefault();&#xA;                    e.stopPropagation();&#xA;                    var btn = $(this);&#xA;                    var consejoPopularId = $('#consejosPopulares option:selected').val();&#xA;&#xA;                    if (consejoPopularId !== &amp;quot;-1&amp;quot;) {&#xA;                        var arregloCMFs = [];&#xA;                        $(&amp;quot;#cmfVinculados option:selected&amp;quot;).each(function () {&#xA;                            arregloCMFs.push($(this).val());&#xA;                        });&#xA;&#xA;                        if (arregloCMFs.length &amp;gt; 0) {&#xA;                            if (!btn.hasClass('disabled')) {&#xA;                                Pace.track(function () {&#xA;                                    $.ajax({&#xA;                                        type: 'POST',&#xA;                                        url: Routing.generate('consejoPopular_desvincularCMFs', {'consejoPopularId': consejoPopularId}),&#xA;                                        data: {'cmfs': arregloCMFs},&#xA;                                        beforeSend: function () {&#xA;                                            btn.toggleClass('disabled');&#xA;                                            btn.find('span').removeClass('fas fa-chevron-left').addClass('fas fa-async-alt');&#xA;                                        }&#xA;                                    }).done(function (data) {&#xA;                                        if (data === &amp;quot;success&amp;quot;) {&#xA;                                            $(&amp;quot;#cmfVinculados option:selected&amp;quot;).each(function () {&#xA;                                                $('#cmfDesvinculados').append($(&amp;quot;&amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&amp;quot;)&#xA;                                                        .attr(&amp;quot;value&amp;quot;, $(this).val())&#xA;                                                        .text($(this).text()));&#xA;                                                $('#cmfVinculados').find(&amp;quot;option[value='&amp;quot; + $(this).val() + &amp;quot;']&amp;quot;).remove();&#xA;                                            });&#xA;                                        }&#xA;                                    }).fail(function (jqXHR) {&#xA;                                        if (jqXHR.status === 0) {&#xA;                                            toastr.error(&amp;quot;Conexión interrumpida!!!&amp;quot;, '', {&#xA;                                                timeOut: 2100,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                progressBar: true,&#xA;                                                showDuration: 800,&#xA;                                                hideDuration: 400,&#xA;                                                extendedTimeOut: 1000,&#xA;                                                showEasing: &amp;quot;swing&amp;quot;,&#xA;                                                hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                                showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                                hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                            });&#xA;                                        } else if (jqXHR.status === 401) {&#xA;                                            toastr.error(&amp;quot;Su sesión ha expirado. No es posible realizar la operación.&amp;quot;, '', {&#xA;                                                timeOut: 2500,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                onHidden: function () {&#xA;                                                    window.location = _HOMEPAGE;&#xA;                                                }&#xA;                                            });&#xA;                                        } else {&#xA;                                            toastr.error(jqXHR.responseText, '', {&#xA;                                                timeOut: 3000,&#xA;                                                preventDuplicates: false,&#xA;                                                positionClass: 'toast-top-center',&#xA;                                                progressBar: true,&#xA;                                                showDuration: 800,&#xA;                                                hideDuration: 400,&#xA;                                                extendedTimeOut: 1000,&#xA;                                                showEasing: &amp;quot;swing&amp;quot;,&#xA;                                                hideEasing: &amp;quot;linear&amp;quot;,&#xA;                                                showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                                                hideMethod: &amp;quot;fadeOut&amp;quot;&#xA;                                            });&#xA;                                        }&#xA;                                    }).always(function () {&#xA;                                        btn.toggleClass('disabled');&#xA;                                        btn.find('span').removeClass('fas fa-async-alt').addClass('fas fa-chevron-left');&#xA;                                    });&#xA;                                });&#xA;                            } else {&#xA;                                return false;&#xA;                            }&#xA;                        }&#xA;                    }&#xA;                });&#xA;&#xA;&#xA;                $(document.body).find('#modalVincularCMF').modal({&#xA;                    keyboard: false,&#xA;                    backdrop: 'static'&#xA;                }).on('shown.bs.modal', function (e) {&#xA;                    e.preventDefault();&#xA;                    //var dialogo = $(this);&#xA;                }).on('hidden.bs.modal', function (e) {&#xA;                    e.preventDefault();&#xA;                    $(document.body).find('#modalVincularCMF').remove();&#xA;                });&#xA;            }).fail(function (jqXHR) {&#xA;                if (jqXHR.status === 0) {&#xA;                    toastr.error(&amp;quot;Conexión interrumpida!!!&amp;quot;, '', {&#xA;                        timeOut: 2100,&#xA;                        preventDuplicates: false,&#xA;                        positionClass: 'toast-top-center',&#xA;                        progressBar: true,&#xA;                        showDuration: 800,&#xA;                        hideDuration: 400,&#xA;                        extendedTimeOut: 1000,&#xA;                        showEasing: &amp;quot;swing&amp;quot;,&#xA;                        hideEasing: &amp;quot;linear&amp;quot;,&#xA;                        showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                        hideMethod: &amp;quot;fadeOut&amp;quot;,&#xA;                    });&#xA;                } else if (jqXHR.status === 401) {&#xA;                    toastr.error(&amp;quot;Su sesión ha expirado. No es posible realizar la operación.&amp;quot;, '', {&#xA;                        timeOut: 2500,&#xA;                        preventDuplicates: false,&#xA;                        positionClass: 'toast-top-center',&#xA;                        onHidden: function () {&#xA;                            window.location = _HOMEPAGE;&#xA;                        }&#xA;                    });&#xA;                } else {&#xA;                    toastr.error(jqXHR.responseText, '', {&#xA;                        timeOut: 3000,&#xA;                        preventDuplicates: false,&#xA;                        positionClass: 'toast-top-center',&#xA;                        progressBar: true,&#xA;                        showDuration: 800,&#xA;                        hideDuration: 400,&#xA;                        extendedTimeOut: 1000,&#xA;                        showEasing: &amp;quot;swing&amp;quot;,&#xA;                        hideEasing: &amp;quot;linear&amp;quot;,&#xA;                        showMethod: &amp;quot;fadeIn&amp;quot;,&#xA;                        hideMethod: &amp;quot;fadeOut&amp;quot;,&#xA;                    });&#xA;                }&#xA;            });&#xA;        });&#xA;    })&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;;&lt;/p&gt;&#xA;"" OwnerUserId=""14272"" LastActivityDate=""2022-12-16T00:51:06.000"" Title=""La programacion de los eventos de los botones que tenia en el &quot;shown.bs.modal&quot; la tuve que mover al &quot;done&quot; del ajax que muestra el dialogo"" Tags=""&lt;jquery&gt;&lt;ajax&gt;&lt;bootstrap-4&gt;&lt;adminlte&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""577905"" PostTypeId=""1"" AcceptedAnswerId=""577921"" CreationDate=""2023-01-11T15:22:32.653"" Score=""1"" ViewCount=""69"" Body=""&lt;p&gt;tengo un modal para actualizar datos. Al momento todo funciona, pero lo que quiero es que al momento de guardar datos, hacer un &lt;code&gt;location.reload();&lt;/code&gt;, pero además, que vuelva a abrir el susodicho modal.&lt;/p&gt;&#xA;&lt;p&gt;Dejaré la parte del ajax&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    contentType: &amp;quot;application/json; charset=utf-8&amp;quot;,&#xA;    dataType: &amp;quot;json&amp;quot;,&#xA;    url: api.dc_url + &amp;quot;profileUpdate&amp;quot;,&#xA;    cache: false,&#xA;    method: &amp;quot;PUT&amp;quot;,&#xA;    data: JSON.stringify({nickname, dirtycode}),&#xA;    beforeSend: function (xhr) {&#xA;        xhr.setRequestHeader('Authorization', 'Bearer ' + getCookie('k8495'));&#xA;    }&#xA; }).done(function (response) {&#xA;    showLog(['sent message', response]);&#xA;    toast(&amp;quot;✅ Success ✅&amp;quot;);&#xA;    location.reload();&#xA;    &#xA;    //Por acá es cuando quiero que haga dicho reload y carga de un modal&#xA;    &#xA; }).fail(function (xhr, status, error) {&#xA;    toast(&amp;quot;❌ Error ❌&amp;quot;);&#xA;    api.functions.handleError(xhr, status, error);&#xA; });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""131662"" LastActivityDate=""2023-01-11T16:58:05.650"" Title=""Abrir un Modal luego de location.reload() con Javascript"" Tags=""&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""580663"" PostTypeId=""1"" CreationDate=""2023-01-29T21:05:23.323"" Score=""0"" ViewCount=""27"" Body=""&lt;p&gt;Estoy intentando retornar una respuesta de un array en formato JSON desde PHP hacia JS a través de AJAX, pero por alguna razón en la respuesta se incluyen etiquetas HTML. cabe resaltar que en otro proyecto funciona bien, y ya me aseguré de no imprimir algo adicional en mis archivos PHP (lo que daña la respuesta JSON).&lt;/p&gt;&#xA;&lt;p&gt;Si incluyo el &lt;strong&gt;dataType: &amp;quot;json&amp;quot;&lt;/strong&gt; en AJAX, la petición falla. si no lo incluyo me retorna lo que describí anteriormente.&lt;/p&gt;&#xA;&lt;p&gt;Esta es mi petición ajax:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;        url:&amp;quot;ajax/usersAjax.php&amp;quot;,&#xA;        method: &amp;quot;POST&amp;quot;,&#xA;        data: data,&#xA;        cache: false,&#xA;        contentType: false,&#xA;        processData: false,&#xA;        dataType: &amp;quot;json&amp;quot;,&#xA;        success:function(response){&#xA;            console.log(response);&#xA;        }&#xA;    }).done(function( data, textStatus, jqXHR ) {&#xA;        if ( console &amp;amp;&amp;amp; console.log ) {&#xA;            console.log( data );&#xA;        }&#xA;    }).fail(function( jqXHR, textStatus, errorThrown ) {&#xA;        if ( console &amp;amp;&amp;amp; console.log ) {&#xA;            console.log( &amp;quot;La solicitud a fallado: &amp;quot; +  textStatus);&#xA;        }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Este es mi archivo PHP (el array &lt;strong&gt;$response&lt;/strong&gt; está ahí porque creía que había algún error en &lt;strong&gt;$rta&lt;/strong&gt;, así que quise asegurarme de que el json_encode() si recbiera un array):&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;require_once &amp;quot;../controller/userController.php&amp;quot;;&#xA;require_once &amp;quot;../model/user.php&amp;quot;;&#xA;class UsersAjax{&#xA;    &#xA;    function login($username, $password){&#xA;        $rta =  UserController::login($username, $password);&#xA;        $response = [&#xA;            &amp;quot;code&amp;quot; =&amp;gt; 0,&#xA;            &amp;quot;msg&amp;quot; =&amp;gt; &amp;quot;success&amp;quot;&#xA;        ];&#xA;        echo json_encode($response);&#xA;    }&#xA;&#xA;    function register($data){&#xA;        UserController::save($data);&#xA;    }&#xA;    &#xA;}&#xA;&#xA;$ajax = new UsersAjax();&#xA;&#xA;if(isset($_POST) &amp;amp;&amp;amp; !empty($_POST)){&#xA;    // lOGIN&#xA;    if(!empty($_POST[&amp;quot;username&amp;quot;]) &amp;amp;&amp;amp; !empty($_POST[&amp;quot;password&amp;quot;])){&#xA;        $ajax-&amp;gt;login($_POST[&amp;quot;username&amp;quot;], $_POST[&amp;quot;password&amp;quot;]);&#xA;    }&#xA;&#xA;}&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Esta es la respuesta que obtengo cuando no incluyo el &lt;strong&gt;dataType: &amp;quot;json&amp;quot;&lt;/strong&gt; en la petición:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;br /&amp;gt;&#xA;&amp;lt;font size='1'&amp;gt;&#xA;    &amp;lt;table class='xdebug-error xe-warning' dir='ltr' border='1' cellspacing='0' cellpadding='1'&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#f57900' colspan=&amp;quot;5&amp;quot;&amp;gt;&#xA;                &amp;lt;span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'&amp;gt;( ! )&amp;lt;/span&amp;gt; Warning: Trying to access array offset on value of type bool in C:\xampp\htdocs\TallerActasPhp\controller\userController.php on line &#xA;                &amp;lt;i&amp;gt;59&amp;lt;/i&amp;gt;&#xA;            &amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#e9b96e' colspan='5'&amp;gt;Call Stack&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;th align='center' bgcolor='#eeeeec'&amp;gt;#&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Time&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Memory&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Function&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th align='left' bgcolor='#eeeeec'&amp;gt;Location&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;1&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;0.4383&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='right'&amp;gt;410912&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec'&amp;gt;{main}(  )&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td title='C:\xampp\htdocs\TallerActasPhp\ajax\usersAjax.php' bgcolor='#eeeeec'&amp;gt;...\usersAjax.php&#xA;                &amp;lt;b&amp;gt;:&amp;lt;/b&amp;gt;0&#xA;            &amp;lt;/td&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;2&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;0.4441&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='right'&amp;gt;455272&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec'&amp;gt;UsersAjax-&amp;gt;login( &#xA;                &amp;lt;span&amp;gt;$username = &amp;lt;/span&amp;gt;&#xA;                &amp;lt;span&amp;gt;&amp;amp;#39;user&amp;amp;#39;&amp;lt;/span&amp;gt;, &#xA;                &amp;lt;span&amp;gt;$password = &amp;lt;/span&amp;gt;&#xA;                &amp;lt;span&amp;gt;&amp;amp;#39;pas&amp;amp;#39;&amp;lt;/span&amp;gt; )&#xA;            &amp;lt;/td&amp;gt;&#xA;            &amp;lt;td title='C:\xampp\htdocs\TallerActasPhp\ajax\usersAjax.php' bgcolor='#eeeeec'&amp;gt;...\usersAjax.php&#xA;                &amp;lt;b&amp;gt;:&amp;lt;/b&amp;gt;26&#xA;            &amp;lt;/td&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;        &amp;lt;tr&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;3&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='center'&amp;gt;0.4442&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec' align='right'&amp;gt;455272&amp;lt;/td&amp;gt;&#xA;            &amp;lt;td bgcolor='#eeeeec'&amp;gt;UserController::login( &#xA;                &amp;lt;span&amp;gt;$username = &amp;lt;/span&amp;gt;&#xA;                &amp;lt;span&amp;gt;&amp;amp;#39;user&amp;amp;#39;&amp;lt;/span&amp;gt;, &#xA;                &amp;lt;span&amp;gt;$password = &amp;lt;/span&amp;gt;&#xA;                &amp;lt;span&amp;gt;&amp;amp;#39;pas&amp;amp;#39;&amp;lt;/span&amp;gt; )&#xA;            &amp;lt;/td&amp;gt;&#xA;            &amp;lt;td title='C:\xampp\htdocs\TallerActasPhp\ajax\usersAjax.php' bgcolor='#eeeeec'&amp;gt;...\usersAjax.php&#xA;                &amp;lt;b&amp;gt;:&amp;lt;/b&amp;gt;7&#xA;            &amp;lt;/td&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&#xA;    &amp;lt;/table&amp;gt;&#xA;&amp;lt;/font&amp;gt;&#xA;{&amp;quot;code&amp;quot;:0,&amp;quot;msg&amp;quot;:&amp;quot;success&amp;quot;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Como pueden ver, la última línea de la respuesta si es el array en formato JSON, pero incluye todas las etiquetas HTML al principio. Espero que puedan ayudarme, muchas gracias.&lt;/p&gt;&#xA;"" OwnerUserId=""319089"" LastActivityDate=""2023-01-29T21:05:23.323"" Title=""¿Porqué Ajax recibe una respuesta JSON desde PHP que incluye etiquetas HTML?"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;json&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""581635"" PostTypeId=""1"" CreationDate=""2023-02-04T17:51:22.470"" Score=""0"" ViewCount=""73"" Body=""&lt;p&gt;Hola a todos eh estado practicando con php y ajax para el envio de datos resulta que eh creado dos formularios&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; &amp;lt;form id=&amp;quot;form1&amp;quot;&amp;gt;&#xA;        &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;datos del formulario 1&amp;quot; name=&amp;quot;datosForm1&amp;quot;&amp;gt;&#xA;        &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;enviar&amp;quot;&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&#xA;    &amp;lt;form id=&amp;quot;form2&amp;quot;&amp;gt;&#xA;        &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;datos del formulario 2&amp;quot; name=&amp;quot;datosForm2&amp;quot;&amp;gt;&#xA;        &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;enviar&amp;quot;&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Y con ajax envio los datos de los dos forms estos son independientes&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt; $(document).ready(function() {&#xA;        $(&amp;quot;#form1&amp;quot;).on(&amp;quot;submit&amp;quot;, function(e) {&#xA;            e.preventDefault();&#xA;            var data = $(this).serialize();&#xA;            $.ajax({&#xA;                    method: &amp;quot;POST&amp;quot;,&#xA;                    url: &amp;quot;ajax.php&amp;quot;,&#xA;                    data: new FormData(this), &#xA;                    contentType: false,&#xA;                    cache: false,&#xA;                    processData: false,&#xA;                })&#xA;                .done(function(data) {&#xA;                    console.log(data);&#xA;                })&#xA;                .fail(function(jqXHR, textStatus) {&#xA;                    console.log(&amp;quot;error: &amp;quot; + jqXHR + textStatus);&#xA;                });&#xA;        });&#xA;    });&#xA;&#xA;    $(document).ready(function() {&#xA;        $(&amp;quot;#form2&amp;quot;).on(&amp;quot;submit&amp;quot;, function(e) {&#xA;            e.preventDefault();&#xA;            var data = $(this).serialize();&#xA;            $.ajax({&#xA;                    method: &amp;quot;POST&amp;quot;,&#xA;                    url: &amp;quot;ajax.php&amp;quot;,&#xA;                    data: new FormData(this), &#xA;                    contentType: false,&#xA;                    cache: false,&#xA;                    processData: false,&#xA;                })&#xA;                .done(function(data) {&#xA;                    console.log(data);&#xA;                })&#xA;                .fail(function(jqXHR, textStatus) {&#xA;                    console.log(&amp;quot;error: &amp;quot; + jqXHR + textStatus);&#xA;                });&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Mientras que en php tengo&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;if (isset($_POST['datosForm1'])) {&#xA;    echo &amp;quot;aqui vendrian los datos del form1&amp;quot;;&#xA;}&#xA;&#xA;&#xA;if (isset($_POST['datosForm2'])) {&#xA;    echo &amp;quot;aqui vendrian los datos del form2&amp;quot;;&#xA;}&#xA;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;El caso es que al hacer submit al segundo form no recibe los datos en &lt;code&gt;(isset($_POST['datosForm2'])&lt;/code&gt; es decir no hace la validacion para solo recibir los datos del segundo formulario si no que las dos condicionales se activan y ambas reciben los datos. ¿Cual podria ser el problema?&lt;/p&gt;&#xA;"" OwnerUserId=""239646"" LastActivityDate=""2023-02-04T17:51:22.470"" Title=""¿Por que if isset() de php no funciona al momento de enviar datos por ajax?"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""601031"" PostTypeId=""1"" CreationDate=""2023-08-07T23:44:09.180"" Score=""0"" ViewCount=""19"" Body=""&lt;p&gt;Contexto: Tengo un problema con $session de PHP, a cada rato truena la sesión provocando que los usuarios del sistema tengan que loguearse a cada rato o dejan a medias algunas peticiones AJAX. Entonces me comentaron que puedo usar JWT para evitar eso, estoy apenas entendiendo como funcionan los JWT, les muestro mi código para que revisen un poco.&lt;/p&gt;&#xA;&lt;p&gt;AJAX Request:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;function accessSystem(usuario, contrasenia) { // credenciales del usuario &amp;quot;usuario&amp;quot; y &amp;quot;contraseña&amp;quot;&#xA;    $.ajax({&#xA;        url: '../model/login_sesion.php',&#xA;        data: {&#xA;            usuario_acceso: usuario,&#xA;            contrasenia_acceso: contrasenia&#xA;        },&#xA;        method: 'POST',&#xA;        dataType: 'JSON',&#xA;        beforeSend: () =&amp;gt; {&#xA;            console.log('Enviando petición');&#xA;        }&#xA;    }).done( (response) =&amp;gt; {&#xA;        // Aquí recibo y proceso el token (response.token)&#xA;    }).always( (response) =&amp;gt; {&#xA;        console.log('Se completo la petición');&#xA;    }).fail((jqXHR, textStatus, errorThrown) =&amp;gt; {&#xA;        console.log(`Tenemos un problema ${jqXHR.status} al brindarte acceso al sistema`);&#xA;    });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Login.php&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;require('../database/db_config.php');&#xA;require('../model/response.php');&#xA;require('../vendor/autoload.php');&#xA;&#xA;use \Firebase\JWT\JWT;&#xA;&#xA;$conexionServidor = new ConexionServidor('usuarios');&#xA;$responseLogin = new ResponseLogin();&#xA;$conexionBaseDatos = $conexionServidor-&amp;gt;conexionBaseDatos();&#xA;&#xA;if (!empty($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;amp;&amp;amp; strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') {&#xA;    if (!$_SERVER['REQUEST_METHOD'] === 'POST') {&#xA;        $responseLogin-&amp;gt;estado = false;&#xA;        $responseLogin-&amp;gt;mensajeEstado = 'Método de solicitud incorrecto';&#xA;        $responseLogin-&amp;gt;tipoRol = '';&#xA;        echo json_encode($responseLogin);&#xA;        return;&#xA;    }&#xA;&#xA;    $usuarioAcceso = $_POST['usuario_acceso'];&#xA;    $contraseniaAcceso = $_POST['contrasenia_acceso'];&#xA;&#xA;    $sentenciaPreparada = null;&#xA;&#xA;    try {&#xA;        $sentenciaPreparada = $conexionBaseDatos-&amp;gt;prepare(&#xA;            &amp;quot;SELECT nombre, usuario, contrasenia, id_cargo FROM bujic_usuariosbj.usuarios WHERE BINARY usuario = :usernameAcceso AND BINARY contrasenia = :passwordAcesso LIMIT 1&amp;quot;&#xA;        );&#xA;        $sentenciaPreparada-&amp;gt;bindValue(':usernameAcceso', $usuarioAcceso, PDO::PARAM_STR);&#xA;        $sentenciaPreparada-&amp;gt;bindValue(':passwordAcesso', $contraseniaAcceso, PDO::PARAM_STR);&#xA;&#xA;        $sentenciaPreparada-&amp;gt;execute();&#xA;&#xA;        $numeroFilas = $sentenciaPreparada-&amp;gt;rowCount();&#xA;&#xA;        if ($numeroFilas &amp;lt;= 0) {&#xA;            $responseLogin-&amp;gt;estado = false;&#xA;            $responseLogin-&amp;gt;mensajeEstado = 'Usuario no registrado en BUJICNET';&#xA;            $responseLogin-&amp;gt;tipoRol = '';&#xA;            echo json_encode($responseLogin);&#xA;            return;&#xA;        }&#xA;&#xA;        $fila = $sentenciaPreparada-&amp;gt;fetch(PDO::FETCH_ASSOC);&#xA;&#xA;        $payload = array(&#xA;            'usuario' =&amp;gt; $fila['usuario'],&#xA;            'nombre_usuario' =&amp;gt; $fila['nombre'],&#xA;            'rol_usuario' =&amp;gt; $fila['id_cargo'],&#xA;        );&#xA;&#xA;        static $ALGORITMO = 'HS256';&#xA;        $secretKey =  bin2hex(random_bytes(32));&#xA;&#xA;        $token = JWT::encode($payload, $secretKey, $ALGORITMO);&#xA;&#xA;        $responseLogin-&amp;gt;estado = true;&#xA;        $responseLogin-&amp;gt;mensajeEstado = 'Iniciando sesión, espere...';&#xA;        $responseLogin-&amp;gt;tokenJWT = $token;&#xA;        echo json_encode($responseLogin);&#xA;        &#xA;    } catch (PDOException $e) {&#xA;        $mensajeError = $e-&amp;gt;getMessage();&#xA;        echo $mensajeError;&#xA;    } finally {&#xA;        if ($sentenciaPreparada &amp;amp;&amp;amp; $sentenciaPreparada !== null) {&#xA;            $sentenciaPreparada-&amp;gt;closeCursor();&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Todo funciona bien, ** echo json_encode($responseLogin);** hace bien su trabajo, manda lo que debe mandar como response a AJAX, mis dudas son&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;p&gt;¿Cómo le hago para redireccionar a cada página según su rol?&#xA;Rol agente -&amp;gt; Pantalla de Operaciones&#xA;Rol gerencia -&amp;gt; Pantalla de Gerencias&#xA;... así sucesivamente&lt;/p&gt;&#xA;&lt;p&gt;Entiendo que esa información se manda en el $payload del token desde PHP, información como &amp;quot;tipo_rol&amp;quot;, &amp;quot;nombre_usuario&amp;quot;, información no sensible, si no para personalizar la experiencia del usuario, pero como hago eso de redireccionar, ¿Descifro el token? Como lo siguiente, dentro del success de AJAX:&lt;/p&gt;&#xA;&lt;p&gt;const DECODE_TOKEN = parseJwt(response.tokenJWT);&#xA;localStorage.setItem('user_data', JSON.stringify(DECODE_TOKEN));&lt;/p&gt;&#xA;&lt;p&gt;if (DECODE_TOKEN.rol_usuario === 2) {&#xA;location.href = 'operaciones.php';&#xA;} else if (response.rol_usuario === 1) {&#xA;location.href = 'gerencias.php';&#xA;}&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;¿Sí quiero mostrar por el ejemplo el nombre_usuario en otra parte del sitio web?&#xA;Guardo el DECODE_TOKEN.nombre_usuario en localStorage y luego usarlo con getItem&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;La pregunta 2 también va porque por ejemplo en el sistema se hacen INSERTS a una tabla y esa tabla tiene una columna para guardar quién generea el insert, entonces en la data de la AJAX request debo colocar data {empleado: getItem('DECODE_TOKEN.nombre_usuario')}.&#xA;Actualemente el sistema hace eso pero con sesiones de PHP $Session['usuario_nombre']; y lo guarda en una variable&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;No creo que sea seguro guardar esa información en LocalStorage, puede que desde console modifique esa información y en el inserte se pierda la integridad de realmente sea el nombre de un empleado, a menos que en el backend haga una validación a una tabla catalogo ¿Es buena practica?&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;Reitero, apenas estoy viendo esto de JWT, no se si sea practico mover de sessiones a JWT, según sí pero bueno aquí ando molestandolos un poco con esto.&lt;/p&gt;&#xA;"" OwnerUserId=""221209"" LastActivityDate=""2023-08-07T23:44:09.180"" Title=""¿Cómo direccionar por rol, mostrar saludo, así como enviar datos en request? PDO, AJAX y JWT"" Tags=""&lt;php&gt;&lt;ajax&gt;&lt;pdo&gt;&lt;jwt&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""603536"" PostTypeId=""1"" CreationDate=""2023-09-12T18:38:26.657"" Score=""0"" ViewCount=""98"" Body=""&lt;p&gt;necesito de su ayuda ya que estoy utilizando por primera ves &lt;code&gt;SpreadSheet&lt;/code&gt; de PHP con el que genero un &lt;code&gt;Excel&lt;/code&gt;, a este le envió parámetros mediante Ajax con los que pretendo se genere dicho &lt;code&gt;Excel&lt;/code&gt;, el detalle esta al querer descargarlo en el &lt;code&gt;done&lt;/code&gt; de la petición, el archivo se genera correctamente, he intentado con algunas respuestas que encontré generando un enlace &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; mediante JS pero genera un archivo corrupto, un &lt;strong&gt;window.location&lt;/strong&gt; en el &lt;strong&gt;succes&lt;/strong&gt; pero se pierden los parámetros que pretendo enviar.&lt;/p&gt;&#xA;&lt;p&gt;No se que mas intentar, espero puedan ayudarme.&lt;/p&gt;&#xA;&lt;p&gt;Petición Ajax con los intentos comentados:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$.ajax({&#xA;  data: {&#xA;    mpios: checkValues&#xA;  },&#xA;  url: url,&#xA;  type: 'post',&#xA;  //responseType: &quot;blob&quot;, // important&#xA;  beforesend: function() {&#xA;&#xA;  },&#xA;}).always(function() {&#xA;&#xA;}).done(function(res) {&#xA;  //INTENTO CON ENLACE &#xA;  /*const urlr = window.URL.createObjectURL(new Blob([res]));&#xA;  const link = document.createElement(&quot;a&quot;);&#xA;  link.href = urlr;&#xA;  link.setAttribute(&quot;download&quot;, &quot;departamento.xls&quot;);&#xA;  document.body.appendChild(link);&#xA;  link.click();*/&#xA;&#xA;  //INTENTO CON EL REDIRECCIONAMIENTO&#xA;  //location.href = url;&#xA;  //alert(res);&#xA;}).fail(function() {&#xA;  alert('No se pudo relaizar la petición');&#xA;});&#xA;console.log(checkValues);&#xA;//console.log(e.target.id);&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;Código básico PHP que genera Excel:&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xA;// Declaramos la librería&#xA;require __DIR__ . &quot;/vendor/autoload.php&quot;;&#xA;use PhpOffice\PhpSpreadsheet\{Spreadsheet,IOFactory};&#xA;use PhpOffice\PhpSpreadsheet\Writer\Xlsx;&#xA;//CONEXION A BD&#xA;include '../BDOracle/connection.php';&#xA;&#xA;if(isset($_POST['mpios'])){&#xA;    $mpiosArray = $_POST['mpios'];&#xA;    $mpios = implode(&quot;,&quot;, $mpiosArray);&#xA;    //echo 'PROCESO EXITOSO '.$mpios;&#xA;&#xA;    &#xA;    //PROPIEDADES DE LA HOJA DE EXCEL&#xA;$spread = new Spreadsheet();&#xA;$spread&#xA;-&amp;gt;getProperties()&#xA;-&amp;gt;setCreator(&quot;Antonio Galicia&quot;)&#xA;-&amp;gt;setLastModifiedBy('PHP')&#xA;-&amp;gt;setTitle('Excel creado con PhpSpreadSheet')&#xA;-&amp;gt;setSubject('Excel de prueba')&#xA;-&amp;gt;setDescription('Excel generado como demostración')&#xA;-&amp;gt;setKeywords('PHPSpreadsheet')&#xA;-&amp;gt;setCategory('Categoría Excel');&#xA;&#xA;$hoja1 = $spread-&amp;gt;getActiveSheet();&#xA;$hoja1-&amp;gt;setTitle(&quot;Inf. Estatal&quot;);&#xA;&#xA;$fileName=&quot;Prueba_excel.xlsx&quot;;&#xA;# Crear un &quot;escritor&quot;&#xA;$writer = new Xlsx($spread);&#xA;# Le pasamos la ruta de guardado&#xA;&#xA;header('Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');&#xA;header('Content-Disposition: attachment;filename=&quot;'.urlencode($fileName).'&quot;');&#xA;header('Cache-Control: max-age=0');&#xA;&#xA;$writer = IOFactory::createWriter($spread, 'Xlsx');&#xA;$writer-&amp;gt;save('php://output');&#xA;exit();&#xA;}else{&#xA;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""268952"" LastActivityDate=""2023-09-12T22:02:41.773"" Title=""Como descargar Excel generado por PHP SpreadSheet con Ajax"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;ajax&gt;&lt;phpspreadsheet&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\es.stackoverflow.com\Posts.xml,"  <row Id=""607852"" PostTypeId=""1"" CreationDate=""2023-11-13T16:31:12.727"" Score=""0"" ViewCount=""13"" Body=""&lt;p&gt;Tengo un formulario que pienso hacer en ajax, mediante tres inputs tipo text y dos select dinamicos, un select se llenara cuando el usuario seleccione una familia&#xA;&lt;a href=&quot;https://i.stack.imgur.com/KvVxu.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/KvVxu.png&quot; alt=&quot;Este es el formulario, cuando tenga los datos se agregaran a una tablita en formato json con js &quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/e793E.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/e793E.png&quot; alt=&quot;Una vez que el usuario agregue un producto, se irá llenando la tablita y habrá un boton que será para guardar los datos json obtenidos, para mandarlos a mi base dedatos mysql&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;El problema es que como estoy llenando el select que es para los productos con ajax, no sé como podría poner la ruta correctamente para que pueda hacerse la petición&lt;/p&gt;&#xA;&lt;p&gt;este es mi código js&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;        $(document).ready(function(){&#xA;            $('#filtrar_familia').on('change', function() {&#xA;                var familia_id = $(this).val();&#xA;                console.log(&amp;quot;El id seleccionado es:&amp;quot; + familia_id);&#xA;                if ($.trim(familia_id) != '') {&#xA;                    $.get('obtener_productos', {&#xA;                        familia_id: familia_id&#xA;                    }, function(productos) {&#xA;                        var productoSelect = $('#productos_filtrados');&#xA;                        productoSelect.empty();&#xA;                        productoSelect.append(&#xA;                            &amp;quot;&amp;lt;option value='' selected disabled&amp;gt;Selecciona un producto&amp;lt;/option&amp;gt;&amp;quot;&#xA;                        );&#xA;&#xA;                        $.each(productos, function(index, value) {&#xA;                            productoSelect.append(&amp;quot;&amp;lt;option value='&amp;quot; + index + &amp;quot;'&amp;gt;&amp;quot; + value +&#xA;                                &amp;quot;&amp;lt;/option&amp;gt;&amp;quot;);&#xA;                        });&#xA;                    }).fail(function() {&#xA;                        console.error('Error al obtener productos.');&#xA;                    });&#xA;                }&#xA;            });&#xA;        });&#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""337057"" LastActivityDate=""2023-11-13T16:31:12.727"" Title=""¿Cómo puedo colocar mi url en una peticion ajax si en la url tengo una variable que almacena el id de una fila de una base de datos?"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\gis.stackexchange.com\Posts.xml,"  <row Id=""217217"" PostTypeId=""1"" AcceptedAnswerId=""239418"" CreationDate=""2016-11-09T20:44:17.967"" Score=""2"" ViewCount=""1292"" Body=""&lt;p&gt;I am trying to load vector with the following code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; var sourceWFS = new ol.source.Vector({&#xA;      loader: function(extent) {&#xA;       $.ajax('http://************/geoserver/Viva/ows', {&#xA;            type: 'GET',&#xA;            data: {&#xA;            service: 'WFS',&#xA;            version: '1.1.0',&#xA;            request: 'GetFeature',&#xA;            typename: 'Viva:building',&#xA;            srsname: 'EPSG:4326',&#xA;            bbox: extent.join(',') + ',EPSG:4326'&#xA;&#xA;          }&#xA;        }).done(function(response) {&#xA;          sourceWFS.addFeatures(formatWFS.readFeatures(response));&#xA;        });&#xA;       },&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I don`t seem to be able to get any features. I have a suspicion that I am not setting the typename right. The data is points of buildings.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The url in the geoserver preview layer is the following:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;http://************/geoserver/Viva/ows?service=WFS&amp;amp;version=1.0.0&amp;amp;request=GetFeature&amp;amp;typeName=Viva:building&amp;amp;maxFeatures=50&amp;amp;outputFormat=text.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have tested loading a GeoJson layer and it works without fail from the same server and data by using the url-method.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The end goal is to add a new point with WFS-t.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I got most of my code from this example: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/goldrydigital/h7mk0jpt/?utm_source=website&amp;amp;utm_medium=embed&amp;amp;utm_campaign=h7mk0jpt&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsfiddle.net/goldrydigital/h7mk0jpt/?utm_source=website&amp;amp;utm_medium=embed&amp;amp;utm_campaign=h7mk0jpt&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have changed the ol.format.WFS like follow:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var formatWFS = ol.format.WFS({&#xA;featureNS: &quot;http://serverURL:8080/geoserver/vivadata&quot;,&#xA;featureType: &quot;Viva:buildingType&quot;&#xA;                                    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and I get the following error in the console:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Uncaught TypeError: Cannot read property 'writeTransaction' of undefined at transactWFS &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the block of code for transactWFS:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var transactWFS = function(mode, a) {&#xA;      var node;&#xA;      switch (mode) {&#xA;        case 'insert':&#xA;          node = formatWFS.writeTransaction([a], null, null, formatGML);&#xA;          break;&#xA;        case 'update':&#xA;          node = formatWFS.writeTransaction(null, [a], null, formatGML);&#xA;          break;&#xA;        case 'delete':&#xA;          node = formatWFS.writeTransaction(null, null, [a], formatGML);&#xA;          break;&#xA;      }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and this is my draw function:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var DrawControl = function(opt_options) {&#xA;        var options = opt_options || {};&#xA;        this.active = options.active || false;&#xA;        var draw = new ol.interaction.Draw({&#xA;            source: options.source,&#xA;            type: 'Point',&#xA;            geometryName: 'geom'&#xA;&#xA;        });&#xA;        draw.on('drawstart', function(t) {&#xA;        buildingLayer.set('selectable',false);&#xA;      });&#xA;&#xA;        //Sets building properties when addBuilding-button isclicked&#xA;        draw.on('drawend', function(t) {&#xA;        var a = t.feature;&#xA;        a.setProperties({&#xA;&#xA;            prim_add: document.getElementById('inpPriAddress').value,&#xA;            sec_add: document.getElementById('inpSecAddress').value,&#xA;            tert_add: document.getElementById('inpTerAddress').value,&#xA;            build_type:document.getElementById('inpBuildingType').value,&#xA;            build_mat:document.getElementById('inpBuildingMaterial').value,&#xA;            build_own: document.getElementById('inpHouseOwner').value,&#xA;        })&#xA;        transactWFS('insert', a);&#xA;        buildingLayer.set('selectable',true);&#xA;      });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""78898"" LastEditorUserId=""78898"" LastEditDate=""2016-11-10T16:04:32.457"" LastActivityDate=""2017-05-06T05:48:58.767"" Title=""Adding a WFS with ajax from Geoserver using Openlayers3"" Tags=""&lt;geoserver&gt;&lt;openlayers&gt;&lt;wfs&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\joomla.stackexchange.com\Posts.xml,"  <row Id=""15065"" PostTypeId=""1"" AcceptedAnswerId=""15328"" CreationDate=""2016-01-24T21:24:56.013"" Score=""2"" ViewCount=""1708"" Body=""&lt;p&gt;I'm in the process of making an administration app for Joomla RSform! pro. The app is hosted as an article so it is on the same domain as Joomla itself.&lt;br&gt;&#xA;I need to move or copy a submission from one RSform to another. The fields on the two forms, are not necessarily the same, but most of them are, however I can easily find witch fields that are on the new form.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What I have done untill now is that I get all the fields, and then make a javascript object looking something like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;formElements = {&#xA;    form:{&#xA;        username:'username',&#xA;        something:'something&#xA;    },&#xA;    hidden:{ somethinghidden:'somethinghidden'}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;my question is now: How do I send this to the rsform.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I use the jQuery.ajax, but it doesn't work.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;jQuery.ajax({&#xA;    method: &quot;POST&quot;,&#xA;    url: '/index.php?option=com_rsform&amp;amp;formId=' + fromID,&#xA;    data: formElements,&#xA;    timeout: 10000,&#xA;    dataType: 'html'&#xA;}).fail(function (msg) {&#xA;}).done(function (msg) {&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;the url is the same as the one that is in the  tag on the submission form. So I guess this is correct as well.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have also made a fake nodejs server where I try and submit to using the normal forms that RSforms provide, and the post object I got from there is identical to the object i create.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What am I doing wrong? Do I need to set some headers or something? or what am I missing...?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Hope someone can help, and my question make sense...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;/thanks..&lt;/p&gt;&#xA;"" OwnerUserId=""7676"" LastEditorUserId=""126"" LastEditDate=""2016-01-24T23:21:30.223"" LastActivityDate=""2016-02-18T17:19:54.703"" Title=""Submit to RSform! pro from anywhere using jQuery ajax"" Tags=""&lt;joomla-3.x&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;rsform&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\joomla.stackexchange.com\Posts.xml,"  <row Id=""17198"" PostTypeId=""1"" CreationDate=""2016-07-18T08:58:45.697"" Score=""1"" ViewCount=""279"" Body=""&lt;p&gt;I'm having some problems with the action of an Ajax form.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the Javascript:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;var $j = jQuery.noConflict(); &#xA;&#xA;$j(document).ready(function() {&#xA;    $j(document).on('submit', '#submitNew', function() {  &#xA;        $j.post('http://www.winetube.eu/engine.php', $j(this).serialize()).done(function(data) {&#xA;            $j(&quot;#submitNew&quot;).fadeOut('slow', function() {&#xA;                $j(&quot;.result&quot;).fadeIn('slow');&#xA;            });&#xA;        }).fail(function() {&#xA;            alert('fail sending request');&#xA;        });&#xA;        return false;&#xA;    }); &#xA;&#xA;}); &#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I hit submit on the form, everything's fine so far, but nothing gets sent to my email address. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the PHP for the form:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;// Recupero il valore dei campi del form&#xA;$destinatario = 'test@test.com';&#xA;$name = $_POST['name'];&#xA;$email = $_POST['email'];&#xA;$country = $_POST['country']; &#xA;$quantity = $_POST['quantity'];&#xA;$wine = $_POST['wine'];&#xA;$message = $_POST['message'];&#xA;&#xA;&#xA;$messaggio = &quot;Richiesta di preventivo da: &quot;.$name.&quot;&#xA;              E-mail: &quot;.$email.&quot;&#xA;              Paese: &quot;.$country.&quot;&#xA;              Quantità: &quot;.$quantity.&quot;&#xA;              Vino: &quot;.$wine.&quot;&#xA;              Richiesta: &quot;.$message.&quot;&quot;;&#xA;&#xA;// Valorizzo le variabili relative all'allegato&#xA;$allegato = $_FILES['allegato-visura']['tmp_name'];&#xA;$allegato_type = $_FILES['allegato-visura']['type'];&#xA;$allegato_name = $_FILES['allegato-visura']['name'];&#xA;&#xA;// Creo 2 variabili che riempirò più avanti...&#xA;$headers = &quot;From: &quot; . $name;&#xA;$msg = &quot;&quot;;&#xA;&#xA;// Verifico se il file è stato caricato correttamente via HTTP&#xA;// In caso affermativo proseguo nel lavoro...&#xA;if (is_uploaded_file($allegato))&#xA;{&#xA;  // Apro e leggo il file allegato&#xA;  $file = fopen($allegato,'rb');&#xA;  $data = fread($file, filesize($allegato));&#xA;  fclose($file);&#xA;&#xA;  // Adatto il file al formato MIME base64 usando base64_encode&#xA;  $data = chunk_split(base64_encode($data));&#xA;&#xA;  // Genero il &quot;separatore&quot;&#xA;  // Serve per dividere, appunto, le varie parti del messaggio.&#xA;  // Nel nostro caso separerà la parte testuale dall'allegato&#xA;  $semi_rand = md5(time());&#xA;  $mime_boundary = &quot;==Multipart_Boundary_x{$semi_rand}x&quot;;&#xA;&#xA;  // Aggiungo le intestazioni necessarie per l'allegato&#xA;  $headers .= &quot;\nMIME-Version: 1.0\n&quot;;&#xA;  $headers .= &quot;Content-Type: multipart/mixed;\n&quot;;&#xA;  $headers .= &quot; boundary=\&quot;{$mime_boundary}\&quot;&quot;;&#xA;&#xA;  // Definisco il tipo di messaggio (MIME/multi-part)&#xA;  $msg .= &quot;This is a multi-part message in MIME format.\n\n&quot;;&#xA;&#xA;  // Metto il separatore&#xA;  $msg .= &quot;--{$mime_boundary}\n&quot;;&#xA;&#xA;  // Questa è la parte &quot;testuale&quot; del messaggio&#xA;  $msg .= &quot;Content-Type: text/plain; charset=\&quot;iso-8859-1\&quot;\n&quot;;&#xA;  $msg .= &quot;Content-Transfer-Encoding: 7bit\n\n&quot;;&#xA;  $msg .= $messaggio . &quot;\n\n&quot;;&#xA;&#xA;  // Metto il separatore&#xA;  $msg .= &quot;--{$mime_boundary}\n&quot;;&#xA;&#xA;  // Aggiungo l'allegato al messaggio&#xA;  $msg .= &quot;Content-Disposition: attachment;\n&quot;;&#xA;  $msg .= &quot; filename=\&quot;{$allegato_name}\&quot;\n&quot;;&#xA;  $msg .= &quot;Content-Transfer-Encoding: base64\n\n&quot;;&#xA;  $msg .= $data . &quot;\n\n&quot;;&#xA;&#xA;  // chiudo con il separatore&#xA;  $msg .= &quot;--{$mime_boundary}--\n&quot;;&#xA;}&#xA;else&#xA;{&#xA;  $msg = $messaggio;&#xA;}&#xA;&#xA;// Invio la mail&#xA;if (mail($destinatario, $name, $msg, $headers))&#xA;{&#xA;  echo $_SERVER['PHP_SELF'];&#xA;}else{&#xA;  echo &quot;&amp;lt;p&amp;gt;Errore!&amp;lt;/p&amp;gt;&quot;;&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I tried everything but with no success. What could I do?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you very much for any help.&lt;/p&gt;&#xA;"" OwnerUserId=""7288"" LastEditorUserId=""168"" LastEditDate=""2016-07-18T09:03:49.700"" LastActivityDate=""2016-08-03T04:52:12.587"" Title=""Joomla 3.5.1 - Ajax with PHP not send email"" Tags=""&lt;joomla-3.x&gt;&lt;php&gt;&lt;ajax&gt;&lt;form&gt;"" AnswerCount=""0"" CommentCount=""9"" FavoriteCount=""0"" ClosedDate=""2019-05-31T22:31:24.060"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\joomla.stackexchange.com\Posts.xml,"  <row Id=""23667"" PostTypeId=""1"" CreationDate=""2018-10-29T12:48:44.733"" Score=""0"" ViewCount=""2615"" Body=""&lt;p&gt;I'm pulling a module from our Joomla site to host onto our local servers and put back into Joomla as an iframe. I've gotten the source code, set up the database to mirror that of the Joomla. When I try to do a search, I get this error: &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Uncaught TypeError: Cannot read property 'HTML' of undefined&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;This is the js that is being called: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Functon to perform the actual search based on Method&#xA;function displayMethod(searchText, pageNumber) {&#xA;    var jqxhr = jQuery.ajax(&quot;index.php?option=com_ppsearchusd&amp;amp;view=ppsearchusd&amp;amp;task=displayMethod&amp;amp;format=json&amp;amp;searchText=&quot; + searchText + &quot;&amp;amp;pageNumber=&quot; + pageNumber)&#xA;        .success(function (result) {&#xA;            jQuery('#searchResults').html(result.data.HTML);&#xA;            jQuery('#alphaDiv').css('display', 'none');&#xA;&#xA;            /*jQuery('#searchResults').html(result.data.HTML);&#xA;            jQuery('#searchResult-detail').css('display', 'none');&#xA;            jQuery('#searchResults').css('display', 'block');&#xA;            jQuery('#alphaDiv').css('display', 'none');*/&#xA;&#xA;            jQuery('#searchResults #search-pagination').pagination({&#xA;                items: result.data.items,&#xA;                itemsOnPage: result.data.itemsOnPage,&#xA;                currentPage: result.data.currentPage,&#xA;                cssStyle: 'compact-theme',&#xA;                hrefTextPrefix: 'javascript:',&#xA;                onPageClick: function(pageNumber, event){&#xA;                    var searchText = jQuery('#searchTXT').val();&#xA;                    updateSearch(searchText, pageNumber);&#xA;                }&#xA;            });&#xA;        })&#xA;        .fail(function (jqxhr) {&#xA;            alert('status:' + jqxhr.status);&#xA;        });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;If I copy the ajax url and append it (on my local machine) url, it get a blank page, whereas on the actual site, I do get a success JSON response.  I'm sure I'm missing something that it is suppose to reference but I'm not sure what. I'm still relatively new to AJAX and js. I'm reviewing the original code and I'm not sure where &quot;HTML&quot; within the &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;jQuery('#searchResults').html(result.data.HTML);&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;is defined but I don't see.&lt;/p&gt;&#xA;"" OwnerUserId=""12999"" LastEditorUserId=""12352"" LastEditDate=""2018-10-29T13:32:24.123"" LastActivityDate=""2018-10-30T21:44:08.807"" Title=""Uncaught TypeError: Cannot read property 'HTML' of undefined"" Tags=""&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""6"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""12555"" PostTypeId=""1"" AcceptedAnswerId=""12566"" CreationDate=""2015-07-22T00:17:30.707"" Score=""2"" ViewCount=""380"" Body=""&lt;p&gt;JavaScript初心者です。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;以下のようにprototypeを使って様々なページで使える汎用的なプラグインを作ってみたいのですが、どうしても&lt;code&gt;nextObj&lt;/code&gt;が空になって帰ってきてしまいます。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;試しにページネーションを使って（開発はCakePHPを使っています。）普通に出力をしてみた所、問題なく&lt;code&gt;?page=2&lt;/code&gt;で次のページに遷移できましたのでデータはちゃんと入っているようです。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ご教授お願いいたします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;/*&#xD;&#xA; * Ajaxで次のページを読み込むプラグイン&#xD;&#xA; * NexAj($trigger, $contentsToLoad)&#xD;&#xA; */&#xD;&#xA;function NextAj(el, obj) {&#xD;&#xA;  this.initialize(el, obj);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;NextAj.prototype.initialize = function(el, obj) {&#xD;&#xA;  this.$el = el;&#xD;&#xA;  this.$obj = obj;&#xD;&#xA;  this.$obj.css({&#xD;&#xA;    opacity: 0&#xD;&#xA;  });&#xD;&#xA;  this.counter = 2;&#xD;&#xA;  this.handleEvents();&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;NextAj.prototype.handleEvents = function() {&#xD;&#xA;  var self = this;&#xD;&#xA;  this.$obj.imagesLoaded(function() {&#xD;&#xA;    self.$obj.animate({&#xD;&#xA;      opacity: 1&#xD;&#xA;    });&#xD;&#xA;  });&#xD;&#xA;  this.$el.on('click', function(e) {&#xD;&#xA;    self.loadNext(e);&#xD;&#xA;    return false;&#xD;&#xA;  });&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;NextAj.prototype.loadNext = function(e) {&#xD;&#xA;  var $btn = $(e.currentTarget);&#xD;&#xA;  $btn.html('loading....');&#xD;&#xA;  $.ajax({&#xD;&#xA;      url: '?page=' + this.counter,&#xD;&#xA;      type: 'GET',&#xD;&#xA;      dataType: 'html',&#xD;&#xA;    })&#xD;&#xA;    .done(function(data) {&#xD;&#xA;      if (data = '') {&#xD;&#xA;        $btn.html('no more list');&#xD;&#xA;      } else {&#xD;&#xA;        var nextObj = $(data);&#xD;&#xA;        console.log(nextObj);&#xD;&#xA;        $btn.html('Load More');&#xD;&#xA;      }&#xD;&#xA;    })&#xD;&#xA;    .fail(function() {&#xD;&#xA;      console.log(&quot;error&quot;);&#xD;&#xA;    });&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;var loadRestaurantCat = new NextAj($('#load-more-list'), $('#listContainer'));&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;ul id=&quot;listContainer&quot;&amp;gt;&#xD;&#xA;  &amp;lt;li&amp;gt;hoge&amp;lt;/li&amp;gt;&#xD;&#xA;  &amp;lt;li&amp;gt;hoge&amp;lt;/li&amp;gt;&#xD;&#xA;  &amp;lt;li&amp;gt;hoge&amp;lt;/li&amp;gt;&#xD;&#xA;  &amp;lt;li&amp;gt;hoge&amp;lt;/li&amp;gt;&#xD;&#xA;&amp;lt;/ul&amp;gt;&#xD;&#xA;&amp;lt;a href=&quot;javascript:void(0)&quot; id=&quot;load-more-list&quot;&amp;gt;&#xD;&#xA;  Load More&#xD;&#xA;&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""8500"" LastEditorUserId=""8500"" LastEditDate=""2015-08-05T09:18:36.387"" LastActivityDate=""2015-08-05T09:18:36.387"" Title=""prototypeを使って$.ajaxでの読み込み結果が空になってしまう。"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""16793"" PostTypeId=""1"" CreationDate=""2015-09-20T07:25:31.537"" Score=""2"" ViewCount=""11055"" Body=""&lt;p&gt;現在、jQueryからREST APIを呼び結果を取得するコードを書いています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;【やりたいこと】&lt;br&gt;&#xA;　Paypalの以下のサンドボックス用のURLにjQueryでアクセスする。&lt;br&gt;&#xA;　&lt;a href=&quot;https://api-3t.sandbox.paypal.com/nvp&quot; rel=&quot;nofollow&quot;&gt;https://api-3t.sandbox.paypal.com/nvp&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;　結果は以下の文字列が返ってくるのでそれをjQueryで取得したい。&lt;br&gt;&#xA;　ACK=Failure&amp;amp;L_ERRORCODE0=81002&amp;amp;L_SHORTMESSAGE0=Unspecified%20Method&amp;amp;L_LONGMESSAGE0=Method%20Specified%20is%20not%20Supported&amp;amp;L_SEVERITYCODE0=Error　&lt;/p&gt;&#xA;&#xA;&lt;p&gt;【質問】&lt;br&gt;&#xA;　&lt;a href=&quot;http://semooh.jp/jquery/api/ajax/jQuery.ajax/options/&quot; rel=&quot;nofollow&quot;&gt;http://semooh.jp/jquery/api/ajax/jQuery.ajax/options/&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;　上記のマニュアルを参考に以下のコードを書いて見ましたが、どうしてもレスポンスの文字列を取得することができずにエラーのfunctionに入ってしまいます。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!doctype html&amp;gt;&#xA;&amp;lt;html lang=&quot;ja&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;    &amp;lt;meta charset=&quot;UTF-8&quot;&amp;gt;&#xA;    &amp;lt;title&amp;gt;jQuery REST API sample&amp;lt;/title&amp;gt;&#xA;    &amp;lt;script type=&quot;text/javascript&quot; src=&quot;./js/jquery-1.11.3.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;&amp;lt;h2&amp;gt;PaypalのデータをRest型のAPIで取得した後、jQuaryを利用し表示する&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;h2&amp;gt;$ajax で読み込む&amp;lt;/h2&amp;gt;&#xA;&amp;lt;ul class=&quot;ajax&quot;&amp;gt;&amp;lt;/ul&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;    $.ajax({&#xA;        type: 'GET',&#xA;        url: 'https://api-3t.sandbox.paypal.com/nvp',&#xA;        dataType: 'text'&#xA;    }).done(function(text){&#xA;            var len = text.length;&#xA;            alert(&quot;success : &quot; + len);&#xA;            for(var i=0; i &amp;lt; len; i++){&#xA;                $(&quot;.ajax&quot;).append('&amp;lt;li&amp;gt;&amp;lt;a href=&quot;'+text[i].link+'&quot;&amp;gt;'+text[i].title+'&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;');&#xA;            }&#xA;    }).fail(function(text){&#xA;            var len = text.length;&#xA;            alert(&quot;error : &quot; + len);&#xA;            $('.ajax').append(&quot;読み込みませんでした。&quot;);&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;何が原因かどなたかご教授いただけないでしょうか。&lt;br&gt;&#xA;よろしくお願い致します。&lt;/p&gt;&#xA;"" OwnerUserId=""8184"" LastEditorUserId=""8184"" LastEditDate=""2015-09-20T08:38:00.593"" LastActivityDate=""2015-10-26T06:52:47.077"" Title=""jQueryでREST APIを呼び、レスポンスを取得する方法"" Tags=""&lt;jquery&gt;&lt;paypal&gt;&lt;ajax&gt;&lt;rest&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""16872"" PostTypeId=""1"" CreationDate=""2015-09-23T06:55:47.603"" Score=""1"" ViewCount=""3192"" Body=""&lt;p&gt;PHP と Ajax を使って Facebook のいいねボタンのような投票システムを作ろうと思っています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ファイルがいくつかあるので、分けて説明していきます。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//ボタン表示のphpファイル&#xA;&amp;lt;button class=&quot;letsVote&quot; data-id='buttonID' data-numhtml=&quot;countNum1&quot;&amp;gt;&#xA;        &amp;lt;span class=&quot;countNum1&quot;&amp;gt;&amp;lt;?php echo getVoteCount('buttonID'); ?&amp;gt;&amp;lt;/span&amp;gt;&#xA;&amp;lt;/button&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;続いて、&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;//----------------------------------------------------------&#xA;// 投票数取得関数&#xA;//----------------------------------------------------------&#xA;function getVoteCount($id) {&#xA;//ファイル名&#xA;$filename = &quot;log/&quot;.$id.&quot;.count&quot;;&#xA;$fp = @fopen($filename, &quot;r&quot;);&#xA;if ($fp) {&#xA;$vote = fgets($fp, 9182);&#xA;} else {&#xA;$vote = 0;&#xA;}&#xA;return $vote;&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;投票数を表示するphpファイルは、&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php &#xA;//vote.php&#xA;&#xA;//////ajaxデータを受信1&#xA;$file_id = $_POST[&quot;file_id&quot;]; //ファイル名&#xA;$count = $_POST[&quot;count&quot;]; //投票数&#xA;$cookieName = &quot;vote_&quot; . $file_id; //クッキー名。&#xA;$cookieTime = time() + 10; //クッキーの有効期限（投票を制限する秒数）&#xA;&#xA;///////クッキーが有効&#xA;if(isset($_COOKIE[$cookieName])){&#xA;     echo &quot;クッキー制御により投票不可です。&quot;;&#xA;&#xA;}else{&#xA;///////クッキーが無効＝カウントアップ&#xA;     $count = $_POST[&quot;count&quot;]; //投票数&#xA;&#xA;     //カウント数を書き出すファイル名&#xA;     $fileName = &quot;log/&quot; . $file_id . &quot;.count&quot;;&#xA;&#xA;     $fp = @fopen($fileName , &quot;w&quot;); //書き込みモードで開く&#xA;&#xA;     flock($fp , LOCK_EX); //排他的ロック(書く準備) 他のロックをすべてブロック&#xA;     fputs($fp , $count); //カウント数を書き込み&#xA;     flock($fp , LOCK_UN); //ロック開放&#xA;     fclose($fp);&#xA;&#xA;     setcookie($cookieName , $count , $cookieTime); //10秒有効のクッキーをセット&#xA;&#xA;     echo &quot;Complete&quot;; //clickCount.jsにはここの値を返す&#xA;}&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;jQuery のファイルは、&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function(){&#xA;&#xA;     $('.letsVote').on('click' , function(){&#xA;&#xA;          $this = $(this);&#xA;          var id = $this.data(&quot;id&quot;); //識別用ID（重複NG）&#xA;          var numHtml = &quot;.&quot; + $this.data(&quot;numhtml&quot;); //カウント数を表示するHTML&#xA;          var nowCount = Number($(numHtml).html()); //現在のカウント数&#xA;          var newCount = nowCount + 1;&#xA;&#xA;          $.ajax({&#xA;               type : &quot;POST&quot;,&#xA;               url : &quot;vote.php&quot;,&#xA;               data: {&#xA;                    &quot;file_id&quot; : id,&#xA;                    &quot;count&quot; : newCount&#xA;               }&#xA;          }).done(function(data , datatype){&#xA;                    //送信先のvote.phpから、Completeが返ってきたらカウント更新&#xA;                    if(data == &quot;Complete&quot;){&#xA;                         $(numHtml).html(newCount);&#xA;                    }else{&#xA;                         alert(&quot;押しすぎ(´・ω・｀)&quot;);&#xA;                    }&#xA;               }).fail(function(XMLHttpRequest, textStatus, errorThrown) {&#xA;                      $(&quot;#XMLHttpRequest&quot;).html(&quot;XMLHttpRequest : &quot; + XMLHttpRequest.status);&#xA;                      $(&quot;#textStatus&quot;).html(&quot;textStatus : &quot; + textStatus);&#xA;                      $(&quot;#errorThrown&quot;).html(&quot;errorThrown : &quot; + errorThrown.message);&#xA;                  });&#xA;　　　　});&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;といったところで実装しようとしています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ただ、いざ表示しようとしてみると、ボタン表示の PHP ファイルの&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php echo getVoteCount('buttonID'); ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;という部分がエラーになり、&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;call to undefined function getVoteCount()&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;と表示されます。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;buttonID を変数 &lt;code&gt;$id&lt;/code&gt; にしてみたりしたのですが、上手く動いておりません。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;どのように記述すれば表示側と取得側の連携ができるでしょうか？&lt;/p&gt;&#xA;&#xA;&lt;p&gt;よろしくお願いいたします。&lt;/p&gt;&#xA;"" OwnerUserId=""8415"" LastEditorUserId=""32986"" LastEditDate=""2019-06-01T16:47:24.043"" LastActivityDate=""2019-06-01T16:47:24.043"" Title=""PHPとAjaxでいいねボタンを実装したい"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""20114"" PostTypeId=""1"" CreationDate=""2015-12-17T10:51:00.013"" Score=""3"" ViewCount=""6173"" Body=""&lt;p&gt;MonacaでAjax通信を行い外部サーバーにあるphp(MySQLを使用するために)を使っています。&lt;br&gt;&#xA;phpを使ってデータベース内の中身を表示させたいです。Ajax通信を行いJsonで受け取っているのですがうまくいかないのでMonaca側とphp側で何かあればアドバイスをお願いします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;「Monaca側」実行結果→console.logでjsが表示，エラーアラートの発生。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//口コミのボタンを押すとページ遷移と更新を同時に行う &#xA;function anime1() {&#xA;    app.slidingMenu.setMainPage('page1.html', {closeMenu: true});&#xA;}&#xA;&#xA;function anime2() {&#xA;    console.log(&quot;jh&quot;);&#xA;      // Ajaxで～.phpを利用してDBにアクセス&#xA;        $.ajax({&#xA;            type: &quot;POST&quot;,&#xA;            scriptCharset: 'utf-8',&#xA;            dataType: &quot;jsonp&quot;,&#xA;            url: サーバーにある～.phpファイル名&#xA;&#xA;       }).done(function(data){&#xA;        // DBから引っ張ってきたデータを料理名を選択するoptionにセット&#xA;         console.log(&quot;投稿完了！&quot;);&#xA;         // for (var i = 0; i &amp;lt; data.length; i++){&#xA;         // $('.food_name_box').append($('&amp;lt;option&amp;gt;').html(data[i][&quot;japanese&quot;]).val(data[i][&quot;id&quot;]));&#xA;         // }&#xA;&#xA;&#xA;       }).fail(function(data){&#xA;           alert('error!!!');&#xA;           //console.log(&quot;error&quot;);&#xA;       });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;「php側」&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;//DB接続&#xA;require_once('config.php');&#xA;&#xA;// $text1 = $_POST[&quot;sender_name&quot;];&#xA;// $text2 = $_POST[&quot;sender_mail_address&quot;];&#xA;// $text3 = $_POST[&quot;contact_body&quot;];&#xA;// $text4 = $_POST[&quot;time&quot;];&#xA;&#xA;&#xA;$result=$pdo-&amp;gt;prepare(&quot;select*from 13DB066_test&quot;);&#xA;$result-&amp;gt;execute();&#xA;$result_value=$result-&amp;gt;fetchAll();&#xA;&#xA;header('Content-type: application/json');&#xA;header('Content-type: html');&#xA;echo json_encode( $result_value );&#xA;//var_dump($result_value);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""13721"" LastEditorUserId=""9566"" LastEditDate=""2015-12-17T11:17:39.217"" LastActivityDate=""2015-12-17T11:43:09.597"" Title=""MonacaでAjax通信を行い外部サーバーにあるphp(MySQLを使用するために)を使っています。 phpを使ってデータベース内の中身を表示させたい"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;monaca&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""20869"" PostTypeId=""1"" AcceptedAnswerId=""20870"" CreationDate=""2016-01-13T00:39:55.893"" Score=""0"" ViewCount=""360"" Body=""&lt;p&gt;失礼します。いつもお世話になっております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;HTMLでJSONデータ所得を作成途中なのですがあと一歩のところで躓いております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;上記のHTMLでsubmitすると &lt;br&gt;&#xA;「curl -i -v -H &quot;Accept: application/vnd.glv.v1+json&quot; -H &quot;Content-type: application/json&quot; -X GET localhost:8280/api/test_accesses -d '{&quot;dept_ids&quot;:[&quot;000002&quot;]}'」&lt;/p&gt;&#xA;&#xA;&lt;p&gt;というリクエストが送られ望んだデータも返却されます。上記のHTMLに &lt;br&gt;&#xA;「~ '{&quot;dept_ids&quot;:[&quot;000002&quot;],&lt;strong&gt;&quot;start_date&quot;:&quot;20151001&quot;,&quot;end_date&quot;:&quot;20151207&quot;}'&lt;/strong&gt;」&lt;/p&gt;&#xA;&#xA;&lt;p&gt;とリクエストを送るようにしたいのですがどの部分を修正すればいいかわからず、ご存知の方に教えていただきたいと思いました。&lt;br&gt;&#xA;追記する&quot;start_date&quot;:&quot;20151001&quot;,&quot;end_date&quot;:&quot;20151207&quot;}'の日付部分はテキストボックスを作成して好きな年月を入れられるようにと考えております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(function(){&#xD;&#xA;        $(&quot;#response&quot;).html(&quot;Response Values&quot;);&#xD;&#xA;&#xD;&#xA;        $(&quot;#button&quot;).click( function(){&#xD;&#xA;            var url = $(&quot;#url_post&quot;).val();&#xD;&#xA;            var dept_ids = [$(&quot;#dept_ids&quot;).val()];&#xD;&#xA;      &#xD;&#xA;            var JSONdata = {};&#xD;&#xA;            JSONdata.dept_ids = dept_ids;&#xD;&#xA;&#xD;&#xA;            $.ajax({&#xD;&#xA;              url : url&#xD;&#xA;            , type : &quot;POST&quot;&#xD;&#xA;            , data : JSON.stringify(JSONdata)&#xD;&#xA;            , contentType: &quot;application/json;charset=UTF-8&quot;&#xD;&#xA;            , processData: false&#xD;&#xA;            , dataType : &quot;json&quot;&#xD;&#xA;            , accepts : {json: &quot;application/vnd.glv.v1+json;charset=UTF-8&quot;}&#xD;&#xA;            , crossDomain: false&#xD;&#xA;            }).done(function(data, status, xhr) {&#xD;&#xA;                // 通信成功時の処理&#xD;&#xA;//                alert(&quot;成功&quot;);&#xD;&#xA;                $(&quot;#response&quot;).html(JSON.stringify(data));&#xD;&#xA;            }).fail(function(xhr, status, error) {&#xD;&#xA;                // 通信失敗時の処理&#xD;&#xA;                alert(&quot;失敗&quot;);&#xD;&#xA;            }).always(function(arg1, status, arg2) {&#xD;&#xA;                // 通信完了時の処理&#xD;&#xA;//                alert(&quot;完了&quot;);&#xD;&#xA;            });&#xD;&#xA;        })&#xD;&#xA;    })&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;h1&amp;gt;HTMLファイルからPOSTでJSONデータを送信&amp;lt;/h1&amp;gt;&#xD;&#xA;    &amp;lt;p&amp;gt;URL: &amp;lt;input type=&quot;text&quot; id=&quot;url_post&quot; name=&quot;url&quot; size=&quot;100&quot; value=&quot;http://52.192.178.185:8280/api/test_accesses&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;    &amp;lt;p&amp;gt;value1: &amp;lt;input type=&quot;text&quot; id=&quot;dept_ids&quot; size=&quot;30&quot; value=&quot;000002&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;    &amp;lt;p&amp;gt;&amp;lt;button id=&quot;button&quot; type=&quot;button&quot;&amp;gt;submit&amp;lt;/button&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;    &amp;lt;textarea id=&quot;response&quot; cols=120 rows=10 disabled&amp;gt;&amp;lt;/textarea&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""13072"" LastActivityDate=""2016-01-13T01:11:39.090"" Title=""作成途中のHTMLでJSONデータ所得作成を完成させたいです。"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""20903"" PostTypeId=""1"" AcceptedAnswerId=""20977"" CreationDate=""2016-01-14T02:37:56.447"" Score=""0"" ViewCount=""1443"" Body=""&lt;p&gt;失礼します。以下はJSON形式に変換してリクエストをし、画面遷移せずその場に結果を表示させるコードです。&lt;br&gt;&#xA;こちらのコードだとPOSTだけですが、GETでもデータを送受信したいのです。しかし編集してもやり方が違うのかエラーが生じてしまいます。&lt;br&gt;&#xA;どの部分に手を加えればいいのか、またできればHTML上で月日が選択できるのと同じようにPOSTかGETを選択できるようにしたいと考えております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;自分の力だとどうしても解決できないためこちらで質問させていただきました。&lt;br&gt;&#xA;何卒宜しく御願い致します。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.css&quot;&amp;gt;&#xD;&#xA;&amp;lt;link href=&quot;./css/css.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&#xD;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xD;&#xA;    $(function(){&#xD;&#xA;        $(&quot;#response&quot;).html(&quot;Response Values&quot;);&#xD;&#xA;        $(&quot;#button&quot;).click( function(){&#xD;&#xA;            var url = $(&quot;#url_post&quot;).val();&#xD;&#xA;         var dept_ids = $(&quot;#dept_ids&quot;).val().split(&quot;,&quot;);&#xD;&#xA;        	var start_date = $(&quot;#start_date&quot;).val();&#xD;&#xA;			var end_date = $(&quot;#end_date&quot;).val();&#xD;&#xA;        &#xD;&#xA;            var JSONdata = {};&#xD;&#xA;            JSONdata.dept_ids = dept_ids;&#xD;&#xA;           JSONdata.start_date = start_date; &#xD;&#xA;			JSONdata.end_date = end_date;&#xD;&#xA;          &#xD;&#xA;           &#xD;&#xA;            $.ajax({&#xD;&#xA;              url : url&#xD;&#xA;            , type : &quot;POST&quot;&#xD;&#xA;            , data : JSON.stringify(JSONdata)&#xD;&#xA;            , contentType: &quot;application/json;charset=UTF-8&quot;&#xD;&#xA;            , processData: false&#xD;&#xA;            , dataType : &quot;json&quot;&#xD;&#xA;            , accepts : {json: &quot;application/vnd.glv.v1+json;charset=UTF-8&quot;}&#xD;&#xA;            , crossDomain: false&#xD;&#xA;            }).done(function(data, status, xhr) {&#xD;&#xA;                // 通信成功時の処理&#xD;&#xA;//                alert(&quot;成功&quot;);&#xD;&#xA;                $(&quot;#response&quot;).html(JSON.stringify(data));&#xD;&#xA;            }).fail(function(xhr, status, error) {&#xD;&#xA;                // 通信失敗時の処理&#xD;&#xA;                alert(&quot;失敗&quot;);&#xD;&#xA;            }).always(function(arg1, status, arg2) {&#xD;&#xA;                // 通信完了時の処理&#xD;&#xA;//                alert(&quot;完了&quot;);&#xD;&#xA;            });&#xD;&#xA;        })&#xD;&#xA;    })&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;table&amp;gt;&#xD;&#xA;    &amp;lt;h1&amp;gt;店舗検索&amp;lt;/h1&amp;gt;&#xD;&#xA;    &amp;lt;tr&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;b&amp;gt;URL: &amp;lt;input type=&quot;text&quot; id=&quot;url_post&quot; name=&quot;url&quot; size=&quot;100&quot; value=&quot;http://52.192.178.185:8280/api/dept_accesses&quot;&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;td&amp;gt;&#xD;&#xA;    &amp;lt;/tr&amp;gt;&#xD;&#xA;  &amp;lt;!--  &amp;lt;p&amp;gt;店舗ID: &amp;lt;input type=&quot;text&quot; id=&quot;dept_ids&quot; size=&quot;30&quot; value=&quot;BD0002&quot; class=&quot;keyword&quot;&amp;gt;&amp;lt;/p&amp;gt;--&amp;gt;&#xD;&#xA; &amp;lt;tr&amp;gt;&#xD;&#xA; &amp;lt;td&amp;gt;&amp;lt;b&amp;gt;店舗ID:&amp;lt;textarea  cols=&quot;50&quot; id=&quot;dept_ids&quot; pattern=&quot;^[0-9A-Za-z]+$&quot; class=&quot;keyword&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA; &amp;lt;/tr&amp;gt;&#xD;&#xA; &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&amp;lt;b&amp;gt;開始日: &amp;lt;input type=&quot;text&quot; id=&quot;start_date&quot; size=&quot;30&quot; value=&quot;20151001&quot; class=&quot;keyword&quot;&amp;gt;&#xD;&#xA;   ～   終了日: &amp;lt;input type=&quot;text&quot; id=&quot;end_date&quot; size=&quot;30&quot; value=&quot;20161207&quot; class=&quot;keyword&quot;&amp;gt;&#xD;&#xA; &amp;lt;button id=&quot;button&quot; type=&quot;button&quot;&amp;gt;submit&amp;lt;/button&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/td&amp;gt;&#xD;&#xA;   &amp;lt;tr&amp;gt;&#xD;&#xA;   &amp;lt;/tr&amp;gt;&#xD;&#xA;    &amp;lt;td&amp;gt;&amp;lt;textarea id=&quot;response&quot; cols=170 rows=21 disabled&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/td&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""13072"" LastEditorUserId=""208"" LastEditDate=""2016-01-14T09:32:03.073"" LastActivityDate=""2016-01-16T10:27:01.680"" Title=""JSON取得する際にGETかPOSTを切り替えて受信できるようにしたい"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""3"" FavoriteCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""21105"" PostTypeId=""1"" AcceptedAnswerId=""21122"" CreationDate=""2016-01-20T03:32:47.087"" Score=""0"" ViewCount=""1909"" Body=""&lt;p&gt;いつもお世話になります。今回画面遷移せずにJSON形式のデータを表示するHTMLを作成しました。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;入力フォームが未入力の場合jquery.cleanQuery.jsというJSファイルを使用すれば未入力の場合リクエストパラメータから削除されるのが他のHTMLでテストした際に確認できました、ですが今回自分が作成した下記のHTMLだと未入力でもそのままリクエストパラメーターに付与されてしまうためうまくデータが返却されません。入力すればその入力に応じたデータが返却されます。&lt;br&gt;&#xA;どなたかご存知の方宜しく御願いします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-js lang-js prettyprint-override&quot;&gt;&lt;code&gt;$(function(){&#xD;&#xA;$(&quot;#button&quot;).click( function(){&#xD;&#xA;$.ajax({&#xD;&#xA;	url: 'http://52.192.178.185:8280/api/rankings?',&#xD;&#xA;	type : $(&quot;#method_select&quot;).val(),&#xD;&#xA;	data: $(&quot;FORM&quot;).serialize(),&#xD;&#xA;	}).done(function (data, status, xhr) {&#xD;&#xA;		$(&quot;#response&quot;).html(JSON.stringify(data));&#xD;&#xA;	}).fail(function(xhr, status, error) {&#xD;&#xA;	// 通信失敗時の処理&#xD;&#xA;	alert(&quot;失敗&quot;);&#xD;&#xA;	}).always(function(arg1, status, arg2) {&#xD;&#xA;	//通信失敗時の処理&#xD;&#xA;	alert(&quot;完了&quot;);&#xD;&#xA;	});&#xD;&#xA;	})&#xD;&#xA;	})&#xD;&#xA;	&#xD;&#xA;/*&#xD;&#xA; * jQuery cleanQuery 2013-03-23&#xD;&#xA; * Authored by guimihanui&#xD;&#xA; * Licensed under the MIT License (http://www.opensource.org/licenses/mit-license.php)&#xD;&#xA; */&#xD;&#xA;&#xD;&#xA;(function($) {&#xD;&#xA;  function cleanQuery(query) {&#xD;&#xA;    var arr = [];&#xD;&#xA;    $.each(query.split('&amp;amp;'), function(i, param) {&#xD;&#xA;      if (param.split('=')[1]) { arr.push(param); }&#xD;&#xA;    });&#xD;&#xA;    return arr.join('&amp;amp;');&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  $.fn.cleanQuery = function() {&#xD;&#xA;    this.on('submit', function(event) {&#xD;&#xA;      event.preventDefault();&#xD;&#xA;      &#xD;&#xA;      var query = cleanQuery($(this).serialize());&#xD;&#xA;      location.href = this.action + '?' + query;&#xD;&#xA;    });&#xD;&#xA;    &#xD;&#xA;    return this;&#xD;&#xA;  };&#xD;&#xA;})(jQuery);&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xD;&#xA;	$(function() {&#xD;&#xA;		$('#FORM').cleanQuery();&#xD;&#xA;	});&#xD;&#xA;	&amp;lt;/script&amp;gt;&#xD;&#xA;&amp;lt;/head&amp;gt;&#xD;&#xA;&amp;lt;title&amp;gt;車種ランキング&amp;lt;/title&amp;gt;&#xD;&#xA;&amp;lt;body&amp;gt;&#xD;&#xA;&amp;lt;form id=&quot;FORM&quot;&amp;gt;&#xD;&#xA;&amp;lt;br&amp;gt;&#xD;&#xA;&amp;lt;b&amp;gt;ランキング種別&amp;lt;/b&amp;gt;&amp;lt;font color=&quot;RED&quot;&amp;gt;:必須&amp;lt;/font&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;&amp;lt;p&amp;gt;&amp;lt;input type=&quot;text&quot; value=&quot;0&quot; id=&quot;kind&quot; name=&quot;kind&quot; placeholder=&quot;例:0&quot; pattern=&quot;^[0-9]+$&quot; class=&quot;keyword&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;&amp;lt;b&amp;gt;サイト種別&amp;lt;/b&amp;gt;&amp;lt;font color=&quot;RED&quot;&amp;gt;:必須&amp;lt;/font&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;&amp;lt;p&amp;gt;&amp;lt;input type=&quot;text&quot; value=&quot;0&quot; id=&quot;site&quot; name=&quot;site&quot; placeholder=&quot;例:0&quot; pattern=&quot;^[0-9]+$&quot; class=&quot;keyword&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;&amp;lt;b&amp;gt;取得ページ位置&amp;lt;/b&amp;gt;&#xD;&#xA;&amp;lt;p&amp;gt;&amp;lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;page&quot; placeholder=&quot;例:1～20&quot; pattern=&quot;^[0-9]+$&quot; class=&quot;keyword&quot;&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;&amp;lt;b&amp;gt;リクエスト方法&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;&#xD;&#xA;&amp;lt;select id=&quot;method_select&quot;&amp;gt;&#xD;&#xA;&amp;lt;option value=&quot;POST&quot; selected&amp;gt;POST&amp;lt;/option&amp;gt;&#xD;&#xA;&amp;lt;option value=&quot;GET&quot;&amp;gt;GET&amp;lt;/option&amp;gt;&#xD;&#xA;&amp;lt;/select&amp;gt;&#xD;&#xA;&amp;lt;button id=&quot;button&quot; type=&quot;button&quot;&amp;gt;検索結果&amp;lt;/button&amp;gt;&amp;lt;/p&amp;gt;&#xD;&#xA;&amp;lt;/button&amp;gt;&#xD;&#xA;&amp;lt;b&amp;gt;&amp;lt;textarea id=&quot;response&quot; cols=170 rows=19 disabled&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/b&amp;gt;&#xD;&#xA;&amp;lt;/form&amp;gt;&#xD;&#xA;&amp;lt;/body&amp;gt;&#xD;&#xA;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""13072"" LastActivityDate=""2016-01-20T09:23:56.803"" Title=""空白時のパラメーターを削除することができない。（HTML,AJAX）"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""3"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""21149"" PostTypeId=""1"" AcceptedAnswerId=""21151"" CreationDate=""2016-01-21T08:42:35.507"" Score=""0"" ViewCount=""247"" Body=""&lt;p&gt;いつもお世話になっております。&lt;br&gt;&#xA;下記は入力フォームで入力された項目をボタン押下でJSONデータの方に変換後リクエストをおくる&lt;br&gt;&#xA;JSファイルです。&lt;br&gt;&#xA;ボタン押下した際に項目が未入力の場合はリクエストパラメーターから削除することはできないでしょうか？&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;&#xD;&#xA;&lt;div class=&quot;snippet-code&quot;&gt;&#xD;&#xA;&lt;pre class=&quot;snippet-code-html lang-html prettyprint-override&quot;&gt;&lt;code&gt; $(function(){&#xD;&#xA;        $(&quot;#response&quot;).html(&quot;Response Values&quot;);&#xD;&#xA;        $(&quot;#buttonpost&quot;).click( function(){&#xD;&#xA;            &#xD;&#xA;            var dept_ids = $(&quot;#dept_ids&quot;).val().split(&quot;,&quot;);&#xD;&#xA;            var start_date = $(&quot;#start_date&quot;).val();&#xD;&#xA;        var end_date = $(&quot;#end_date&quot;).val();&#xD;&#xA;&#xD;&#xA;            var JSONdata = {};&#xD;&#xA;            JSONdata.dept_ids = dept_ids;&#xD;&#xA;            JSONdata.start_date = start_date; &#xD;&#xA;            JSONdata.end_date = end_date;&#xD;&#xA;            &#xD;&#xA;            &#xD;&#xA;   &#xD;&#xA;     $.ajax({&#xD;&#xA;		url : 'http://52.192.178.185:8280/api/dept_accesses',&#xD;&#xA;		type : &quot;POST&quot;,&#xD;&#xA;        data : JSON.stringify(JSONdata),&#xD;&#xA;    	contentType: &quot;application/json;charset=UTF-8&quot;,&#xD;&#xA;    	dataType : &quot;json&quot;,&#xD;&#xA;    	accepts : {json: &quot;application/vnd.glv.v1+json;charset=UTF-8&quot;},&#xD;&#xA;			}).done(function(data, status, xhr) {&#xD;&#xA;    		$(&quot;#response&quot;).html(JSON.stringify(data));&#xD;&#xA;			}).fail(function(xhr, status, error) {&#xD;&#xA;    		// 通信失敗時の処理&#xD;&#xA;    		alert(&quot;失敗&quot;);&#xD;&#xA;			}).always(function(arg1, status, arg2) {&#xD;&#xA;    		&#xD;&#xA; 			});&#xD;&#xA; &#xD;&#xA;			    })&#xD;&#xA;    			})&lt;/code&gt;&lt;/pre&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/p&gt;&#xA;"" OwnerUserId=""13072"" LastActivityDate=""2016-01-21T09:27:35.740"" Title=""項目が空白時の場合パラメーターから削除したい"" Tags=""&lt;javascript&gt;&lt;html&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""22065"" PostTypeId=""1"" AcceptedAnswerId=""22098"" CreationDate=""2016-02-14T09:41:28.203"" Score=""0"" ViewCount=""1655"" Body=""&lt;p&gt;アプリ開発初心者です。&lt;br&gt;&#xA;monaca, onsen UIを使用して開発をしております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;具体的には、ajaxを使ってデータベースにアクセスし、値の取り出しに成功した場合は指定したタグに要素を追加して表示させるといったプログラムを組もうとしております。&lt;br&gt;&#xA;値の取り出しに成功して表示するまではうまくいくのですが、動的にタグに要素を追加した場合、onsen UIで設定してあるcssがうまく効かず、ただ文字列が列挙されてしまいます。&lt;br&gt;&#xA;動的に追加した要素に予め設定してあるcssを適用させるにはどのようにしたら良いのか、ご挙示頂ければ幸いです。&lt;br&gt;&#xA;よろしくお願い申し上げます。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;以下が該当するコードになります。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;scriptタグ内&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(function(){&#xA;　'use strict';&#xA;　$(document).on('pageinit', '#top-page', function() {&#xA;　　$('#list_up', this).on('click', function() {&#xA;　　　new_list();&#xA;　　　app.navi.pushPage('list.html');&#xA;　　});&#xA;　});&#xA;})();&#xA;&#xA;function new_list(){&#xA;　var data = {・・・}&#xA;　$.post(&quot;url&quot;, data).done(function(result){&#xA;　　var list = document.getElementById('list');&#xA;　　var onsrowNode = document.createElement('ons-row');&#xA;　　var onscolNode = document.createElement('ons-col');&#xA;　　var onscolNode2 = document.createElement('ons-col');&#xA;　　var textNode = document.createTextNode('温泉');&#xA;　　var textNode2 = document.createTextNode(result);&#xA;　　onscolNode.appendChild(textNode);&#xA;　　onscolNode2.appendChild(textNode2);&#xA;　　onsrowNode.appendChild(onscolNode);&#xA;　　onsrowNode.appendChild(onscolNode2);&#xA;　　list.appendChild(onsrowNode);&#xA;　}).fail(function(){&#xA;　　・・・&#xA;　});&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;以下body内&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;ons-navigator page=&quot;top.html&quot; var=&quot;app.navi&quot;&amp;gt;&amp;lt;/ons-navigator&amp;gt;&#xA;&amp;lt;ons-template id=&quot;top.html&quot;&amp;gt;&#xA;　&amp;lt;ons-page id=&quot;top-page&quot;&amp;gt;&#xA;　　&amp;lt;ons-list-item modifier=&quot;chevron&quot; class=&quot;item&quot; id=&quot;list_up&quot;&amp;gt;&#xA;　　　&amp;lt;ons-row&amp;gt;&#xA;　　　　&amp;lt;ons-col class=&quot;title&quot;&amp;gt;&#xA;　　　　　&amp;lt;header&amp;gt;&#xA;　　　　　　&amp;lt;span class=&quot;item-title&quot;&amp;gt;リスト&amp;lt;/span&amp;gt;&#xA;　　　　　&amp;lt;/header&amp;gt;&#xA;　　　　&amp;lt;/ons-col&amp;gt;&#xA;　　　&amp;lt;/ons-row&amp;gt;&#xA;　　&amp;lt;/ons-list-item&amp;gt;&#xA;　　・・・&#xA;　&amp;lt;/ons-page&amp;gt;&#xA;&amp;lt;/ons-template&amp;gt;&#xA;&#xA;&amp;lt;ons-template id=&quot;list.html&quot;&amp;gt;&#xA;　&amp;lt;ons-page id=&quot;list-page&quot;&amp;gt;&#xA;　　&amp;lt;ons-list&amp;gt;&#xA;　　　&amp;lt;ons-list-item&amp;gt;&#xA;　　　　&amp;lt;div id=&quot;list&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;　　　&amp;lt;/ons-list-item&amp;gt;&#xA;　　&amp;lt;/ons-list&amp;gt;&#xA;　&amp;lt;/ons-page&amp;gt;&#xA;&amp;lt;/ons-template&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""14300"" LastEditorUserId=""3516"" LastEditDate=""2016-02-15T04:57:55.487"" LastActivityDate=""2016-02-15T06:24:49.613"" Title=""ajaxで要素を動的に追加した際に、onsen UIのcssが効かない"" Tags=""&lt;monaca&gt;&lt;onsen-ui&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""22339"" PostTypeId=""1"" AcceptedAnswerId=""22347"" CreationDate=""2016-02-21T06:07:07.467"" Score=""0"" ViewCount=""1089"" Body=""&lt;p&gt;Monaca/onsen UIを用いてアプリ開発をしております。&lt;br&gt;&#xA;ajaxで動的にons-col/ons-rowをhtmlに追加し、その際、各ons-colにcss要素の追加もしておりますが、cssの適用がうまくいかずに立ち往生しております。&lt;br&gt;&#xA;以下がコードになります。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;html&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;ons-navigator page=&quot;top.html&quot; var=&quot;app.navi&quot;&amp;gt;&amp;lt;/ons-navigator&amp;gt;&#xA;&amp;lt;ons-template id=&quot;top.html&quot;&amp;gt;&#xA;  &amp;lt;ons-page id=&quot;top-page&quot;&amp;gt;&#xA;    &amp;lt;ons-list-item modifier=&quot;chevron&quot; class=&quot;item&quot; id=&quot;list_up&quot;&amp;gt;&#xA;      &amp;lt;ons-row&amp;gt;&#xA;        &amp;lt;ons-col class=&quot;title&quot;&amp;gt;&#xA;          &amp;lt;header&amp;gt;&#xA;            &amp;lt;span class=&quot;item-title&quot;&amp;gt;リスト&amp;lt;/span&amp;gt;&#xA;          &amp;lt;/header&amp;gt;&#xA;        &amp;lt;/ons-col&amp;gt;&#xA;      &amp;lt;/ons-row&amp;gt;&#xA;    &amp;lt;/ons-list-item&amp;gt;&#xA;   ・・・&#xA;  &amp;lt;/ons-page&amp;gt;&#xA;&amp;lt;/ons-template&amp;gt;&#xA;&#xA;&amp;lt;ons-template id=&quot;list.html&quot;&amp;gt;&#xA;  &amp;lt;ons-page id=&quot;list-page&quot;&amp;gt;&#xA;    &amp;lt;ons-list&amp;gt;&#xA;      &amp;lt;ons-list-item&amp;gt;&#xA;        &amp;lt;div id=&quot;list&quot;&amp;gt;&amp;lt;/div&amp;gt;&#xA;      &amp;lt;/ons-list-item&amp;gt;&#xA;    &amp;lt;/ons-list&amp;gt;&#xA;  &amp;lt;/ons-page&amp;gt;&#xA;&amp;lt;/ons-template&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;script&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(function(){&#xA;  'use strict';&#xA;  $(document).on('pageinit', '#top-page', function() {&#xA;    $('#list_up', this).on('click', function() {&#xA;      new_list();&#xA;      app.navi.pushPage('list.html');&#xA;    });&#xA;  });&#xA;})();&#xA;&#xA;function new_list(){&#xA;  var data = {・・・}&#xA;  $.post(&quot;url&quot;, data).done(function(result){&#xA;   if (result.res == null){&#xA;     $('#list').text(該当ありません。);&#xA;   }&#xA;   else if (result.res == hit){&#xA;     var fd = document.createDocumentFragment();&#xA;     var list = document.getElementById('list');&#xA;     var onsrowNode = new Array();&#xA;     var onscolNode = new Array();&#xA;     var onscolNode2 = new Array();&#xA;&#xA;     for (var i=0; i&amp;lt;result.count; i++){&#xA;       onsrowNode[i] = document.createElement('ons-row');&#xA;       onscolNode[i] = document.createElement('ons-col');&#xA;       onscolNode2[i] = document.createElement('ons-col');&#xA;&#xA;       onscolNode[i].style.cssText = &quot;width: 100px;&quot;;&#xA;       onscolNode2[i].style.cssText = &quot;width: 100%;&quot;;&#xA;&#xA;       onscolNode[i].innerText = &quot;項目&quot;;&#xA;       onscolNode2[i].innerText = result.item;&#xA;&#xA;       onsrowNode[i].appendChild(onscolNode[i]);&#xA;       onsrowNode[i].appendChild(onscolNode2[i]);&#xA;       df.appendChild(onsrowNode[i]);&#xA;     }&#xA;     list.appendChild(df);&#xA;     ons.compile(list);&#xA;   }&#xA;   else {&#xA;     ・・・&#xA;   }&#xA; }).fail(function(){&#xA;  ・・・&#xA; });&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;なお、こちらはうまくいきませんが、以下のように単純に下線を引くものであれば追加できました。&lt;br&gt;&#xA;「onsrowNode[i].style.cssText = &quot;border-bottom-style: dotted;&quot;;」&lt;br&gt;&#xA;ons-colの幅の設定の仕方が誤っているのかと思いましたが、違うページではうまくcssが効いております。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;修正すべき点をご教示頂ければ幸いです。&lt;br&gt;&#xA;宜しくお願い申し上げます。&lt;/p&gt;&#xA;"" OwnerUserId=""14300"" LastEditorUserId=""14300"" LastEditDate=""2016-02-21T06:41:40.273"" LastActivityDate=""2016-02-21T07:14:31.140"" Title=""ajaxで動的にons-col/ons-row生成した時、onsenUIのcssの変更がうまくいかない"" Tags=""&lt;monaca&gt;&lt;onsen-ui&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""25105"" PostTypeId=""1"" CreationDate=""2016-05-23T07:59:37.503"" Score=""-1"" ViewCount=""5014"" Body=""&lt;p&gt;したいことは：送信ボタンを押すとincludes/sync.phpのファイルが実行したいです。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;説明：&lt;br&gt;&#xA;mysqlデータベースからphpでデータを取得して最新のid順で表示しています、それぞれのidにボタンを設置してデータを送信してphpファイルを実行していますが&lt;br&gt;&#xA;下記のエラー出ていますが何が間違っていますでしょうか？&lt;br&gt;&#xA;id(1)からid(10)まで、ありますが最新のid(10)を押すと下記のエラーが出ますがその他のidのボタンを押しても反応が何もしないです！！&lt;br&gt;&#xA;なぜでしょうか？誰かがご教授お願いします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;説明補足：/* 下記の質問は、これをajaxで書き換えた場合のエラーです&lt;br&gt;&#xA;これは正しく動作しますが=&gt; echo &quot;送信&quot;;*/&lt;/p&gt;&#xA;&#xA;&lt;p&gt;下記のエラー：&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;SyntaxError: Unexpected identifier&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;１、下記の送信ボタンを上記のエラーが出ます&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;echo &quot;&amp;lt;td&amp;gt;&amp;lt;a rel='$test_id' href='javascript:void(0)' id='sw'&amp;gt;送信&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;&quot;;&#xA;&#xA;&amp;lt;script type=&quot;text/javascript&quot;  src=&quot;http://ajax.googleapi.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    $(document).ready(function(){&#xA;        $(&quot;#sw&quot;).click(function(){&#xA;            var param = {&quot;test_id&quot; : &quot;{$test_id}&quot;};&#xA;                $.ajax({&#xA;                type: &quot;post&quot;,&#xA;                url : &quot;includes/sync.php&quot;,&#xA;                data: JSON.stringify(param),&#xA;                dataType : &quot;text&quot;,&#xA;            }).done(function(data){&#xA;                alert(data.text);&#xA;            }).fail(function(XMLHttpRequest, textStatus, errorThrown){&#xA;                alert(errorThrown);&#xA;            });&#xA;        });&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""9013"" LastEditorDisplayName=""user10259"" LastEditDate=""2016-05-23T09:55:59.063"" LastActivityDate=""2016-05-23T09:55:59.063"" Title=""php ajax , SyntaxError: Unexpected identifier"" Tags=""&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""5"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""33025"" PostTypeId=""1"" CreationDate=""2017-03-01T17:10:46.237"" Score=""0"" ViewCount=""3595"" Body=""&lt;p&gt;GPUがひとつだけ存在するマシンでtensorflowを動かすとき、&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gpuConfig = tf.ConfigProto(&#xA;    gpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.5),&#xA;    device_count={'GPU': 0})&#xA;&#xA;with tf.Session(config=gpuConfig) as sess:&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;と設定を行うと、nvidia-smiコマンドでGPU使用の詳細を調べたところ、freeなメモリが1GiB以上あるにもかかわらず、GPU memory usageの部分にそのプログラムが使用するメモリが25MiB程度しか取れていないと表示されてしまいます。&lt;br&gt;&#xA;この問題はどう解決すればいいのでしょうか？どなたかご教授いただけると助かります。&lt;/p&gt;&#xA;"" OwnerUserId=""20217"" LastActivityDate=""2022-05-19T08:00:15.033"" Title=""tensorflowのGPU使用制限の設定について"" Tags=""&lt;tensorflow&gt;&lt;gpu&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""38841"" PostTypeId=""1"" CreationDate=""2017-10-18T14:49:35.173"" Score=""0"" ViewCount=""1713"" Body=""&lt;p&gt;InstascanをもちいてQRコードを読み込み、その値をもちいて処理を行うプログラムを作成しておりJSON形式で値を得たいのですがphpの中身がまるごと返てきてしまっています(以下のエラーが出ます)。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;SyntaxError: Unexpected token &amp;lt; in JSON at position 0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;以下のajaxはInstascanで読み込んだあとに実行され、idには読み込んだQRコードの値(数字限定)が入るようになっています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;どのような変更を行えば良いかご教授願います。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA; type: &quot;POST&quot;,&#xA; url: &quot;search.php&quot;,&#xA; data: { &quot;id&quot;: id },&#xA; dataType: &quot;json&quot;,&#xA;}) .done (function(data, textStatus, jqXHR) {&#xA; console.log(&quot;OK!!&quot;);&#xA; console.log(data.name);&#xA;}) .fail (function(jqXHR, textStatus, errorThrown) {&#xA; console.log(&quot;Error!!&quot;);&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;search.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA; $id = $_POST[&quot;id&quot;];&#xA; $name = 'ブックマーク';&#xA; //SQLでidを処理し、一致するnameを返す予定。&#xA; $arr = array(&#xA;  'id' =&amp;gt; $id,&#xA;  'name' =&amp;gt; $name&#xA; );&#xA; header('Content-type:Application/json; charset=utf8');&#xA; echo json_encode($arr);&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;--追記--&lt;br&gt;&#xA;簡易的なプログラム(一部省略)を書いて試しましたが上のプログラムと同様のエラーが発生しうまく行きません。&lt;br&gt;&#xA;ちなみにphp単体で叩くと&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{&quot;id&quot;:null,&quot;name&quot;:&quot;ブックマーク&quot;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;このように適切にjson形式で返ってきます。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;index.html&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;&#xA;&amp;lt;html lang=&quot;ja&quot;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;&amp;lt;meta charset=&quot;utf-8&quot;&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&amp;lt;body&amp;gt;&#xA;&amp;lt;input type=&quot;button&quot; value=&quot;ボタン&quot;&amp;gt;&#xA;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;script&amp;gt;&#xA;$(function() {&#xA;    $(&quot;[type=button]&quot;).on(&quot;click&quot;, function() {&#xA;      $.ajax({&#xA;        type: &quot;POST&quot;,&#xA;        url: &quot;sample.php&quot;,&#xA;        data: {&quot;id&quot;: &quot;020001&quot;},&#xA;        dataType: &quot;json&quot;&#xA;      }) .done (function(data) {&#xA;        console.log(&quot;ok&quot;);&#xA;        console.log(data.name);&#xA;      }) .always(function(){&#xA;        console.log(&quot;hahaha&quot;);&#xA;      });&#xA;    });&#xA;});&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;sample.php&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;  $id = $_POST[&quot;id&quot;];&#xA;  $arr = array(&#xA;    &quot;id&quot; =&amp;gt; id,&#xA;    &quot;name&quot; =&amp;gt; &quot;ブックマーク&quot;&#xA;  );&#xA;  header(&quot;Content-type:Application/json;charset=utf8&quot;);&#xA;  echo json_encode($arr);&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""19827"" LastEditorUserId=""19827"" LastEditDate=""2017-10-18T18:28:32.803"" LastActivityDate=""2017-10-18T18:28:32.803"" Title=""jQuery.ajaxを用いた通信での戻り値の問題"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;json&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""48301"" PostTypeId=""1"" CreationDate=""2018-09-12T04:58:38.620"" Score=""2"" ViewCount=""269"" Body=""&lt;p&gt;初めての質問です！&lt;br&gt;&#xA;ruby on railsで現在製作中の投稿型アプリケーションの投稿機能に、ajaxで非同期通信を適用させようとしています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;createアクションにrespond_toを使って、json形式でデータをとり、ajaxでデータを返すという具合です。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ところが、いざ実装してみると一つのエラーを抜け出せず、投稿がままならない状態です。&lt;br&gt;&#xA;エラー内容は、&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;Unable to autoload constant MessagesController, expected /Users/namae/projects/chat-space/app/controllers/messages_controller.rb to define it&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;というエラーと、&lt;br&gt;&#xA;&lt;code&gt;Uncaught SyntaxError: Unexpected token .&lt;/code&gt;&lt;br&gt;&#xA;&lt;code&gt;compile error&lt;/code&gt;&lt;br&gt;&#xA;というエラーが複数出ています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;以下に非同期通信周りのコードを載せます。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;[messages_controller]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;def create&#xA;  @message = @group.messages.new(message_params)&#xA;  if @message.save&#xA;    respond_to do |format|&#xA;      format.html {redirect_to group_messages_path(@group)}&#xA;      format.json&#xA;  else&#xA;    @messages = @group.messages.includes(:user)&#xA;    flash.now[:alert] = &quot;メッセージを入力してください&quot;&#xA;    render :index&#xA;  end&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;[message.js]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function(){&#xA;  function buildHTML(data){&#xA;    var Image = '';&#xA;&#xA;    if (massage.image) {&#xA;      Image = `&amp;lt;img src = ${message.image} class = &quot;lower-message__image&quot;&amp;gt;`&#xA;    }&#xA;&#xA;    var html = `&amp;lt;div class=&quot;message&quot; data-message-id=${ message.id }&amp;gt;&#xA;                  &amp;lt;div class=&quot;upper-message&quot;&amp;gt;&#xA;                    &amp;lt;div class=&quot;upper-message__user-name&quot;&amp;gt;&#xA;                      ${ message.name }&#xA;                    &amp;lt;/div&amp;gt;&#xA;                    &amp;lt;div class=&quot;upper-message__date&quot;&amp;gt;&#xA;                      ${ message.data }&#xA;                    &amp;lt;/div&amp;gt;&#xA;                  &amp;lt;/div&amp;gt;&#xA;                  &amp;lt;div class=&quot;lower-meesage&quot;&amp;gt;&#xA;                      &amp;lt;p class=&quot;lower-message__content&quot;&amp;gt;&#xA;                        ${ message.text }&#xA;                      &amp;lt;/p&amp;gt;&#xA;                        $ { Image }&#xA;                  &amp;lt;/div&amp;gt;&#xA;                &amp;lt;/div&amp;gt;`;&#xA;    return html;&#xA;  }&#xA;&#xA;  $(&quot;#new_message&quot;).on('submit', function(e){ //フォームを送信した時に&#xA;    console.log(&quot;this&quot;)&#xA;    e.preventDefault();                       //アクションを止めてページの遷移を止める&#xA;    var formData = new FormData(this);        //フォームの情報獲得&#xA;    var url = $(this).attr(&quot;action&quot;);&#xA;    $.ajax({&#xA;      type: &quot;POST&quot;,&#xA;      url: url,&#xA;      data: formData,&#xA;      dataType: &quot;json&quot;,&#xA;      processData: false,&#xA;      contentType: false&#xA;    });&#xA;    .done(function(data) {&#xA;      var html = buildHTML(data);&#xA;      var url = $(this).attr(&quot;action&quot;);&#xA;      $('.message').append(html);&#xA;    })&#xA;    .fail(function(){&#xA;      alert('error');&#xA;    });&#xA;    return false;&#xA;  });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;[create.json.jbuilder]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;json.id         @message.id&#xA;json.text       @message.body&#xA;json.image      @message.image.url&#xA;json.data       @message.created_at.strftime('%Y/%m/%d %H:%M:%S')&#xA;json.name       @message.user.name&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;至らないところが多いですが、わかる方、よろしくお願いします。&lt;/p&gt;&#xA;"" OwnerUserId=""30071"" LastEditorUserId=""30071"" LastEditDate=""2018-09-12T06:11:08.353"" LastActivityDate=""2018-09-12T09:27:32.290"" Title=""ajaxの非同期通信時にUnable to autoload constant ControllerとUncaught SyntaxError: Unexpected token . , compile errorのエラーが発生する"" Tags=""&lt;javascript&gt;&lt;ruby-on-rails&gt;&lt;ruby&gt;&lt;ajax&gt;&lt;非同期&gt;"" AnswerCount=""2"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""51085"" PostTypeId=""1"" CreationDate=""2018-12-10T08:18:34.300"" Score=""0"" ViewCount=""2798"" Body=""&lt;p&gt;初めまして。私は現在Python及びTensorFlowを用いて、個人の趣味で画像認識のWebアプリを開発している者なのですが、実際に以下のWeb実行用ファイル(記述はPython)を実行するとJinja2のエラーが発生してどうすればよいのかわかりません。&lt;br&gt;&#xA;なお、使用しているソフトウェアはPycharm(Community Edition 2018.1.4)で、実行も同様のソフトウェアを使用しています。OSはWindows10です。また、Anaconda3も使用しています。&lt;br&gt;&#xA;以下は元のプログラム（Web用）のコードです。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;# -*- coding: utf-8 -*-&#xA;&#xA;import tensorflow as tf&#xA;import multiprocessing as mp&#xA;from flask import Flask, render_template, request, redirect, url_for&#xA;import numpy as np&#xA;from werkzeug import secure_filename&#xA;import os&#xA;import eval&#xA;&#xA;# 自身の名称を app という名前でインスタンス化する&#xA;app = Flask(__name__)&#xA;app.config['DEBUG'] = True&#xA;# 投稿画像の保存先&#xA;UPLOAD_FOLDER = './static/images/default'&#xA;&#xA;# ルーティング。/にアクセス時&#xA;@app.route('/')&#xA;def index():&#xA;  return render_template('index.html')&#xA;&#xA;# 画像投稿時のアクション&#xA;@app.route('/post', methods=['GET','POST'])&#xA;def post():&#xA;  if request.method == 'POST':&#xA;    if not request.files['file'].filename == u'':&#xA;      # アップロードされたファイルを保存&#xA;      f = request.files['file']&#xA;      img_path = os.path.join(UPLOAD_FOLDER, secure_filename(f.filename))&#xA;      f.save(img_path)&#xA;      # eval.pyへアップロードされた画像を渡す&#xA;      result = eval.evaluation(img_path, './model2.ckpt')&#xA;    else:&#xA;      result = []&#xA;    return render_template('index.html', result=result)&#xA;  else:&#xA;    # エラーなどでリダイレクトしたい場合&#xA;    return redirect(url_for('index'))&#xA;&#xA;if __name__ == '__main__':&#xA;  app.debug = True&#xA;  app.run(host='0.0.0.0')&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;エラー内容は以下の通りです。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)&#xA;127.0.0.1 - - [10/Dec/2018 16:50:19] &quot;GET / HTTP/1.1&quot; 500 -&#xA;Traceback (most recent call last):&#xA;  File &quot;D:\PycharmProjects\Tensorflow\SUPERGTgazouhanbetu\flask\app.py&quot;,     line 2309, in __call__&#xA;return self.wsgi_app(environ, start_response)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 2295, in wsgi_app&#xA;    response = self.handle_exception(e)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 1741, in handle_exception&#xA;    reraise(exc_type, exc_value, tb)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\_compat.py&quot;, line 35, in reraise&#xA;raise value&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 2292, in wsgi_app&#xA;response = self.full_dispatch_request()&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 1815, in full_dispatch_request&#xA;    rv = self.handle_user_exception(e)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 1718, in handle_user_exception&#xA;    reraise(exc_type, exc_value, tb)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\_compat.py&quot;, line 35, in reraise&#xA;    raise value&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 1813, in full_dispatch_request&#xA;    rv = self.dispatch_request()&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\app.py&quot;, line 1799, in dispatch_request&#xA;    return self.view_functions[rule.endpoint](**req.view_args)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\web.py&quot;, line 20, in index&#xA;return render_template('index.html')&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\flask\templating.py&quot;, line 134, in render_template&#xA;return _render(ctx.app.jinja_env.get_or_select_template(template_name_or_list),&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 869, in get_or_select_template&#xA;return self.get_template(template_name_or_list, parent, globals)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 830, in get_template&#xA;return self._load_template(name, self.make_globals(globals))&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 804, in _load_template&#xA;template = self.loader.load(self, name, globals)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\loaders.py&quot;, line 125, in load&#xA;code = environment.compile(source, name, filename)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 591, in compile&#xA;self.handle_exception(exc_info, source_hint=source_hint)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 780, in handle_exception&#xA;reraise(exc_type, exc_value, tb)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\_compat.py&quot;, line 37, in reraise&#xA;raise value.with_traceback(tb)&#xA;  File &quot;D:\PycharmProjects\Tensorflow\gazouhanbetu\templates\index.html&quot;, line 198, in template&#xA;{% if result[0][0]['label'] == 6 %&amp;gt;&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\environment.py&quot;, line 497, in _parse&#xA;return Parser(self, source, name, encode_filename(filename)).parse()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 901, in parse&#xA;result = nodes.Template(self.subparse(), lineno=1)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 268, in parse_block&#xA;node.body = self.parse_statements(('name:endblock',), drop_needle=True)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 165, in parse_statements&#xA;result = self.subparse(end_tokens)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 213, in parse_if&#xA;'name:endif'))&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 165, in parse_statements&#xA;result = self.subparse(end_tokens)&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 213, in parse_if&#xA;'name:endif'))&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 165, in parse_statements&#xA;result = self.subparse(end_tokens)&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 213, in parse_if&#xA;'name:endif'))&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 165, in parse_statements&#xA;result = self.subparse(end_tokens)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;      File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 213, in parse_if&#xA;'name:endif'))&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 165, in parse_statements&#xA;result = self.subparse(end_tokens)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 883, in subparse&#xA;rv = self.parse_statement()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 130, in parse_statement&#xA;return getattr(self, 'parse_' + self.stream.current.value)()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 211, in parse_if&#xA;node.test = self.parse_tuple(with_condexpr=False)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 620, in parse_tuple&#xA;args.append(parse())&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 612, in &amp;lt;lambda&amp;gt;&#xA;parse = lambda: self.parse_expression(with_condexpr=False)&#xA;  File &quot;C:\Users\student\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 433, in parse_expression&#xA;return self.parse_or()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 450, in parse_or&#xA;left = self.parse_and()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 459, in parse_and&#xA;left = self.parse_not()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 470, in parse_not&#xA;return self.parse_compare()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 480, in parse_compare&#xA;ops.append(nodes.Operand(token_type, self.parse_math1()))&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 496, in parse_math1&#xA;left = self.parse_concat()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 507, in parse_concat&#xA;args = [self.parse_math2()]&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 521, in parse_math2&#xA;right = self.parse_pow()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 528, in parse_pow&#xA;left = self.parse_unary()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 546, in parse_unary&#xA;node = self.parse_primary()&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 583, in parse_primary&#xA;self.fail(&quot;unexpected '%s'&quot; % describe_token(token), token.lineno)&#xA;  File &quot;C:\Users\me\Anaconda3\envs\tensorflow\lib\site-packages\jinja2\parser.py&quot;, line 59, in fail&#xA;    raise exc(msg, lineno, self.name, self.filename)&#xA;&#xA;jinja2.exceptions.TemplateSyntaxError: unexpected '&amp;gt;'&#xA;127.0.0.1 - - [10/Dec/2018 16:50:19] &quot;GET /?__debugger__=yes&amp;amp;cmd=resource&amp;amp;f=debugger.js HTTP/1.1&quot; 200 -&#xA;127.0.0.1 - - [10/Dec/2018 16:50:19] &quot;GET /?__debugger__=yes&amp;amp;cmd=resource&amp;amp;f=style.css HTTP/1.1&quot; 200 -&#xA;127.0.0.1 - - [10/Dec/2018 16:50:19] &quot;GET /?__debugger__=yes&amp;amp;cmd=resource&amp;amp;f=jquery.js HTTP/1.1&quot; 200 -&#xA;127.0.0.1 - - [10/Dec/2018 16:50:19] &quot;GET /?__debugger__=yes&amp;amp;cmd=resource&amp;amp;f=ubuntu.ttf HTTP/1.1&quot; 200 -&#xA;127.0.0.1 - - [10/Dec/2018 16:50:20] &quot;GET /?__debugger__=yes&amp;amp;cmd=resource&amp;amp;f=console.png HTTP/1.1&quot; 200 -&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;基本的に&lt;a href=&quot;https://qiita.com/AkiyoshiOkano/items/dc19bffc88c549393699&quot; rel=&quot;nofollow noreferrer&quot;&gt;こちらのサイト&lt;/a&gt;(顔認識のWebアプリを開発している方)を参考(というかコードをほとんど引用)にしているので、Jinja2のことについてはよくわかりません。&lt;br&gt;&#xA;上記のエラーに対してどう対処すればいいのか教えていただければ幸いです。&lt;/p&gt;&#xA;"" OwnerUserId=""31385"" LastEditorUserId=""3060"" LastEditDate=""2018-12-12T03:08:47.267"" LastActivityDate=""2020-05-31T04:04:30.507"" Title=""Pythonファイルを実行した際の「jinja2.exceptions.TemplateSyntaxError: unexpected '&gt;'」というエラー"" Tags=""&lt;python&gt;&lt;tensorflow&gt;&lt;windows-10&gt;&lt;flask&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""53497"" PostTypeId=""1"" AcceptedAnswerId=""53507"" CreationDate=""2019-03-17T09:14:43.970"" Score=""0"" ViewCount=""380"" Body=""&lt;p&gt;こんにちは。Cakephpを最近勉強し始めたものなのですが、&lt;br&gt;&#xA;今回はajaxとcakephpとの連携で引っかかってしまったので&lt;br&gt;&#xA;質問させていただきます。&lt;br&gt;&#xA;今回実現させたいことは、Datasというデータベースからのデータをajaxをつかってリアルタイムで更新しながらChart.jsを使ったグラフで表示させるというものです。&lt;br&gt;&#xA;データベースはresult（値は１つ）,created(投票された時間)の二つです。&lt;br&gt;&#xA;このresultはAとBがあり、これをパーセンテージ化して表示したいと思っています。&lt;br&gt;&#xA;また、リアルタイムというのは毎秒1秒で更新したいと思っています。&lt;br&gt;&#xA;一応書いたコードがこちらになります。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/js/ajax.js&#xA;$(function() {&#xA;    $.ajax({&#xA;        url: &quot;result&quot;,&#xA;        type: &quot;get&quot;,&#xA;        dataType: &quot;html&quot;&#xA;    }).done(function (response) {&#xA;        //dataからAとBのパーセントを割り出してa_lastに代入するコードが入ります&#xA;        var chartColors = {&#xA;          red: 'rgb(255, 99, 132)',&#xA;        };&#xA;&#xA;&#xA;        function onRefresh(chart) {&#xA;          chart.config.data.datasets.forEach(function(dataset) {&#xA;            dataset.data.push({&#xA;              x: a_last,&#xA;              y: Date.now()&#xA;            });&#xA;          });&#xA;        }&#xA;&#xA;        var color = Chart.helpers.color;&#xA;        var config = {&#xA;          type: 'line',&#xA;          data: {&#xA;            datasets: [{&#xA;              label: '結果',&#xA;              backgroundColor: color(chartColors.red).alpha(0.5).rgbString(),&#xA;              borderColor: chartColors.red,&#xA;              fill:false&#xA;            }]&#xA;          },&#xA;          options: {&#xA;            title: {&#xA;              display: true,&#xA;              text: '結果'&#xA;            },&#xA;            scales: {&#xA;              xAxes: [{&#xA;                type: 'linear',&#xA;                display: true,&#xA;                scaleLabel: {&#xA;                  display: true,&#xA;                  labelString: '%'&#xA;                }&#xA;              }],&#xA;              yAxes: [{&#xA;                type: 'realtime',&#xA;                realtime: {&#xA;                  duration: 10000,&#xA;                  refresh: 1000,&#xA;                  delay: 2000,&#xA;                  onRefresh: onRefresh&#xA;                },&#xA;              }]&#xA;            },&#xA;            tooltips: {&#xA;              mode: 'nearest',&#xA;              intersect: false,&#xA;              callbacks: {&#xA;                title: function(tooltipItems) {&#xA;                  return tooltipItems[0].yLabel;&#xA;                },&#xA;                label: function(tooltipItem, data) {&#xA;                  var label = data.datasets[tooltipItem.datasetIndex].label;&#xA;                  if (label) {&#xA;                    label += ': ';&#xA;                  }&#xA;                  label += tooltipItem.xLabel;&#xA;                  return label;&#xA;                }&#xA;              }&#xA;            },&#xA;            hover: {&#xA;              mode: 'nearest',&#xA;              intersect: false&#xA;            }&#xA;          }&#xA;        };&#xA;&#xA;        window.onload = function() {&#xA;          var ctx = document.getElementById('myChart').getContext('2d');&#xA;          window.myChart = new Chart(ctx, config);&#xA;        };&#xA;    }).fail(function () {&#xA;        alert(&quot;failed&quot;);&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;こちらはctpファイルです。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;var data = [];&#xA;var updata = function(){&#xA;&amp;lt;?php foreach ($datas as $data): ?&amp;gt;&#xA;    var A = &quot;A&quot;&#xA;    var B = &quot;B&quot;&#xA;    var result = &amp;lt;?= h($data-&amp;gt;result) ?&amp;gt;;&#xA;    if (result!=0){&#xA;       data.push(result);&#xA;    }&#xA;&amp;lt;?php endforeach; ?&amp;gt;&#xA;setTimeout(updata, 10000);&#xA;} &#xA;updata();&#xA;&amp;lt;/script&amp;gt;&#xA;&amp;lt;?php echo $this-&amp;gt;Html-&amp;gt;script('ajax.js');?&amp;gt;&#xA;&amp;lt;canvas id=&quot;myChart&quot;&amp;gt;&amp;lt;/canvas&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;こちらがcontrollerです。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function result()&#xA;{&#xA;    $datas = $this-&amp;gt;paginate($this-&amp;gt;Datas);&#xA;    $this-&amp;gt;set(compact('datas'));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;こんな感じにしたいです。&lt;br&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/vX55P.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/vX55P.png&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;br&gt;&#xA;今の段階としては、グラフは動きますが、50パーセントであったらずっと５０パーセントのままという感じです。&lt;/p&gt;&#xA;"" OwnerUserId=""32103"" LastEditorUserId=""32103"" LastEditDate=""2019-03-17T10:10:18.350"" LastActivityDate=""2019-03-18T05:38:30.397"" Title=""cakephp３系でajaxを使い、リアルタイムでデータを取得し、グラフで表示したい"" Tags=""&lt;cakephp&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""56447"" PostTypeId=""1"" CreationDate=""2019-07-06T07:49:02.117"" Score=""0"" ViewCount=""261"" Body=""&lt;p&gt;普段ajaxするときはlocalhost/hoge/index.pyなどのURLでアクセスして、ajax(jquery)のURL指定は、&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;  url : 'index.py' &#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;のように、サーバのルート以下にあるhtml起点でやりますが、&lt;br&gt;&#xA;chrome拡張のpopupからajaxリクエストを投げる場合、popup.js内では以下でいいんでしょうか？&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;  url : 'http://localhost/hoge/index.py'&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;200が返ってるので成功はしていますが、これだとサーバ側のコードがそのまま返ってきてしまいます。サーバ側のContent-typeをtext/htmlやapplication/jsonにしてみましたが、変わらず見当がつきません。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;また、サーバーは&lt;code&gt;python -m http.server --cgi&lt;/code&gt;で起動したPythonの開発サーバーを使っています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;初歩的で恐縮ですがよろしくお願いします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;追記：popup側コード&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$('#button').click(function(){&#xA;    chrome.windows.create({url : chrome.runtime.getURL(&quot;select_list/index.html&quot;)}, function(wins){&#xA;        $.ajax({&#xA;            url : 'http://localhost:8000/chrome-ex-template-master/src/cgi-bin/index.py',&#xA;            cache : false&#xA;        }).done(function(data){&#xA;            console.log(data)&#xA;            chrome.tabs.query({active : true, currentWindow : true}, function(tabs){&#xA;                chrome.tabs.sendMessage(wins.tabs[0].id, {&quot;rows&quot; : data})&#xA;            })&#xA;        }).fail(function(jqXHR, textStatus, errorThrown){&#xA;            console.log(jqXHR, textStatus, errorThrown)&#xA;        })&#xA;    })&#xA;&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;python側のコードは以下です。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#!C:\Users\bafcom\venv\Scripts\python&#xA;from __future__ import print_function&#xA;import pickle&#xA;import os.path&#xA;from googleapiclient.discovery import build&#xA;from google_auth_oauthlib.flow import InstalledAppFlow&#xA;from google.auth.transport.requests import Request&#xA;import json&#xA;&#xA;&#xA;print('Content-type: application/json')&#xA;print('Access-Control-Allow-Origin : &quot;*&quot;\n\n')&#xA;cgitb.enable()&#xA;# If modifying these scopes, delete the file token.pickle.&#xA;SCOPES = ['https://www.googleapis.com/auth/spreadsheets.readonly']&#xA;&#xA;# The ID and range of a sample spreadsheet.&#xA;SAMPLE_SPREADSHEET_ID = 'id...'&#xA;SAMPLE_RANGE_NAME = 'リスト!A1500:M'&#xA;&#xA;def main():&#xA;    &quot;&quot;&quot;Shows basic usage of the Sheets API.&#xA;    Prints values from a sample spreadsheet.&#xA;    &quot;&quot;&quot;&#xA;    creds = None&#xA;    # The file token.pickle stores the user's access and refresh tokens, and is&#xA;    # created automatically when the authorization flow completes for the first&#xA;    # time.&#xA;    if os.path.exists('token.pickle'):&#xA;        with open('token.pickle', 'rb') as token:&#xA;            creds = pickle.load(token)&#xA;    # If there are no (valid) credentials available, let the user log in.&#xA;    if not creds or not creds.valid:&#xA;        if creds and creds.expired and creds.refresh_token:&#xA;            creds.refresh(Request())&#xA;        else:&#xA;            flow = InstalledAppFlow.from_client_secrets_file(&#xA;                'credentials.json', SCOPES)&#xA;            creds = flow.run_local_server()&#xA;        # Save the credentials for the next run&#xA;        with open('token.pickle', 'wb') as token:&#xA;            pickle.dump(creds, token)&#xA;&#xA;    service = build('sheets', 'v4', credentials=creds)&#xA;&#xA;    # Call the Sheets API&#xA;    sheet = service.spreadsheets()&#xA;    result = sheet.values().get(spreadsheetId=SAMPLE_SPREADSHEET_ID,&#xA;                                range=SAMPLE_RANGE_NAME).execute()&#xA;    values = result.get('values', [])&#xA;&#xA;    if not values:&#xA;        print('No data found.')&#xA;    else:&#xA;        arr = []&#xA;        for row in values:&#xA;          try:&#xA;            if row[11] and row[12]:&#xA;              pass&#xA;          except:&#xA;            arr.append(row)&#xA;    print(json.dumps(arr))&#xA;if __name__ == '__main__':&#xA;    main()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""32180"" LastEditorUserId=""32180"" LastEditDate=""2019-07-06T09:55:16.160"" LastActivityDate=""2019-07-06T09:55:16.160"" Title=""chrome拡張内からlocalhostへのアクセス　そのままコードが返ってくる"" Tags=""&lt;ajax&gt;&lt;google-chrome&gt;"" AnswerCount=""0"" CommentCount=""12"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""57429"" PostTypeId=""1"" CreationDate=""2019-08-18T08:42:03.873"" Score=""0"" ViewCount=""431"" Body=""&lt;p&gt;textareaに書いた内容ではなく、１がinsertされます。&lt;br&gt;&#xA;原因がわからないので、教えていただければ幸いです。&lt;br&gt;&#xA;よろしくお願いします。&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;index.php&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;div id=&quot;content&quot;&amp;gt;&#xA;    &amp;lt;div style=&quot;text-align: right&quot;&amp;gt;&amp;lt;a href=&quot;logout.php&quot;&amp;gt;ログアウト&amp;lt;/a&amp;gt;&amp;lt;/div&amp;gt;&#xA;    &amp;lt;form action=&quot;javascript:void(0)&quot; method=&quot;post&quot; id=&quot;form&quot;&amp;gt;&#xA;        &amp;lt;textarea name=&quot;message&quot; id=&quot;message&quot; cols=&quot;70&quot; rows=&quot;15&quot; placeholder=&quot;メモを残してください&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;br&amp;gt;&#xA;        &amp;lt;input type=&quot;submit&quot; value=&quot;書き込む&quot; id=&quot;write&quot;&amp;gt;&#xA;    &amp;lt;/form&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&#xA;&amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;  &amp;lt;!-- jQueryライブラリの読み込み--&amp;gt;&#xA;  &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;//メッセージ用&#xA;    $(function(){&#xA;            //button click&#xA;            $('#write').on('click',function(){&#xA;                $.ajax({&#xA;                    url:'index_do.php',&#xA;                    type:'POST',&#xA;                    data:{&#xA;                        'message':$('#message').val()&#xA;                    }&#xA;                })&#xA;                // Ajaxリクエストが成功した時発動&#xA;                .done( (data) =&amp;gt; {&#xA;                    $('.result').html(data);&#xA;                    console.log(data);&#xA;                })&#xA;                // Ajaxリクエストが失敗した時発動&#xA;                .fail( (data) =&amp;gt; {&#xA;                    $('.result').html(data);&#xA;                    console.log(data);&#xA;                })&#xA;                // Ajaxリクエストが成功・失敗どちらでも発動&#xA;                .always( (data) =&amp;gt; {&#xA;&#xA;                });&#xA;            });&#xA;        });&#xA;  &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;index_do.php&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;?php&#xA;    header('Content-type: text/plain; charset= UTF-8');&#xA;    $message = h(isset($_POST[&quot;message&quot;]));&#xA;    echo $message;//for confirm&#xA;    $db-&amp;gt;query(&quot;INSERT INTO tb(mes) VALUES('$message')&quot;);&#xA;    $db-&amp;gt;query(&quot;UPDATE `tb`&quot;);&#xA;    echo $message;&#xA;?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""35497"" LastEditorUserId=""3060"" LastEditDate=""2019-08-19T00:07:11.513"" LastActivityDate=""2019-08-19T11:55:01.870"" Title=""ajaxを使った簡易掲示板、insertがうまくいかない"" Tags=""&lt;php&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""59349"" PostTypeId=""1"" CreationDate=""2019-09-30T03:58:10.487"" Score=""0"" ViewCount=""2380"" Body=""&lt;p&gt;Ajaxで検査した結果を表示したいのですが、サーバーからの結果からさらにJavaScriptの&lt;code&gt;switch&lt;/code&gt;文の条件を当てはめたいのですが、その&lt;code&gt;switch&lt;/code&gt;文は&lt;code&gt;done&lt;/code&gt;の中に書くのでしょうか？&lt;br /&gt;&#xA;どのようにしてサーバからの結果と&lt;code&gt;switch&lt;/code&gt;文をつなげるのか分からないです。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;ソースコード&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$(function(){&#xA;    // ajax button click&#xA;    $('#ajax').on('click',function(){&#xA;        $.ajax({&#xA;            url:'/home',&#xA;            type:'GET',&#xA;            data:{ &#xA;            }&#xA;        })&#xA;     // ajaxリクエストが成功した時発動&#xA;        .done( (data) =&amp;gt; {&#xA;            console.log(&amp;quot;成功&amp;quot;);&#xA;            console.log(&amp;quot;formList:&amp;quot; + data);&#xA;            $('result').html(data);&#xA;            console.log(data);&#xA;        })&#xA;        .fail( (data) =&amp;gt; {&#xA;      });&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""35696"" LastEditorUserId=""32986"" LastEditDate=""2020-09-10T07:23:39.240"" LastActivityDate=""2020-09-10T07:23:39.240"" Title=""Ajax の結果を用いた条件分岐は done の中に書けば良い？"" Tags=""&lt;javascript&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""59904"" PostTypeId=""1"" CreationDate=""2019-10-23T04:52:51.287"" Score=""0"" ViewCount=""1528"" Body=""&lt;p&gt;自動化のスクリプトを作っています。&lt;br&gt;&#xA;目的のサイトでバイナリファイルを手作業でアップロードすると、Chromeのコンソールのnetworkから送られたFormDataを見るとfile: (binary)となっています。FormDataでbinaryと認識されるにはどうしたら良いでしょうか？&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Blobでは中身は取り出せないのでFaileReaderで中身を読んで、特定の型付き配列で送信する？と思い以下を試しましたがだめでした。file: [Object object]になってしまいます。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;xhr.responseType = 'blob'&#xA;xhr.onload = () =&amp;gt; {&#xA;  let fr = new FileReader()&#xA;  fr.onload = e=&amp;gt; {&#xA;    let ab = new ArrayBuffer(fr.response)&#xA;    new Uint8Array(ab)//post&#xA;  }&#xA;  fr.readAsArrayBuffer(xhr.response)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/XMLHttpRequest/Sending_and_Receiving_Binary_Data&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://developer.mozilla.org/ja/docs/XMLHttpRequest/Sending_and_Receiving_Binary_Data&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;上記には&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Blob オブジェクトはファイルに似たオブジェクトで、immutable な&lt;strong&gt;生データ&lt;/strong&gt;です。データを表す blob は必ずしも&lt;br&gt;&#xA;  JavaScript ネイティブなフォーマットではありません。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;とあったのでblobオブジェクトのまま送ってみたりもしましたが、file: [Object object]になってしまい、バイナリの生データとして送信できません。ご存知でしたらご教示いただければ幸いです。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;質問追記&lt;/p&gt;&#xA;&#xA;&lt;p&gt;送信時にnew Blob([data], {type: image/png})とすることで、開発ツール&gt;Network&gt;Headers&gt;FormDataのView parsedの値はfile: [object Object]からfile: (binary)にすることができました。が、View sourceを見ると&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;------WebKitFormBoundaryuGkybuBnzAfvgUoP&lt;br&gt;&#xA;  Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;blob&quot;&lt;br&gt;&#xA;  Content-Type: image/png&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;[object Object]&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;となっており、手作業でやった場合[object Object]がないという違いがあります。これはどういうことでしょうか？返ってきたエラーもjpg,pngのみとありるので、これが原因だと思います。ご教示いただければ幸いです。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;上記の結果が得られたコードは以下です。&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;let xhr = new XMLHttpRequest()&#xA;xhr.responseType = 'blob'&#xA;xhr.onload = () =&amp;gt; {&#xA;    let fd = new FormData()&#xA;    fd.append('file', new Blob([xhr.response], {type : 'image/png'}))&#xA;    $.ajax({&#xA;        type : 'POST',&#xA;        url : url&#xA;        data : fd,&#xA;        processData : false,&#xA;        contentType : false&#xA;    })&#xA;    .done(data =&amp;gt; {&#xA;        console.log(data)&#xA;    })&#xA;    .fail((a,b,c) =&amp;gt; {&#xA;        console.log(a,b,c)&#xA;    })&#xA;                }&#xA;xhr.open('GET', imgs[i], true)&#xA;xhr.send()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""32180"" LastEditorUserId=""32180"" LastEditDate=""2019-10-24T09:13:31.457"" LastActivityDate=""2019-10-24T09:13:31.457"" Title=""FormDataでバイナリをpostしたい"" Tags=""&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""13"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""62172"" PostTypeId=""1"" CreationDate=""2020-01-11T16:11:34.957"" Score=""0"" ViewCount=""2940"" Body=""&lt;p&gt;&lt;strong&gt;実行環境&lt;/strong&gt;&lt;br&gt;&#xA;OS:windows10&lt;br&gt;&#xA;python:3.7.4&lt;br&gt;&#xA;numpy:1.16.5&lt;br&gt;&#xA;pytorch:1.3.1&lt;/p&gt;&#xA;&#xA;&lt;p&gt;gpu:GeForce GTX 1060&lt;br&gt;&#xA;Nvidia driver:441.87&lt;br&gt;&#xA;Cuda:10.1&lt;br&gt;&#xA;Cudnn:7.6.5&lt;/p&gt;&#xA;&#xA;&lt;p&gt;実行コードに関しましては頂いたものなので詳しくは省かせて頂きますが、Bidirectional LSTMを実装しています。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;エラーメッセージ&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;File &quot;C:\Users\ユーザー\AppData\Local\Continuum\anaconda3\lib\site-packages\torch\nn\modules\module.py&quot;, line 541, in __call__&#xA;result = self.forward(*input, **kwargs)&#xA;File &quot;D:\new\mcep_generator\no_adversarial_module\train_sample_BLSTM.py&quot;, line 65, in forward&#xA;out, hidden = self.l1(input)&#xA;File &quot;C:\Users\ユーザー\AppData\Local\Continuum\anaconda3\lib\site-packages\torch\nn\modules\module.py&quot;, line 541, in __call__&#xA;result = self.forward(*input, **kwargs)&#xA;File &quot;C:\Users\ユーザー\AppData\Local\Continuum\anaconda3\lib\site-packages\torch\nn\modules\rnn.py&quot;, line 543, in forward_tensor&#xA;return self.forward_tensor(input, hx)&#xA; File &quot;C:\Users\ユーザー\AppData\Local\Continuum\anaconda3\lib\site-packages\torch\nn\modules\rnn.py&quot;, line 543, in forward_tensor&#xA;output, hidden = self.forward_impl(input, hx, batch_sizes, max_batch_size, sorted_indices)&#xA;File &quot;C:\Users\ユーザー\AppData\Local\Continuum\anaconda3\lib\site-packages\torch\nn\modules\rnn.py&quot;, line 526, in forward_impl&#xA;self.dropout, self.training, self.bidirectional, self.batch_first)&#xA;RuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILED&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Cudaのバージョンを落としたり(それに合わせてpytorchやcudnnのバージョンも落としています)して試しているのですが、数回トレーニングが終わるか否かのタイミングでこのエラーを発生している状況です。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;torch.backends.cudnn.enabled = False をプログラム内に導入するとトレーニングが開始されてもエラーを吐く事はなくなるのですが、非常にスピードが遅くなるので何とかこの原因を探りたいです。&lt;/p&gt;&#xA;"" OwnerUserId=""37372"" LastActivityDate=""2022-04-02T16:04:55.497"" Title=""PyTorchのBidirectional LSTMにcudnnを導入するとRuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILEDを出す"" Tags=""&lt;python&gt;&lt;cuda&gt;&lt;pytorch&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""67563"" PostTypeId=""1"" AcceptedAnswerId=""67566"" CreationDate=""2020-06-12T02:55:32.030"" Score=""0"" ViewCount=""127"" Body=""&lt;p&gt;Ruby on Railsで初めてアプリを作っている初学者です。ajax通信ができず困っています。&lt;br&gt;&#xA;jQueryを使って下記の通り作成しました。発火は起きていますが、controllerへ送られていないような感じです。&lt;br&gt;&#xA;解決策見つからず、ご教示のほど、お願いいたします。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;search.js&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(function() {&#xA;  var search_list = $(&quot;contents.row&quot;);&#xA;  function appendCompany(company) {&#xA;  $(&quot;.search-form&quot;).on(&quot;submit&quot;, function() {&#xA;    var input = $(&quot;.search-input&quot;).val();&#xA;    console.log(input);&#xA;    $.ajax( {&#xA;      type: 'get',&#xA;      url: '/searches',&#xA;      data: { keyword: input },&#xA;      dataType: 'json'&#xA;    })&#xA;    .done(function(companies) {&#xA;     })&#xA;    .fail(function() {&#xA;      console.log(&quot;失敗です&quot;);&#xA;    });&#xA;  });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;searches_controller.rb&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  def search&#xA;    @companies = Company.where(&quot;name LIKE ?&quot;, &quot;%#{params[:keyword]}%&quot;)&#xA;    respond_to do |format|&#xA;      format.html&#xA;      format.json&#xA;    end&#xA;  end&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;index.html.erb&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    &amp;lt;div class=&quot;search-form&quot;&amp;gt;&#xA;      &amp;lt;%= form_tag search_user_searches_path(current_user), :method =&amp;gt; 'get' do %&amp;gt;&#xA;        &amp;lt;%= text_field_tag :keyword, &quot;&quot;, placeholder: &quot;投稿を検索する&quot;, class: &quot;search-input&quot; %&amp;gt;&#xA;        &amp;lt;%= submit_tag 'Search', class: 'search_btn' %&amp;gt;&#xA;      &amp;lt;% end %&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;rails routes&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;                  Prefix Verb   URI Pattern                               Controller#Action&#xA;        new_user_session GET    /users/sign_in(.:format)                  devise/sessions#new&#xA;            user_session POST   /users/sign_in(.:format)                  devise/sessions#create&#xA;    destroy_user_session DELETE /users/sign_out(.:format)                 devise/sessions#destroy&#xA;       new_user_password GET    /users/password/new(.:format)             devise/passwords#new&#xA;      edit_user_password GET    /users/password/edit(.:format)            devise/passwords#edit&#xA;           user_password PATCH  /users/password(.:format)                 devise/passwords#update&#xA;                         PUT    /users/password(.:format)                 devise/passwords#update&#xA;                         POST   /users/password(.:format)                 devise/passwords#create&#xA;cancel_user_registration GET    /users/cancel(.:format)                   devise/registrations#cancel&#xA;   new_user_registration GET    /users/sign_up(.:format)                  devise/registrations#new&#xA;  edit_user_registration GET    /users/edit(.:format)                     devise/registrations#edit&#xA;       user_registration PATCH  /users(.:format)                          devise/registrations#update&#xA;                         PUT    /users(.:format)                          devise/registrations#update&#xA;                         DELETE /users(.:format)                          devise/registrations#destroy&#xA;                         POST   /users(.:format)                          devise/registrations#create&#xA;                    root GET    /                                         searches#index&#xA;          user_companies GET    /users/:user_id/companies(.:format)       companies#index&#xA;     edit_user_companies GET    /users/:user_id/companies/edit(.:format)  companies#edit&#xA;                         PATCH  /users/:user_id/companies(.:format)       companies#update&#xA;                         PUT    /users/:user_id/companies(.:format)       companies#update&#xA;              user_items GET    /users/:user_id/items(.:format)           items#index&#xA;    search_user_searches GET    /users/:user_id/searches/search(.:format) searches#search&#xA;           user_searches GET    /users/:user_id/searches(.:format)        searches#index&#xA;                         POST   /users/:user_id/searches(.:format)        searches#create&#xA;         new_user_search GET    /users/:user_id/searches/new(.:format)    searches#new&#xA;               edit_user GET    /users/:id/edit(.:format)                 users#edit&#xA;                    user PATCH  /users/:id(.:format)                      users#update&#xA;                         PUT    /users/:id(.:format)                      users#update&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""40583"" LastActivityDate=""2020-06-12T03:28:46.603"" Title=""ajax通信がうまくいきません。"" Tags=""&lt;ruby-on-rails&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""69375"" PostTypeId=""1"" AcceptedAnswerId=""69377"" CreationDate=""2020-08-08T21:38:15.220"" Score=""0"" ViewCount=""189"" Body=""&lt;p&gt;[実現したいこと]&lt;br /&gt;&#xA;住所を元に作成したgooglemapを無料で埋め込みたい。&lt;/p&gt;&#xA;&lt;p&gt;[経緯/考察]&lt;br /&gt;&#xA;Google ApiのGeocodingは有料とのことでしたので、色々と探していたところ&lt;br /&gt;&#xA;無料で緯度経度を検索できる「&lt;a href=&quot;https://blog.geolonia.com/2020/06/01/community-geocoder.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Community Geocoder&lt;/a&gt;」なるものを見つけたので&lt;br /&gt;&#xA;こちらを利用してjavascriptで緯度経度を求めました。&lt;br /&gt;&#xA;しかしjavascriptの変数をRubyへ送ることが容易にはできないことを知り&lt;br /&gt;&#xA;Ajaxを使用してできないものか探っていました。&lt;br /&gt;&#xA;（Ajaxについては超初心者ですので・・理解しきれていないのですが・・）&lt;/p&gt;&#xA;&lt;p&gt;[困っていること・・]&lt;br /&gt;&#xA;Ajax通信成功時に、dataの受け渡しパラメータをコントローラーに送信できることを知ったので&lt;br /&gt;&#xA;この挙動を利用して、緯度経度の取得後にAjax通信実行で送信できないかどうか&lt;br /&gt;&#xA;テストしてみたものの、送信できなくて困っています。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;グローバル変数に緯度経度を付加したgooglemap用のurlを格納したので&lt;br /&gt;&#xA;これをパラメータとして送信できないか試しているのですが、どうもダメな状況です・・&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;やり方が良くないかもしれませんが・・&lt;br /&gt;&#xA;他に良い方法が今のところ難しくてわからない状況です・・&lt;br /&gt;&#xA;良い方法や、修正/改善方法などご教授いただければ幸いです。&lt;br /&gt;&#xA;よろしくお願いいたします。&lt;/p&gt;&#xA;&lt;p&gt;※userデータ取得用に、gemのgonも使用しております。&lt;br /&gt;&#xA;※現状はAjaxの為のroutes設定やjs.erbの作成は省いております。&lt;/p&gt;&#xA;&lt;p&gt;▼users_controller.rb&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;def show&#xA;  gon.address = @user.address&#xA;  gon.userid = @user.id&#xA;&#xA;  # 戻り先パラメータ（これを利用してhtml.erbでMapを表示したい）&#xA;  @gmap = params[:gmap]&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;▼application.js&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;var googlemap;　// googlemap用のurl格納先&#xA;&#xA;/* 緯度経度の検索 */&#xA;$(function () {&#xA;  function Callback(latlng) {&#xA;    console.log(latlng.addr);&#xA;    console.log(latlng.lat);&#xA;    console.log(latlng.lng);&#xA;    console.log();&#xA;    &#xA;    googlemap = &amp;quot;https://maps.google.co.jp/maps?output=embed&amp;amp;q=&amp;quot; + latlng.lat + &amp;quot;,&amp;quot; + latlng.lng;&#xA;    console.log(googlemap);&#xA;  }&#xA;  &#xA;  function errorCallback(error) {&#xA;    console.log(error);&#xA;  }&#xA;  &#xA;  // 第一引数：住所、　第二引数：コールバックされる緯度と経度、　第三引数：エラー内容&#xA;  getLatLng(gon.address, Callback, errorCallback );&#xA;  &#xA;  document.getElementById('exec').addEventListener('click', () =&amp;gt; {&#xA;    if (document.getElementById('address').value) {&#xA;      getLatLng(document.getElementById('address').value, (latlng) =&amp;gt; {&#xA;        map.setCenter(latlng)&#xA;      })&#xA;    }&#xA;  })&#xA;});&#xA;&#xA;&#xA;/* Ajax通信 */&#xA;$(function () {&#xA;  $.ajax({&#xA;    url: &amp;quot;http://localhost:3000/users/&amp;quot; + gon.userid,&#xA;    type: &amp;quot;GET&amp;quot;,&#xA;    data: { gmap: googlemap } 　// 問題の箇所・・取得できていないのか値が渡されない・・&#xA;  })&#xA;    .done(function (data, textStatus, jqXHR) {&#xA;      console.log(&amp;quot;接続が成功&amp;quot;);&#xA;      console.log(googlemap);　　// ここではconsoleに表示され取得できている・・&#xA;    })&#xA;    .fail(function() {&#xA;      console.log(&amp;quot;接続失敗&amp;quot;);&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;▼application.html.erb&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;head&amp;gt;&#xA;  ・・・&#xA;  &amp;lt;!-- Community GeocoderのAPI読み込み --&amp;gt;&#xA;  &amp;lt;script src=&amp;quot;https://cdn.geolonia.com/community-geocoder.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;▼コンソール出力結果&lt;br /&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/jOUYI.jpg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/jOUYI.jpg&quot; alt=&quot;実行結果&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""40948"" LastEditorUserId=""40948"" LastEditDate=""2020-08-08T22:19:07.500"" LastActivityDate=""2020-08-08T23:28:11.470"" Title=""railsにて地図の緯度経度を使用したい為にAjax通信を用いたがコントローラーへ値が送信できない"" Tags=""&lt;javascript&gt;&lt;ruby-on-rails&gt;&lt;ruby&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""88171"" PostTypeId=""1"" CreationDate=""2022-04-05T00:29:11.770"" Score=""0"" ViewCount=""191"" Body=""&lt;h1&gt;やっていること&lt;/h1&gt;&#xA;&lt;p&gt;PHPでCometによるチャットシステムを作成しています。&lt;br /&gt;&#xA;// このご時世になんでWebSocketを使わないんだ？ という話はなしでお願いします。&lt;br /&gt;&#xA;概ねはうまく動くのですが、時々PHPが情報を吐き出してくれないことがあり、どうにかならないかお尋ねしたいです。&lt;/p&gt;&#xA;&lt;h1&gt;構造&lt;/h1&gt;&#xA;&lt;p&gt;ページは&lt;strong&gt;input.html&lt;/strong&gt;, &lt;strong&gt;output.html&lt;/strong&gt;, &lt;strong&gt;comet.php&lt;/strong&gt;, &lt;strong&gt;chat.txt&lt;/strong&gt;, &lt;strong&gt;filesize.txt&lt;/strong&gt;の5枚構成です。&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;output.html&lt;/strong&gt;が&lt;strong&gt;comet.php&lt;/strong&gt;をajax通信で呼び出しロングポーリング&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;input.html&lt;/strong&gt;でチャット文章を入力し&lt;strong&gt;chat.txt&lt;/strong&gt;に保存&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;comet.php&lt;/strong&gt;内で&lt;strong&gt;chat.txt&lt;/strong&gt;のファイルサイズを監視し、ファイルサイズが大きくなったらチャットに新しい文が入力されたと判断&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;comet.php&lt;/strong&gt;で新しく入力された&lt;strong&gt;chat.txt&lt;/strong&gt;の内容を取得し、&lt;strong&gt;output.html&lt;/strong&gt;に渡す&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;output.html&lt;/strong&gt;がチャットの内容を受け取り、画面に出力する&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;という動きを取ります。&lt;/p&gt;&#xA;&lt;p&gt;基本的に&lt;strong&gt;input.html&lt;/strong&gt;に多人数がアクセスし、&lt;strong&gt;output.html&lt;/strong&gt;には1人がアクセスする、という想定です。&lt;br /&gt;&#xA;// 今回、input.htmlは関係しないものと思うのでこれ以降出てきませんが、もし解決の可能性がinput.htmlにあるようでしたらまた追記します。&lt;/p&gt;&#xA;&lt;h1&gt;コード&lt;/h1&gt;&#xA;&lt;p&gt;&lt;strong&gt;output.html&lt;/strong&gt;内の&lt;code&gt;func()&lt;/code&gt;関数内でJavaScript（jQuery）によるajax通信を実行し、&lt;strong&gt;comet.php&lt;/strong&gt;でロングポーリングしながら（という言い方が正しいかわかりませんが）、チャットの更新があった場合に表示します。&lt;/p&gt;&#xA;&lt;p&gt;&amp;lt;output.html&amp;gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-html prettyprint-override&quot;&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    function func() {&#xA;        $.ajax({&#xA;            type: &amp;quot;POST&amp;quot;,&#xA;            url: &amp;quot;comet.php&amp;quot;,&#xA;            chche: false,&#xA;            data: { 'hoge': fuga },&#xA;            dataType: &amp;quot;json&amp;quot;&#xA;        }).done(function (d) {&#xA;           console.log('received');  // (★)&#xA;           // 表示処理&#xA;           func();  // 再帰呼び出しで実質無限ループ&#xA;        }&#xA;        ).fail(function (XMLHttpRequest, status, e) {&#xA;            // エラー処理&#xA;        });&#xA;    }&#xA;    &#xA;    $(function () {&#xA;       func();&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&amp;lt;comet.php&amp;gt;&lt;/p&gt;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;$time = 0;&#xA;$oldfs = 0;&#xA;$newfs = 0;&#xA;$result = &amp;quot;{}&amp;quot;;  // 最終的にこの変数が output.html に渡されます&#xA;&#xA;while($time &amp;lt; 30) {  // 30秒経ったらループを抜ける&#xA;    clearstatcache();&#xA;        &#xA;    $oldfs = file_get_contents('filesize.txt');  // (1) 以前のファイルサイズ&#xA;    $newfs = filesize('chat.txt');  // (2) 現在のファイルサイズ&#xA;&#xA;    if($oldfs &amp;lt; $newfs) {  // 現在のファイルサイズが以前より大きい ＝ チャットに新しく書き込まれた&#xA;        file_put_contents('filesize.txt', $newfs, LOCK_EX);  // (3) 現在のファイルサイズで以前のファイルサイズを上書き&#xA;        $result = json_encode(piyo);&#xA;        echo $result;  // (4) output.htmlにデータ受け渡し&#xA;        return false;&#xA;    }&#xA;    sleep(1);  // 負荷軽減&#xA;    $time++;&#xA;}&#xA;&#xA;echo $result;  // 30秒経って何も更新がなかったら一度output.htmlに更新がなかったことを伝える&#xA;return false;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;comet.php&lt;/strong&gt;の動きについて補足します。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;(1) では、以前の更新時に使っていた、&lt;strong&gt;chat.txt&lt;/strong&gt;のファイルサイズを取得（初期値は0）します。&lt;/li&gt;&#xA;&lt;li&gt;(2) では、現在の&lt;strong&gt;chat.txt&lt;/strong&gt;のファイルサイズを取得（初期値は0）します。&lt;/li&gt;&#xA;&lt;li&gt;(3) は現在のファイルサイズ&lt;code&gt;$newfs&lt;/code&gt;が、以前のファイルサイズ&lt;code&gt;$oldfs&lt;/code&gt;を上回っていたときに、以前のファイルサイズを保存するファイル&lt;strong&gt;filesize.txt&lt;/strong&gt;を現在のファイルサイズで上書きします。この値が、次の走査のときの&lt;code&gt;$oldfs&lt;/code&gt;に代入されます。&lt;/li&gt;&#xA;&lt;li&gt;(4) のecho文で、&lt;code&gt;$result&lt;/code&gt;の内容が&lt;strong&gt;output.html&lt;/strong&gt;に返されます。この&lt;code&gt;$result&lt;/code&gt;は、&lt;code&gt;piyo&lt;/code&gt;という配列をjson形式にしたものです。&lt;/li&gt;&#xA;&lt;li&gt;30秒経ったときにwhile文を抜けるようにしているのはconnection lostを回避するためです（これが正しいのか、そもそも必要なのか特に調べていませんが……）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h1&gt;問題点（解決したいこと）&lt;/h1&gt;&#xA;&lt;p&gt;&lt;strong&gt;input.html&lt;/strong&gt;からチャットの入力があったとき、&lt;strong&gt;comet.php&lt;/strong&gt;のコード(4)部分でその内容が&lt;strong&gt;output.html&lt;/strong&gt;に渡され画面に出力される、というのが想定ですが、これがたまに動かなくなり、&lt;strong&gt;input.html&lt;/strong&gt;での入力が&lt;strong&gt;output.html&lt;/strong&gt;に表示されなくなります。&lt;/p&gt;&#xA;&lt;p&gt;原因が分からず、できるだけ切り分けを行ってみたのですが、この問題が起きたとき、&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;chat.txt&lt;/strong&gt;には間違いなく入力された文章が保存されている&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;comet.php&lt;/strong&gt;のコード(3)部分で、ファイルサイズは最新のものに間違いなく更新され、&lt;strong&gt;filesize.txt&lt;/strong&gt;に保存されている&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;output.html&lt;/strong&gt; のコード(★)部分で、&lt;code&gt;console.log('received');&lt;/code&gt;が動いていない&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;output.html&lt;/strong&gt; の&lt;code&gt;$.ajax&lt;/code&gt;内で、&lt;code&gt;.fail&lt;/code&gt;によるエラー処理は発生していない&lt;/li&gt;&#xA;&lt;li&gt;この問題が生じたあと、新しい文章がチャットに入力されると、それは表示されるときもあるし表示されないときもある&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ということは把握しています。&lt;br /&gt;&#xA;この問題が発生するのは、チャットの全入力数に対して体感2割くらいの確率です。&lt;/p&gt;&#xA;&lt;p&gt;この切り分けが本当に正しく行われているのであれば、問題は&lt;strong&gt;comet.php&lt;/strong&gt;内の&lt;br /&gt;&#xA;&lt;code&gt;$result = json_encode(piyo);&lt;/code&gt;か、その直後の&lt;code&gt;echo $result;&lt;/code&gt;、&lt;br /&gt;&#xA;もしくは&lt;strong&gt;output.html&lt;/strong&gt;内の&lt;code&gt;$.ajax&lt;/code&gt;内で問題が発生していることになります。&lt;/p&gt;&#xA;&lt;p&gt;しかし「絶対に動かないわけではなく、たまに動かなくなる」という状況ゆえ、決定的な原因を突き止めることが出来ておらず、途方に暮れています。&lt;/p&gt;&#xA;&lt;p&gt;この問題を解決する方法について、皆様のお力添えをいただきたいです。&lt;/p&gt;&#xA;&lt;h1&gt;環境&lt;/h1&gt;&#xA;&lt;p&gt;PHPのバージョンは7.4.21および7.4.28です。両方で同じ問題が発生しています。&lt;/p&gt;&#xA;&lt;h1&gt;さいごに&lt;/h1&gt;&#xA;&lt;p&gt;こういうサイトで質問することに慣れていないため、不躾な点ありましたらご容赦ください。また不足している情報がありましたら追記させていただきます。&lt;br /&gt;&#xA;皆様のお力添えを、どうぞよろしくお願い申し上げます。&lt;/p&gt;&#xA;"" OwnerUserId=""30625"" LastEditorUserId=""30625"" LastEditDate=""2022-04-05T00:35:21.983"" LastActivityDate=""2022-04-05T00:35:21.983"" Title=""PHPでCometを実装したとき、たまにデータを出力しない"" Tags=""&lt;javascript&gt;&lt;php&gt;&lt;jquery&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\ja.stackoverflow.com\Posts.xml,"  <row Id=""89956"" PostTypeId=""1"" AcceptedAnswerId=""89961"" CreationDate=""2022-07-13T07:50:42.073"" Score=""0"" ViewCount=""126"" Body=""&lt;p&gt;ajaxでリクエストを送り、&lt;br /&gt;&#xA;バックエンドで「Intervention Image」を利用して画像を加工したものを&lt;br /&gt;&#xA;ローカルにダウンロードしたいのですが、&lt;br /&gt;&#xA;加工した画像データをblobに変換することができず詰まっておりました。&lt;/p&gt;&#xA;&lt;p&gt;Intervention Imageにstreamで返却する関数などもあるとのことで&lt;br /&gt;&#xA;やってみてたのですが、&lt;br /&gt;&#xA;フロントに戻ってきた時点で文字化けしてしまいという状況でした。&lt;/p&gt;&#xA;&lt;p&gt;どなたかお助けしていただけないでしょうか。&lt;br /&gt;&#xA;よろしくお願いします。&lt;/p&gt;&#xA;&lt;h2&gt;javascript&lt;/h2&gt;&#xA;&lt;pre class=&quot;lang-js prettyprint-override&quot;&gt;&lt;code&gt;$.ajax({&#xA;        type: 'GET',&#xA;        url: '/export/img',&#xA;        data: {&#xA;            'img_type': imgType&#xA;        },&#xA;        headers: {&#xA;            'X-CSRF-TOKEN': $('meta[name=&amp;quot;csrf-token&amp;quot;]').attr('content')&#xA;        }&#xA;    }).done((response) =&amp;gt; {&#xA;        const blob = new Blob([response], {type: 'image/png'});&#xA;        const filename = 'test.png'&#xA;        const downloadUrl  = (window.URL || window.webkitURL).createObjectURL(blob);&#xA;        const link = document.createElement('a');&#xA;        link.href = downloadUrl;&#xA;        link.download = filename;&#xA;        link.click();&#xA;        (window.URL || window.webkitURL).revokeObjectURL(downloadUrl);&#xA;    }).fail(() =&amp;gt; {&#xA;        $(&amp;quot;#errorModal&amp;quot;).modal(&amp;quot;show&amp;quot;);&#xA;    });&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2&gt;backend(controller)&lt;/h2&gt;&#xA;&lt;pre class=&quot;lang-php prettyprint-override&quot;&gt;&lt;code&gt;public function export(Request $request)&#xA;    {&#xA;        // 画像生成処理&#xA;        $img = $this-&amp;gt;service-&amp;gt;createImg($request-&amp;gt;img_type);&#xA;        return $img-&amp;gt;stream('png')-&amp;gt;__toString();&#xA;    }&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""53436"" LastEditorUserId=""3060"" LastEditDate=""2022-07-13T08:07:31.383"" LastActivityDate=""2022-07-13T15:59:58.320"" Title=""Intervention Imageで加工した画像を非同期でローカルにダウンロードしたい"" Tags=""&lt;laravel&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\math.meta.stackexchange.com\Posts.xml,"  <row Id=""4629"" PostTypeId=""1"" CreationDate=""2012-07-12T00:02:40.887"" Score=""2"" ViewCount=""64"" Body=""&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;strong&gt;Possible Duplicate:&lt;/strong&gt;&lt;br&gt;&#xA;  &lt;a href=&quot;https://math.meta.stackexchange.com/questions/3768/the-vec-command-appears-broken-in-windows-xp&quot;&gt;The \vec command appears broken in Windows XP&lt;/a&gt;  &lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The &lt;code&gt;\vec&lt;/code&gt; command seems to fail to render. Here's a pic.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/IVFHd.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The version is 20.0.1132.57 m&lt;/p&gt;&#xA;"" OwnerUserId=""23350"" LastEditorUserId=""-1"" LastEditDate=""2017-03-16T16:37:13.227"" LastActivityDate=""2012-07-12T00:02:40.887"" Title=""Chrome fails to render the `\vec` template"" Tags=""&lt;bug&gt;&lt;mathjax&gt;"" AnswerCount=""0"" CommentCount=""2"" ClosedDate=""2012-07-12T02:54:01.697"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\math.meta.stackexchange.com\Posts.xml,"  <row Id=""26769"" PostTypeId=""1"" CreationDate=""2017-08-08T18:57:25.610"" Score=""22"" ViewCount=""521"" Body=""&lt;p&gt;A little over 4 years go I discovered that MathJax supports the $\LaTeX$ command &lt;code&gt;\newcommand&lt;/code&gt;, and started to use it in my own answers and questions: this makes certain repetitive things so much easier to write.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In the meantime I've done this in &lt;a href=&quot;https://math.stackexchange.com/search?tab=newest&amp;amp;q=user%3a11994%20%22newcommand%22%20-%22begingroup%22&quot;&gt;171 answers, 4 questions&lt;/a&gt;, and &lt;a href=&quot;https://data.stackexchange.com/math/query/708190/my-newcommand-comments-without-begingroup&quot; rel=&quot;nofollow noreferrer&quot;&gt;11 comments&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(As a side note, currently I'm mostly using these for making it easy to write proofs and calculations in a 'calculational style'; see, e.g., &lt;a href=&quot;https://www.cs.utexas.edu/users/EWD/transcriptions/EWD13xx/EWD1300.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;EWD1300&lt;/a&gt;.  A gist which I use as a template is &lt;a href=&quot;https://gist.github.com/marnix/dbfdbd690d8e3e30f1d7&quot; rel=&quot;nofollow noreferrer&quot;&gt;here&lt;/a&gt;.)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, I've recently discovered that &lt;code&gt;\newcommand&lt;/code&gt; is not without its disadvantages: &lt;a href=&quot;https://math.meta.stackexchange.com/questions/4130/the-scope-of-newcommand-is-the-entire-page&quot;&gt;its scope is the rest of the math.se page on which it occurs&lt;/a&gt;.  This means that my posts could be affecting other people's answers and comments.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;I'd like to fix this.&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;There is a simple way to fix this, as explained in &lt;a href=&quot;https://math.meta.stackexchange.com/a/12502/11994&quot;&gt;this answer to the above question&lt;/a&gt; and elsewhere: surround such posts with&#xA;&lt;code&gt;&#xA;$\require{begingroup}\begingroup$&#xA;...&#xA;$\endgroup$&#xA;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(My first example can be seen in &lt;a href=&quot;https://math.stackexchange.com/revisions/3285d702-2b91-4b7f-958a-c69c505d8a18/view-source&quot;&gt;the source&lt;/a&gt; of &lt;a href=&quot;https://math.stackexchange.com/revisions/2386627/2&quot;&gt;this answer of mine&lt;/a&gt;.)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;And I'm perfectly willing to go through all of the above posts, and apply this fix.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, a disadvantage is that all these posts will suddenly jump to the top of the 'active' lists, for no good reason.  That's probably considered bad form.  (And there is no way to indicate 'trivial edits', or is there?)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Another disadvantage is that occasionally people have used a &lt;code&gt;\newcommand&lt;/code&gt; of mine in a comment on that post.  So using &lt;code&gt;begingroup&lt;/code&gt; would make those start to fail.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Finally, the actual chance of having a conflict is low, except in those cases where I've used something like &lt;code&gt;\newcommand{\equiv}{\Leftrightarrow}&lt;/code&gt; to redefine a predefined MathJax command.  So going back applying this fix might not be worth it.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So my question is: &lt;strong&gt;Should I fix this?&lt;/strong&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""11994"" LastEditorUserId=""9003"" LastEditDate=""2017-08-09T22:23:01.393"" LastActivityDate=""2017-08-10T15:10:08.493"" Title=""Should I fix my 175 posts that use \newcommand without \begingroup?"" Tags=""&lt;discussion&gt;&lt;mathjax&gt;&lt;newcommand&gt;"" AnswerCount=""1"" CommentCount=""10"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""79940"" PostTypeId=""1"" CreationDate=""2015-08-26T07:35:38.167"" Score=""0"" ViewCount=""1274"" Body=""&lt;p&gt;When adding to cart, I only sometimes get the stylish Ajax &quot;Your item was added to cart&quot;-popup. Other times I get the ugly standard magento added to cart orange and grey buttons. When I get the default behaviour, I can't see the items in cart before refreshing the page, so I suspect it's some kind of ajax error. I have captured both Ajax requests and they are quite different. Can someone figure out the error?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Works:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.get('http://www.propagandashop.dk/proaddto/index/add/uenc/aHR0cDovL3d3dy5wcm9wYWdhbmRhc2hvcC5kay8,/product/754/form_key/vRnRi3VEvUkNw6xa/isAjax/1')&#xA;  .done (showResult)&#xA;  .fail(showError);&#xA;&#xA;&#xA;  {&#xA;  &quot;frameId&quot;: 0,&#xA;  &quot;method&quot;: &quot;GET&quot;,&#xA;  &quot;parentFrameId&quot;: -1,&#xA;  &quot;requestId&quot;: &quot;13544&quot;,&#xA;  &quot;tabId&quot;: 57,&#xA;  &quot;timeStamp&quot;: 1440573329737.51,&#xA;  &quot;type&quot;: &quot;xmlhttprequest&quot;,&#xA;  &quot;url&quot;: &quot;http://www.propagandashop.dk/proaddto/index/add/uenc/aHR0cDovL3d3dy5wcm9wYWdhbmRhc2hvcC5kay8,/product/754/form_key/vRnRi3VEvUkNw6xa/isAjax/1&quot;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Doesnt work:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;First get:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var queryData = {&#xA;  &quot;block[]&quot;: &quot;options&quot;,&#xA;  &quot;awacp&quot;: &quot;1&quot;,&#xA;  &quot;no_cache&quot;: &quot;1&quot;&#xA;};&#xA;$.get('http://www.propagandashop.dk/checkout/cart/add/uenc/aHR0cDovL3d3dy5wcm9wYWdhbmRhc2hvcC5kay9rb2trZW4,/product/235/form_key/vRnRi3VEvUkNw6xa/', queryData)&#xA;  .done (showResult)&#xA;  .fail(showError);&#xA;&#xA;&#xA;  {&#xA;  &quot;frameId&quot;: 0,&#xA;  &quot;method&quot;: &quot;GET&quot;,&#xA;  &quot;parentFrameId&quot;: -1,&#xA;  &quot;requestId&quot;: &quot;13875&quot;,&#xA;  &quot;tabId&quot;: 57,&#xA;  &quot;timeStamp&quot;: 1440573421999.0598,&#xA;  &quot;type&quot;: &quot;xmlhttprequest&quot;,&#xA;  &quot;url&quot;: &quot;http://www.propagandashop.dk/checkout/cart/add/uenc/aHR0cDovL3d3dy5wcm9wYWdhbmRhc2hvcC5kay9rb2trZW4,/product/235/form_key/vRnRi3VEvUkNw6xa/?block%5B%5D=options&amp;amp;awacp=1&amp;amp;no_cache=1&quot;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Second get (same time):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;var queryData = {&#xA;  &quot;actionData&quot;: &quot;{\&quot;added_product\&quot;:\&quot;235\&quot;}&quot;,&#xA;  &quot;block[]&quot;: [&#xA;    &quot;cart&quot;,&#xA;    &quot;sidebar&quot;,&#xA;    &quot;topLinks&quot;,&#xA;    &quot;skipLinks&quot;,&#xA;    &quot;wishlist&quot;,&#xA;    &quot;miniWishlist&quot;,&#xA;    &quot;addProductConfirmation&quot;,&#xA;    &quot;removeProductConfirmation&quot;&#xA;  ],&#xA;  &quot;awacp&quot;: &quot;1&quot;,&#xA;  &quot;no_cache&quot;: &quot;1&quot;&#xA;};&#xA;$.get('http://www.propagandashop.dk/kokken', queryData)&#xA;  .done (showResult)&#xA;  .fail(showError);&#xA;&#xA;  {&#xA;  &quot;frameId&quot;: 0,&#xA;  &quot;method&quot;: &quot;GET&quot;,&#xA;  &quot;parentFrameId&quot;: -1,&#xA;  &quot;requestId&quot;: &quot;13876&quot;,&#xA;  &quot;tabId&quot;: 57,&#xA;  &quot;timeStamp&quot;: 1440573422599.8179,&#xA;  &quot;type&quot;: &quot;xmlhttprequest&quot;,&#xA;  &quot;url&quot;: &quot;http://www.propagandashop.dk/kokken?actionData=%7B%22added_product%22%3A%22235%22%7D&amp;amp;block%5B%5D=cart&amp;amp;block%5B%5D=sidebar&amp;amp;block%5B%5D=topLinks&amp;amp;block%5B%5D=skipLinks&amp;amp;block%5B%5D=wishlist&amp;amp;block%5B%5D=miniWishlist&amp;amp;block%5B%5D=addProductConfirmation&amp;amp;block%5B%5D=removeProductConfirmation&amp;amp;awacp=1&amp;amp;no_cache=1&quot;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""28811"" LastEditorUserId=""4564"" LastEditDate=""2015-08-26T07:48:54.893"" LastActivityDate=""2015-08-26T07:51:24.797"" Title=""Ajax add to cart does not always work"" Tags=""&lt;magento-1.9&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""86827"" PostTypeId=""1"" AcceptedAnswerId=""86832"" CreationDate=""2015-10-17T17:31:41.527"" Score=""0"" ViewCount=""6829"" Body=""&lt;p&gt;I am working with Magento2.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've created some backend controllers, which are accessible in backend.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In my backend template file, I want to call the controller function with jQuery like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require( [ 'jquery', 'js/Services' ], function ( $, Services )&#xA;{&#xA;    $( document ).on( 'change', '.entry-edit #sku', function ()&#xA;    {&#xA;        Services.getProductName( $( &quot;#sku&quot; ).val());&#xA;    } );...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The implementation of the service method is like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    Services.getProductName = function (sku)&#xA;{&#xA;    var request = $.ajax( {&#xA;        url: &quot;/admin123/backend/Product/showName?sku=&quot; + sku,&#xA;        type: 'GET'&#xA;    } );&#xA;&#xA;    request.done( function ( result )&#xA;    {&#xA;        $( &quot;#name&quot; ).val( result );&#xA;    } );&#xA;&#xA;    request.fail( function ( error )&#xA;    {&#xA;        console.dir(error);&#xA;        $( &quot;#name&quot; ).val( &quot;Produkt nicht gefunden&quot; );&#xA;    } );&#xA;&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My backend controller:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class ShowName extends \Magento\Backend\App\Action&#xA;{&#xA;    const ADMIN_RESOURCE = 'Ruck_Restclient::showName';&#xA;&#xA;/**&#xA; * {@inheritdoc}&#xA; */&#xA;protected function _isAllowed()&#xA;{&#xA;    return true;//$this-&amp;gt;_authorization-&amp;gt;isAllowed(self::ADMIN_RESOURCE);&#xA;}&#xA;&#xA;/**&#xA; * @return void&#xA; */&#xA;public function execute()&#xA;{&#xA;    try&#xA;    {&#xA;        $sku = $this-&amp;gt;getRequest()-&amp;gt;getParam( 'sku' );&#xA;        $helper = new Data();&#xA;        $productName = $helper-&amp;gt;getKundenArtikelNumberByProductNumber( $sku );&#xA;        $this-&amp;gt;getResponse()-&amp;gt;setBody( $productName );&#xA;    }&#xA;    catch ( Exception $ex )&#xA;    {&#xA;        $this-&amp;gt;getResponse()-&amp;gt;setBody( $ex-&amp;gt;getMessage() );&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not able to to proceed the &lt;code&gt;getProductname()&lt;/code&gt; function. After the call is fired in adminhtml/product/edit/tabs, I'm getting immediatly redirected to backend login page.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;After my research, I figured out, that the dispatch method from &lt;code&gt;\Magento\Backend\App\Action&lt;/code&gt; checks the login status and redirects to login page if status is not logged in.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My expectation is, that if I fire an request from an admintemplate (&lt;code&gt;adminhtml/product/edit/tabs&lt;/code&gt;) which is inside backend scope, I could consume the controller action.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Do I need to add some additional login headers or is my proceed basically wrong?&lt;/p&gt;&#xA;"" OwnerUserId=""31132"" LastEditorUserId=""26509"" LastEditDate=""2016-04-20T11:55:55.333"" LastActivityDate=""2016-04-20T11:55:55.333"" Title=""AJAX request in backend template is redirecting to login page"" Tags=""&lt;magento2&gt;&lt;redirect&gt;&lt;backend&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""137974"" PostTypeId=""1"" CreationDate=""2016-09-25T17:45:34.923"" Score=""1"" ViewCount=""507"" Body=""&lt;p&gt;I'm trying to send information from the view (js) to the server. I'm trying this with the JS request: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    type: 'POST',&#xA;    url: 'php_file_in_controller/Main_Class_Name',&#xA;    data: data,&#xA;    dataType: &quot;json&quot;,&#xA;    success: function(responseData){&#xA;        alert(responseData);&#xA;    },&#xA;    fail: function(error){&#xA;        alert(error);&#xA;    }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is my controller:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA; namespace Magento\Checkout\Controller;&#xA;&#xA; class Main_Class_Name extends \Magento\Framework\App\Action\Action{&#xA;&#xA; public function execute(){&#xA; ...some code..&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;}&#xA;and my config.xml of the module:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;&#xA;&amp;lt;!--&#xA;/**&#xA;* Copyright © 2016 Magento. All rights reserved.&#xA;* See COPYING.txt for license details.&#xA;*/&#xA;--&amp;gt;&#xA;&amp;lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;urn:magento:module:Magento_Store:etc/config.xsd&quot;&amp;gt;&#xA;&amp;lt;default&amp;gt;&#xA;    &amp;lt;checkout&amp;gt;&#xA;        &amp;lt;options&amp;gt;&#xA;            &amp;lt;onepage_checkout_enabled&amp;gt;1&amp;lt;/onepage_checkout_enabled&amp;gt;&#xA;            &amp;lt;guest_checkout&amp;gt;1&amp;lt;/guest_checkout&amp;gt;&#xA;        &amp;lt;/options&amp;gt;&#xA;        &amp;lt;cart&amp;gt;&#xA;            &amp;lt;delete_quote_after&amp;gt;30&amp;lt;/delete_quote_after&amp;gt;&#xA;            &amp;lt;redirect_to_cart&amp;gt;0&amp;lt;/redirect_to_cart&amp;gt;&#xA;        &amp;lt;/cart&amp;gt;&#xA;        &amp;lt;cart_link&amp;gt;&#xA;            &amp;lt;use_qty&amp;gt;1&amp;lt;/use_qty&amp;gt;&#xA;        &amp;lt;/cart_link&amp;gt;&#xA;        &amp;lt;sidebar&amp;gt;&#xA;            &amp;lt;display&amp;gt;1&amp;lt;/display&amp;gt;&#xA;            &amp;lt;count&amp;gt;5&amp;lt;/count&amp;gt;&#xA;        &amp;lt;/sidebar&amp;gt;&#xA;        &amp;lt;payment_failed&amp;gt;&#xA;            &amp;lt;identity&amp;gt;general&amp;lt;/identity&amp;gt;&#xA;            &amp;lt;receiver&amp;gt;general&amp;lt;/receiver&amp;gt;&#xA;            &amp;lt;template&amp;gt;checkout_payment_failed_template&amp;lt;/template&amp;gt;&#xA;        &amp;lt;/payment_failed&amp;gt;&#xA;    &amp;lt;/checkout&amp;gt;&#xA;&amp;lt;/default&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The JS file is in the same module as the php file i am trying to send data to. I don't understand why I receive a 404.&#xA;Is there a more convenient way to pass data from view to controller?&#xA;If ajax is the way to go (for multiple reasons) what could be my problem? I'm using the checkout module in this situation so routes.xml is not a problem (or is it..?)&#xA;Thanks in advance.&lt;/p&gt;&#xA;"" OwnerUserId=""44538"" LastEditorUserId=""44538"" LastEditDate=""2016-09-26T05:06:44.487"" LastActivityDate=""2016-09-26T05:06:44.487"" Title=""Can't get my ajax request to call controller"" Tags=""&lt;magento2&gt;&lt;javascript&gt;&lt;controllers&gt;&lt;ajax&gt;&lt;view&gt;"" AnswerCount=""0"" CommentCount=""2"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""147698"" PostTypeId=""1"" CreationDate=""2016-11-27T18:11:19.920"" Score=""1"" ViewCount=""353"" Body=""&lt;p&gt;I have this code -  custom module Ajax: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;_CompareAction : function(){&#xA;        $('body').on('click','.action.compare',function(e){&#xA;            e.preventDefault();&#xA;            var href = $(e.currentTarget).attr('href');&#xA;            $.ajaxSetup({showLoader: true});&#xA;            $.post(href,function(data){&#xA;                var compareBox = $('#productCompare');&#xA;                compareBox.html('');&#xA;                compareBox.html(data.content);&#xA;                compareBox.modal();&#xA;                compareBox.modal('openModal');&#xA;            }).fail(function(){&#xA;                alert({&#xA;                    content: $t('Can not finish request.Try again.')&#xA;                });&#xA;            });&#xA;            return false;&#xA;        });&#xA;    },&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Unfortunately ajax calls me - the status code 302. What may be the problem?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am trying to get this effect as on this page (Add to campare product and show popup compare product): &lt;a href=&quot;http://ld-magento.template-help.com/magento_58948_v1/women.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://ld-magento.template-help.com/magento_58948_v1/women.html&lt;/a&gt;&lt;/p&gt;&#xA;"" OwnerUserId=""47162"" LastEditorUserId=""33057"" LastEditDate=""2016-11-28T16:19:35.107"" LastActivityDate=""2016-11-28T16:19:35.107"" Title=""Magento 2.1.2: How display products compared with the popup - AJAX"" Tags=""&lt;magento2&gt;&lt;module&gt;&lt;ajax&gt;&lt;compare&gt;&lt;magento-2.1.2&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""167928"" PostTypeId=""1"" AcceptedAnswerId=""167930"" CreationDate=""2017-04-06T08:46:40.980"" Score=""2"" ViewCount=""875"" Body=""&lt;p&gt;I'm trying to follow this tutorial: &lt;a href=&quot;http://excellencemagentoblog.com/blog/2011/10/04/magento-add-product-to-cart-ajax/&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://excellencemagentoblog.com/blog/2011/10/04/magento-add-product-to-cart-ajax/&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It seems it's working, it adds the product to the cart, but it don't update it, instead it's returning an error that can't do toHtml on a boolean.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I followed this error to this line:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require_once 'Mage/Checkout/controllers/CartController.php';&#xA;&#xA;class Feliu_Ajaxcart_IndexController extends Mage_Checkout_CartController&#xA;{&#xA;    public function addAction()&#xA;    {&#xA;        ... //lot of code omitted&#xA;        $this-&amp;gt;loadLayout();&#xA;        $sidebar_block = $this-&amp;gt;getLayout()-&amp;gt;getBlock('cart_sidebar');&#xA;        $sidebar = $sidebar_block-&amp;gt;toHtml();&#xA;        ... //lot of code omitted&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And $sidebar_block is always &lt;code&gt;null&lt;/code&gt;, so the toHtml() is returning an error. If I change the line &lt;code&gt;$sidebar = $sidebar_block-&amp;gt;toHtml();&lt;/code&gt; to &lt;code&gt;$sidebar = '&amp;lt;div&amp;gt;' . $sidebar_block . '&amp;lt;/div&amp;gt;';&lt;/code&gt; then there is no error, but shopping cart is not updating because is replacing the cart by an empty div.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the javascript in the view to make the ajax call and replace the cart by the updated one:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//mytheme/template/catalog/product/viewphtml&#xA;//&amp;lt;![CDATA[&#xA;var productAddToCartForm = new VarienForm('product_addtocart_form');&#xA;&#xA;productAddToCartForm.submit = function(button, url) {&#xA;    if (this.validator.validate()) {&#xA;        var form = this.form;&#xA;        var oldUrl = form.action;&#xA;&#xA;        if (url) {&#xA;            form.action = url;&#xA;        }&#xA;        var e = null;&#xA;        //Start of our new ajax code&#xA;        if(!url){&#xA;            url = jQuery('#product_addtocart_form').attr('action');&#xA;        }&#xA;        url = url.replace(&quot;checkout/cart&quot;,&quot;ajaxcart/index&quot;);&#xA;        var data = jQuery('#product_addtocart_form').serialize();&#xA;        data += '&amp;amp;isAjax=1';&#xA;        jQuery('#ajax_loader').show();&#xA;        try {&#xA;            jQuery.ajax({&#xA;                url: url,&#xA;                dataType: 'json',&#xA;                type : 'post',&#xA;                data: data,&#xA;                success: function(data){&#xA;                    jQuery('#ajax_loader').hide();&#xA;                    console.log(data.status + &quot;: &quot; + data.message);&#xA;                    console.log(data); // here I see what's returning the controller function add&#xA;                    if(jQuery('.block-cart')){&#xA;                        jQuery('.block-cart').replaceWith(data.sidebar);&#xA;                    }&#xA;                    if(jQuery('.header .links')){&#xA;                        jQuery('.header .links').replaceWith(data.toplink);&#xA;                    }&#xA;                },&#xA;                error: function(jqXHR, textStatus, response){&#xA;                    // will fire when timeout is reached&#xA;                    console.log(&quot;timeout is reached&quot;);&#xA;                    console.log(textStatus);&#xA;                    console.log(response);&#xA;                    jQuery('#ajax_loader').hide();&#xA;                },&#xA;                timeout: 6000&#xA;            });&#xA;        } catch (e) {&#xA;            console.log(&quot;fail&quot;);&#xA;            console.log(e);&#xA;            this.form.action = oldUrl;&#xA;            if (e) {&#xA;                throw e;&#xA;            }&#xA;        }&#xA;    }&#xA;}.bind(productAddToCartForm);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and the config.xml of the module&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;config&amp;gt;&#xA;&amp;lt;modules&amp;gt;&#xA;    &amp;lt;Feliu_Ajaxcart&amp;gt;&#xA;        &amp;lt;version&amp;gt;0.1.0&amp;lt;/version&amp;gt;&#xA;    &amp;lt;/Feliu_Ajaxcart&amp;gt;&#xA;&amp;lt;/modules&amp;gt;&#xA;&amp;lt;global&amp;gt;&#xA;    &amp;lt;models&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart&amp;gt;&#xA;            &amp;lt;class&amp;gt;Feliu_Ajaxcart_Model&amp;lt;/class&amp;gt;&#xA;            &amp;lt;resourceModel&amp;gt;feliu_ajaxcart_resource&amp;lt;/resourceModel&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart_resource&amp;gt;&#xA;            &amp;lt;class&amp;gt;Feliu_Ajaxcart_Model_Resource&amp;lt;/class&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart_resource&amp;gt;&#xA;    &amp;lt;/models&amp;gt;&#xA;    &amp;lt;blocks&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart&amp;gt;&#xA;            &amp;lt;class&amp;gt;Feliu_Ajaxcart_Block&amp;lt;/class&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart&amp;gt;&#xA;    &amp;lt;/blocks&amp;gt;&#xA;    &amp;lt;helpers&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart&amp;gt;&#xA;            &amp;lt;class&amp;gt;Feliu_Ajaxcart_Helper&amp;lt;/class&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart&amp;gt;&#xA;    &amp;lt;/helpers&amp;gt;&#xA;    &amp;lt;resources&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart_setup&amp;gt;&#xA;            &amp;lt;setup&amp;gt;&#xA;                &amp;lt;module&amp;gt;Feliu_Ajaxcart&amp;lt;/module&amp;gt;&#xA;            &amp;lt;/setup&amp;gt;&#xA;            &amp;lt;connection&amp;gt;&#xA;                &amp;lt;use&amp;gt;core_setup&amp;lt;/use&amp;gt;&#xA;            &amp;lt;/connection&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart_setup&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart_write&amp;gt;&#xA;            &amp;lt;connection&amp;gt;&#xA;                &amp;lt;use&amp;gt;core_write&amp;lt;/use&amp;gt;&#xA;            &amp;lt;/connection&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart_write&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart_read&amp;gt;&#xA;            &amp;lt;connection&amp;gt;&#xA;                &amp;lt;use&amp;gt;core_read&amp;lt;/use&amp;gt;&#xA;            &amp;lt;/connection&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart_read&amp;gt;&#xA;    &amp;lt;/resources&amp;gt;&#xA;    &amp;lt;rewrite&amp;gt;&#xA;        &amp;lt;feliu_ajaxcart&amp;gt; &amp;lt;!--This can be any unique id --&amp;gt;&#xA;            &amp;lt;from&amp;gt;&amp;lt;![CDATA[#^/checkout/cart/#]]&amp;gt;&amp;lt;/from&amp;gt;  &amp;lt;!-- the URL which u want to override--&amp;gt;&#xA;            &amp;lt;to&amp;gt;/ajaxcart/index/&amp;lt;/to&amp;gt;  &amp;lt;!-- destination url --&amp;gt;&#xA;        &amp;lt;/feliu_ajaxcart&amp;gt;&#xA;    &amp;lt;/rewrite&amp;gt;&#xA;&amp;lt;/global&amp;gt;&#xA;&amp;lt;frontend&amp;gt;&#xA;    &amp;lt;routers&amp;gt;&#xA;        &amp;lt;ajaxcart&amp;gt;&#xA;            &amp;lt;use&amp;gt;standard&amp;lt;/use&amp;gt;&#xA;            &amp;lt;args&amp;gt;&#xA;                &amp;lt;modules&amp;gt;&#xA;                    &amp;lt;Feliu_Ajaxcart before=&quot;Mage_Checkout&quot; &amp;gt;Feliu_Ajaxcart&amp;lt;/Feliu_Ajaxcart&amp;gt;&#xA;                &amp;lt;/modules&amp;gt;&#xA;                &amp;lt;frontName&amp;gt;ajaxcart&amp;lt;/frontName&amp;gt;&#xA;            &amp;lt;/args&amp;gt;&#xA;        &amp;lt;/ajaxcart&amp;gt;&#xA;    &amp;lt;/routers&amp;gt;&#xA;&amp;lt;/frontend&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The checkout.xml (it is a lot of code, so I omitted a lot of lines):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;default&amp;gt;&#xA;&#xA;    &amp;lt;!-- Mage_Checkout --&amp;gt;&#xA;    &amp;lt;reference name=&quot;top.links&quot;&amp;gt;&#xA;        &amp;lt;block type=&quot;checkout/links&quot; name=&quot;checkout_cart_link&quot;&amp;gt;&#xA;            &amp;lt;action method=&quot;addCartLink&quot;&amp;gt;&amp;lt;/action&amp;gt;&#xA;            &amp;lt;action method=&quot;addCheckoutLink&quot;&amp;gt;&amp;lt;/action&amp;gt;&#xA;        &amp;lt;/block&amp;gt;&#xA;    &amp;lt;/reference&amp;gt;&#xA;&#xA;    &amp;lt;reference name=&quot;header&quot;&amp;gt;&#xA;        &amp;lt;block type=&quot;checkout/cart_minicart&quot; name=&quot;minicart_head&quot; template=&quot;checkout/cart/minicart.phtml&quot; before=&quot;-&quot;&amp;gt;&#xA;            &amp;lt;block type=&quot;checkout/cart_sidebar&quot; name=&quot;minicart_content&quot; template=&quot;checkout/cart/minicart/items.phtml&quot;&amp;gt;&#xA;                &amp;lt;action method=&quot;addItemRender&quot;&amp;gt;&amp;lt;type&amp;gt;default&amp;lt;/type&amp;gt;&amp;lt;block&amp;gt;checkout/cart_item_renderer&amp;lt;/block&amp;gt;&amp;lt;template&amp;gt;checkout/cart/minicart/default.phtml&amp;lt;/template&amp;gt;&amp;lt;/action&amp;gt;&#xA;                &amp;lt;action method=&quot;addItemRender&quot;&amp;gt;&amp;lt;type&amp;gt;simple&amp;lt;/type&amp;gt;&amp;lt;block&amp;gt;checkout/cart_item_renderer&amp;lt;/block&amp;gt;&amp;lt;template&amp;gt;checkout/cart/minicart/default.phtml&amp;lt;/template&amp;gt;&amp;lt;/action&amp;gt;&#xA;                &amp;lt;action method=&quot;addItemRender&quot;&amp;gt;&amp;lt;type&amp;gt;grouped&amp;lt;/type&amp;gt;&amp;lt;block&amp;gt;checkout/cart_item_renderer_grouped&amp;lt;/block&amp;gt;&amp;lt;template&amp;gt;checkout/cart/minicart/default.phtml&amp;lt;/template&amp;gt;&amp;lt;/action&amp;gt;&#xA;                &amp;lt;action method=&quot;addItemRender&quot;&amp;gt;&amp;lt;type&amp;gt;configurable&amp;lt;/type&amp;gt;&amp;lt;block&amp;gt;checkout/cart_item_renderer_configurable&amp;lt;/block&amp;gt;&amp;lt;template&amp;gt;checkout/cart/minicart/default.phtml&amp;lt;/template&amp;gt;&amp;lt;/action&amp;gt;&#xA;&#xA;                &amp;lt;block type=&quot;core/text_list&quot; name=&quot;cart_sidebar.cart_promotion&quot; as=&quot;cart_promotion&quot; translate=&quot;label&quot; module=&quot;checkout&quot;&amp;gt;&#xA;                    &amp;lt;label&amp;gt;Mini-cart promotion block&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/block&amp;gt;&#xA;                &amp;lt;block type=&quot;core/text_list&quot; name=&quot;cart_sidebar.extra_actions&quot; as=&quot;extra_actions&quot; translate=&quot;label&quot; module=&quot;checkout&quot;&amp;gt;&#xA;                    &amp;lt;label&amp;gt;Shopping Cart Sidebar Extra Actions&amp;lt;/label&amp;gt;&#xA;                &amp;lt;/block&amp;gt;&#xA;            &amp;lt;/block&amp;gt;&#xA;        &amp;lt;/block&amp;gt;&#xA;    &amp;lt;/reference&amp;gt;&#xA;   ...&#xA;&amp;lt;/default&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""51643"" LastEditorUserId=""51643"" LastEditDate=""2017-04-06T09:46:08.770"" LastActivityDate=""2017-04-06T09:53:42.123"" Title=""getBlock('cart_sidebar') is null on Checkout_Cartcontroller override"" Tags=""&lt;magento-1.9&gt;&lt;addtocart&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""195145"" PostTypeId=""1"" CreationDate=""2017-09-28T14:32:29.087"" Score=""0"" ViewCount=""105"" Body=""&lt;p&gt;I am making a ajax call in folowing way:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require(['jquery'], function($){&#xA;&#xA;$(&quot;#test1&quot;).change(function(){&#xA;    var test1Value = document.getElementById(&quot;test1&quot;).value;&#xA;    var test1Label = $(&quot;#test1 option:selected&quot;).text();&#xA;&#xA;    $.ajax({&#xA;        url: 'test_controller_url',/* assume */&#xA;        data: ('test1='+test1Value+'&amp;amp;test1Label='+test1Label),&#xA;        type: 'get',&#xA;        dataType: 'text',&#xA;        showLoader: true,&#xA;    }).done(function (response) {&#xA;        alert(&quot;success&quot;);&#xA;        $(&quot;#test2&quot;).html(response);&#xA;    }).fail(function (error) {&#xA;        alert(&quot;failure&quot;);&#xA;  });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In controller:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function execute()&#xA;{&#xA;    echo &quot;test&quot;;exit;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Then ajax call completing after 5 sec.&#xA;How can I optimize that time.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Used latest jquery.&#xA;Magento version : 2.1.5.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any help will be appreciated.&lt;/p&gt;&#xA;"" OwnerUserId=""44358"" LastEditorUserId=""4564"" LastEditDate=""2017-09-28T15:11:19.310"" LastActivityDate=""2017-10-03T05:46:33.910"" Title=""Magento 2 : How to improve ajax call?"" Tags=""&lt;magento2&gt;&lt;ajax&gt;&lt;jquery&gt;"" AnswerCount=""0"" CommentCount=""3"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""206787"" PostTypeId=""1"" CreationDate=""2017-12-21T14:59:40.307"" Score=""1"" ViewCount=""4997"" Body=""&lt;p&gt;I have been creating a custom component to load cart items in &lt;strong&gt;Magento 2 modal widget&lt;/strong&gt;. I have to show a loader only in a custom &lt;strong&gt;div&lt;/strong&gt; tag. Here is the code of my custom js component.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; define([&#xA;        'ko',&#xA;        'uiComponent',&#xA;        'mage/url',&#xA;        'mage/storage',&#xA;    ], function (ko, Component, urlBuilder, storage) {&#xA;        'use strict';&#xA;        var self = this;&#xA;        return Component.extend({&#xA;            defaults: {&#xA;                template: 'RLTSquare_PartialCheckout/cart'&#xA;            },&#xA;&#xA;            //models are defined here&#xA;            cartItemsList: ko.observableArray(),&#xA;            shouldShowLoader: ko.observable(false),&#xA;&#xA;            initialize: function () {&#xA;                self = this;&#xA;                this._super();&#xA;                this.loadList();&#xA;            },&#xA;            loadList: function () {&#xA;                self.shouldShowLoader(true);&#xA;                var serviceUrl = urlBuilder.build('rltsquare_partialcheckout/cart/get');&#xA;                return storage.post(&#xA;                    serviceUrl, ''&#xA;                ).done(&#xA;                    function (response) {&#xA;                        self.cartItemsList.removeAll();&#xA;                        var list = response;&#xA;                        for (var i = 0; i &amp;lt; list.length; i++) {&#xA;                            self.cartItemsList.push(list[i]);&#xA;                        }&#xA;                        self.shouldShowLoader(false);&#xA;                    }&#xA;                ).fail(&#xA;                    function (response) {&#xA;                        self.shouldShowLoader(false);&#xA;                        alert(response);&#xA;                    }&#xA;                );&#xA;            }&#xA;        });&#xA;    });&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is there a way I can get magento 2 loader in my &lt;strong&gt;.html&lt;/strong&gt; file or &lt;strong&gt;.js&lt;/strong&gt; file?&#xA;I have already bound it to my .html template as:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div data-role=&quot;loader&quot; data-bind=&quot;visible: shouldShowLoader&quot; class=&quot;loading-mask&quot; style=&quot;position: absolute;&quot;&amp;gt;&#xA;    &amp;lt;div class=&quot;loader&quot;&amp;gt;&#xA;        &amp;lt;img src=&quot;http://127.0.0.1:8888/m2-2.2/pub/static/version1513844156/frontend/Magento/luma/en_US/images/loader-1.gif&quot; alt=&quot;Loading...&quot; style=&quot;position: absolute;&quot;&amp;gt;&#xA;    &amp;lt;/div&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I already went through &lt;a href=&quot;http://devdocs.magento.com/guides/v2.0/javascript-dev-guide/widgets/widget_loader.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;mage/loader&lt;/a&gt; component defined in M2 but could not find its usage properly.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there a way I can get the absolute url of this image in js component? &lt;/p&gt;&#xA;"" OwnerUserId=""58478"" LastActivityDate=""2018-07-26T08:58:24.033"" Title=""Calling loader show/hide function in magento 2 js template"" Tags=""&lt;magento2&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""209409"" PostTypeId=""1"" CreationDate=""2018-01-14T16:09:53.280"" Score=""1"" ViewCount=""1192"" Body=""&lt;p&gt;I have created a custom page where customer accounts that belong to the same company are listed. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The table content is based on an observable array so that it updates automatically when an account is edited or added.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am not able to populate the table directly when the page is rendered. For testing I placed a click binding on the table header. When I click on the header the table is populated. But I want that the function is called directly when the page is rendered. I have already tried serveral things, but I am not able to get it to work.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;table-wrapper downloadable-products&quot;&amp;gt;&#xA;    &amp;lt;table id=&quot;my-downloadable-products-table&quot; class=&quot;data table table-downloadable-products&quot;&amp;gt;&#xA;        &amp;lt;thead data-bind=&quot;click: getUser&quot;&amp;gt;&amp;lt;tr&amp;gt;&#xA;            &amp;lt;th&amp;gt;Prefix&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Firstname&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Lastname&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Email&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Authorization Level&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Created At&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Status&amp;lt;/th&amp;gt;&#xA;            &amp;lt;th&amp;gt;Actions&amp;lt;/th&amp;gt;&#xA;        &amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&#xA;        &amp;lt;tbody data-bind=&quot;foreach: userList&quot;&amp;gt;&#xA;            &amp;lt;tr&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: prefix&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: firstname&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: lastname&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: email&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: authorization_level&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: created_at&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;                &amp;lt;td data-bind=&quot;text: status&quot;&amp;gt;&amp;lt;/td&amp;gt;&#xA;            &amp;lt;/tr&amp;gt;    &#xA;        &amp;lt;/tbody&amp;gt;&#xA;    &amp;lt;/table&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Javascript:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;define([&#xA;    'ko',&#xA;    'uiComponent',&#xA;    'mage/url',&#xA;    'mage/storage',&#xA;    ],&#xA;    function (ko, Component, urlBuilder, storage) &#xA;    {   &#xA;        'use strict';&#xA;        return Component.extend({&#xA;            defaults: {template: 'Test_Account/userlist',},&#xA;            userList: ko.observableArray([]),&#xA;            errorMessage : ko.observable(),&#xA;            getUser: function () {&#xA;                var self = this;&#xA;                var serviceUrl = urlBuilder.build('account/useraccounts/user');&#xA;                return storage.post(serviceUrl,''&#xA;                ).done(function (response) {&#xA;                    self.userList.removeAll();&#xA;                    response.forEach(function(element) {&#xA;                        self.userList.push(element);&#xA;                    });&#xA;                }&#xA;                ).fail(function (response) {&#xA;                    self.errorMessage = response;});&#xA;            },&#xA;        });&#xA;    }&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""59534"" LastEditorUserId=""3326"" LastEditDate=""2018-07-05T13:50:15.570"" LastActivityDate=""2018-07-05T13:50:15.570"" Title=""Magento 2.2: How can I load the content of a table with Knockout JS when the page is rendered"" Tags=""&lt;magento2&gt;&lt;ajax&gt;&lt;knockoutjs&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""221655"" PostTypeId=""1"" AcceptedAnswerId=""221663"" CreationDate=""2018-04-10T05:31:26.630"" Score=""10"" ViewCount=""7439"" Body=""&lt;p&gt;I need to do something after applying the coupon code in the checkout page, So I have created the ajax call in the response of &lt;code&gt;set-coupon-code.js&lt;/code&gt; in Sales Rule module.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But I got the Masked quote Id in &lt;code&gt;set-coupon-code.js&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have passing quote Id and Coupon code which is applied by the customer to my controller.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;QuoteIdMask 2a79ff3a9dfc16b963779118e8c9e4c0&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;How Do I get Quote Id form masked quote ID? Please provide me a solution&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;set-coupon-code.js&lt;/code&gt; &lt;strong&gt;(I have modified the core code in my custom module)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/**&#xA; * Copyright © Magento, Inc. All rights reserved.&#xA; * See COPYING.txt for license details.&#xA; */&#xA;&#xA;/**&#xA; * Customer store credit(balance) application&#xA; */&#xA;define([&#xA;    'ko',&#xA;    'jquery',&#xA;    'Magento_Checkout/js/model/quote',&#xA;    'Magento_Checkout/js/model/resource-url-manager',&#xA;    'Magento_Checkout/js/model/error-processor',&#xA;    'Magento_SalesRule/js/model/payment/discount-messages',&#xA;    'mage/storage',&#xA;    'mage/translate',&#xA;    'Magento_Checkout/js/action/get-payment-information',&#xA;    'Magento_Checkout/js/model/totals',&#xA;    'Magento_Checkout/js/model/full-screen-loader'&#xA;], function (ko, $, quote, urlManager, errorProcessor, messageContainer, storage, $t, getPaymentInformationAction,&#xA;        totals, fullScreenLoader&#xA;        ) {&#xA;    'use strict';&#xA;&#xA;    return function (couponCode, isApplied) {&#xA;        var quoteId = quote.getQuoteId(),&#xA;                url = urlManager.getApplyCouponUrl(couponCode, quoteId),&#xA;                message = $t('Your coupon was successfully applied.');&#xA;&#xA;        fullScreenLoader.startLoader();&#xA;&#xA;        return storage.put(&#xA;                url,&#xA;                {},&#xA;                false&#xA;                ).done(function (response) {&#xA;            var deferred;&#xA;&#xA;            if (response) {&#xA;                deferred = $.Deferred();&#xA;&#xA;                isApplied(true);&#xA;                totals.isLoading(true);&#xA;                getPaymentInformationAction(deferred);&#xA;                $.when(deferred).done(function () {&#xA;                    fullScreenLoader.stopLoader();&#xA;                    totals.isLoading(false);&#xA;                });&#xA;                messageContainer.addSuccessMessage({&#xA;                    'message': message&#xA;                });&#xA;&#xA;&#xA;                return storage.post(&#xA;                        'xxx/index/index',&#xA;                        JSON.stringify({quoteId: quoteId, couponCode: couponCode})&#xA;                        ).done(&#xA;                        function (response) {&#xA;                            alert(&quot;test&quot;);&#xA;&#xA;&#xA;&#xA;                        }&#xA;&#xA;                ).fail(&#xA;                        function (response) {&#xA;&#xA;                        }&#xA;                );&#xA;            }&#xA;        }).fail(function (response) {&#xA;            fullScreenLoader.stopLoader();&#xA;            totals.isLoading(false);&#xA;            errorProcessor.process(response, messageContainer);&#xA;        });&#xA;    };&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Controller&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public function execute()&#xA;    {&#xA;&#xA;        $data = $this-&amp;gt;_jsonHelper-&amp;gt;jsonDecode($this-&amp;gt;getRequest()-&amp;gt;getContent());&#xA;&#xA;        $quoteId = $data['quoteId'];&#xA;        $couponCode = $data['couponCode'];&#xA;echo $quoteId;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""59735"" LastEditorUserId=""17154"" LastEditDate=""2018-04-10T06:47:26.343"" LastActivityDate=""2020-04-14T21:23:42.473"" Title=""How to get the Quote Id from Masked Quote Id (QuoteIdMask) in magento 2"" Tags=""&lt;ajax&gt;&lt;quote&gt;&lt;knockoutjs&gt;&lt;magento2.2.2&gt;&lt;coupon&gt;"" AnswerCount=""2"" CommentCount=""0"" ContentLicense=""CC BY-SA 3.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""229860"" PostTypeId=""1"" CreationDate=""2018-06-13T15:33:46.293"" Score=""1"" ViewCount=""522"" Body=""&lt;p&gt;What i'm trying to do is as follows, we have different external content pages that have one or more of our products and need a simple &quot;add to cart&quot; button.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To accomplish this i want to use a ajax call that talks to the magento api with json following the dev site of magento: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://devdocs.magento.com/guides/v2.1/get-started/order-tutorial/order-add-items.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://devdocs.magento.com/guides/v2.1/get-started/order-tutorial/order-add-items.html&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Before i can add a product i need to create a cart (Quote id). So first i need to create a guest-cart and then add the products to cart, i have been able to do this in Postman but when i try this in a simple html page i'm getting errors...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm getting the following error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Failed to load https:///rest/V1/guest-carts: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '&lt;a href=&quot;http://localhost&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://localhost&lt;/a&gt;' is therefore not allowed access. The response had HTTP status code 404.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;My code is as follows:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    $(document).ready(function(){&#xA;        var settings = {&#xA;            &quot;async&quot;: true,&#xA;            &quot;crossDomain&quot;: true,&#xA;            &quot;url&quot;: &quot;https://&amp;lt;domain&amp;gt;/rest/V1/guest-carts&quot;,&#xA;            &quot;method&quot;: &quot;POST&quot;,&#xA;            &quot;contentType&quot;: &quot;application/json&quot;,&#xA;            &quot;headers&quot;: {&#xA;                // &quot;Content-Type&quot;: &quot;application/json&quot;,&#xA;                &quot;Accept&quot;: &quot;application/json&quot;,&#xA;                &quot;Cache-Control&quot;: &quot;no-cache&quot;&#xA;            }&#xA;        }&#xA;&#xA;        $(&quot;button&quot;).click(function(){&#xA;            $.ajax(settings).done(function (result) {&#xA;                console.log(result);&#xA;                alert(&quot;Awesome, it worked!&quot;);&#xA;            })&#xA;            .fail(function( status, errorThrown ) {&#xA;                alert( &quot;Sorry, there was a problem!&quot; );&#xA;                console.log( &quot;Error: &quot; + errorThrown );&#xA;                console.log( &quot;Status: &quot; + status );&#xA;            })&#xA;        });&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I found that CORS was giving issues with chrome and the server because it sends first a method OPTIONS to check if the server allows the method POST. So i added the code from this site: &lt;a href=&quot;https://gist.github.com/michiel/1064640&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://gist.github.com/michiel/1064640&lt;/a&gt; to the nginx config to allow OPTIONS, GET and POST. When i check in chrome at the Network tab i see that OPTIONS gives status code 204 back but the POST gets a 404 status code.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the part where i'm running out of options since i don't know what to do next. Hopefully you guys can point me in the right direction.&lt;/p&gt;&#xA;"" OwnerUserId=""68204"" LastEditorUserId=""33000"" LastEditDate=""2019-03-18T05:58:56.090"" LastActivityDate=""2019-03-18T05:58:56.090"" Title=""Ajax call getting CORS errors/conflicts"" Tags=""&lt;magento-2.1&gt;&lt;addtocart&gt;&lt;ajaxaddtocart&gt;&lt;cors&gt;"" AnswerCount=""0"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""241729"" PostTypeId=""1"" AcceptedAnswerId=""248551"" CreationDate=""2018-09-11T10:59:26.897"" Score=""1"" ViewCount=""1089"" Body=""&lt;p&gt;Using &lt;code&gt;Magento 2&lt;/code&gt;, &lt;code&gt;Ajax in phtml&lt;/code&gt;, &lt;code&gt;Admin&lt;/code&gt;. I got an error while trying to &lt;em&gt;request API&lt;/em&gt; by ajax from template of sale order page.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;AJAX&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;require(['jquery', 'domReady!'], function($){&#xA;    changeDriver = function () {&#xA;        var driverBase = 'https://127.0.0.1:445/index.php/rest/V1/driver'&#xA;        var data = {&quot;orderId&quot;: &quot;58&quot;, &quot;driverId&quot;: &quot;20&quot;};&#xA;        $.ajax({&#xA;            showLoader: true,&#xA;            url: driverBase,&#xA;            type: &quot;POST&quot;,&#xA;            data: data,&#xA;            dataType: 'json',&#xA;            contentType: &quot;application/json; charset=utf-8&quot;&#xA;&#xA;        }).done(function (data) {&#xA;            console.log(data);&#xA;            $('#driver_detail').html('Driver chnaged.');&#xA;&#xA;        }).fail(function (jqXhr) {&#xA;            console.log(jqXhr);&#xA;            $('#driver_detail').html('Cannot change driver.');&#xA;        });&#xA;    }&#xA;});&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Header&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;**General**&#xA;Request URL: https://127.0.0.1:445/index.php/rest/V1/driver/?isAjax=true&#xA;Request Method: POST&#xA;Status Code: 400 Bad Request&#xA;Remote Address: 127.0.0.1:445&#xA;Referrer Policy: no-referrer-when-downgrade&#xA;&#xA;**Request Payload**&#xA;orderId=58&amp;amp;driverId=20&amp;amp;form_key=AKlwzR4oQvfmyhzL&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Error&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;{&quot;message&quot;:&quot;Decoding error: \nUnable to unserialize value.\n#0 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Webapi/Rest/Request/Deserializer/Json.php(64): Magento\Framework\Serialize\Serializer\Json-&gt;unserialize('orderId=58&amp;amp;driv...')\n#1 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Webapi/Rest/Request.php(141): Magento\Framework\Webapi\Rest\Request\Deserializer\Json-&gt;deserialize('orderId=58&amp;amp;driv...')\n#2 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Webapi/Rest/Request.php(199): Magento\Framework\Webapi\Rest\Request-&gt;getBodyParams()\n#3 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/module-webapi/Controller/Rest/InputParamsResolver.php(97): Magento\Framework\Webapi\Rest\Request-&gt;getRequestData()\n#4 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/module-webapi/Controller/Rest.php(322): Magento\Webapi\Controller\Rest\InputParamsResolver-&gt;resolve()\n#5 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/module-webapi/Controller/Rest.php(239): Magento\Webapi\Controller\Rest-&gt;processApiRequest()\n#6 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Interception/Interceptor.php(58): Magento\Webapi\Controller\Rest-&gt;dispatch(Object(Magento\Framework\App\Request\Http))\n#7 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Interception/Interceptor.php(138): Magento\Webapi\Controller\Rest\Interceptor-&gt;___callParent('dispatch', Array)\n#8 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/Interception/Interceptor.php(153): Magento\Webapi\Controller\Rest\Interceptor-&gt;Magento\Framework\Interception\{closure}(Object(Magento\Framework\App\Request\Http))\n#9 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/generated/code/Magento/Webapi/Controller/Rest/Interceptor.php(39): Magento\Webapi\Controller\Rest\Interceptor-&gt;___callPlugins('dispatch', Array, Array)\n#10 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/App/Http.php(135): Magento\Webapi\Controller\Rest\Interceptor-&gt;dispatch(Object(Magento\Framework\App\Request\Http))\n#11 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/vendor/magento/framework/App/Bootstrap.php(256): Magento\Framework\App\Http-&gt;launch()\n#12 /home/dev/Work/Web_Application/SVN/driver-mage/esh_www/index.php(39): Magento\Framework\App\Bootstrap-&gt;run(Object(Magento\Framework\App\Http))\n#13 {main}&quot;,&quot;trace&quot;:null}&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;"" OwnerUserId=""62396"" LastActivityDate=""2018-10-31T10:05:03.613"" Title=""Magento 2, error 'unserialize value' when using Ajax in phtml in admin page"" Tags=""&lt;magento2.2&gt;&lt;adminhtml&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""255085"" PostTypeId=""1"" CreationDate=""2018-12-18T16:08:53.133"" Score=""0"" ViewCount=""1408"" Body=""&lt;p&gt;I made an ajax script to (at the moment) simply return some HTML to a select.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My function looks like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$.ajax({&#xA;    showLoader: true,&#xA;    data: {val: inputVal},&#xA;    /*dataType: 'json', (un)commenting this doesn't change anything*/&#xA;    url: '/garage/data/get',&#xA;    type: 'post',&#xA;    success: function(res) {console.log(res)},&#xA;    error: function(res) {console.log(res)}&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My Data/Get.php controller file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    namespace Vendor\Module\Controller\Data;&#xA;&#xA;    use Magento\Framework\App\Action\Context;&#xA;&#xA;    class Get extends \Magento\Framework\App\Action\Action&#xA;    {&#xA;       protected $resultJsonFactory;&#xA;&#xA;        public function __construct(&#xA;            Context $context,&#xA;            \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory&#xA;        )&#xA;        {&#xA;            $this-&amp;gt;resultJsonFactory = $resultJsonFactory;&#xA;            parent::__construct($context);&#xA;        }&#xA;&#xA;        public function execute()&#xA;        {&#xA;            $result = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;&#xA;            if ($this-&amp;gt;getRequest()-&amp;gt;isAjax()) {&#xA;               return '&amp;lt;option&amp;gt;treyBake was here&amp;lt;/option&amp;gt;';&#xA;            }&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Triggering the AJAX call returns this in console:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Error log record number: 1086239430194&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Going to that log shows:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;{&quot;0&quot;:&quot;Invalid return type&quot;,&quot;1&quot;:&quot;#0 /var/www/magento2-site/vendor/magento/framework/App/Bootstrap.php(256): Magento\Framework\App\Http-&gt;launch()\n#1 /var/www/unity/pub/index.php(41): Magento\Framework\App\Bootstrap-&gt;run(Object(Magento\Framework\App\Http\Interceptor))\n#2 {main}&quot;,&quot;url&quot;:&quot;/garage/data/get&quot;,&quot;script_name&quot;:&quot;/index.php&quot;}&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;The main error from that mess:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Invalid return type&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;How do I go about debugging/resolving this error?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; code I've tried:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Data/Get.php&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    namespace Vendor\Module\Controller\Data;&#xA;&#xA;    class Get extends \Magento\Framework\App\Action\Action&#xA;    {&#xA;        protected $resultJsonFactory;&#xA;        protected $resultFactory;&#xA;&#xA;        public function __construct(&#xA;            \Magento\Framework\App\Action\Context $context,&#xA;            \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory,&#xA;            \Magento\Framework\Controller\ResultFactory $resultFactory&#xA;        )&#xA;        {&#xA;            $this-&amp;gt;resultJsonFactory = $resultJsonFactory;&#xA;            $this-&amp;gt;resultFactory = $resultFactory;&#xA;&#xA;            parent::__construct($context);&#xA;        }&#xA;&#xA;        public function execute()&#xA;        {&#xA;            $result = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;            $response = '200';&#xA;&#xA;            $resultJson = $this-&amp;gt;resultFactory-&amp;gt;create(ResultFactory::TYPE_JSON);&#xA;            $resultJson-&amp;gt;setData($response);&#xA;&#xA;            return $resultJson;&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;With my js in my .phtml template file as:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    require(['jquery', 'module'], function($, script)&#xA;    {&#xA;        //&amp;lt;![CDATA[&#xA;        jQuery(document).ready(function($)&#xA;        {&#xA;            $('select.filter-select').change(function()&#xA;            {&#xA;                let ajaxReq,&#xA;                    value = $(this).val();&#xA;&#xA;                ajaxReq = $.ajax({&#xA;                    url: '&amp;lt;?php echo $block-&amp;gt;getUrl(&quot;module/data/get&quot;); ?&amp;gt;',&#xA;                    type: 'post',&#xA;                    showLoader: true,&#xA;                    data: {val: value}&#xA;                });&#xA;&#xA;                ajaxReq.done(function(res, txtStatus, jqXHR)&#xA;                {&#xA;                    console.log(res);&#xA;                });&#xA;&#xA;                ajaxReq.fail(function(XMLHttpRequest, txtStatus, err)&#xA;                {&#xA;                    console.log(XMLHttpRequest);&#xA;                    console.log(txtStatus);&#xA;                    console.log(err);&#xA;                });&#xA;            });&#xA;        });&#xA;        //]]&amp;gt;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This returns:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;h1&gt;There has been an error processing your request&lt;/h1&gt;&lt;p&gt;&lt;em&gt;Exception printing is disabled by default for security reasons.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;Error log record number: 616547725800&lt;/p&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Going to var/report/616547725800 shows:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;{&quot;0&quot;:&quot;Source class \&quot;\Vendor\Module\Controller\Data\Result\&quot; for \&quot;Vendor\Module\Controller\Data\ResultFactory\&quot; generation does not exist.&quot;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;This happens both &lt;strong&gt;before&lt;/strong&gt; and &lt;strong&gt;after&lt;/strong&gt; the below commands:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ php bin/magento setup:upgrade&#xA;$ php bin/magento setup:di:compile&#xA;$ php bin/magento setup:static-content:deploy -f&#xA;$ php bin/magento cache:flush&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""60362"" LastEditorUserId=""60362"" LastEditDate=""2018-12-19T15:23:42.640"" LastActivityDate=""2023-09-03T17:05:45.697"" Title=""Invalid Return Type in Ajax Call"" Tags=""&lt;magento2&gt;&lt;javascript&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""8"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""255238"" PostTypeId=""1"" AcceptedAnswerId=""255239"" CreationDate=""2018-12-19T15:34:58.043"" Score=""2"" ViewCount=""655"" Body=""&lt;p&gt;I have this code for a AJAX call:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Controller/Data/Get.php&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    namespace Vendor\Module\Controller\Data;&#xA;&#xA;    class Get extends \Magento\Framework\App\Action\Action&#xA;    {&#xA;        protected $resultJsonFactory;&#xA;        protected $resultFactory;&#xA;&#xA;        public function __construct(&#xA;            \Magento\Framework\App\Action\Context $context,&#xA;            \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory,&#xA;            \Magento\Framework\Controller\ResultFactory $resultFactory&#xA;        )&#xA;        {&#xA;            $this-&amp;gt;resultJsonFactory = $resultJsonFactory;&#xA;            $this-&amp;gt;resultFactory = $resultFactory;&#xA;&#xA;            parent::__construct($context);&#xA;        }&#xA;&#xA;        public function execute()&#xA;        {&#xA;            $result = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;            $response = '200';&#xA;&#xA;            $resultJson = $this-&amp;gt;resultFactory-&amp;gt;create(ResultFactory::TYPE_JSON);&#xA;            $resultJson-&amp;gt;setData($response);&#xA;&#xA;            return $resultJson;&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;With my js in my .phtml template file as:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#xA;    require(['jquery', 'module'], function($, script)&#xA;    {&#xA;        //&amp;lt;![CDATA[&#xA;        jQuery(document).ready(function($)&#xA;        {&#xA;            $('select.filter-select').change(function()&#xA;            {&#xA;                let ajaxReq,&#xA;                    value = $(this).val();&#xA;&#xA;                ajaxReq = $.ajax({&#xA;                    url: '&amp;lt;?php echo $block-&amp;gt;getUrl(&quot;module/data/get&quot;); ?&amp;gt;',&#xA;                    type: 'post',&#xA;                    showLoader: true,&#xA;                    data: {val: value}&#xA;                });&#xA;&#xA;                ajaxReq.done(function(res, txtStatus, jqXHR)&#xA;                {&#xA;                    console.log(res);&#xA;                });&#xA;&#xA;                ajaxReq.fail(function(XMLHttpRequest, txtStatus, err)&#xA;                {&#xA;                    console.log(XMLHttpRequest);&#xA;                    console.log(txtStatus);&#xA;                    console.log(err);&#xA;                });&#xA;            });&#xA;        });&#xA;        //]]&amp;gt;&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This returns:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;h1&gt;There has been an error processing your request&lt;/h1&gt;&lt;p&gt;&lt;em&gt;Exception printing is disabled by default for security reasons.&lt;/em&gt;&lt;/p&gt;&lt;p&gt;Error log record number: 616547725800&lt;/p&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Going to var/report/616547725800 shows:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;{&quot;0&quot;:&quot;Source class \&quot;\Vendor\Module\Controller\Data\Result\&quot; for \&quot;Vendor\Module\Controller\Data\ResultFactory\&quot; generation does not exist.&quot;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;This happens both &lt;strong&gt;before&lt;/strong&gt; and &lt;strong&gt;after&lt;/strong&gt; the below commands:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ php bin/magento setup:upgrade&#xA;$ php bin/magento setup:di:compile&#xA;$ php bin/magento setup:static-content:deploy -f&#xA;$ php bin/magento cache:flush&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What's wrong with my code? :(&lt;/p&gt;&#xA;"" OwnerUserId=""60362"" LastActivityDate=""2018-12-19T15:45:52.220"" Title=""Generation does not exist"" Tags=""&lt;magento2&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""269950"" PostTypeId=""1"" CreationDate=""2019-04-13T03:59:05.997"" Score=""1"" ViewCount=""843"" Body=""&lt;p&gt;I have a module that I need to do a php GET action and get some informations from php file. The problem is that the returned value is the Dashboard html.&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Faturamento/Controller/Adminhtml/Ac/Index.php&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;namespace PereiraTech\Faturamento\Controller\Adminhtml\Ac;&#xA;&#xA;use Magento\Backend\App\Action\Context;&#xA;use Magento\Framework\View\Result\PageFactory;&#xA;&#xA;class Index extends \Magento\Backend\App\Action&#xA;{&#xA;&#xA;    protected $resultPageFactory;&#xA;    public $_storeManager;&#xA;&#xA;&#xA;    public function __construct(&#xA;        \Magento\Backend\App\Action\Context $context,&#xA;        \Magento\Framework\View\Result\PageFactory $resultPageFactory,&#xA;&#xA;        \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory&#xA;&#xA;    ) {&#xA;        parent::__construct($context);&#xA;        $this-&amp;gt;resultPageFactory = $resultPageFactory;    &#xA;        $this-&amp;gt;resultJsonFactory = $resultJsonFactory;&#xA;&#xA;    }&#xA;&#xA;    /**&#xA;     * Load the page defined in view/adminhtml/layout/exampleadminnewpage_helloworld_index.xml&#xA;     *&#xA;     * @return \Magento\Framework\View\Result\Page&#xA;     */&#xA;    public function execute()&#xA;    {&#xA;&#xA;&#xA;        $params = $this-&amp;gt;getRequest()-&amp;gt;getParams();&#xA;&#xA;        //Send response to Ajax query&#xA;        $data = 200;&#xA;        $result = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;        return $result-&amp;gt;setData($data);&#xA;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Faturamento/view/adminhtml/web/js/form/element/options.js&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;## Heading ##define([      &#xA;    'jquery',&#xA;    'uiRegistry',  &#xA;    'Magento_Ui/js/form/components/button',&#xA;    'Magento_Ui/js/modal/modal'&#xA;], function ($,uiRegistry, select, modal) {&#xA;    'use strict';&#xA;&#xA;    return select.extend({&#xA;&#xA;&#xA;    action: function(){            &#xA;            var ajaxRequest;&#xA;            ajaxRequest = jQuery.ajax({&#xA;                url: &quot;faturamento_fat/Ac/Index&quot;,&#xA;                type: 'GET',&#xA;                data: {id : 1, form_key: window.FORM_KEY}, //exemple&#xA;                beforeSend: function () {&#xA;&#xA;                }&#xA;            });&#xA;                //Show successfully for submit message&#xA;            ajaxRequest.done(function (response, textStatus, jqXHR) {&#xA;                console.log(textStatus);&#xA;                console.log(response);&#xA;            });&#xA;&#xA;                //On failure of request this function will be called&#xA;            ajaxRequest.fail(function (xhr, status, error) {&#xA;                console.log(status);&#xA;                console.log(error);&#xA;                console.log(xhr.responseText);&#xA;                //show error&#xA;                console.log('rou');&#xA;            });&#xA;            return this._super();&#xA;        },&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;routes.xml&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;&#xA;&amp;lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;urn:magento:framework:App/etc/routes.xsd&quot;&amp;gt;&#xA;    &amp;lt;router id=&quot;admin&quot;&amp;gt;&#xA;        &amp;lt;route id=&quot;faturamento_fat&quot; frontName=&quot;faturamento_fat&quot;&amp;gt;&#xA;            &amp;lt;module name=&quot;PereiraTech_Faturamento&quot;/&amp;gt;&#xA;        &amp;lt;/route&amp;gt;&#xA;    &amp;lt;/router&amp;gt;&#xA;&amp;lt;/config&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""78419"" LastActivityDate=""2019-04-13T03:59:05.997"" Title=""AJAX call returns the same page html"" Tags=""&lt;magento2&gt;&lt;php&gt;&lt;javascript&gt;&lt;adminhtml&gt;&lt;ajax&gt;"" AnswerCount=""0"" CommentCount=""4"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""270000"" PostTypeId=""1"" CreationDate=""2019-04-14T03:01:43.387"" Score=""2"" ViewCount=""1281"" Body=""&lt;p&gt;I've a form that performs an Ajax call to a controller, but the response always is &lt;code&gt;You entered an invalid Secret Key. Please refresh the page.&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;PereiraTech/Faturamento/Controller/Adminhtml/Ac/Index.php&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;namespace PereiraTech\Faturamento\Controller\Adminhtml\Ac;&#xA;&#xA;class Index extends \Magento\Backend\App\Action&#xA;{&#xA;    /**&#xA;     * @var \Magento\Framework\Controller\Result\JsonFactory&#xA;     */&#xA;    protected $resultJsonFactory;&#xA;&#xA;public function __construct(&#xA;        \Magento\Backend\App\Action\Context $context,&#xA;        \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory &#xA;        )&#xA;    {&#xA;        parent::__construct($context);&#xA;        $this-&amp;gt;resultFactory = $resultJsonFactory;&#xA;    }&#xA;&#xA;    public function execute()&#xA;    {&#xA;        return $this-&amp;gt;resultJsonFactory-&amp;gt;create()-&amp;gt;setData(['a' =&amp;gt; 'b']);&#xA;        //return 'test string';&#xA;    }&#xA;&#xA;    public function indexAction(){&#xA;&#xA;        //echo 'test string';&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;PereiraTech/Faturamento/view/adminhtml/web/js/form/element/options.js&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;define([      &#xA;    'jquery',&#xA;    'uiRegistry',  &#xA;    'Magento_Ui/js/form/components/button',&#xA;    'Magento_Ui/js/modal/modal'&#xA;], function ($,uiRegistry, select, modal) {&#xA;    'use strict';&#xA;&#xA;    return select.extend({&#xA;&#xA;&#xA;    action: function(){            &#xA;            var ajaxRequest;&#xA;            var param = 'ajax=1';&#xA;            ajaxRequest = jQuery.ajax({                &#xA;                url: &quot;http://localhost/magento/admin_ptech/faturamento_fat/ac/index&quot;,&#xA;                type: 'GET',&#xA;                data: {param, form_key: window.FORM_KEY},&#xA;                dataType: 'json'&#xA;            });&#xA;                //Show successfully for submit message&#xA;            ajaxRequest.done(function (response, textStatus, jqXHR) {&#xA;                console.log(textStatus);&#xA;                console.log(response);&#xA;            });&#xA;&#xA;                //On failure of request this function will be called&#xA;            ajaxRequest.fail(function (xhr, status, error) {&#xA;                console.log(status);&#xA;                console.log(error);&#xA;                console.log(xhr.responseText);&#xA;                //show error&#xA;                console.log('rou');&#xA;            });&#xA;            return this._super();&#xA;        },&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;routes.xml&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;&#xA;&amp;lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;urn:magento:framework:App/etc/routes.xsd&quot;&amp;gt;&#xA;    &amp;lt;router id=&quot;admin&quot;&amp;gt;&#xA;        &amp;lt;route id=&quot;faturamento_fat&quot; frontName=&quot;faturamento_fat&quot;&amp;gt;&#xA;            &amp;lt;module name=&quot;PereiraTech_Faturamento&quot;/&amp;gt;&#xA;        &amp;lt;/route&amp;gt;&#xA;    &amp;lt;/router&amp;gt;&#xA;&amp;lt;/config&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;If I call just &lt;code&gt;/faturamento_fat/ac/index/&lt;/code&gt; I receive the dashboard html, so I've put the full url to post method.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; If I change from GET to POST, the returned value is a 500 Internal server error problem&lt;/p&gt;&#xA;"" OwnerUserId=""78419"" LastEditorUserId=""78419"" LastEditDate=""2019-04-14T13:53:51.180"" LastActivityDate=""2019-04-14T18:37:09.313"" Title=""Magento 2 secret key problem"" Tags=""&lt;magento2&gt;&lt;admin&gt;&lt;javascript&gt;&lt;controllers&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""299174"" PostTypeId=""1"" CreationDate=""2019-12-18T22:24:44.887"" Score=""0"" ViewCount=""231"" Body=""&lt;p&gt;I have seen several examples where JSON is returned from a custom controller. I have tried many different ways and every time my controller always returns HTML. I do not know why it does not work.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My Controller:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;namespace Test\Module\Controller\Index;&#xA;&#xA;use Magento\Framework\App\Action\Context; use Magento\Framework\Controller\ResultFactory;&#xA;&#xA;class Test extends \Magento\Framework\App\Action\Action {&#xA;&#xA; /* @var \Magento\Framework\Controller\Result\JsonFactory   */    &#xA;&#xA;  private $resultJsonFactory;&#xA;&#xA;  public function __construct(&#xA;    \Magento\Backend\App\Action\Context $context,&#xA;    \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory   ) {&#xA;    parent::__construct($context);&#xA;    $this-&amp;gt;resultJsonFactory = $resultJsonFactory;   }&#xA;&#xA;    public function execute() {&#xA;    $response['status'] = &quot;SUCCESS&quot;;&#xA;&#xA;    $resultJson = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;    $resultJson-&amp;gt;setData($response); // array value set in Json Result Data set&#xA;&#xA;    return $resultJson; // return json object&#xA;    } }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I am calling the controller with Ajax. My Ajax request:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  function ajaxRequest() {&#xA;    try {&#xA;      jQuery.ajax({&#xA;        url: 'my-controller-url',&#xA;        dataType: &quot;json&quot;,&#xA;        type: &quot;POST&quot;,&#xA;        data: data.cart })&#xA;      .done(function( json ) {&#xA;        if (json.status === &quot;SUCCESS&quot;) {&#xA;          toggleConfirmOverlay();&#xA;          progress[data.currentSection].className = 'done';&#xA;          displayPopupCart();&#xA;        } else {&#xA;          alert( &quot;Sorry, there was a problem!&quot; );&#xA;          console.log(json.error);&#xA;        }&#xA;      })&#xA;      .fail(function( xhr, status, errorThrown) {&#xA;        alert( &quot;Sorry, there was a problem!&quot; );&#xA;        console.log( &quot;Error: &quot; + errorThrown );&#xA;        console.log( &quot;Status: &quot; + status );&#xA;        console.dir( xhr );&#xA;      })&#xA;      .always(function( xhr, status ) { //        toggleSpinner();&#xA;      });&#xA;    } catch (e) {&#xA;      console.log('error: ' + e);&#xA;    }   }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In the JS console I receive an error that JSON cannot be decoded. Inspecting the result shows a full HTML page with navigation.&lt;/p&gt;&#xA;"" OwnerUserId=""85056"" LastEditorUserId=""29175"" LastEditDate=""2019-12-18T22:32:49.623"" LastActivityDate=""2020-02-20T18:26:28.390"" Title=""Cannot get JSON response from custom controller"" Tags=""&lt;magento2.3&gt;&lt;ajax&gt;"" AnswerCount=""1"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""309839"" PostTypeId=""1"" CreationDate=""2020-04-07T10:54:52.617"" Score=""0"" ViewCount=""68"" Body=""&lt;p&gt;In order to be able to load the product list according to the customers' selection, I tried to use an Ajax query. However, I have the problem that I do not receive the response from my controller. The query works, but I only get the current page as HTML code. Maybe one more important information: Via CMS I call the block as follows: &lt;code&gt;{{block class=&quot;VenSum\ModSum\Block\Index&quot; template=&quot;VenSum_ModSum::index.phtml&quot;}}&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;index.phtml: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;&#xA;    require(['jquery', 'jquery/ui'],function($) {&#xA;        $(document).ready(function () {&#xA;            var categoryid = 3;&#xA;            $.ajax({&#xA;                url: myurl,&#xA;                type: &quot;POST&quot;,&#xA;                data: {data: &quot;hi&quot;},&#xA;                //dataType: 'json', &amp;lt;- does not work with it&#xA;                success: function (msg) {&#xA;                    console.log(&quot;Works: &quot;);&#xA;                    console.log(msg);&#xA;                },&#xA;                error : function(jqXHR, textStatus, errorThrown)&#xA;                {&#xA;                    console.log(&quot;Error Status: &quot; + jqXHR.status + &quot; ------- &quot; + textStatus + &quot;---------- &quot; + errorThrown);&#xA;                }&#xA;            }).done(function (msg){&#xA;                console.log(&quot;Done: &quot;);&#xA;                console.log(msg);&#xA;            }).fail(function (response){&#xA;                console.log(&quot;Fail: &quot;);&#xA;                console.log(response);&#xA;            });&#xA;        });&#xA;    });&#xA;&amp;lt;/script&amp;gt;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;controller: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;namespace VenSum\ModSum\Controller\Index;&#xA;&#xA;use Magento\Framework\App\Action\Context;&#xA;use Magento\Framework\App\Action\Action;&#xA;&#xA;class Index extends Action&#xA;{&#xA;    protected $resultJsonFactory;&#xA;    public function __construct(&#xA;        Context $context,&#xA;        \Magento\Framework\Controller\Result\JsonFactory $resultJsonFactory&#xA;    ) {&#xA;        $this-&amp;gt;resultJsonFactory = $resultJsonFactory;&#xA;        parent::__construct($context);&#xA;    }&#xA;&#xA;&#xA;    public function execute()&#xA;    {&#xA;&#xA;        $result = $this-&amp;gt;resultJsonFactory-&amp;gt;create();&#xA;        if ($this-&amp;gt;getRequest()-&amp;gt;isAjax())&#xA;        {&#xA;            $test=Array&#xA;            (&#xA;                'Firstname' =&amp;gt; 'What is your firstname',&#xA;                'Email' =&amp;gt; 'What is your emailId',&#xA;                'Lastname' =&amp;gt; 'What is your lastname',&#xA;                'Country' =&amp;gt; 'Your Country'&#xA;            );&#xA;            return $result-&amp;gt;setData($test);&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I hope you have an idea...&lt;/p&gt;&#xA;"" OwnerUserId=""86418"" LastActivityDate=""2020-04-07T10:54:52.617"" Title=""PHTML receives no response from the Ajax Controller"" Tags=""&lt;blocks&gt;&lt;controllers&gt;&lt;ajax&gt;&lt;cms&gt;"" AnswerCount=""0"" CommentCount=""5"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""314468"" PostTypeId=""1"" CreationDate=""2020-06-06T17:41:05.173"" Score=""1"" ViewCount=""237"" Body=""&lt;p&gt;I am implementing infinite scroll in a custom collection which is working perfectly but in my case when i filter out this collection and update collection item with ajax response still the previously binded event is calling along with updated bind event&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can i stop the previous event after ajax response?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&quot;dynamic-pager-autoloader&quot; id=&quot;testing&quot; data-mage-init=&quot;{Test_Test/js/lazyload : {page_url:{2:http:\/\/127.0.0.1\/Test\/test\/account\/index\/?job_name=TEST&amp;amp;p=2,3:http:\/\/127.0.0.1\/Test\/test\/account\/index\/?job_name=TEST&amp;amp;p=3},current_page:1,last_page:3,list_wrapper:.quotes-history,padding:200,auto_trigger:true,trigger_element:.dynamic-pager-lazyload-trigger}}&quot;&amp;gt;&#xA;    &amp;lt;button class=&quot;dynamic-pager-lazyload-trigger dynamic-pager-hide-onload action primary&quot; title=&quot;See more&quot; type=&quot;button&quot; style=&quot;display: inline-block;&quot;&amp;gt; &amp;lt;span&amp;gt;See more&amp;lt;/span&amp;gt; &amp;lt;/button&amp;gt;&#xA;    &amp;lt;img class=&quot;posts-loader dynamic-pager-show-onload&quot; src=&quot;http://127.0.0.1/Test/pub/static/version1591285806/frontend/Procraft/dealerportal/en_US/images/loader-2.gif&quot; alt=&quot;Posts loader&quot; style=&quot;display: none;&quot;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Here is my lazyload.js code&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;define(['domReady!', 'jquery'], function(domReady, $) &#xA;{&#xA;'use strict';&#xA;&#xA;var Lazyload = function (options) &#xA;{&#xA;    var that = this;&#xA;&#xA;    /**&#xA;    * Lazyload default options.&#xA;    * @type {Object}&#xA;    */&#xA;    that.defaults = &#xA;    {&#xA;        expires: null,&#xA;        path: '/',&#xA;        domain: null,&#xA;        secure: false,&#xA;        lifetime: null&#xA;    };&#xA;&#xA;     /**&#xA;     * Init options&#xA;     * @type {Object}&#xA;     */&#xA;     that.opt = $.extend(that.default, options);&#xA;     console.log(that.opt);&#xA;&#xA;     /**&#xA;     * Load new content&#xA;     */&#xA;     function startLoading()&#xA;     {&#xA;        if (that.opt.current_page &amp;lt; that.opt.last_page &amp;amp;&amp;amp; !that.loading) &#xA;        {&#xA;            that.loading = true;&#xA;            $('.dynamic-pager-show-onload').show();&#xA;            $('.dynamic-pager-hide-onload').hide();&#xA;&#xA;            console.log(that.opt.page_url[that.opt.current_page+1]);&#xA;&#xA;            $.ajax(&#xA;            {&#xA;                &quot;url&quot;:that.opt.page_url[that.opt.current_page+1],&#xA;                &quot;cache&quot;:true&#xA;            }).success(function (data) &#xA;            {&#xA;                var $html = $(data);&#xA;                var ws = that.opt.list_wrapper;&#xA;                var $nw = $html.find(ws);&#xA;                if ($nw.length) &#xA;                {&#xA;                    $(ws).append($nw.html());&#xA;                    that.opt.current_page++;&#xA;                }&#xA;&#xA;                endLoading();&#xA;&#xA;            }).fail(function (xhr, ajaxOptions, thrownError) &#xA;            {&#xA;                console.log(thrownError);&#xA;                endLoading();&#xA;            });&#xA;        }&#xA;    }&#xA;&#xA;    /**&#xA;     * On loading end&#xA;     */&#xA;     function endLoading()&#xA;     {&#xA;        that.loading = false;&#xA;        $('.dynamic-pager-show-onload').hide();&#xA;        if (that.opt.current_page &amp;lt; that.opt.last_page) &#xA;        {&#xA;            $('.dynamic-pager-hide-onload').show();&#xA;        }&#xA;    }&#xA;&#xA;    /* Is not loading now */&#xA;    endLoading();&#xA;&#xA;    /* If auto trigger enabled */&#xA;    if (that.opt.auto_trigger) &#xA;    {&#xA;        var $w = $(window);&#xA;        $w.scroll(function () &#xA;        {&#xA;            if ($w.scrollTop() + $w.height() &amp;gt;= $(that.opt.trigger_element).offset().top - that.opt.padding) &#xA;            {&#xA;                startLoading();&#xA;            }&#xA;        });&#xA;    }&#xA;&#xA;    /* On trigger element click */&#xA;    if (that.opt.trigger_element) &#xA;    {&#xA;        $(that.opt.trigger_element).click(function () &#xA;        {&#xA;            startLoading();&#xA;        });&#xA;    }&#xA;};&#xA;&#xA;return function (options) &#xA;{&#xA;    new Lazyload(options)&#xA;};&#xA;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""66058"" LastActivityDate=""2020-06-06T17:41:05.173"" Title=""How can i Stop calling event bind with data-mage-init"" Tags=""&lt;magento2.3&gt;&lt;ajax&gt;&lt;knockoutjs&gt;&lt;knockout&gt;&lt;lazyload&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""320592"" PostTypeId=""1"" CreationDate=""2020-08-24T12:14:33.700"" Score=""0"" ViewCount=""1095"" Body=""&lt;p&gt;I have created some steps in magento 2 on saving the data an ajax is fired.&#xA;I want to show loader between start and complete process how to i achieve that.&lt;/p&gt;&#xA;&lt;p&gt;My JS file for saving the data is :&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;define(&#xA;[&#xA;    'jquery',&#xA;    'Magento_Checkout/js/model/quote',&#xA;    'Magento_Checkout/js/model/url-builder',&#xA;    'Magento_Checkout/js/model/error-processor',&#xA;    'mage/url'&#xA;],&#xA;function ($, quote, urlBuilder, errorProcessor, urlFormatter) {&#xA;'use strict';&#xA;&#xA;return {&#xA;    /**&#xA;     * Save SimpleNote ibn the quote&#xA;     *&#xA;     * @param simpleNote&#xA;     */&#xA;    $('body').trigger('processStart');&#xA;    save: function (simpleNote) {&#xA;        if (simpleNote) {&#xA;            var quoteId = quote.getQuoteId();&#xA;            var url;&#xA;&#xA;            url = urlBuilder.createUrl('/carts/mine/set-simple-note', {});&#xA;&#xA;            var payload = {&#xA;                cartId: quoteId,&#xA;                simpleNote: {&#xA;                    simpleNote: simpleNote&#xA;                }&#xA;            };&#xA;&#xA;            if (!payload.simpleNote.simpleNote) {&#xA;&#xA;                return true;&#xA;            }&#xA;&#xA;            var result = true;&#xA;&#xA;            $.ajax({&#xA;                url: urlFormatter.build(url),&#xA;                data: JSON.stringify(payload),&#xA;                global: false,&#xA;                contentType: 'application/json',&#xA;                type: 'PUT',&#xA;                async: false&#xA;            }).done(&#xA;                function (response) {&#xA;                    result = true;&#xA;                    $('body').trigger('processStop');&#xA;                }&#xA;            ).fail(&#xA;                function (response) {&#xA;                    result = false;&#xA;                    errorProcessor.process(response);&#xA;                    $('body').trigger('processStop');&#xA;                }&#xA;            );&#xA;&#xA;            return result;&#xA;        }&#xA;    }&#xA;};&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""77392"" LastEditorUserId=""77392"" LastEditDate=""2020-08-24T15:43:57.397"" LastActivityDate=""2020-08-25T08:07:15.070"" Title=""How to show loader on custom checkout page in Magento 2?"" Tags=""&lt;magento2&gt;&lt;javascript&gt;&lt;ajax&gt;&lt;loader&gt;&lt;savedata&gt;"" AnswerCount=""2"" CommentCount=""2"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""325093"" PostTypeId=""1"" CreationDate=""2020-10-24T23:47:00.003"" Score=""0"" ViewCount=""1416"" Body=""&lt;p&gt;I am going crazy with knockout on Magento 2, I am new to knockout and I cannot understand what I am doing wrong. I know there are some related questions posted there but each one is different from what I need. I checked all questions posted before, all links on google, still cannot understand why is not working.&lt;/p&gt;&#xA;&lt;p&gt;I am trying to retrieve the shipping data on product page on Magento 2 and append them with foreach inside template.&lt;/p&gt;&#xA;&lt;p&gt;That is what I have until now:&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;calculate.js&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;define([&#xA;    'jquery',&#xA;    'mage/translate',&#xA;    'mage/storage',&#xA;    'mageUtils',&#xA;    'uiComponent',&#xA;    'ko'&#xA;], function (&#xA;    $,&#xA;    $t,&#xA;    storage,&#xA;    utils,&#xA;    Component,&#xA;    ko&#xA;) {&#xA;&#xA;    return Component.extend({&#xA;&#xA;        defaults: {&#xA;            carrier: null&#xA;        },&#xA;        initialize: function (config) {&#xA;            var self = this;&#xA;            this._super();&#xA;            this.carrier = ko.observable();&#xA;            this.carrier_f(this.sku);&#xA;            return this;&#xA;        },&#xA;        carrier_f: function (sku) {&#xA;            var address;&#xA;            var postcode;&#xA;            var myViewModel;&#xA;            var carrier_view = {};&#xA;&#xA;            var serviceUrlCreate, serviceUrl, payload;&#xA;            /**&#xA;             * Save  values .&#xA;             */&#xA;            serviceUrl = '/rest/V1/working_function/' + sku;&#xA;            payload = JSON.stringify({&#xA;                    address: {&#xA;                        'city': '',&#xA;                        'region_id': '569',&#xA;                        'country_id': 'US',&#xA;                        'postcode': '',&#xA;                    }&#xA;                }&#xA;            );&#xA;            storage.post(&#xA;                serviceUrl,&#xA;                payload&#xA;            ).done(function (response) {&#xA;                this.carrier = ko.observable();&#xA;&#xA;                var carrier_view = {&#xA;                    'carrier': this.response&#xA;                };&#xA;&#xA;&#xA;                ko.cleanNode($('#shipping_results')[0]);&#xA;                ko.applyBindings(carrier_view, $('#shipping_results')[0]);&#xA;&#xA;                console.log(response);&#xA;&#xA;            }).fail(function (response) {&#xA;                console.log(response);&#xA;            });&#xA;&#xA;        },&#xA;&#xA;        checkShipping: function () {&#xA;&#xA;            console.log(this.sku);&#xA;            &#xA;            this.carrier_f(this.sku);&#xA;        }&#xA;        &#xA;    });&#xA;    &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;form.phtml&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;div data-bind=&amp;quot;scope: 'shipping_estimate'&amp;quot;&amp;gt;&#xA;    &amp;lt;ul id=&amp;quot;shipping_results&amp;quot; data-bind=&amp;quot;foreach: carrier&amp;quot;&amp;gt;&#xA;        &amp;lt;li&amp;gt;&#xA;            &amp;lt;span data-bind=&amp;quot;text: carrier_title&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&#xA;        &amp;lt;/li&amp;gt;&#xA;    &amp;lt;/ul&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;    &amp;lt;button data-bind=&amp;quot;click: checkShipping&amp;quot; class=&amp;quot;btn-estimate&amp;quot;&amp;gt;Check&amp;lt;/button&amp;gt;&#xA;&#xA;    &amp;lt;script type=&amp;quot;text/x-magento-init&amp;quot;&amp;gt;&#xA;                                       {&#xA;                                          &amp;quot;*&amp;quot;: {&#xA;                                                  &amp;quot;Magento_Ui/js/core/app&amp;quot;: {&#xA;                                                         &amp;quot;components&amp;quot;: {&#xA;                                                             &amp;quot;shipping_estimate&amp;quot;: {&#xA;                                                                  &amp;quot;component&amp;quot;: &amp;quot;Vendor_Name/js/calculate&amp;quot;,&#xA;                                                                  &amp;quot;sku&amp;quot;: &amp;quot;&amp;lt;?= $block-&amp;gt;getProduct()-&amp;gt;getSku(); ?&amp;gt;&amp;quot;&#xA;                                                              }&#xA;                                                         }&#xA;                                                   }&#xA;                                             }&#xA;                                        }                                  &#xA;    &amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Ajax Response is like that:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/UcV45.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/UcV45.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;So basically I need to get results on page load and also when click the Check Button (I will add some textbox after), but now there are not results inside, just empty response.&lt;/p&gt;&#xA;&lt;p&gt;I tried everything, but still not found a solution, the only thing seems working is to change the scope to &amp;quot;anything-else&amp;quot;, then the foreach is working, but the click event is not called.&lt;/p&gt;&#xA;&lt;p&gt;If anyone has the patience to explain me what I am doing wrong I would really appreciate it. Thank you&lt;/p&gt;&#xA;"" OwnerUserId=""45358"" LastActivityDate=""2023-09-19T23:06:30.753"" Title=""Magento 2 Knockout bind on ajax response"" Tags=""&lt;template&gt;&lt;ajax&gt;&lt;knockoutjs&gt;&lt;magento2.4&gt;&lt;knockout&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""326767"" PostTypeId=""1"" CreationDate=""2020-11-23T00:53:53.790"" Score=""0"" ViewCount=""360"" Body=""&lt;p&gt;I'm trying to send a form from a modal and also an image from that form.&lt;/p&gt;&#xA;&lt;p&gt;the form_data works fine with only serialize(), but I need to attach the image to data, so I did this:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;   click: function (data) {&#xA;                    var form_data = new FormData();&#xA;                    var form = $(&amp;quot;#bss-refund-form&amp;quot;).serialize();&#xA;&#xA;                    form_data.append('form', form);&#xA;                   &#xA;                &#xA;                    $.each($('#evidence')[0].files, function(i, file) {&#xA;                        form_data.append('evidence', file);&#xA;                       });&#xA;&#xA;                    &#xA;&#xA;                    if($('#bss-refund-form').valid()) {&#xA;&#xA;                        $.ajax({&#xA;                            showLoader: true,&#xA;                            url: url,&#xA;                            type: 'POST',&#xA;                            data: form_data,&#xA;                            processData: false,&#xA;                            contentType: false&#xA;                        })&#xA;                            .done(function () {&#xA;                                $(&amp;quot;#bss-refund-modal&amp;quot;).modal('closeModal');&#xA;                                $(&amp;quot;#bss-refund-form&amp;quot;)[0].reset();&#xA;                                location.reload(true);&#xA;                                console.log(&amp;quot;ok&amp;quot; + form_data);&#xA;&#xA;                            })&#xA;                            .fail(function () {&#xA;                                $(&amp;quot;#bss-refund-modal&amp;quot;).modal('closeModal');&#xA;                                console.log(&amp;quot;bad&amp;quot; + form_data);&#xA;                            });&#xA;                    }&#xA;                }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;in the Controller here is the form_key validation.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;if (!$this-&amp;gt;formKeyValidator-&amp;gt;validate($this-&amp;gt;getRequest())) {&#xA;            $this-&amp;gt;messageManager-&amp;gt;addErrorMessage(&amp;quot;Invalid request!&amp;quot;);&#xA;            return $resultRedirect-&amp;gt;setPath('customer/account/');&#xA;        }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""80988"" LastActivityDate=""2021-09-22T16:10:40.403"" Title=""Magento 2 Ajax form key invalid request"" Tags=""&lt;magento2&gt;&lt;ajax&gt;&lt;form-validation&gt;"" AnswerCount=""1"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""335240"" PostTypeId=""1"" CreationDate=""2021-04-07T12:21:04.133"" Score=""1"" ViewCount=""458"" Body=""&lt;p&gt;I am using the following module for minicart qty increment and decrement,&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://github.com/kirtinariya1/MinicartAjaxQtyIncrementDecrement&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://github.com/kirtinariya1/MinicartAjaxQtyIncrementDecrement&lt;/a&gt;,&lt;/p&gt;&#xA;&lt;p&gt;error :&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/muemX.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/muemX.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/0oCPR.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/0oCPR.png&quot; alt=&quot;enter image description here&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Custom Module:&lt;/p&gt;&#xA;&lt;p&gt;Path : app\code\Zero\MinicartQty\view\frontend\web\js\sidebar.js&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;define([&#xA;    'jquery',&#xA;    'Magento_Customer/js/model/authentication-popup',&#xA;    'Magento_Customer/js/customer-data',&#xA;    'Magento_Ui/js/modal/alert',&#xA;    'Magento_Ui/js/modal/confirm',&#xA;    'underscore',&#xA;    'jquery/ui',&#xA;    'mage/decorate',&#xA;    'mage/collapsible',&#xA;    'mage/cookies',&#xA;    'loader'&#xA;], function ($, authenticationPopup, customerData, alert, confirm, _) {&#xA;    'use strict';&#xA;&#xA;    return function (widget) {&#xA;&#xA;        $.widget('mage.sidebar', widget, {&#xA;&#xA;            _updateItemQty: function (elem) {&#xA;                var itemId = elem.data('cart-item');&#xA;&#xA;                var btnplus = elem.data('btn-plus');&#xA;                var btnminus = elem.data('btn-minus');&#xA;&#xA;                this._ajax(this.options.url.update, {&#xA;                    'item_id': itemId,&#xA;                    'item_qty': $('#cart-item-' + itemId + '-qty').val(),&#xA;                    'item_btn_plus': btnplus,&#xA;                    'item_btn_minus': btnminus,&#xA;                }, elem, this._updateItemQtyAfter);&#xA;                // this._customerData();&#xA;            },&#xA;&#xA;&#xA;       /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;        _hideItemButton: function (elem) {&#xA;            var itemId = elem.data('cart-item');&#xA;&#xA;            $('#update-cart-item-' + itemId).hide('fade', 300);&#xA;        },&#xA;&#xA;                /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;                 _removeItem: function (elem) {&#xA;                    var itemId = elem.data('cart-item');&#xA;        &#xA;                    this._ajax(this.options.url.remove, {&#xA;                        'item_id': itemId&#xA;                    }, elem, this._removeItemAfter);&#xA;                },&#xA;&#xA;        &#xA;        /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;         _showItemButton: function (elem) {&#xA;            var itemId = elem.data('cart-item'),&#xA;                itemQty = elem.data('item-qty');&#xA;&#xA;            if (this._isValidQty(itemQty, elem.val())) {&#xA;                $('#update-cart-item-' + itemId).show('fade', 300);&#xA;            } else if (elem.val() == 0) { //eslint-disable-line eqeqeq&#xA;                this._hideItemButton(elem);&#xA;            } else {&#xA;                this._hideItemButton(elem);&#xA;            }&#xA;        },&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;            /**&#xA;             * Update content after update qty&#xA;             *&#xA;             * @param {HTMLElement} elem&#xA;             */&#xA;            _updateItemQtyAfter: function (elem) {&#xA;                var productData = this._getProductById(Number(elem.data('cart-item')));&#xA;&#xA;                if (!_.isUndefined(productData)) {&#xA;                    $(document).trigger('ajax:updateCartItemQty');&#xA;&#xA;                    if (window.location.href === this.shoppingCartUrl) {&#xA;                        window.location.reload(false);&#xA;                    }&#xA;                }&#xA;                // this._hideItemButton(elem);&#xA;                this._customerData();&#xA;            },&#xA;&#xA;            _customerData : function ()  {&#xA;                var sections = ['cart'];&#xA;                customerData.invalidate(sections);&#xA;                customerData.reload(sections, true);&#xA;                this._hideItemButton();&#xA;            }&#xA;&#xA;        });&#xA;        return $.mage.sidebar;&#xA;    }&#xA;    &#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Core file :&lt;/p&gt;&#xA;&lt;p&gt;vendor\magento\module-checkout\view\frontend\web\js\sidebar.js&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;/**&#xA; * Copyright © Magento, Inc. All rights reserved.&#xA; * See COPYING.txt for license details.&#xA; */&#xA;&#xA;define([&#xA;    'jquery',&#xA;    'Magento_Customer/js/model/authentication-popup',&#xA;    'Magento_Customer/js/customer-data',&#xA;    'Magento_Ui/js/modal/alert',&#xA;    'Magento_Ui/js/modal/confirm',&#xA;    'underscore',&#xA;    'jquery-ui-modules/widget',&#xA;    'mage/decorate',&#xA;    'mage/collapsible',&#xA;    'mage/cookies',&#xA;    'jquery-ui-modules/effect-fade'&#xA;], function ($, authenticationPopup, customerData, alert, confirm, _) {&#xA;    'use strict';&#xA;&#xA;    $.widget('mage.sidebar', {&#xA;        options: {&#xA;            isRecursive: true,&#xA;            minicart: {&#xA;                maxItemsVisible: 3&#xA;            }&#xA;        },&#xA;        scrollHeight: 0,&#xA;        shoppingCartUrl: window.checkout.shoppingCartUrl,&#xA;&#xA;        /**&#xA;         * Create sidebar.&#xA;         * @private&#xA;         */&#xA;        _create: function () {&#xA;            this._initContent();&#xA;        },&#xA;&#xA;        /**&#xA;         * Update sidebar block.&#xA;         */&#xA;        update: function () {&#xA;            $(this.options.targetElement).trigger('contentUpdated');&#xA;            this._calcHeight();&#xA;        },&#xA;&#xA;        /**&#xA;         * @private&#xA;         */&#xA;        _initContent: function () {&#xA;            var self = this,&#xA;                events = {};&#xA;&#xA;            this.element.decorate('list', this.options.isRecursive);&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['click ' + this.options.button.close] = function (event) {&#xA;                event.stopPropagation();&#xA;                $(self.options.targetElement).dropdownDialog('close');&#xA;            };&#xA;            events['click ' + this.options.button.checkout] = $.proxy(function () {&#xA;                var cart = customerData.get('cart'),&#xA;                    customer = customerData.get('customer'),&#xA;                    element = $(this.options.button.checkout);&#xA;&#xA;                if (!customer().firstname &amp;amp;&amp;amp; cart().isGuestCheckoutAllowed === false) {&#xA;                    // set URL for redirect on successful login/registration. It's postprocessed on backend.&#xA;                    $.cookie('login_redirect', this.options.url.checkout);&#xA;&#xA;                    if (this.options.url.isRedirectRequired) {&#xA;                        element.prop('disabled', true);&#xA;                        location.href = this.options.url.loginUrl;&#xA;                    } else {&#xA;                        authenticationPopup.showModal();&#xA;                    }&#xA;&#xA;                    return false;&#xA;                }&#xA;                element.prop('disabled', true);&#xA;                location.href = this.options.url.checkout;&#xA;            }, this);&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['click ' + this.options.button.remove] =  function (event) {&#xA;                event.stopPropagation();&#xA;                confirm({&#xA;                    content: self.options.confirmMessage,&#xA;                    actions: {&#xA;                        /** @inheritdoc */&#xA;                        confirm: function () {&#xA;                            self._removeItem($(event.currentTarget));&#xA;                        },&#xA;&#xA;                        /** @inheritdoc */&#xA;                        always: function (e) {&#xA;                            e.stopImmediatePropagation();&#xA;                        }&#xA;                    }&#xA;                });&#xA;            };&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['keyup ' + this.options.item.qty] = function (event) {&#xA;                self._showItemButton($(event.target));&#xA;            };&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['change ' + this.options.item.qty] = function (event) {&#xA;                self._showItemButton($(event.target));&#xA;            };&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['click ' + this.options.item.button] = function (event) {&#xA;                event.stopPropagation();&#xA;                self._updateItemQty($(event.currentTarget));&#xA;            };&#xA;&#xA;            /**&#xA;             * @param {jQuery.Event} event&#xA;             */&#xA;            events['focusout ' + this.options.item.qty] = function (event) {&#xA;                self._validateQty($(event.currentTarget));&#xA;            };&#xA;&#xA;            this._on(this.element, events);&#xA;            this._calcHeight();&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;        _showItemButton: function (elem) {&#xA;            var itemId = elem.data('cart-item'),&#xA;                itemQty = elem.data('item-qty');&#xA;&#xA;            if (this._isValidQty(itemQty, elem.val())) {&#xA;                $('#update-cart-item-' + itemId).show('fade', 300);&#xA;            } else if (elem.val() == 0) { //eslint-disable-line eqeqeq&#xA;                this._hideItemButton(elem);&#xA;            } else {&#xA;                this._hideItemButton(elem);&#xA;            }&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {*} origin - origin qty. 'data-item-qty' attribute.&#xA;         * @param {*} changed - new qty.&#xA;         * @returns {Boolean}&#xA;         * @private&#xA;         */&#xA;        _isValidQty: function (origin, changed) {&#xA;            return origin != changed &amp;amp;&amp;amp; //eslint-disable-line eqeqeq&#xA;                changed.length &amp;gt; 0 &amp;amp;&amp;amp;&#xA;                changed - 0 == changed &amp;amp;&amp;amp; //eslint-disable-line eqeqeq&#xA;                changed - 0 &amp;gt; 0;&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {Object} elem&#xA;         * @private&#xA;         */&#xA;        _validateQty: function (elem) {&#xA;            var itemQty = elem.data('item-qty');&#xA;&#xA;            if (!this._isValidQty(itemQty, elem.val())) {&#xA;                elem.val(itemQty);&#xA;            }&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;        _hideItemButton: function (elem) {&#xA;            var itemId = elem.data('cart-item');&#xA;&#xA;            $('#update-cart-item-' + itemId).hide('fade', 300);&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;        _updateItemQty: function (elem) {&#xA;            var itemId = elem.data('cart-item');&#xA;&#xA;            this._ajax(this.options.url.update, {&#xA;                'item_id': itemId,&#xA;                'item_qty': $('#cart-item-' + itemId + '-qty').val()&#xA;            }, elem, this._updateItemQtyAfter);&#xA;        },&#xA;&#xA;        /**&#xA;         * Update content after update qty&#xA;         *&#xA;         * @param {HTMLElement} elem&#xA;         */&#xA;        _updateItemQtyAfter: function (elem) {&#xA;            var productData = this._getProductById(Number(elem.data('cart-item')));&#xA;&#xA;            if (!_.isUndefined(productData)) {&#xA;                $(document).trigger('ajax:updateCartItemQty');&#xA;&#xA;                if (window.location.href === this.shoppingCartUrl) {&#xA;                    window.location.reload(false);&#xA;                }&#xA;            }&#xA;            this._hideItemButton(elem);&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {HTMLElement} elem&#xA;         * @private&#xA;         */&#xA;        _removeItem: function (elem) {&#xA;            var itemId = elem.data('cart-item');&#xA;&#xA;            this._ajax(this.options.url.remove, {&#xA;                'item_id': itemId&#xA;            }, elem, this._removeItemAfter);&#xA;        },&#xA;&#xA;        /**&#xA;         * Update content after item remove&#xA;         *&#xA;         * @param {Object} elem&#xA;         * @private&#xA;         */&#xA;        _removeItemAfter: function (elem) {&#xA;            var productData = this._getProductById(Number(elem.data('cart-item')));&#xA;&#xA;            if (!_.isUndefined(productData)) {&#xA;                $(document).trigger('ajax:removeFromCart', {&#xA;                    productIds: [productData['product_id']],&#xA;                    productInfo: [&#xA;                        {&#xA;                            'id': productData['product_id']&#xA;                        }&#xA;                    ]&#xA;                });&#xA;&#xA;                if (window.location.href.indexOf(this.shoppingCartUrl) === 0) {&#xA;                    window.location.reload();&#xA;                }&#xA;            }&#xA;        },&#xA;&#xA;        /**&#xA;         * Retrieves product data by Id.&#xA;         *&#xA;         * @param {Number} productId - product Id&#xA;         * @returns {Object|undefined}&#xA;         * @private&#xA;         */&#xA;        _getProductById: function (productId) {&#xA;            return _.find(customerData.get('cart')().items, function (item) {&#xA;                return productId === Number(item['item_id']);&#xA;            });&#xA;        },&#xA;&#xA;        /**&#xA;         * @param {String} url - ajax url&#xA;         * @param {Object} data - post data for ajax call&#xA;         * @param {Object} elem - element that initiated the event&#xA;         * @param {Function} callback - callback method to execute after AJAX success&#xA;         */&#xA;        _ajax: function (url, data, elem, callback) {&#xA;            $.extend(data, {&#xA;                'form_key': $.mage.cookies.get('form_key')&#xA;            });&#xA;&#xA;            $.ajax({&#xA;                url: url,&#xA;                data: data,&#xA;                type: 'post',&#xA;                dataType: 'json',&#xA;                context: this,&#xA;                // showLoader:true,&#xA;&#xA;                /** @inheritdoc */&#xA;                beforeSend: function () {&#xA;                    elem.attr('disabled', 'disabled');&#xA;                },&#xA;&#xA;                /** @inheritdoc */&#xA;                complete: function () {&#xA;                    elem.attr('disabled', null);&#xA;                }&#xA;            })&#xA;                .done(function (response) {&#xA;                    var msg;&#xA;&#xA;                    if (response.success) {&#xA;                        callback.call(this, elem, response);&#xA;                    } else {&#xA;                        msg = response['error_message'];&#xA;&#xA;                        if (msg) {&#xA;                            alert({&#xA;                                content: msg&#xA;                            });&#xA;                        }&#xA;                    }&#xA;                })&#xA;                .fail(function (error) {&#xA;                    console.log(JSON.stringify(error));&#xA;                });&#xA;        },&#xA;&#xA;        /**&#xA;         * Calculate height of minicart list&#xA;         *&#xA;         * @private&#xA;         */&#xA;        _calcHeight: function () {&#xA;            var self = this,&#xA;                height = 0,&#xA;                counter = this.options.minicart.maxItemsVisible,&#xA;                target = $(this.options.minicart.list),&#xA;                outerHeight;&#xA;&#xA;            self.scrollHeight = 0;&#xA;            target.children().each(function () {&#xA;&#xA;                if ($(this).find('.options').length &amp;gt; 0) {&#xA;                    $(this).collapsible();&#xA;                }&#xA;                outerHeight = $(this).outerHeight(true);&#xA;&#xA;                if (counter-- &amp;gt; 0) {&#xA;                    height += outerHeight;&#xA;                }&#xA;                self.scrollHeight += outerHeight;&#xA;            });&#xA;&#xA;            target.parent().height(height);&#xA;        }&#xA;    });&#xA;&#xA;    return $.mage.sidebar;&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""57334"" LastEditorUserId=""57334"" LastEditDate=""2021-04-12T11:19:44.447"" LastActivityDate=""2021-04-12T16:05:19.903"" Title=""Minicart qty increment and decrement error -"" Tags=""&lt;ajax&gt;&lt;magento2.4.1&gt;"" AnswerCount=""1"" CommentCount=""11"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""347947"" PostTypeId=""1"" CreationDate=""2021-10-06T09:08:22.787"" Score=""0"" ViewCount=""467"" Body=""&lt;p&gt;in my case I have a controller and an Ajax data sending, but when I check the code the AJAX doesn't send anything and Magento doesn't enter to my controller, is it a problem of routing or what, this is my code :&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Custom/Sales/etc/frontend/routes.xml&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; ?&amp;gt;&#xA;&amp;lt;config xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:noNamespaceSchemaLocation=&amp;quot;urn:magento:framework:App/etc/routes.xsd&amp;quot;&amp;gt;&#xA;    &amp;lt;!--Use router 'standard' for frontend route--&amp;gt;&#xA;    &amp;lt;router id=&amp;quot;standard&amp;quot;&amp;gt;&#xA;        &amp;lt;!--Define a custom route with id and frontName--&amp;gt;&#xA;        &amp;lt;route frontName=&amp;quot;customsales&amp;quot; id=&amp;quot;customsales&amp;quot;&amp;gt;&#xA;            &amp;lt;!--The module which this route match to--&amp;gt;&#xA;            &amp;lt;module name=&amp;quot;Custom_Sales&amp;quot;/&amp;gt;&#xA;        &amp;lt;/route&amp;gt;&#xA;    &amp;lt;/router&amp;gt;&#xA;&amp;lt;/config&amp;gt;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;my js file&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;define([&#xA;    'jquery',&#xA;    'mage/utils/wrapper',&#xA;    'Magento_CheckoutAgreements/js/model/agreements-assigner',&#xA;    'Magento_Checkout/js/model/quote',&#xA;    'Magento_Customer/js/model/customer',&#xA;    'Magento_Checkout/js/model/url-builder',&#xA;    'mage/url',&#xA;    'Magento_Checkout/js/model/error-processor',&#xA;    'uiRegistry'&#xA;], function (&#xA;    $,&#xA;    wrapper,&#xA;    agreementsAssigner,&#xA;    quote,&#xA;    customer,&#xA;    urlBuilder,&#xA;    urlFormatter,&#xA;    errorProcessor,&#xA;    registry&#xA;) {&#xA;    'use strict';&#xA;&#xA;    return function (placeOrderAction) {&#xA;      &#xA;&#xA;        /** Override default place order action and add agreement_ids to request */&#xA;        return wrapper.wrap(placeOrderAction, function (originalAction, paymentData, messageContainer) {&#xA;            agreementsAssigner(paymentData);&#xA;            var isCustomer = customer.isLoggedIn();&#xA;            var quoteId = quote.getQuoteId();&#xA;&#xA;            var url = urlFormatter.build('customsales/quote/save');&#xA;           &#xA;&#xA;            var bookingDate = $('[name=&amp;quot;booking_date&amp;quot;]').val();&#xA;&#xA;            if (bookingDate) {&#xA;&#xA;                var payload = {&#xA;                    'cartId': quoteId,&#xA;                    'booking_date': bookingDate,&#xA;                    'is_customer': isCustomer&#xA;                };&#xA;&#xA;                if (!payload.booking_date) {&#xA;                    return true;&#xA;                }&#xA;&#xA;                var result = true;&#xA;&#xA;                $.ajax({&#xA;                    url: url,&#xA;                    data: payload,&#xA;                    dataType: 'text',&#xA;                    type: 'POST',&#xA;                }).done(&#xA;                    function (response) {&#xA;                        result = true;&#xA;                    }&#xA;                ).fail(&#xA;                    function (response) {&#xA;                        result = false;&#xA;                        errorProcessor.process(response);&#xA;                    }&#xA;                );&#xA;            }&#xA;&#xA;            return originalAction(paymentData, messageContainer);&#xA;        });&#xA;    };&#xA;});&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;update : controller code&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;&#xA;namespace Custom\Sales\Controller\Quote;&#xA;&#xA;use Magento\Framework\Exception\NoSuchEntityException;&#xA;&#xA;class Save extends \Magento\Framework\App\Action\Action&#xA;{&#xA;    protected $quoteIdMaskFactory;&#xA;&#xA;    protected $quoteRepository;&#xA;&#xA;    public function __construct(&#xA;        \Magento\Framework\App\Action\Context $context,&#xA;        \Magento\Quote\Model\QuoteIdMaskFactory $quoteIdMaskFactory,&#xA;        \Magento\Quote\Api\CartRepositoryInterface $quoteRepository&#xA;    ) {&#xA;        parent::__construct($context);&#xA;        $this-&amp;gt;quoteRepository = $quoteRepository;&#xA;        $this-&amp;gt;quoteIdMaskFactory = $quoteIdMaskFactory;&#xA;    }&#xA;&#xA;    /**&#xA;     * @return \Magento\Framework\Controller\Result\Raw&#xA;     */&#xA;    public function execute()&#xA;    {&#xA;&#xA;        $post = $this-&amp;gt;getRequest()-&amp;gt;getPostValue();&#xA;        if ($post) {&#xA;            $cartId       = $post['cartId'];&#xA;            $bookingDate = $post['booking_date'];&#xA;            $loggin       = $post['is_customer'];&#xA;&#xA;            if ($loggin === 'false') {&#xA;                $cartId = $this-&amp;gt;quoteIdMaskFactory-&amp;gt;create()-&amp;gt;load($cartId, 'masked_id')-&amp;gt;getQuoteId();&#xA;            }&#xA;&#xA;            $quote = $this-&amp;gt;quoteRepository-&amp;gt;getActive($cartId);&#xA;            if (!$quote-&amp;gt;getItemsCount()) {&#xA;                throw new NoSuchEntityException(__('Cart %1 doesn\'t contain booking', $cartId));&#xA;            }&#xA;&#xA;            $quote-&amp;gt;setData('booking_date', $bookingDate);&#xA;            $this-&amp;gt;quoteRepository-&amp;gt;save($quote);&#xA;        }&#xA;    }&#xA;}&#xA;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"" OwnerUserId=""86824"" LastEditorUserId=""70565"" LastEditDate=""2021-10-07T04:44:57.360"" LastActivityDate=""2021-10-07T04:44:57.360"" Title=""can't send data from ajax to controller"" Tags=""&lt;magento2&gt;&lt;ajax&gt;"" AnswerCount=""2"" CommentCount=""1"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""359339"" PostTypeId=""1"" CreationDate=""2022-08-29T18:42:41.927"" Score=""1"" ViewCount=""21"" Body=""&lt;p&gt;/**&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Copyright © Magento, Inc. All rights reserved.&lt;/li&gt;&#xA;&lt;li&gt;See COPYING.txt for license details.&#xA;*/&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;define([&#xA;'jquery',&#xA;'underscore',&#xA;'uiComponent',&#xA;'uiRegistry',&#xA;'Magento_Ui/js/modal/modal',&#xA;'Magento_Checkout/js/model/quote',&#xA;'Magento_Customer/js/model/customer',&#xA;'Magento_Checkout/js/model/step-navigator',&#xA;'Magento_Checkout/js/model/address-converter',&#xA;'Magento_Checkout/js/action/set-shipping-information',&#xA;'Magento_InventoryInStorePickupFrontend/js/model/pickup-locations-service',&#xA;'Magento_Checkout/js/checkout-data'&#xA;], function (&#xA;$,&#xA;_,&#xA;Component,&#xA;registry,&#xA;modal,&#xA;quote,&#xA;customer,&#xA;stepNavigator,&#xA;addressConverter,&#xA;setShippingInformationAction,&#xA;pickupLocationsService,&#xA;checkoutData&#xA;) {&#xA;'use strict';&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;return Component.extend({&#xA;    defaults: {&#xA;        template: 'Magento_InventoryInStorePickupFrontend/store-selector',&#xA;        selectedLocationTemplate:&#xA;            'Magento_InventoryInStorePickupFrontend/store-selector/selected-location',&#xA;        storeSelectorPopupTemplate:&#xA;            'Magento_InventoryInStorePickupFrontend/store-selector/popup',&#xA;        storeSelectorPopupItemTemplate:&#xA;            'Magento_InventoryInStorePickupFrontend/store-selector/popup-item',&#xA;        loginFormSelector:&#xA;            '#store-selector form[data-role=email-with-possible-login]',&#xA;        defaultCountryId: window.checkoutConfig.defaultCountryId,&#xA;        delimiter: window.checkoutConfig.storePickupApiSearchTermDelimiter,&#xA;        selectedLocation: pickupLocationsService.selectedLocation,&#xA;        quoteIsVirtual: quote.isVirtual,&#xA;        searchQuery: '',&#xA;        nearbyLocations: null,&#xA;        isLoading: pickupLocationsService.isLoading,&#xA;        popup: null,&#xA;        searchDebounceTimeout: 300,&#xA;        imports: {&#xA;            nearbySearchRadius: '${ $.parentName }:nearbySearchRadius',&#xA;            nearbySearchLimit: '${ $.parentName }:nearbySearchLimit'&#xA;        }&#xA;    },&#xA;&#xA;    /**&#xA;     * Init component&#xA;     *&#xA;     * @return {exports}&#xA;     */&#xA;    initialize: function () {&#xA;&#xA;        var updateNearbyLocations, country;&#xA;&#xA;        this._super();&#xA;&#xA;        updateNearbyLocations = _.debounce(function (searchQuery) {&#xA;            country = quote.shippingAddress() &amp;amp;&amp;amp; quote.shippingAddress().countryId ?&#xA;                quote.shippingAddress().countryId : this.defaultCountryId;&#xA;            searchQuery = this.getSearchTerm(searchQuery, country);&#xA;            this.updateNearbyLocations(searchQuery);&#xA;        }, this.searchDebounceTimeout).bind(this);&#xA;        this.searchQuery.subscribe(updateNearbyLocations);&#xA;&#xA;        return this;&#xA;    },&#xA;&#xA;    /**&#xA;     * Init component observable variables&#xA;     *&#xA;     * @return {exports}&#xA;     */&#xA;    initObservable: function () {&#xA;&#xA;        return this._super().observe(['nearbyLocations', 'searchQuery']);&#xA;    },&#xA;&#xA;    /**&#xA;     * Set shipping information handler&#xA;     */&#xA;    setPickupInformation: function () {&#xA;        var shippingAddress = quote.shippingAddress();&#xA;&#xA;        if (this.validatePickupInformation()) {&#xA;            shippingAddress = addressConverter.quoteAddressToFormAddressData(shippingAddress);&#xA;            checkoutData.setShippingAddressFromData(shippingAddress);&#xA;            setShippingInformationAction().done(function () {&#xA;                stepNavigator.next();&#xA;            });&#xA;        }&#xA;    },&#xA;&#xA;    /**&#xA;     * @return {*}&#xA;     */&#xA;    getPopup: function () {&#xA;&#xA;        if (!this.popup) {&#xA;            this.popup = modal(&#xA;                this.popUpList.options,&#xA;                $(this.popUpList.element)&#xA;            );&#xA;        }&#xA;&#xA;        return this.popup;&#xA;    },&#xA;&#xA;    /**&#xA;     * Get Search Term from search query and country.&#xA;     *&#xA;     * @param {String} searchQuery&#xA;     * @param {String} country&#xA;     * @returns {String}&#xA;     */&#xA;    getSearchTerm: function (searchQuery, country) {&#xA;&#xA;        return searchQuery ? searchQuery + this.delimiter + country : searchQuery;&#xA;    },&#xA;&#xA;    /**&#xA;     * @returns void&#xA;     */&#xA;    openPopup: function () {&#xA;        var shippingAddress = quote.shippingAddress(),&#xA;            country = shippingAddress.countryId ? shippingAddress.countryId :&#xA;            this.defaultCountryId,&#xA;            searchTerm = '';&#xA;&#xA;        this.getPopup().openModal();&#xA;&#xA;        if (shippingAddress.city &amp;amp;&amp;amp; shippingAddress.postcode) {&#xA;            searchTerm = this.getSearchTerm(shippingAddress.postcode, country);&#xA;        }&#xA;&#xA;        this.updateNearbyLocations(searchTerm);&#xA;    },&#xA;&#xA;    /**&#xA;     * @param {Object} location&#xA;     * @returns void&#xA;     */&#xA;    selectPickupLocation: function (location) {&#xA;&#xA;        pickupLocationsService.selectForShipping(location);&#xA;        this.getPopup().closeModal();&#xA;    },&#xA;&#xA;    /**&#xA;     * @param {Object} location&#xA;     * @returns {*|Boolean}&#xA;     */&#xA;    isPickupLocationSelected: function (location) {&#xA;        return _.isEqual(this.selectedLocation(), location);&#xA;    },&#xA;&#xA;    /**&#xA;     * @param {String} searchQuery&#xA;     * @returns {*}&#xA;     */&#xA;    updateNearbyLocations: function (searchQuery) {&#xA;        var self = this,&#xA;            productsInfo = [],&#xA;            items = quote.getItems(),&#xA;            searchCriteria;&#xA;&#xA;        _.each(items, function (item) {&#xA;            if (item['qty_options'] === undefined || item['qty_options'].length === 0) {&#xA;                productsInfo.push(&#xA;                    {&#xA;                        sku: item.sku&#xA;                    }&#xA;                );&#xA;            }&#xA;        });&#xA;&#xA;        searchCriteria = {&#xA;            extensionAttributes: {&#xA;                productsInfo: productsInfo&#xA;            },&#xA;            pageSize: this.nearbySearchLimit&#xA;        };&#xA;&#xA;        if (searchQuery) {&#xA;            searchCriteria.area = {&#xA;                radius: this.nearbySearchRadius,&#xA;                searchTerm: searchQuery&#xA;            };&#xA;        }&#xA;&#xA;        return pickupLocationsService&#xA;            .getNearbyLocations(searchCriteria)&#xA;            .then(function (locations) {&#xA;                self.nearbyLocations(locations);&#xA;            })&#xA;            .fail(function () {&#xA;                self.nearbyLocations([]);&#xA;            });&#xA;    },&#xA;&#xA;    /**&#xA;     * @returns {Boolean}&#xA;     */&#xA;    validatePickupInformation: function () {&#xA;        var emailValidationResult,&#xA;            loginFormSelector = this.loginFormSelector;&#xA;&#xA;        if (!customer.isLoggedIn()) {&#xA;            $(loginFormSelector).validation();&#xA;            emailValidationResult = $(loginFormSelector + ' input[name=username]').valid() ? true : false;&#xA;&#xA;            if (!emailValidationResult) {&#xA;                $(this.loginFormSelector + ' input[name=username]').focus();&#xA;&#xA;                return false;&#xA;            }&#xA;        }&#xA;&#xA;        return true;&#xA;    }&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;});&lt;/p&gt;&#xA;"" OwnerUserId=""85688"" LastActivityDate=""2022-08-29T18:42:41.927"" Title=""I have to add loader inside return pickupLocationsService (till get result from server side)"" Tags=""&lt;magento2&gt;&lt;ajax&gt;&lt;loader&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\magento.stackexchange.com\Posts.xml,"  <row Id=""361240"" PostTypeId=""1"" CreationDate=""2022-10-29T09:39:41.397"" Score=""1"" ViewCount=""22"" Body=""&lt;p&gt;Every time I get from external service different number value.&lt;/p&gt;&#xA;&lt;p&gt;I just pass this value by AJAX to Controller:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;return storage.post(&#xA;    'somemodule/controller',&#xA;    someNumber,&#xA;    false&#xA;).done(function (response) {&#xA;    console.log(response);&#xA;}).fail(function (response) {&#xA;        loader.stopLoader();&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Then recalculate summary section.&lt;/p&gt;&#xA;&lt;p&gt;I just want to pass someNumber to Magento\Quote\Model\Quote\Address\Total\Grand:collect()&#xA;method.&lt;/p&gt;&#xA;&lt;p&gt;How I can do it? Or maybe somehow save someNumber to localStorage and then pass it to backend?&lt;/p&gt;&#xA;"" OwnerUserId=""76760"" LastEditorUserId=""76760"" LastEditDate=""2022-10-29T09:41:43.620"" LastActivityDate=""2022-10-29T09:41:43.620"" Title=""Pass value from checkout to some backend method (Magento 2.4)"" Tags=""&lt;magento2&gt;&lt;ajax&gt;&lt;local-storage&gt;"" AnswerCount=""0"" CommentCount=""0"" ContentLicense=""CC BY-SA 4.0"" />
"
F:\stackexchange\extracted\meta.stackexchange.com\Posts.xml,"  <row Id=""284536"" PostTypeId=""1"" CreationDate=""2016-09-14T13:17:26.733"" Score=""4"" ViewCount=""51"" Body=""&lt;p&gt;There is currently a question from the personal finance stack in HNQ, titled:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Getting $10,000 and have $16,000 balance on two credit cards - How to allocate payments?&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, this renders like:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/h7hkW.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/h7hkW.png&quot; alt=&quot;mathjax fail&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This appears to be a consequence of &lt;a href=&quot;http://meta.puzzling.stackexchange.com/questions/1274/change-mathjax-delimiter&quot;&gt;changing the MathJax delimiter&lt;/a&gt;, and odd to see since &lt;a href=&quot;http://meta.puzzling.stackexchange.com/questions/2844/questions-can-be-manually-removed-from-hnqs#2847&quot;&gt;MathJax titles don't show up in HNQ&lt;/a&gt;... is it possible to fix this without changing the MathJax delimiter again? (Have other MathJax-enabled stacks noticed this issue too?)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To be honest, I doubt this bug comes up often enough to warrant much attention, but being a software developer, I thought it would be good to at least document it :)&lt;/p&gt;&#xA;"" OwnerDisplayName=""user347147"" LastActivityDate=""2016-09-14T14:52:39.390"" Title=""MathJax HNQ bug"" Tags=""&lt;bug&gt;&lt;mathjax&gt;"" AnswerCount=""0"" CommentCount=""3"" ClosedDate=""2016-09-14T16:13:09.307"" ContentLicense=""CC BY-SA 3.0"" />
"
